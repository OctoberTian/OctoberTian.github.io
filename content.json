{"meta":{"title":"October Blog","subtitle":"åæœˆåšå®¢","description":"","author":"October","url":"http://www.octber.xyz","root":"/"},"pages":[{"title":"2019.8","date":"2019-08-28T12:55:53.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"diary/2019-8.html","permalink":"http://www.octber.xyz/diary/2019-8.html","excerpt":"","text":"2019.8.28{ â€œdateâ€: â€œ2019.8.28â€, â€œtitleâ€: â€œäººç”Ÿå¼±ç‚¹â€, â€œcontentâ€: â€œè¡Œç™¾é‡Œè€…åŠä¹åï¼Œå­¦ä¹‹ä¸æ·±ï¼Œæµ…å°è¾„æ­¢ï¼Œç»ˆä¸èƒ½æˆå¤§äº‹ã€‚â€œ}ï¼Œ { â€œdateâ€: â€œ2019.8.28â€, â€œtitleâ€: â€œæ— é¢˜â€, â€œcontentâ€: â€œè¿™æ˜¯æœ€å¥½çš„æ—¶ä»£,è¿™æ˜¯æœ€å·®çš„æ—¶ä»£,æˆ‘ä»¬ä¸€æ— æ‰€æœ‰,æˆ‘ä»¬å·ç„¶çŸ—ç«‹â€œ}"},{"title":"å…³äº åæœˆOct çš„ä¸ªäººåšå®¢","date":"2019-05-20T14:29:15.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"about/index.html","permalink":"http://www.octber.xyz/about/index.html","excerpt":"","text":"å…³äº æˆ‘ä¸ºä»€ä¹ˆå†™åšå®¢ï¼Ÿ æˆ‘ä¸€ç›´éƒ½æœ‰å†™æ—¥è®°çš„ä¹ æƒ¯ï¼Œå–œæ¬¢æŠŠæ¯å¤©é‡åˆ°çš„äº‹æƒ…è®°ä¸‹æ¥ï¼Œä¹Ÿå–œæ¬¢æ€è€ƒï¼Œæ›¾ç»ä¹Ÿå†™è¿‡å¾ˆå¤šæ—¥è®°ï¼Œç„¶è€Œç°åœ¨å›æƒ³èµ·æ¥ï¼Œè¿™äº›æ—¥è®°é™¤äº†çº¸è´¨ç‰ˆçš„å¯èƒ½è¿˜åœ¨ï¼Œç”µå­ç‰ˆçš„åº”è¯¥éƒ½ä¸¢çš„å·®ä¸å¤šäº†ã€‚äºæ˜¯æˆ‘ä¹°äº†è‡ªå·±çš„å­¦ç”ŸæœåŠ¡å™¨ï¼Œæ­å»ºäº†wordpressï¼Œå¾ˆå¤šä¸»é¢˜ï¼Œå¾ˆå¥½çœ‹ã€‚ ä½œä¸ºä¸€ä¸ªç¨‹åºå‘˜ï¼Œä¹Ÿå†™äº†å¾ˆå¤šæŠ€æœ¯åšå®¢ï¼Œè™½ç„¶è¢«ç™¾åº¦æ”¶å½•äº†å››åå‡ ç¯‡ï¼Œä½†æ˜¯è²Œä¼¼ç™¾åº¦ç›´æ¥æŸ¥æ˜¯æŸ¥ä¸åˆ°çš„ï¼Œæˆ‘çš„æƒé‡å¤ªä½ï¼Ÿï¼Ÿè¿˜æ˜¯æ€ä¹ˆå›äº‹ã€‚åªèƒ½é€šè¿‡ç™¾åº¦æœç´¢â€œsite:blog.octber.xyzâ€æ¥æŸ¥åˆ°ï¼Œå½“ç„¶æ²¡æœ‰äººä¼šè¿™ä¹ˆæŸ¥ä¸€ç¯‡åšæ–‡ï¼Œè‡ªç„¶ä¹Ÿå°±æˆäº†æˆ‘ä¸ªäººçš„åšå®¢äº†ï¼Œæ²¡æœ‰äººçœ‹ï¼Œä¹Ÿæ²¡æœ‰äººè¯„è®ºã€‚ wordpressæœ‰å¾ˆå¤§çš„ç¼ºç‚¹ æ˜¯ä»€ä¹ˆè®©æˆ‘æ…¢æ…¢è®¨åŒwordpressï¼Œæ˜¯å› ä¸ºæˆ‘åœ¨å†™åšæ–‡çš„æ—¶å€™ï¼Œå›¾ç‰‡æ’å…¥ä¸æ–¹ä¾¿ï¼Œæˆ‘ä¸èƒ½é€šè¿‡å¤åˆ¶ç²˜è´´è¿›æ–‡ç« è¿™æ ·æ–¹ä¾¿ï¼Œè€Œä¸”ä¸Šä¼ çš„å›¾ç‰‡ä¼šå‹ç¼©æˆå°åˆ†è¾¨ç‡ï¼Œå¯¼è‡´æˆ‘çš„æ–‡ç« çš„å›¾ç‰‡ä¸ä»…ä¸ç¾è§‚ï¼Œè¿˜è´¹æ—¶é—´ã€‚ æœ€å…³é”®çš„æ˜¯ï¼Œæˆ‘æ‡’å¾—å¤‡ä»½ï¼Œå¤‡ä»½ä¸ä»…ä»…è¦å¯¼å‡ºæ–‡ç« ï¼Œè¿˜è¦å¤‡ä»½æ•°æ®åº“ã€‚ä¹Ÿæ­£æ˜¯å› ä¸ºè¿™æ ·ï¼Œæˆ‘çš„windowsè¢«å¤šæ¬¡æœ¨é©¬æ”»å‡»åï¼ŒmysqlæœåŠ¡ä¸èƒ½å¯åŠ¨ï¼Œå½“ç„¶è¢«æ”»å‡»çš„æ ¹æœ¬åŸå› è¿˜æ˜¯å› ä¸ºæˆ‘å½“æ—¶é‡‡ç”¨çš„æ˜¯windowsçš„æœåŠ¡å™¨ï¼Œæœ¬æ¥å°±å®¹æ˜“æ”¶åˆ°æ”»å‡»ï¼Œé‚®ä»¶æ¯å¤©æ”¶åˆ°å—åˆ°æ”»å‡»çš„ä¿¡æ¯ï¼Œæˆ‘çƒ¦äº†ã€‚ Hexoç¡®å®å€¼å¾—ä¸€ç”¨ ä½œä¸ºä¸€ä¸ªç¨‹åºå‘˜ï¼Œæœ‰è‡ªå·±çš„æŠ€æœ¯åšå®¢å¾ˆé‡è¦ï¼Œå°¤å…¶æ˜¯å¯¹å¼€æºç¤¾åŒºåšå‡ºè´¡çŒ®ï¼Œäºæ˜¯æˆ‘æ³¨æ„åˆ°Hexo+Github Pagesçš„æ–¹å¼ï¼Œåˆšå¼€å§‹åªæ˜¯å› ä¸ºå¯¹Github Pagesæ„Ÿå…´è¶£è€Œå…¥æ‰‹ï¼Œæœ€åå‘ç°Hexoæœ€å¸å¼•äººçš„æ˜¯å®ƒé‡‡ç”¨é™æ€é¡µé¢éƒ¨ç½²ä¼šå¸¦æ¥ä¸éœ€è¦æ•°æ®åº“æœåŠ¡ï¼Œä¸éœ€è¦åå°æœåŠ¡ï¼Œæ‰€ä»¥å°±ä¸éœ€è¦å¤‡ä»½ï¼Œæ‰€æœ‰çš„æ–‡ç« é€šè¿‡Markdownä¹¦å†™ï¼Œå°±åœ¨è‡ªå·±ç”µè„‘æœ¬åœ°ï¼Œåªè¦ä½ ä¸åˆ ï¼Œç”µè„‘ä¸ä¸¢ï¼Œæ€ä¹ˆéƒ½ä¸ä¼šä¸¢çš„å§ã€‚ ç”±äºGithub Pagesç¡®å®æœ‰ç‚¹ç‚¹æ…¢ï¼Œæˆ‘é€‰æ‹©äº†Coding Pagesï¼Œåæ¥è§‰å¾—è¿˜æ˜¯ä¸å¥½ï¼Œ ç»§ç»­éƒ¨ç½²åˆ°è‡ªå·±çš„æœåŠ¡å™¨ä¸Šï¼Œå°†301è½¬å‘åˆ°httpsï¼Œè®¤è¯äº†ç™¾åº¦ç«™é•¿çš„httpsç«™ç‚¹ï¼Œä¹Ÿç®—æœ‰äº†ä¸€ä¸ªè¾ƒä¸ºä¸“ä¸šçš„é€‰æ‹©ã€‚ æ²¡äººçœ‹å°±è‡ªå·±å†™ åšæ–‡æœ¬æ¥å°±æ˜¯å†™ç»™è‡ªå·±çœ‹çš„ï¼Œå¹¶ä¸éœ€è¦åˆ«äººçš„ç‚¹èµè¯„è®ºä½œä¸ºåŠ¨åŠ›ï¼Œèƒ½å¤Ÿå¸®åŠ©åˆ°åˆ«äººç¡®å®å¾ˆé«˜å…´ï¼Œä¸è¿‡æå‡è‡ªæˆ‘æ‰æ˜¯æœ€é‡è¦çš„ï¼Œå¾ˆå¤šçŸ¥è¯†å’Œå‘ï¼Œå¾€å¾€åªæœ‰è‡ªå·±äº²èº«ç»å†çš„æ—¶å€™æ‰èƒ½çŸ¥é“ï¼Œè€Œä¸”æå…¶å®¹æ˜“é—å¿˜ï¼Œå¾ˆå¤šä¸œè¥¿æ¯æ¬¡åšéƒ½è¦Googleæˆ–è€…Baiduä¸€ä¸‹ï¼Œè¿™å°±æ˜¾å¾—éå¸¸éš¾å—ã€‚å†™åœ¨è‡ªå·±çš„åšå®¢é‡Œï¼Œå†™çš„è¿‡ç¨‹æ•´ç†æ€è·¯ï¼Œè®°å¾—ç‰¢å›ºï¼Œä¸‡ä¸€å¿˜äº†ï¼Œæ‰¾è‡ªå·±çš„ä¸œè¥¿å°±æ˜¾å¾—ç†ç›´æ°”å£®ã€‚ å…³äºæ‹¿æ¥ä¸»ä¹‰ ä½œä¸ºå­¦ç”Ÿå…šï¼ˆæˆ‘æ˜¯2016å¹´å…¥å­¦ï¼Œ2020å¹´å¤§å­¦æ¯•ä¸šï¼‰ï¼Œæ‹¿æ¥ä¸»ä¹‰ç¡®å®å¤šä¸€ç‚¹ï¼Œå¤§å¤šæ•°åœ°æ–¹è¿˜æ˜¯ä¼šæ ‡æ³¨æ¥æºï¼Œå¦‚æœç¡®å®æœ‰ä¾µçŠ¯äº§æƒçš„åœ°æ–¹ï¼Œè¿˜è¯·å‘é‚®ä»¶ç»™æˆ‘925474088@qq.comï¼Œå…¶å®æˆ‘è‡ªå·±åŸåˆ›è¿˜æ˜¯å¾ˆå¤šçš„ï¼Œå€¼å¾—ä¸€çœ‹ã€‚ è®°å½•ç”Ÿæ´»ï¼ŒåŒæ—¶æå‡è‡ªæˆ‘ç¼–ç¨‹ä¿®å…» è¿™å°±æ˜¯æˆ‘çš„ç›®çš„ï¼Œä»…æ­¤è€Œå·²ã€‚"}],"posts":[{"title":"æ·±å…¥ç†è§£JVM-å­¦ä¹ ä¸å®è·µï¼ˆ1ï¼‰","slug":"æ·±å…¥ç†è§£JVM-å­¦ä¹ ä¸å®è·µï¼ˆ1ï¼‰","date":"2020-03-04T15:05:27.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2020/03/04/æ·±å…¥ç†è§£JVM-å­¦ä¹ ä¸å®è·µï¼ˆ1ï¼‰/","link":"","permalink":"http://www.octber.xyz/2020/03/04/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3JVM-%E5%AD%A6%E4%B9%A0%E4%B8%8E%E5%AE%9E%E8%B7%B5%EF%BC%881%EF%BC%89/","excerpt":"å‰è¨€ã€Šæ·±å…¥ç†è§£JVMè™šæ‹Ÿæœº-JVMé«˜çº§ç‰¹æ€§ä¸æœ€ä½³å®è·µï¼ˆå‘¨å¿—æ˜ï¼‰ç¬¬ä¸‰ç‰ˆã€‹æ˜¯æˆ‘ä¸€ç›´éƒ½æƒ³é’»ç ”çš„ä¸€æœ¬ä¹¦ï¼Œä½œä¸ºä¸€ä¸ªJavaåç«¯å¼€å‘è·¯çº¿çš„ç¨‹åºå‘˜ï¼Œè¿™äº›åŸºç¡€æ˜¯æœ‰å¿…è¦æ‰“å¥½çš„ï¼Œç›®å‰æˆ‘è¿˜å¤„äºå­¦ä¹ é˜¶æ®µï¼Œä½œä¸ºä¸€ååœ¨æ ¡å¤§å­¦ç”Ÿï¼Œå°†æ¥å‘å±•çš„è·¯é€”è¿˜å¾ˆé¥è¿œã€‚ å°†è¿™æœ¬ä¹¦æä¸Šæ—¥ç¨‹ï¼Œä¹Ÿä½œä¸ºç£ä¿ƒè‡ªå·±å­¦ä¹ çš„ä¸€ä¸ªé‡è¦èŠ‚ç‚¹ï¼Œå¸Œæœ›è‡ªå·±èƒ½åšæŒä¸‹å»ã€‚","text":"å‰è¨€ã€Šæ·±å…¥ç†è§£JVMè™šæ‹Ÿæœº-JVMé«˜çº§ç‰¹æ€§ä¸æœ€ä½³å®è·µï¼ˆå‘¨å¿—æ˜ï¼‰ç¬¬ä¸‰ç‰ˆã€‹æ˜¯æˆ‘ä¸€ç›´éƒ½æƒ³é’»ç ”çš„ä¸€æœ¬ä¹¦ï¼Œä½œä¸ºä¸€ä¸ªJavaåç«¯å¼€å‘è·¯çº¿çš„ç¨‹åºå‘˜ï¼Œè¿™äº›åŸºç¡€æ˜¯æœ‰å¿…è¦æ‰“å¥½çš„ï¼Œç›®å‰æˆ‘è¿˜å¤„äºå­¦ä¹ é˜¶æ®µï¼Œä½œä¸ºä¸€ååœ¨æ ¡å¤§å­¦ç”Ÿï¼Œå°†æ¥å‘å±•çš„è·¯é€”è¿˜å¾ˆé¥è¿œã€‚ å°†è¿™æœ¬ä¹¦æä¸Šæ—¥ç¨‹ï¼Œä¹Ÿä½œä¸ºç£ä¿ƒè‡ªå·±å­¦ä¹ çš„ä¸€ä¸ªé‡è¦èŠ‚ç‚¹ï¼Œå¸Œæœ›è‡ªå·±èƒ½åšæŒä¸‹å»ã€‚ ä¹¦ç±æ ‡è¯† æ·±å…¥ç†è§£Javaè™šæ‹Ÿæœºï¼šJVMé«˜çº§ç‰¹æ€§ä¸æœ€ä½³å®è·µï¼ˆç¬¬3ç‰ˆï¼‰å‘¨å¿—æ˜ è‘— ISBNï¼š978-7-111-64124-7æœ¬ä¹¦çº¸ç‰ˆç”±æœºæ¢°å·¥ä¸šå‡ºç‰ˆç¤¾äº2019å¹´å‡ºç‰ˆï¼Œç”µå­ç‰ˆç”±åç« åˆ†ç¤¾ï¼ˆåŒ—äº¬åç« å›¾æ–‡ä¿¡æ¯æœ‰é™å…¬å¸ï¼ŒåŒ—äº¬å¥¥ç»´åšä¸–å›¾ä¹¦å‘è¡Œæœ‰é™å…¬å¸ï¼‰å…¨çƒèŒƒå›´å†…åˆ¶ä½œä¸å‘è¡Œã€‚ å£°æ˜ æˆ‘æ—¥åæœ¬ç³»åˆ—å†…å®¹åŸºäºæœ¬æ•™æï¼Œå¦‚æœ‰ä¾µæƒï¼Œè¯·è”ç³»æˆ‘åˆ é™¤ã€‚ ç›®å½• å‰è¨€è‡´è°¢ ç¬¬ä¸€éƒ¨åˆ† èµ°è¿‘Java ç¬¬1ç«  èµ°è¿‘Java1.1 æ¦‚è¿°1.2 JavaæŠ€æœ¯ä½“ç³»1.3 Javaå‘å±•å²1.4 Javaè™šæ‹Ÿæœºå®¶æ—1.4.1 è™šæ‹Ÿæœºå§‹ç¥–ï¼šSun Classic/Exact VM1.4.2 æ­¦æ—ç›Ÿä¸»ï¼šHotSpot VM1.4.3 å°å®¶ç¢§ç‰ï¼šMobile/Embedded VM1.4.4 å¤©ä¸‹ç¬¬äºŒï¼šBEA JRockit/IBM J9 VM1.4.5 è½¯ç¡¬åˆç’§ï¼šBEA Liquid VM/Azul VM1.4.6 æŒ‘æˆ˜è€…ï¼šApache Harmony/Google Android DalvikVM1.4.7 æ²¡æœ‰æˆåŠŸï¼Œä½†å¹¶éå¤±è´¥ï¼šMicrosoft JVMåŠå…¶ä»–1.4.8 ç™¾å®¶äº‰é¸£1.5 å±•æœ›JavaæŠ€æœ¯çš„æœªæ¥1.5.1 æ— è¯­è¨€å€¾å‘1.5.2 æ–°ä¸€ä»£å³æ—¶ç¼–è¯‘å™¨1.5.3 å‘Nativeè¿ˆè¿›1.5.4 çµæ´»çš„èƒ–å­1.5.5 è¯­è¨€è¯­æ³•æŒç»­å¢å¼º1.6 å®æˆ˜ï¼šè‡ªå·±ç¼–è¯‘JDK1.6.1 è·å–æºç 1.6.2 ç³»ç»Ÿéœ€æ±‚1.6.3 æ„å»ºç¼–è¯‘ç¯å¢ƒ1.6.4 è¿›è¡Œç¼–è¯‘1.6.5 åœ¨IDEå·¥å…·ä¸­è¿›è¡Œæºç è°ƒè¯•1.7 æœ¬ç« å°ç»“ç¬¬äºŒéƒ¨åˆ† è‡ªåŠ¨å†…å­˜ç®¡ç†ç¬¬2ç«  Javaå†…å­˜åŒºåŸŸä¸å†…å­˜æº¢å‡ºå¼‚å¸¸2.1 æ¦‚è¿°2.2 è¿è¡Œæ—¶æ•°æ®åŒºåŸŸ2.2.1 ç¨‹åºè®¡æ•°å™¨2.2.2 Javaè™šæ‹Ÿæœºæ ˆ2.2.3 æœ¬åœ°æ–¹æ³•æ ˆ2.2.4 Javaå †2.2.5 æ–¹æ³•åŒº2.2.6 è¿è¡Œæ—¶å¸¸é‡æ± 2.2.7 ç›´æ¥å†…å­˜2.3 HotSpotè™šæ‹Ÿæœºå¯¹è±¡æ¢ç§˜2.3.1 å¯¹è±¡çš„åˆ›å»º2.3.2 å¯¹è±¡çš„å†…å­˜å¸ƒå±€2.3.3 å¯¹è±¡çš„è®¿é—®å®šä½2.4 å®æˆ˜ï¼šOutOfMemoryErrorå¼‚å¸¸2.4.1 Javaå †æº¢å‡º2.4.2 è™šæ‹Ÿæœºæ ˆå’Œæœ¬åœ°æ–¹æ³•æ ˆæº¢å‡º2.4.3 æ–¹æ³•åŒºå’Œè¿è¡Œæ—¶å¸¸é‡æ± æº¢å‡º2.4.4 æœ¬æœºç›´æ¥å†…å­˜æº¢å‡º2.5 æœ¬ç« å°ç»“ç¬¬3ç«  åƒåœ¾æ”¶é›†å™¨ä¸å†…å­˜åˆ†é…ç­–ç•¥3.1 æ¦‚è¿°3.2 å¯¹è±¡å·²æ­»ï¼Ÿ3.2.1 å¼•ç”¨è®¡æ•°ç®—æ³•3.2.2 å¯è¾¾æ€§åˆ†æç®—æ³•3.2.3 å†è°ˆå¼•ç”¨3.2.4 ç”Ÿå­˜è¿˜æ˜¯æ­»äº¡ï¼Ÿ3.2.5 å›æ”¶æ–¹æ³•åŒº3.3 åƒåœ¾æ”¶é›†ç®—æ³•3.3.1 åˆ†ä»£æ”¶é›†ç†è®º3.3.2 æ ‡è®°-æ¸…é™¤ç®—æ³•3.3.3 æ ‡è®°-å¤åˆ¶ç®—æ³•3.3.4 æ ‡è®°-æ•´ç†ç®—æ³•3.4 HotSpotçš„ç®—æ³•ç»†èŠ‚å®ç°3.4.1 æ ¹èŠ‚ç‚¹æšä¸¾3.4.2 å®‰å…¨ç‚¹3.4.3 å®‰å…¨åŒºåŸŸ3.4.4 è®°å¿†é›†ä¸å¡è¡¨3.4.5 å†™å±éšœ3.4.6 å¹¶å‘çš„å¯è¾¾æ€§åˆ†æ3.5 ç»å…¸åƒåœ¾æ”¶é›†å™¨3.5.1 Serialæ”¶é›†å™¨3.5.2 ParNewæ”¶é›†å™¨3.5.3 Parallel Scavengeæ”¶é›†å™¨3.5.4 Serial Oldæ”¶é›†å™¨3.5.5 Parallel Oldæ”¶é›†å™¨3.5.6 CMSæ”¶é›†å™¨3.5.7 Garbage Firstæ”¶é›†å™¨3.6 ä½å»¶è¿Ÿåƒåœ¾æ”¶é›†å™¨3.6.1 Shenandoahæ”¶é›†å™¨3.6.2 ZGCæ”¶é›†å™¨3.7 é€‰æ‹©åˆé€‚çš„åƒåœ¾æ”¶é›†å™¨3.7.1 Epsilonæ”¶é›†å™¨3.7.2 æ”¶é›†å™¨çš„æƒè¡¡3.7.3 è™šæ‹ŸæœºåŠåƒåœ¾æ”¶é›†å™¨æ—¥å¿—3.7.4 åƒåœ¾æ”¶é›†å™¨å‚æ•°æ€»ç»“3.8 å®æˆ˜ï¼šå†…å­˜åˆ†é…ä¸å›æ”¶ç­–ç•¥3.8.1 å¯¹è±¡ä¼˜å…ˆåœ¨Edenåˆ†é…3.8.2 å¤§å¯¹è±¡ç›´æ¥è¿›å…¥è€å¹´ä»£3.8.3 é•¿æœŸå­˜æ´»çš„å¯¹è±¡å°†è¿›å…¥è€å¹´ä»£3.8.4 åŠ¨æ€å¯¹è±¡å¹´é¾„åˆ¤å®š3.8.5 ç©ºé—´åˆ†é…æ‹…ä¿3.9 æœ¬ç« å°ç»“ç¬¬4ç«  è™šæ‹Ÿæœºæ€§èƒ½ç›‘æ§ã€æ•…éšœå¤„ç†å·¥å…·4.1 æ¦‚è¿°4.2 åŸºç¡€æ•…éšœå¤„ç†å·¥å…·4.2.1 jpsï¼šè™šæ‹Ÿæœºè¿›ç¨‹çŠ¶å†µå·¥å…·4.2.2 jstatï¼šè™šæ‹Ÿæœºç»Ÿè®¡ä¿¡æ¯ç›‘è§†å·¥å…·4.2.3 jinfoï¼šJavaé…ç½®ä¿¡æ¯å·¥å…·4.2.4 jmapï¼šJavaå†…å­˜æ˜ åƒå·¥å…·4.2.5 jhatï¼šè™šæ‹Ÿæœºå †è½¬å‚¨å¿«ç…§åˆ†æå·¥å…·4.2.6 jstackï¼šJavaå †æ ˆè·Ÿè¸ªå·¥å…·4.2.7 åŸºç¡€å·¥å…·æ€»ç»“4.3 å¯è§†åŒ–æ•…éšœå¤„ç†å·¥å…·4.3.1 JHSDBï¼šåŸºäºæœåŠ¡æ€§ä»£ç†çš„è°ƒè¯•å·¥å…·4.3.2 JConsoleï¼šJavaç›‘è§†ä¸ç®¡ç†æ§åˆ¶å°4.3.3 VisualVMï¼šå¤šåˆ-æ•…éšœå¤„ç†å·¥å…·4.3.4 Java Mission Controlï¼šå¯æŒç»­åœ¨çº¿çš„ç›‘æ§å·¥å…·4.4 HotSpotè™šæ‹Ÿæœºæ’ä»¶åŠå·¥å…·4.5 æœ¬ç« å°ç»“ç¬¬5ç«  è°ƒä¼˜æ¡ˆä¾‹åˆ†æä¸å®æˆ˜5.1 æ¦‚è¿°5.2 æ¡ˆä¾‹åˆ†æ5.2.1 å¤§å†…å­˜ç¡¬ä»¶ä¸Šçš„ç¨‹åºéƒ¨ç½²ç­–ç•¥5.2.2 é›†ç¾¤é—´åŒæ­¥å¯¼è‡´çš„å†…å­˜æº¢å‡º5.2.3 å †å¤–å†…å­˜å¯¼è‡´çš„æº¢å‡ºé”™è¯¯5.2.4 å¤–éƒ¨å‘½ä»¤å¯¼è‡´ç³»ç»Ÿç¼“æ…¢5.2.5 æœåŠ¡å™¨è™šæ‹Ÿæœºè¿›ç¨‹å´©æºƒ5.2.6 ä¸æ°å½“æ•°æ®ç»“æ„å¯¼è‡´å†…å­˜å ç”¨è¿‡å¤§5.2.7 ç”±Windowsè™šæ‹Ÿå†…å­˜å¯¼è‡´çš„é•¿æ—¶é—´åœé¡¿5.2.8 ç”±å®‰å…¨ç‚¹å¯¼è‡´é•¿æ—¶é—´åœé¡¿5.3 å®æˆ˜ï¼šEclipseè¿è¡Œé€Ÿåº¦è°ƒä¼˜5.3.1 è°ƒä¼˜å‰çš„ç¨‹åºè¿è¡ŒçŠ¶æ€5.3.2 å‡çº§JDKç‰ˆæœ¬çš„æ€§èƒ½å˜åŒ–åŠå…¼å®¹é—®é¢˜5.3.3 ç¼–è¯‘æ—¶é—´å’Œç±»åŠ è½½æ—¶é—´çš„ä¼˜åŒ–5.3.4 è°ƒæ•´å†…å­˜è®¾ç½®æ§åˆ¶åƒåœ¾æ”¶é›†é¢‘ç‡5.3.5 é€‰æ‹©æ”¶é›†å™¨é™ä½å»¶è¿Ÿ5.4 æœ¬ç« å°ç»“ç¬¬ä¸‰éƒ¨åˆ† è™šæ‹Ÿæœºæ‰§è¡Œå­ç³»ç»Ÿç¬¬6ç«  ç±»æ–‡ä»¶ç»“æ„6.1 æ¦‚è¿°6.2 æ— å…³æ€§çš„åŸºçŸ³6.3 Classç±»æ–‡ä»¶çš„ç»“æ„6.3.1 é­”æ•°ä¸Classæ–‡ä»¶çš„ç‰ˆæœ¬6.3.2 å¸¸é‡æ± 6.3.3 è®¿é—®æ ‡å¿—6.3.4 ç±»ç´¢å¼•ã€çˆ¶ç±»ç´¢å¼•ä¸æ¥å£ç´¢å¼•é›†åˆ6.3.5 å­—æ®µè¡¨é›†åˆ6.3.6 æ–¹æ³•è¡¨é›†åˆ6.3.7 å±æ€§è¡¨é›†åˆ6.4 å­—èŠ‚ç æŒ‡ä»¤ç®€ä»‹6.4.1 å­—èŠ‚ç ä¸æ•°æ®ç±»å‹6.4.2 åŠ è½½å’Œå­˜å‚¨æŒ‡ä»¤6.4.3 è¿ç®—æŒ‡ä»¤6.4.4 ç±»å‹è½¬æ¢æŒ‡ä»¤6.4.5 å¯¹è±¡åˆ›å»ºä¸è®¿é—®æŒ‡ä»¤6.4.6 æ“ä½œæ•°æ ˆç®¡ç†æŒ‡ä»¤6.4.7 æ§åˆ¶è½¬ç§»æŒ‡ä»¤6.4.8 æ–¹æ³•è°ƒç”¨å’Œè¿”å›æŒ‡ä»¤6.4.9 å¼‚å¸¸å¤„ç†æŒ‡ä»¤6.4.10 åŒæ­¥æŒ‡ä»¤6.5 å…¬æœ‰è®¾è®¡ï¼Œç§æœ‰å®ç°6.6 Classæ–‡ä»¶ç»“æ„çš„å‘å±•6.7 æœ¬ç« å°ç»“ç¬¬7ç«  è™šæ‹Ÿæœºç±»åŠ è½½æœºåˆ¶7.1 æ¦‚è¿°7.2 ç±»åŠ è½½çš„æ—¶æœº7.3 ç±»åŠ è½½çš„è¿‡ç¨‹7.3.1 åŠ è½½7.3.2 éªŒè¯7.3.3 å‡†å¤‡7.3.4 è§£æ7.3.5 åˆå§‹åŒ–7.4 ç±»åŠ è½½å™¨7.4.1 ç±»ä¸ç±»åŠ è½½å™¨7.4.2 åŒäº²å§”æ´¾æ¨¡å‹7.4.3 ç ´ååŒäº²å§”æ´¾æ¨¡å‹7.5 Javaæ¨¡å—åŒ–ç³»ç»Ÿ7.5.1 æ¨¡å—çš„å…¼å®¹æ€§7.5.2 æ¨¡å—åŒ–ä¸‹çš„ç±»åŠ è½½å™¨7.6 æœ¬ç« å°ç»“ç¬¬8ç«  è™šæ‹Ÿæœºå­—èŠ‚ç æ‰§è¡Œå¼•æ“8.1 æ¦‚è¿°8.2 è¿è¡Œæ—¶æ ˆå¸§ç»“æ„8.2.1 å±€éƒ¨å˜é‡è¡¨8.2.2 æ“ä½œæ•°æ ˆ8.2.3 åŠ¨æ€è¿æ¥8.2.4 æ–¹æ³•è¿”å›åœ°å€8.2.5 é™„åŠ ä¿¡æ¯8.3 æ–¹æ³•è°ƒç”¨8.3.1 è§£æ8.3.2 åˆ†æ´¾8.4 åŠ¨æ€ç±»å‹è¯­è¨€æ”¯æŒ8.4.1 åŠ¨æ€ç±»å‹è¯­è¨€8.4.2 Javaä¸åŠ¨æ€ç±»å‹8.4.3 java.lang.invokeåŒ…8.4.4 invokedynamicæŒ‡ä»¤8.4.5 å®æˆ˜ï¼šæŒæ§æ–¹æ³•åˆ†æ´¾è§„åˆ™8.5 åŸºäºæ ˆçš„å­—èŠ‚ç è§£é‡Šæ‰§è¡Œå¼•æ“8.5.1 è§£é‡Šæ‰§è¡Œ8.5.2 åŸºäºæ ˆçš„æŒ‡ä»¤é›†ä¸åŸºäºå¯„å­˜å™¨çš„æŒ‡ä»¤é›†8.5.3 åŸºäºæ ˆçš„è§£é‡Šå™¨æ‰§è¡Œè¿‡ç¨‹8.6 æœ¬ç« å°ç»“ç¬¬9ç«  ç±»åŠ è½½åŠæ‰§è¡Œå­ç³»ç»Ÿçš„æ¡ˆä¾‹ä¸å®æˆ˜9.1 æ¦‚è¿°9.2 æ¡ˆä¾‹åˆ†æ9.2.1 Tomcatï¼šæ­£ç»Ÿçš„ç±»åŠ è½½å™¨æ¶æ„9.2.2 OSGiï¼šçµæ´»çš„ç±»åŠ è½½å™¨æ¶æ„9.2.3 å­—èŠ‚ç ç”ŸæˆæŠ€æœ¯ä¸åŠ¨æ€ä»£ç†çš„å®ç°9.2.4 Backportå·¥å…·ï¼šJavaçš„æ—¶å…‰æœºå™¨9.3 å®æˆ˜ï¼šè‡ªå·±åŠ¨æ‰‹å®ç°è¿œç¨‹æ‰§è¡ŒåŠŸèƒ½9.3.1 ç›®æ ‡9.3.2 æ€è·¯9.3.3 å®ç°9.3.4 éªŒè¯9.4 æœ¬ç« å°ç»“ç¬¬å››éƒ¨åˆ† ç¨‹åºç¼–è¯‘ä¸ä»£ç ä¼˜åŒ–ç¬¬10ç«  å‰ç«¯ç¼–è¯‘ä¸ä¼˜åŒ–10.1 æ¦‚è¿°10.2 Javacç¼–è¯‘å™¨10.2.1 Javacçš„æºç ä¸è°ƒè¯•10.2.2 è§£æä¸å¡«å……ç¬¦å·è¡¨10.2.3 æ³¨è§£å¤„ç†å™¨10.2.4 è¯­ä¹‰åˆ†æä¸å­—èŠ‚ç ç”Ÿæˆ10.3 Javaè¯­æ³•ç³–çš„å‘³é“10.3.1 æ³›å‹10.3.2 è‡ªåŠ¨è£…ç®±ã€æ‹†ç®±ä¸éå†å¾ªç¯10.3.3 æ¡ä»¶ç¼–è¯‘10.4 å®æˆ˜ï¼šæ’å…¥å¼æ³¨è§£å¤„ç†å™¨10.4.1 å®æˆ˜ç›®æ ‡10.4.2 ä»£ç å®ç°10.4.3 è¿è¡Œä¸æµ‹è¯•10.4.4 å…¶ä»–åº”ç”¨æ¡ˆä¾‹10.5 æœ¬ç« å°ç»“ç¬¬11ç«  åç«¯ç¼–è¯‘ä¸ä¼˜åŒ–11.1 æ¦‚è¿°11.2 å³æ—¶ç¼–è¯‘å™¨11.2.1 è§£é‡Šå™¨ä¸ç¼–è¯‘å™¨11.2.2 ç¼–è¯‘å¯¹è±¡ä¸è§¦å‘æ¡ä»¶11.2.3 ç¼–è¯‘è¿‡ç¨‹11.2.4 å®æˆ˜ï¼šæŸ¥çœ‹åŠåˆ†æå³æ—¶ç¼–è¯‘ç»“æœ11.3 æå‰ç¼–è¯‘å™¨11.3.1 æå‰ç¼–è¯‘çš„ä¼˜åŠ£å¾—å¤±11.3.2 å®æˆ˜ï¼šJaotcçš„æå‰ç¼–è¯‘11.4 ç¼–è¯‘å™¨ä¼˜åŒ–æŠ€æœ¯11.4.1 ä¼˜åŒ–æŠ€æœ¯æ¦‚è§ˆ11.4.2 æ–¹æ³•å†…è”11.4.3 é€ƒé€¸åˆ†æ11.4.4 å…¬å…±å­è¡¨è¾¾å¼æ¶ˆé™¤11.4.5 æ•°ç»„è¾¹ç•Œæ£€æŸ¥æ¶ˆé™¤11.5 å®æˆ˜ï¼šæ·±å…¥ç†è§£Graalç¼–è¯‘å™¨11.5.1 å†å²èƒŒæ™¯11.5.2 æ„å»ºç¼–è¯‘è°ƒè¯•ç¯å¢ƒ11.5.3 JVMCIç¼–è¯‘å™¨æ¥å£11.5.4 ä»£ç ä¸­é—´è¡¨ç¤º11.5.5 ä»£ç ä¼˜åŒ–ä¸ç”Ÿæˆ11.6 æœ¬ç« å°ç»“ç¬¬äº”éƒ¨åˆ† é«˜æ•ˆå¹¶å‘ç¬¬12ç«  Javaå†…å­˜æ¨¡å‹ä¸çº¿ç¨‹12.1 æ¦‚è¿°12.2 ç¡¬ä»¶çš„æ•ˆç‡ä¸ä¸€è‡´æ€§12.3 Javaå†…å­˜æ¨¡å‹12.3.1 ä¸»å†…å­˜ä¸å·¥ä½œå†…å­˜12.3.2 å†…å­˜é—´äº¤äº’æ“ä½œ12.3.3 å¯¹äºvolatileå‹å˜é‡çš„ç‰¹æ®Šè§„åˆ™12.3.4 é’ˆå¯¹longå’Œdoubleå‹å˜é‡çš„ç‰¹æ®Šè§„åˆ™12.3.5 åŸå­æ€§ã€å¯è§æ€§ä¸æœ‰åºæ€§12.3.6 å…ˆè¡Œå‘ç”ŸåŸåˆ™12.4 Javaä¸çº¿ç¨‹12.4.1 çº¿ç¨‹çš„å®ç°12.4.2 Javaçº¿ç¨‹è°ƒåº¦12.4.3 çŠ¶æ€è½¬æ¢12.5 Javaä¸åç¨‹12.5.1 å†…æ ¸çº¿ç¨‹çš„å±€é™12.5.2 åç¨‹çš„å¤è‹12.5.3 Javaçš„è§£å†³æ–¹æ¡ˆ12.6 æœ¬ç« å°ç»“ç¬¬13ç«  çº¿ç¨‹å®‰å…¨ä¸é”ä¼˜åŒ–13.1 æ¦‚è¿°13.2 çº¿ç¨‹å®‰å…¨13.2.1 Javaè¯­è¨€ä¸­çš„çº¿ç¨‹å®‰å…¨13.2.2 çº¿ç¨‹å®‰å…¨çš„å®ç°æ–¹æ³•13.3 é”ä¼˜åŒ–13.3.1 è‡ªæ—‹é”ä¸è‡ªé€‚åº”è‡ªæ—‹13.3.2 é”æ¶ˆé™¤13.3.3 é”ç²—åŒ–13.3.4 è½»é‡çº§é”13.3.5 åå‘é”13.4 æœ¬ç« å°ç»“é™„å½•A åœ¨Windowsç³»ç»Ÿä¸‹ç¼–è¯‘OpenJDK 6é™„å½•B å±•æœ›JavaæŠ€æœ¯çš„æœªæ¥ï¼ˆ2013å¹´ç‰ˆï¼‰é™„å½•C è™šæ‹Ÿæœºå­—èŠ‚ç æŒ‡ä»¤è¡¨é™„å½•D å¯¹è±¡æŸ¥è¯¢è¯­è¨€ï¼ˆOQLï¼‰ç®€ä»‹é™„å½•E JDKå†å²ç‰ˆæœ¬è½¨è¿¹","categories":[{"name":"JVM","slug":"JVM","permalink":"http://www.octber.xyz/categories/JVM/"}],"tags":[{"name":"JVM","slug":"JVM","permalink":"http://www.octber.xyz/tags/JVM/"}]},{"title":"DeepLearning4J(äºŒ)ï¼šç®€æ˜“ä¸€å…ƒçº¿æ€§å›å½’","slug":"DeepLearning4J-äºŒ-ï¼šç®€æ˜“ä¸€å…ƒçº¿æ€§å›å½’","date":"2020-01-22T04:24:18.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2020/01/22/DeepLearning4J-äºŒ-ï¼šç®€æ˜“ä¸€å…ƒçº¿æ€§å›å½’/","link":"","permalink":"http://www.octber.xyz/2020/01/22/DeepLearning4J-%E4%BA%8C-%EF%BC%9A%E7%AE%80%E6%98%93%E4%B8%80%E5%85%83%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92/","excerpt":"å‰è¨€æœ¬èŠ‚å­¦ä¹ ç®€æ˜“ä¸€å…ƒçº¿æ€§å›å½’","text":"å‰è¨€æœ¬èŠ‚å­¦ä¹ ç®€æ˜“ä¸€å…ƒçº¿æ€§å›å½’ è€ƒè™‘ä¸€ä¸ªæ¨¡å‹ï¼Œç”¨æ•°æ®å»è®¡ç®—ä¸€ä¸ªy=ax+bå…¶ä¸­aå’Œbçš„å€¼ï¼Œæ¯”å¦‚æˆ‘ä»¬è¾“å…¥(1,1)(2,2) è¿™å°±æ˜¯ä¸€ä¸ªä¸€å±‚çš„ç¥ç»ç½‘ç»œ ç¥ç»ç½‘ç»œçš„é…ç½®æˆ‘ä»¬éœ€è¦é…ç½®ç¥ç»ç½‘ç»œçš„è¶…å‚æ•°-&gt;ä¸ºä»€ä¹ˆå«è¶…å‚æ•°å‘¢ï¼Ÿ è¶…å‚æ•° -&gt; ç”¨äºè¾…åŠ©æ¨¡å‹å­¦ä¹ å‚æ•°çš„å‚æ•° -&gt; hyper-parameter -&gt; è¶…å‚æ•°å­¦ä¹ çš„å‚æ•°æ˜¯ä»€ä¹ˆï¼Ÿ y = ax + bå…¶ä¸­çš„x,yæ˜¯å·²çŸ¥çš„ï¼Œè¿™æ˜¯ç”¨äºç¥ç»ç½‘ç»œçš„è®­ç»ƒæ ·æœ¬ã€‚å‚æ•° a,bæ˜¯æœªçŸ¥çš„ï¼Œæ‰€ä»¥a,bæ˜¯æˆ‘ä»¬ç¥ç»ç½‘ç»œéœ€è¦å­¦ä¹ çš„å‚æ•°åŒæ—¶æˆ‘ä»¬éœ€è¦é…ç½®è¶…å‚æ•°æ¥è¾…åŠ©ç¥ç»ç½‘ç»œå­¦ä¹ åˆ°a å’Œ bè¿™ä¸¤ä¸ªå‚æ•° seed éšæœºç§å­ -&gt; éšæœºæ•°ç”Ÿæˆé€šå¸¸éœ€è¦ä¸€ä¸ªèµ·ç‚¹ï¼Œæˆ‘ä»¬æ‰€ç”Ÿæˆçš„éšæœºæ•°éƒ½æ˜¯ä¼ªéšæœºæ•°ã€‚ å› ä¸ºç¥ç»ç½‘ç»œè®­ç»ƒæ—¶ï¼Œæ¨¡å‹çš„åˆè¯•æƒé‡å’Œåç½®æ˜¯éšæœºç”Ÿæˆçš„,æˆ‘ä»¬éœ€è¦éšæœºæ•°ç§å­ä¿è¯æ¯æ¬¡åˆå§‹åŒ–çš„æƒé‡å¤§ä½“ä¸€è‡´,è¿™æ ·å¯ä»¥ä¿è¯æ¨¡å‹ç»“æœçš„å¯å¤ç°æ€§,åªæœ‰æ¨¡å‹ç»“æœå¯å¤ç°-&gt;è¿›è¡Œç¥ç»ç½‘ç»œçš„è°ƒå‚-&gt;æˆ‘ä»¬çš„è°ƒå‚å¯¹äºæ¨¡å‹æ•ˆæœæå‡æ˜¯æœ‰æ„ä¹‰çš„ optimizationAlgo ä¼˜åŒ–ç®—æ³•ä½¿ç”¨ã€‚æœ€å¸¸è§:OptimizationAlgorithm.STOCHASTIC_GRADIENT_DESCENT 1234567891011/** * Optimization algorithm to use * @author Adam Gibson * */public enum OptimizationAlgorithm &#123; LINE_GRADIENT_DESCENT, CONJUGATE_GRADIENT, LBFGS, STOCHASTIC_GRADIENT_DESCENT&#125; weightInit å¯¹ç¥ç»ç½‘ç»œçš„æƒé‡è¿›è¡Œéšæœºåˆå§‹åŒ–,éšæœºçš„æƒé‡è¦æ¯”å…¨0çš„æƒé‡å¯¹ç¥ç»ç½‘ç»œè®­ç»ƒæ›´æœ‰æ„ä¹‰ 1234567891011121314151617181920212223public enum WeightInit &#123; DISTRIBUTION, ZERO, ONES, SIGMOID_UNIFORM, NORMAL, LECUN_NORMAL, UNIFORM, XAVIER, XAVIER_UNIFORM, XAVIER_FAN_IN, XAVIER_LEGACY RELU, RELU_UNIFORM, IDENTITY, LECUN_UNIFORM, VAR_SCALING_NORMAL_FAN_IN, VAR_SCALING_NORMAL_FAN_OUT, VAR_SCALING_NORMAL_FAN_AVG, VAR_SCALING_UNIFORM_FAN_IN, VAR_SCALING_UNIFORM_FAN_OUT, VAR_SCALING_UNIFORM_FAN_AVG&#125; updater ä¼˜åŒ–ç®—æ³• â€”â€”â€”â€”â€”â€”â€”â€”â€”åˆ†å‰²çº¿â€”â€”â€”â€”â€”â€”â€”â€”â€” å®Œæ•´ä»£ç : 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106public class SingleRegression &#123; //éšæœºæ•°ç§å­ï¼Œç”¨äºç»“æœå¤ç° private static final int seed = 12345; //å¯¹äºæ¯ä¸ªminiBatchçš„è¿­ä»£æ¬¡æ•° private static final int iterations = 10; //epochæ•°é‡(å…¨éƒ¨æ•°æ®çš„è®­ç»ƒæ¬¡æ•°) private static final int nEpochs = 20; //ä¸€å…±ç”Ÿæˆå¤šå°‘æ ·æœ¬ç‚¹ private static final int nSamples = 1000; //Batch size: i.e., each epoch has nSamples/batchSize parameter updates private static final int batchSize = 100; //ç½‘ç»œæ¨¡å‹å­¦ä¹ ç‡ private static final double learningRate = 0.01; //éšæœºæ•°æ®ç”Ÿæˆçš„èŒƒå›´ private static int MIN_RANGE = 0; private static int MAX_RANGE = 3; private static final Random rng = new Random(seed); public static void main(String[] args) &#123; //Create the network int numInput = 1; int numOutputs = 1; /** * ç¥ç»ç½‘ç»œçš„é…ç½® æˆ‘ä»¬éœ€è¦é…ç½®ç¥ç»ç½‘ç»œçš„è¶…å‚æ•°-&gt;ä¸ºä»€ä¹ˆå«è¶…å‚æ•°å‘¢ï¼Ÿ è¶…å‚æ•° -&gt; ç”¨äºè¾…åŠ©æ¨¡å‹å­¦ä¹ å‚æ•°çš„å‚æ•° -&gt; hyper-parameter -&gt; è¶…å‚æ•° å­¦ä¹ çš„å‚æ•°æ˜¯ä»€ä¹ˆï¼Ÿ y = ax + b å…¶ä¸­çš„x,yæ˜¯å·²çŸ¥çš„ï¼Œè¿™æ˜¯ç”¨äºç¥ç»ç½‘ç»œçš„è®­ç»ƒæ ·æœ¬ã€‚ å‚æ•° a,bæ˜¯æœªçŸ¥çš„ï¼Œæ‰€ä»¥a,bæ˜¯æˆ‘ä»¬ç¥ç»ç½‘ç»œéœ€è¦å­¦ä¹ çš„å‚æ•° åŒæ—¶æˆ‘ä»¬éœ€è¦é…ç½®è¶…å‚æ•°æ¥è¾…åŠ©ç¥ç»ç½‘ç»œå­¦ä¹ åˆ°a å’Œ bè¿™ä¸¤ä¸ªå‚æ•° */ MultiLayerConfiguration conf = new NeuralNetConfiguration.Builder() /** * éšæœºç§å­ -&gt; éšæœºæ•°ç”Ÿæˆé€šå¸¸éœ€è¦ä¸€ä¸ªèµ·ç‚¹ï¼Œæˆ‘ä»¬æ‰€ç”Ÿæˆçš„éšæœºæ•°éƒ½æ˜¯ä¼ªéšæœºæ•°ã€‚ * å› ä¸ºç¥ç»ç½‘ç»œè®­ç»ƒæ—¶ï¼Œæ¨¡å‹çš„åˆè¯•æƒé‡å’Œåç½®æ˜¯éšæœºç”Ÿæˆçš„ * æˆ‘ä»¬éœ€è¦éšæœºæ•°ç§å­ä¿è¯æ¯æ¬¡åˆå§‹åŒ–çš„æƒé‡å¤§ä½“ä¸€è‡´ * è¿™æ ·å¯ä»¥ä¿è¯æ¨¡å‹ç»“æœçš„å¯å¤ç°æ€§ * åªæœ‰æ¨¡å‹ç»“æœå¯å¤ç°-&gt;è¿›è¡Œç¥ç»ç½‘ç»œçš„è°ƒå‚-&gt;æˆ‘ä»¬çš„è°ƒå‚å¯¹äºæ¨¡å‹æ•ˆæœæå‡æ˜¯æœ‰æ„ä¹‰çš„ */ .seed(seed) /** * æ‰¾æ–¹å‘ */ .optimizationAlgo(OptimizationAlgorithm.STOCHASTIC_GRADIENT_DESCENT) /** * å¯¹ç¥ç»ç½‘ç»œçš„æƒé‡è¿›è¡Œéšæœºåˆå§‹åŒ– * éšæœºçš„æƒé‡è¦æ¯”å…¨0çš„æƒé‡å¯¹ç¥ç»ç½‘ç»œè®­ç»ƒæ›´æœ‰æ„ä¹‰ */ .weightInit(WeightInit.XAVIER) /** * ä¼˜åŒ–ç®—æ³• * tf,keras -&gt; optimizer * è¿ˆæ­¥å­ * * å­¦ä¹ ç‡è¿ˆæ­¥å­çš„å¤§å° * å»å´æ©è¾¾-&gt;ç½‘æ˜“äº‘è¯¾å ‚-&gt;å¾®ä¸“ä¸š */ .updater(new Sgd(learningRate)) .list() .layer(0, new OutputLayer.Builder(LossFunctions.LossFunction.MSE) /** * y = x * None */ .activation(Activation.IDENTITY) /** * ä¸Šä¸€å±‚è¾“å‡º */ .nIn(numInput) /** * å½“å‰å±‚ç¥ç»å•å…ƒçš„ä¸ªæ•° */ .nOut(numOutputs).build()) /** * é¢„è®­ç»ƒ */ .pretrain(false) /** * åå‘ä¼ æ’­ */ .backprop(true).build(); // ä½¿ç”¨ MultiLayerNetwork å¯¹æˆ‘ä»¬çš„ conf è¿›è¡Œä¸€ä¸ªåŒ…è£… // å¯¹ç¥ç»ç½‘ç»œè¿›è¡Œäº†æ„å»º MultiLayerNetwork net = new MultiLayerNetwork(conf); // å¿…é¡»è°ƒç”¨ init() æ–¹æ³• // æ˜¯å¯¹äºæ¨¡å‹å‚æ•°çš„åˆå§‹åŒ– net.init(); System.out.println(net.summary()); /** * æœ‰ç›‘å¬å™¨ï¼Œç”¨äºç›‘å¬æˆ‘ä»¬ç¥ç»ç½‘ç»œè®­ç»ƒæ—¶å€™çš„çŠ¶æ€ * ä¸»è¦æ˜¯ç”¨äºç›‘å¬æˆ‘ä»¬ç¥ç»ç½‘ç»œè®­ç»ƒæ—¶å€™çš„æŸå¤±å‡½æ•°çš„å¾—åˆ† * ç›®å‰å‚æ•°ä¸º1ï¼Œåˆ™è¯´æ˜ç½‘ç»œæ¯è®­ç»ƒä¸€æ¬¡ï¼Œå°±ä¼šæ‰“å°ä¸€æ¬¡æŸå¤±å‡½æ•°çš„å¾—åˆ† */// net.setListeners(new ScoreIterationListener(1)); DataSetIterator iterator = getTrainingData(batchSize, rng); // åé¢å°±æ˜¯è¿›è¡Œè®­ç»ƒäº† &#125;&#125;","categories":[{"name":"/java","slug":"java","permalink":"http://www.octber.xyz/categories/java/"}],"tags":[{"name":"dl4j","slug":"dl4j","permalink":"http://www.octber.xyz/tags/dl4j/"}]},{"title":"DeepLearning4J(ä¸€)ï¼šå…¥é—¨","slug":"DeepLearning4J-ä¸€-ï¼šå…¥é—¨","date":"2020-01-21T15:20:49.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2020/01/21/DeepLearning4J-ä¸€-ï¼šå…¥é—¨/","link":"","permalink":"http://www.octber.xyz/2020/01/21/DeepLearning4J-%E4%B8%80-%EF%BC%9A%E5%85%A5%E9%97%A8/","excerpt":"å‰è¨€è¿™ä¸€ç³»åˆ—åšæ–‡æˆ‘å°†å­¦ä¹ DeepLearning4Jæ·±åº¦å­¦ä¹ çš„ä¸€ç³»åˆ—çŸ¥è¯†ï¼Œä¾æ‰˜äºä¸€ä¸ªæ¯•ä¸šè®¾è®¡é¡¹ç›®ï¼šåŸºäºæ·±åº¦å­¦ä¹ å›¾åƒè¯†åˆ«åˆ†æçš„Xå…‰éª¨é¾„æ£€æµ‹ä¸åˆ†æã€‚é€‰æ‹©dl4jçš„ä¸»è¦åŸå› æ˜¯å› ä¸ºä¸ªäººå–œæ¬¢Javaå˜æˆï¼Œå¯¹pythonä¸æ„Ÿå†’ï¼Œè€Œdl4jæ˜¯ä¸€ä¸ªä¼ä¸šçº§åº”ç”¨æ°´å‡†çš„æ·±åº¦å­¦ä¹ æ¡†æ¶ï¼Œå®Œå…¨å¯ä»¥èƒœä»»è¿™é¡¹ä»»åŠ¡ã€‚","text":"å‰è¨€è¿™ä¸€ç³»åˆ—åšæ–‡æˆ‘å°†å­¦ä¹ DeepLearning4Jæ·±åº¦å­¦ä¹ çš„ä¸€ç³»åˆ—çŸ¥è¯†ï¼Œä¾æ‰˜äºä¸€ä¸ªæ¯•ä¸šè®¾è®¡é¡¹ç›®ï¼šåŸºäºæ·±åº¦å­¦ä¹ å›¾åƒè¯†åˆ«åˆ†æçš„Xå…‰éª¨é¾„æ£€æµ‹ä¸åˆ†æã€‚é€‰æ‹©dl4jçš„ä¸»è¦åŸå› æ˜¯å› ä¸ºä¸ªäººå–œæ¬¢Javaå˜æˆï¼Œå¯¹pythonä¸æ„Ÿå†’ï¼Œè€Œdl4jæ˜¯ä¸€ä¸ªä¼ä¸šçº§åº”ç”¨æ°´å‡†çš„æ·±åº¦å­¦ä¹ æ¡†æ¶ï¼Œå®Œå…¨å¯ä»¥èƒœä»»è¿™é¡¹ä»»åŠ¡ã€‚ èµ„æº dl4jå®˜ç½‘ï¼š https://deeplearning4j.org/ dl4jçš„Gitåœ°å€ï¼š https://github.com/deeplearning4j dl4jå®˜æ–¹ä¸­æ–‡å¿«é€Ÿå…¥é—¨ï¼š https://deeplearning4j.org/cn/quickstart æ•™ç¨‹Gitåœ°å€: https://github.com/sjsdfg/dl4j-tutorials ä¼˜ç§€åšå®¢: https://blog.csdn.net/u011669700/article/details/80139619 å…¥é—¨çŸ¥è¯†-Lesson 01ä¸¤ç§å­˜å‚¨æ–¹å¼ï¼š C Orderè¡Œé‚®ç®±å­˜å‚¨ F Orderåˆ—ä¼˜å…ˆå‚¨å­˜ è€ŒDl4jæ‰€æœ‰çš„çŸ©é˜µè¿ç®—éƒ½æ˜¯F Orderè¿›è¡Œå­˜å‚¨å¹¶ä¸”è¿›è¡Œè®¡ç®—çš„ åŸºç¡€ç±» INDArrayè¿™æ˜¯ä¸€ä¸ªå¯åºåˆ—åŒ–çš„æ¥å£ç±» åˆ›å»º 1Interface for an ndarray ç®€ç§° INDArray å®ƒä¸»è¦å¯ä»¥åˆ›å»ºä¸€äº›åŸºæœ¬çš„å¤šå…ƒæ•°ç»„: 123456789101112131415161718192021222324/* æ„é€ ä¸€ä¸ª3è¡Œ5åˆ—çš„å…¨0 ndarray */System.out.println(&quot;æ„é€ ä¸€ä¸ª3è¡Œ5åˆ—çš„å…¨0 ndarray&quot;);INDArray zeros = Nd4j.zeros(3, 5);System.out.println(zeros);/* æ„é€ ä¸€ä¸ª3è¡Œ5åˆ—çš„å…¨1 ndarray */System.out.println(&quot;æ„é€ ä¸€ä¸ª3è¡Œ5åˆ—çš„å…¨1 ndarray&quot;);INDArray ones = Nd4j.ones(3, 5);System.out.println(ones);/* æ„é€ ä¸€ä¸ª3è¡Œ5åˆ—ï¼Œæ•°ç»„å…ƒç´ å‡ä¸ºéšæœºäº§ç”Ÿçš„ndarray */System.out.println(&quot;æ„é€ ä¸€ä¸ª3è¡Œ5åˆ—ï¼Œæ•°ç»„å…ƒç´ å‡ä¸ºéšæœºäº§ç”Ÿçš„ndarray&quot;);INDArray rands = Nd4j.rand(3, 5);System.out.println(rands);/* æ„é€ ä¸€ä¸ª3è¡Œ5åˆ—ï¼Œæ•°ç»„å…ƒç´ æœä»é«˜æ–¯åˆ†å¸ƒï¼ˆå¹³å‡å€¼ä¸º0ï¼Œæ ‡å‡†å·®ä¸º1ï¼‰çš„ndarray */System.out.println(&quot;æ„é€ ä¸€ä¸ª3è¡Œ5åˆ—ï¼Œæ•°ç»„å…ƒç´ æœä»é«˜æ–¯åˆ†å¸ƒï¼ˆå¹³å‡å€¼ä¸º0ï¼Œæ ‡å‡†å·®ä¸º1ï¼‰çš„ndarray&quot;);INDArray randns = Nd4j.randn(3, 5);System.out.println(randns);/* ç»™ä¸€ä¸ªä¸€ç»´æ•°æ®ï¼Œæ ¹æ®shapeåˆ›é€ ndarray */System.out.println(&quot;ç»™ä¸€ä¸ªä¸€ç»´æ•°æ®ï¼Œæ ¹æ®shapeåˆ›é€ ndarray&quot;);INDArray array1 = Nd4j.create(new float[]&#123;2, 2, 2, 2&#125;, new int[]&#123;1, 4&#125;);System.out.println(array1);INDArray array2 = Nd4j.create(new float[]&#123;2, 2, 2, 2&#125;, new int[]&#123;2, 2&#125;);System.out.println(array2); è¾“å‡ºçš„ç»“æœä¸º: 1234567891011121314151617181920æ„é€ ä¸€ä¸ª3è¡Œ5åˆ—çš„å…¨0 ndarray[[ 0, 0, 0, 0, 0], [ 0, 0, 0, 0, 0], [ 0, 0, 0, 0, 0]]æ„é€ ä¸€ä¸ª3è¡Œ5åˆ—çš„å…¨1 ndarray[[ 1.0000, 1.0000, 1.0000, 1.0000, 1.0000], [ 1.0000, 1.0000, 1.0000, 1.0000, 1.0000], [ 1.0000, 1.0000, 1.0000, 1.0000, 1.0000]]æ„é€ ä¸€ä¸ª3è¡Œ5åˆ—ï¼Œæ•°ç»„å…ƒç´ å‡ä¸ºéšæœºäº§ç”Ÿçš„ndarray[[ 0.9616, 0.9450, 0.5324, 0.4563, 0.5084], [ 0.8097, 0.9463, 0.8487, 0.1333, 0.4296], [ 0.5177, 0.0301, 0.6035, 0.7891, 0.0182]]æ„é€ ä¸€ä¸ª3è¡Œ5åˆ—ï¼Œæ•°ç»„å…ƒç´ æœä»é«˜æ–¯åˆ†å¸ƒï¼ˆå¹³å‡å€¼ä¸º0ï¼Œæ ‡å‡†å·®ä¸º1ï¼‰çš„ndarray[[ 1.0183, -2.1546, 0.7305, -0.3929, -1.1482], [ -2.0195, 1.2381, -0.6725, -1.1822, -0.4341], [ -0.1106, -1.9217, -0.1923, -0.4366, 0.2219]]ç»™ä¸€ä¸ªä¸€ç»´æ•°æ®ï¼Œæ ¹æ®shapeåˆ›é€ ndarray[[ 2.0000, 2.0000, 2.0000, 2.0000]][[ 2.0000, 2.0000], [ 2.0000, 2.0000]] è®¾ç½®å’Œä¿®æ”¹/éå†æ ·ä¾‹ä»£ç : 12345678910111213141516171819202122232425262728293031INDArray nd = Nd4j.create(new float[]&#123;1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12&#125;, new int[]&#123;2, 6&#125;);System.out.println(&quot;æ‰“å°åŸæœ‰æ•°ç»„&quot;);System.out.println(nd);/* è·å–æŒ‡å®šç´¢å¼•çš„å€¼ */System.out.println(&quot;è·å–æ•°ç»„ä¸‹æ ‡ä¸º0, 3çš„å€¼&quot;);double value = nd.getDouble(0, 3);System.out.println(value);/* ä¿®æ”¹æŒ‡å®šç´¢å¼•çš„å€¼ */System.out.println(&quot;ä¿®æ”¹æ•°ç»„ä¸‹æ ‡ä¸º0, 3çš„å€¼&quot;);//scalar æ ‡é‡nd.putScalar(0, 3, 100);System.out.println(nd);/* ä½¿ç”¨ç´¢å¼•è¿­ä»£å™¨éå†ndarrayï¼Œä½¿ç”¨c order */System.out.println(&quot;ä½¿ç”¨ç´¢å¼•è¿­ä»£å™¨éå†ndarray&quot;);NdIndexIterator iter = new NdIndexIterator(2, 6);while (iter.hasNext()) &#123; long[] nextIndex = iter.next(); double nextVal = nd.getDouble(nextIndex); System.out.println(nextVal);&#125; è¾“å‡ºç»“æœä¸º: 123456789101112131415161718192021æ‰“å°åŸæœ‰æ•°ç»„[[ 1.0000, 2.0000, 3.0000, 4.0000, 5.0000, 6.0000], [ 7.0000, 8.0000, 9.0000, 10.0000, 11.0000, 12.0000]]è·å–æ•°ç»„ä¸‹æ ‡ä¸º0, 3çš„å€¼4.0ä¿®æ”¹æ•°ç»„ä¸‹æ ‡ä¸º0, 3çš„å€¼[[ 1.0000, 2.0000, 3.0000, 100.0000, 5.0000, 6.0000], [ 7.0000, 8.0000, 9.0000, 10.0000, 11.0000, 12.0000]]ä½¿ç”¨ç´¢å¼•è¿­ä»£å™¨éå†ndarray1.02.03.0100.05.06.07.08.09.010.011.012.0 è·å–è¡Œ,è·å–å¹¶ä¸”è®¾ç½®æ•°ç»„éƒ¨åˆ†æ ·ä¾‹ä»£ç : 1234567891011121314151617181920212223242526INDArray nd = Nd4j.create(new float[]&#123;1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12&#125;, new int[]&#123;2, 6&#125;);System.out.println(&quot;åŸå§‹æ•°ç»„&quot;);System.out.println(nd);/* è·å–ä¸€è¡Œ */System.out.println(&quot;è·å–æ•°ç»„ä¸­çš„ä¸€è¡Œ&quot;);INDArray singleRow = nd.getRow(0);System.out.println(singleRow);/* è·å–å¤šè¡Œ */System.out.println(&quot;è·å–æ•°ç»„ä¸­çš„å¤šè¡Œ&quot;);INDArray multiRows = nd.getRows(0, 1);System.out.println(multiRows);/* æ›¿æ¢å…¶ä¸­çš„ä¸€è¡Œ */System.out.println(&quot;æ›¿æ¢åŸæœ‰æ•°ç»„ä¸­çš„ä¸€è¡Œ&quot;);INDArray replaceRow = Nd4j.create(new float[]&#123;1, 3, 5, 7, 9, 11&#125;);nd.putRow(0, replaceRow);System.out.println(nd); è¾“å‡ºç»“æœ: 1234567891011åŸå§‹æ•°ç»„[[ 1.0000, 2.0000, 3.0000, 4.0000, 5.0000, 6.0000], [ 7.0000, 8.0000, 9.0000, 10.0000, 11.0000, 12.0000]]è·å–æ•°ç»„ä¸­çš„ä¸€è¡Œ[[ 1.0000, 2.0000, 3.0000, 4.0000, 5.0000, 6.0000]]è·å–æ•°ç»„ä¸­çš„å¤šè¡Œ[[ 1.0000, 2.0000, 3.0000, 4.0000, 5.0000, 6.0000], [ 7.0000, 8.0000, 9.0000, 10.0000, 11.0000, 12.0000]]æ›¿æ¢åŸæœ‰æ•°ç»„ä¸­çš„ä¸€è¡Œ[[ 1.0000, 3.0000, 5.0000, 7.0000, 9.0000, 11.0000], [ 7.0000, 8.0000, 9.0000, 10.0000, 11.0000, 12.0000]] çŸ©é˜µæ“ä½œæ ·ä¾‹ä»£ç : 12345678910111213141516171819202122232425// 1x2çš„è¡Œå‘é‡INDArray nd = Nd4j.create(new float[]&#123;1,2&#125;,new int[]&#123;1, 2&#125;);// 2x1çš„åˆ—å‘é‡INDArray nd2 = Nd4j.create(new float[]&#123;3,4&#125;,new int[]&#123;2, 1&#125;); //vector as column// åˆ›é€ ä¸¤ä¸ª2x2çš„çŸ©é˜µINDArray nd3 = Nd4j.create(new float[]&#123;1,3,2,4&#125;,new int[]&#123;2,2&#125;); //elements arranged column majorINDArray nd4 = Nd4j.create(new float[]&#123;3,4,5,6&#125;,new int[]&#123;2, 2&#125;);//æ‰“å°System.out.println(nd);System.out.println(nd2);System.out.println(nd3);//1x2 and 2x1 -&gt; 1x1INDArray ndv = nd.mmul(nd2);System.out.println(ndv + &quot;, shape = &quot; + Arrays.toString(ndv.shape()));//1x2 and 2x2 -&gt; 1x2ndv = nd.mmul(nd4);System.out.println(ndv + &quot;, shape = &quot; + Arrays.toString(ndv.shape()));//2x2 and 2x2 -&gt; 2x2ndv = nd3.mmul(nd4);System.out.println(ndv + &quot;, shape = &quot; + Arrays.toString(ndv.shape())); è¾“å‡ºç»“æœ: 123456789[[ 1.0000, 2.0000]][3.0000, 4.0000][[ 1.0000, 3.0000], [ 2.0000, 4.0000]]11.0000, shape = [1, 1][[ 13.0000, 16.0000]], shape = [1, 2][[ 18.0000, 22.0000], [ 26.0000, 32.0000]], shape = [2, 2] Lesson 01æ€»ç»“Deeplearning4j - ND4jæ–¹æ³•å¿«é€Ÿç´¢å¼• ND4Jå’ŒND4Sæ˜¯JVMçš„ç§‘å­¦è®¡ç®—åº“ï¼Œå¹¶ä¸ºç”Ÿäº§ç¯å¢ƒè®¾è®¡ï¼Œäº¦å³ä¾‹ç¨‹è¿è¡Œé€Ÿåº¦å¿«ï¼ŒRAMè¦æ±‚ä½ã€‚ ä¸»è¦ç‰¹ç‚¹ï¼š å¤šç”¨é€”å¤šç»´æ•°ç»„å¯¹è±¡ å¤šå¹³å°åŠŸèƒ½ï¼ŒåŒ…æ‹¬GPU çº¿æ€§ä»£æ•°å’Œä¿¡å·å¤„ç†åŠŸèƒ½ ç”±äºæ˜“ç”¨æ€§ä¸Šå­˜åœ¨çš„ç¼ºå£ï¼ŒJavaã€Scalaå’ŒClojureç¼–ç¨‹äººå‘˜æ— æ³•å……åˆ†åˆ©ç”¨NumPyæˆ–Matlabç­‰æ•°æ®åˆ†ææ–¹é¢æœ€å¼ºå¤§çš„å·¥å…·ã€‚Breezeç­‰å…¶ä»–åº“åˆ™ä¸æ”¯æŒå¤šç»´æ•°ç»„æˆ–å¼ é‡ï¼Œè€Œè¿™å´æ˜¯æ·±åº¦å­¦ä¹ å’Œå…¶ä»–ä»»åŠ¡çš„å…³é”®ã€‚ND4Jå’ŒND4Sæ­£å¾—åˆ°å›½å®¶çº§å®éªŒå®¤çš„ä½¿ç”¨ï¼Œä»¥å®Œæˆæ°”å€™å»ºæ¨¡ç­‰ä»»åŠ¡ã€‚è¿™ç±»ä»»åŠ¡è¦æ±‚å®Œæˆè®¡ç®—å¯†é›†çš„æ¨¡æ‹Ÿè¿ç®—ã€‚ ND4Jåœ¨å¼€æºã€åˆ†å¸ƒå¼ã€æ”¯æŒGPUçš„åº“å†…ï¼Œä¸ºJVMå¸¦æ¥äº†ç¬¦åˆç›´è§‰çš„ã€Pythonç¼–ç¨‹äººå‘˜æ‰€ç”¨çš„ç§‘å­¦è®¡ç®—å·¥å…·ã€‚åœ¨ç»“æ„ä¸Šï¼ŒND4Jä¸SLF4Jç›¸ä¼¼ã€‚ND4Jè®©ç”Ÿäº§ç¯å¢ƒä¸‹çš„å·¥ç¨‹å¸ˆèƒ½å¤Ÿè½»æ¾å°†ç®—æ³•å’Œç•Œé¢ç§»æ¤åˆ°Javaå’ŒScalaä½“ç³»å†…çš„å…¶ä»–åº“å†…ã€‚åˆ›å»ºndarray 12345678åˆ›å»ºå€¼å…¨ä¸º0ï¼š Nd4j.zeros(nRows, nCols) Nd4j.zeros(int...)åˆ›å»ºå€¼å…¨ä¸º1ï¼š Nd4j.ones(nRows, nCols)å¤åˆ¶NDArrayï¼š arr.dup()åˆ›å»ºä¸€ä¸ªè¡Œå‘é‡æˆ–è€…åˆ—å‘é‡ï¼š myRow = Nd4j.create(myDoubleArr)ï¼Œ myCol = Nd4j.create(myDoubleArr,new int[]&#123;10,1&#125;)ä½¿ç”¨ double[][] åˆ›å»ºäºŒç»´ NDArray : Nd4j.create(double[][])ä»è¡Œæˆ–è€…åˆ—è¿›è¡Œ NDArray å †å ï¼šNd4j.hstack(INDArray...) Nd4j.vstack(INDArray...)åˆ›å»ºå…ƒç´ æœä»æ­£å¤ªåˆ†å¸ƒçš„ NDArrayï¼š Nd4j.rand(int,int) Nd4j.rand(int[])æ™®é€š ï¼ˆ0,1ï¼‰èŒƒå›´çš„ NDArray: Nd4j.randn(int,int) Nd4j.randn(int[]) è·å– NDArray çš„å±æ€§ 123456è·å–ç»´åº¦ï¼š rank()åªå¯¹äºŒç»´ NDArray æœ‰ç”¨çš„æ–¹æ³•ï¼Œè·å–è¡Œå’Œåˆ—æ•°ï¼š rows() columns()ç¬¬ i ä¸ªç»´åº¦çš„é•¿åº¦ï¼šsize(i)è·å– NDArray çš„å½¢çŠ¶ï¼š shape()è·å–æ‰€æœ‰å…ƒç´ çš„ä¸ªæ•°ï¼š arr.length()åˆ¤æ–­ NDArray çš„ç±»å‹ï¼š isMatrix() isVector() isRowVector() isRowVector() è·å–æˆ–è€…è®¾å®šç‰¹å®šçš„å€¼ 123è·å–ç¬¬ i è¡Œï¼Œç¬¬ j åˆ—çš„æ•°å€¼ï¼šarr.getDouble(i,j)è·å–è¶…è¿‡ä¸‰ç»´ NDArray çš„å€¼ï¼š arr.getDouble(int[])å¯¹ç‰¹å®šä½ç½®è¿›è¡Œèµ‹å€¼ï¼šarr.putScalar(int[],double) å¼ é‡æ“ä½œ 123456åŠ ä¸Šä¸€ä¸ªå€¼ï¼š arr1.add(myDouble)å‡å»ä¸€ä¸ªå€¼ï¼šarr1.sub(myDouble)ä¹˜ä»¥ä¸€ä¸ªå€¼ï¼šarr.mul(myDouble)é™¤ä»¥ä¸€ä¸ªå€¼ï¼šarr.div(myDouble)å‡æ³•åæ“ä½œï¼ˆscalar - arr1ï¼‰ï¼šarr1.rsub(myDouble)é™¤æ³•åæ“ä½œï¼ˆscalar / arr1ï¼‰ï¼šarr1.rdiv(myDouble) å…ƒç´ ï¼ˆElement-Wiseï¼‰æ“ä½œ 12345åŠ ï¼šarr1.add(arr2)å‡ï¼šarr1.sub(arr2)ä¹˜ï¼šarr1.mul(arr2)é™¤ï¼šarr1.div(arr2)èµ‹å€¼ï¼šarr1.assign(arr2) è§„çº¦æ“ä½œ 1234æ‰€æœ‰å…ƒç´ çš„å’Œï¼šarr.sumNumber()æ‰€æœ‰å…ƒç´ çš„ä¹˜ç§¯ï¼šarr.prod()L1æˆ–è€…L2èŒƒæ•°ï¼šarr.norm1() arr.norm2()æ‰€æœ‰å…ƒç´ çš„æ ‡å‡†å·®ï¼šarr.stdNumber() çº¿æ€§ä»£æ•°æ“ä½œ 1234çŸ©é˜µä¹˜æ³•ï¼šarr1.mmul(arr2)çŸ©é˜µè½¬ç½®ï¼štranspose()è·å–å¯¹è§’çŸ©é˜µï¼šNd4j.diag(INDArray)çŸ©é˜µæ±‚é€†ï¼šInvertMatrix.invert(INDArray,boolean) è·å– NDArray ä¸€éƒ¨åˆ† 1234è·å–ä¸€è¡Œï¼ˆä»…ç”¨äº2ç»´ NDArrayï¼‰ï¼šgetRow(int)è·å–å¤šè¡Œï¼ˆä»…ç”¨äº2ç»´ NDArrayï¼‰ï¼šgetRows(int...)è®¾ç½®ä¸€è¡Œï¼ˆä»…ç”¨äº2ç»´ NDArrayï¼‰ï¼šputRow(int,INDArray)è·å–å‰ä¸‰è¡Œï¼Œæ‰€æœ‰åˆ—çš„å€¼ï¼šNd4j.create(0).get(NDArrayIndex.interval(0,3),NDArrayIndex.all()); å…ƒç´ çº§å˜æ¢ï¼ˆTanh, Sigmoid, Sin, Log etcï¼‰ 123ä½¿ç”¨ Transform :Transforms.sin(INDArray) Transforms.log(INDArray) Transforms.sigmoid(INDArray)æ–¹æ³•1ï¼š Nd4j.getExecutioner().execAndReturn(new Tanh(INDArray))æ–¹æ³•2ï¼š Nd4j.getExecutioner().execAndReturn(Nd4j.getOpFactory().createTransform(&quot;tanh&quot;,INDArray)) è½¬è½½è‡ªæœ¬æ–‡ä¸ºCSDNåšä¸»ã€Œå¯’æ²§ã€çš„åŸåˆ›æ–‡ç«  é¡¹ç›®é…ç½®Pomé…ç½®å¦‚ä¸‹ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;org&lt;/groupId&gt; &lt;artifactId&gt;dl4j-tutorials&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;properties&gt; &lt;!-- Change the nd4j.backend property to nd4j-cuda-9.2 to use CUDA GPUs --&gt; &lt;!-- CPUä½¿ç”¨ nd4j-native-platform --&gt; &lt;!-- GPUä½¿ç”¨ nd4j-cuda-9.2-platform--&gt; &lt;nd4j.backend&gt;nd4j-native-platform&lt;/nd4j.backend&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;shadedClassifier&gt;bin&lt;/shadedClassifier&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;nd4j.version&gt;1.0.0-beta2&lt;/nd4j.version&gt; &lt;dl4j.version&gt;1.0.0-beta2&lt;/dl4j.version&gt; &lt;datavec.version&gt;1.0.0-beta2&lt;/datavec.version&gt; &lt;arbiter.version&gt;1.0.0-beta2&lt;/arbiter.version&gt; &lt;rl4j.version&gt;1.0.0-beta2&lt;/rl4j.version&gt; &lt;!-- For Spark examples: change the _1 to _2 to switch between Spark 1 and Spark 2 --&gt; &lt;dl4j.spark.version&gt;1.0.0-beta2_spark_1&lt;/dl4j.spark.version&gt; &lt;datavec.spark.version&gt;1.0.0-beta2_spark_1&lt;/datavec.spark.version&gt; &lt;jcommander.version&gt;1.27&lt;/jcommander.version&gt; &lt;!-- Scala binary version: DL4J&#x27;s Spark and UI functionality are released with both Scala 2.10 and 2.11 support --&gt; &lt;scala.binary.version&gt;2.11&lt;/scala.binary.version&gt; &lt;guava.version&gt;19.0&lt;/guava.version&gt; &lt;logback.version&gt;1.1.7&lt;/logback.version&gt; &lt;jfreechart.version&gt;1.0.13&lt;/jfreechart.version&gt; &lt;jcommon.version&gt;1.0.23&lt;/jcommon.version&gt; &lt;maven-shade-plugin.version&gt;2.4.3&lt;/maven-shade-plugin.version&gt; &lt;exec-maven-plugin.version&gt;1.4.0&lt;/exec-maven-plugin.version&gt; &lt;maven.minimum.version&gt;3.3.1&lt;/maven.minimum.version&gt; &lt;/properties&gt; &lt;dependencyManagement&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.nd4j&lt;/groupId&gt; &lt;artifactId&gt;nd4j-native-platform&lt;/artifactId&gt; &lt;version&gt;$&#123;nd4j.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.nd4j&lt;/groupId&gt; &lt;artifactId&gt;nd4j-cuda-9.2&lt;/artifactId&gt; &lt;version&gt;$&#123;nd4j.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;/dependencyManagement&gt; &lt;dependencies&gt; &lt;!-- ND4J backend. You need one in every DL4J project. Normally define artifactId as either &quot;nd4j-native-platform&quot; or &quot;nd4j-cuda-7.5-platform&quot; --&gt; &lt;dependency&gt; &lt;groupId&gt;org.nd4j&lt;/groupId&gt; &lt;artifactId&gt;$&#123;nd4j.backend&#125;&lt;/artifactId&gt; &lt;version&gt;$&#123;nd4j.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.deeplearning4j&lt;/groupId&gt; &lt;artifactId&gt;deeplearning4j-cuda-9.2&lt;/artifactId&gt; &lt;version&gt;$&#123;dl4j.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- Core DL4J functionality --&gt; &lt;dependency&gt; &lt;groupId&gt;org.deeplearning4j&lt;/groupId&gt; &lt;artifactId&gt;deeplearning4j-core&lt;/artifactId&gt; &lt;version&gt;$&#123;dl4j.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.deeplearning4j&lt;/groupId&gt; &lt;artifactId&gt;deeplearning4j-nlp&lt;/artifactId&gt; &lt;version&gt;$&#123;dl4j.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.deeplearning4j&lt;/groupId&gt; &lt;artifactId&gt;deeplearning4j-zoo&lt;/artifactId&gt; &lt;version&gt;$&#123;dl4j.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- deeplearning4j-ui is used for HistogramIterationListener + visualization: see http://deeplearning4j.org/visualization --&gt; &lt;dependency&gt; &lt;groupId&gt;org.deeplearning4j&lt;/groupId&gt; &lt;artifactId&gt;deeplearning4j-ui_$&#123;scala.binary.version&#125;&lt;/artifactId&gt; &lt;version&gt;$&#123;dl4j.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- Force guava versions for using UI/HistogramIterationListener --&gt; &lt;dependency&gt; &lt;groupId&gt;com.google.guava&lt;/groupId&gt; &lt;artifactId&gt;guava&lt;/artifactId&gt; &lt;version&gt;$&#123;guava.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- datavec-data-codec: used only in video example for loading video data --&gt; &lt;dependency&gt; &lt;artifactId&gt;datavec-data-codec&lt;/artifactId&gt; &lt;groupId&gt;org.datavec&lt;/groupId&gt; &lt;version&gt;$&#123;datavec.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- Used in the feedforward/classification/MLP* and feedforward/regression/RegressionMathFunctions example --&gt; &lt;dependency&gt; &lt;groupId&gt;jfree&lt;/groupId&gt; &lt;artifactId&gt;jfreechart&lt;/artifactId&gt; &lt;version&gt;$&#123;jfreechart.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.jfree&lt;/groupId&gt; &lt;artifactId&gt;jcommon&lt;/artifactId&gt; &lt;version&gt;$&#123;jcommon.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- Used for downloading data in some of the examples --&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt; &lt;artifactId&gt;httpclient&lt;/artifactId&gt; &lt;version&gt;4.3.6&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt; &lt;artifactId&gt;logback-classic&lt;/artifactId&gt; &lt;version&gt;$&#123;logback.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt; &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt; &lt;version&gt;$&#123;exec-maven-plugin.version&#125;&lt;/version&gt; &lt;executions&gt; &lt;execution&gt; &lt;goals&gt; &lt;goal&gt;exec&lt;/goal&gt; &lt;/goals&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;configuration&gt; &lt;executable&gt;java&lt;/executable&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt; &lt;version&gt;$&#123;maven-shade-plugin.version&#125;&lt;/version&gt; &lt;configuration&gt; &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt; &lt;shadedClassifierName&gt;$&#123;shadedClassifier&#125;&lt;/shadedClassifierName&gt; &lt;createDependencyReducedPom&gt;true&lt;/createDependencyReducedPom&gt; &lt;filters&gt; &lt;filter&gt; &lt;artifact&gt;*:*&lt;/artifact&gt; &lt;excludes&gt; &lt;exclude&gt;org/datanucleus/**&lt;/exclude&gt; &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt; &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt; &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt; &lt;/excludes&gt; &lt;/filter&gt; &lt;/filters&gt; &lt;/configuration&gt; &lt;executions&gt; &lt;execution&gt; &lt;phase&gt;package&lt;/phase&gt; &lt;goals&gt; &lt;goal&gt;shade&lt;/goal&gt; &lt;/goals&gt; &lt;configuration&gt; &lt;transformers&gt; &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt; &lt;resource&gt;reference.conf&lt;/resource&gt; &lt;/transformer&gt; &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt; &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt; &lt;/transformer&gt; &lt;/transformers&gt; &lt;/configuration&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;/plugin&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; &lt;version&gt;3.5.1&lt;/version&gt; &lt;configuration&gt; &lt;source&gt;$&#123;java.version&#125;&lt;/source&gt; &lt;target&gt;$&#123;java.version&#125;&lt;/target&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt;","categories":[{"name":"Java","slug":"Java","permalink":"http://www.octber.xyz/categories/Java/"}],"tags":[{"name":"dl4f","slug":"dl4f","permalink":"http://www.octber.xyz/tags/dl4f/"}]},{"title":"2019.9.12æ—¥æŠ¥","slug":"2019-9-12æ—¥æŠ¥","date":"2019-09-12T09:32:45.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/09/12/2019-9-12æ—¥æŠ¥/","link":"","permalink":"http://www.octber.xyz/2019/09/12/2019-9-12%E6%97%A5%E6%8A%A5/","excerpt":"å‰è¨€[TOC]","text":"å‰è¨€[TOC] 1. ä»»åŠ¡ä¸ä»»åŠ¡è¿›åº¦/å·¥æ—¶è¯´æ˜ ä»Šå¤©ä¸»è¦ä»»åŠ¡ä¸ºæµ‹è¯•ï¼Œä¸‹é¢è¯´ä¸€ä¸‹æµ‹è¯•ä¸­å‘ç°çš„é—®é¢˜ï¼Œå·²ç»æäº¤åˆ°æµ‹è¯•å‘ç°é—®é¢˜ä¸€è§ˆä¸­ 1.1 æµ‹è¯•é—®é¢˜ï¼šé“¶è¡Œé—´è”ç³»äºº é—®é¢˜ï¼šé“¶è¡Œé—´è”ç³»äººæ–°å¢ã€è”ç³»ç”µè¯ã€‘æ ¼å¼æ ¡éªŒé—®é¢˜ 1.2 æµ‹è¯•é—®é¢˜ï¼šå¹²ç³»äººä¿¡æ¯ é—®é¢˜ï¼šå¹²ç³»äººä¿¡æ¯ä¿®æ”¹ä¸­ã€è¯„çº§å±•æœ›ã€‘ä¸‹æ‹‰æ¡†é€‰ä¸­åæ˜¾ç¤ºâ€œè¾“å…¥çš„ä¸æ˜¯æ•´æ•°æ ¼å¼â€ 2. å·²è§£å†³çš„é—®é¢˜ æµ‹è¯• 3. æœªè§£å†³çš„é—®é¢˜4. è¿›åº¦å»¶è¿ŸåŸå› è¯´æ˜","categories":[{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"http://www.octber.xyz/categories/%E6%97%A5%E8%AE%B0/"}],"tags":[{"name":"æ—¥æŠ¥","slug":"æ—¥æŠ¥","permalink":"http://www.octber.xyz/tags/%E6%97%A5%E6%8A%A5/"}]},{"title":"JVMç³»åˆ—(å):ç±»åŠ è½½å™¨","slug":"JVMç³»åˆ—-å-ç±»åŠ è½½å™¨","date":"2019-09-12T02:05:41.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/09/12/JVMç³»åˆ—-å-ç±»åŠ è½½å™¨/","link":"","permalink":"http://www.octber.xyz/2019/09/12/JVM%E7%B3%BB%E5%88%97-%E5%8D%81-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8/","excerpt":"å‰è¨€","text":"å‰è¨€","categories":[{"name":"JVM","slug":"JVM","permalink":"http://www.octber.xyz/categories/JVM/"}],"tags":[{"name":"JVM","slug":"JVM","permalink":"http://www.octber.xyz/tags/JVM/"}]},{"title":"JVMç³»åˆ—(ä¹):ç±»åŠ è½½çš„è¿‡ç¨‹","slug":"JVMç³»åˆ—-ä¹-ç±»åŠ è½½çš„è¿‡ç¨‹","date":"2019-09-12T02:04:55.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/09/12/JVMç³»åˆ—-ä¹-ç±»åŠ è½½çš„è¿‡ç¨‹/","link":"","permalink":"http://www.octber.xyz/2019/09/12/JVM%E7%B3%BB%E5%88%97-%E4%B9%9D-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E7%9A%84%E8%BF%87%E7%A8%8B/","excerpt":"å‰è¨€","text":"å‰è¨€","categories":[{"name":"JVM","slug":"JVM","permalink":"http://www.octber.xyz/categories/JVM/"}],"tags":[{"name":"JVM","slug":"JVM","permalink":"http://www.octber.xyz/tags/JVM/"}]},{"title":"JVMç³»åˆ—(å…«):ç±»åŠ è½½çš„æ—¶æœº","slug":"JVMç³»åˆ—-å…«-ç±»åŠ è½½çš„æ—¶æœº","date":"2019-09-12T02:04:05.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/09/12/JVMç³»åˆ—-å…«-ç±»åŠ è½½çš„æ—¶æœº/","link":"","permalink":"http://www.octber.xyz/2019/09/12/JVM%E7%B3%BB%E5%88%97-%E5%85%AB-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E7%9A%84%E6%97%B6%E6%9C%BA/","excerpt":"å‰è¨€","text":"å‰è¨€","categories":[{"name":"JVM","slug":"JVM","permalink":"http://www.octber.xyz/categories/JVM/"}],"tags":[{"name":"JVM","slug":"JVM","permalink":"http://www.octber.xyz/tags/JVM/"}]},{"title":"JVMç³»åˆ—(ä¸ƒ):ç±»æ–‡ä»¶ç»“æ„","slug":"JVMç³»åˆ—-ä¸ƒ-ç±»æ–‡ä»¶ç»“æ„","date":"2019-09-12T02:03:15.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/09/12/JVMç³»åˆ—-ä¸ƒ-ç±»æ–‡ä»¶ç»“æ„/","link":"","permalink":"http://www.octber.xyz/2019/09/12/JVM%E7%B3%BB%E5%88%97-%E4%B8%83-%E7%B1%BB%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84/","excerpt":"å‰è¨€","text":"å‰è¨€","categories":[{"name":"JVM","slug":"JVM","permalink":"http://www.octber.xyz/categories/JVM/"}],"tags":[{"name":"JVM","slug":"JVM","permalink":"http://www.octber.xyz/tags/JVM/"}]},{"title":"JVMç³»åˆ—(å…­):JVMæ€§èƒ½è°ƒä¼˜","slug":"JVMç³»åˆ—-å…­-JVMæ€§èƒ½è°ƒä¼˜","date":"2019-09-12T02:02:43.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/09/12/JVMç³»åˆ—-å…­-JVMæ€§èƒ½è°ƒä¼˜/","link":"","permalink":"http://www.octber.xyz/2019/09/12/JVM%E7%B3%BB%E5%88%97-%E5%85%AD-JVM%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/","excerpt":"å‰è¨€","text":"å‰è¨€","categories":[{"name":"JVM","slug":"JVM","permalink":"http://www.octber.xyz/categories/JVM/"}],"tags":[{"name":"JVM","slug":"JVM","permalink":"http://www.octber.xyz/tags/JVM/"}]},{"title":"JVMç³»åˆ—(äº”):å†…å­˜åˆ†é…ä¸å›æ”¶ç­–ç•¥","slug":"JVMç³»åˆ—-äº”-å†…å­˜åˆ†é…ä¸å›æ”¶ç­–ç•¥","date":"2019-09-12T02:02:06.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/09/12/JVMç³»åˆ—-äº”-å†…å­˜åˆ†é…ä¸å›æ”¶ç­–ç•¥/","link":"","permalink":"http://www.octber.xyz/2019/09/12/JVM%E7%B3%BB%E5%88%97-%E4%BA%94-%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D%E4%B8%8E%E5%9B%9E%E6%94%B6%E7%AD%96%E7%95%A5/","excerpt":"å‰è¨€","text":"å‰è¨€","categories":[{"name":"JVM","slug":"JVM","permalink":"http://www.octber.xyz/categories/JVM/"}],"tags":[{"name":"JVM","slug":"JVM","permalink":"http://www.octber.xyz/tags/JVM/"}]},{"title":"JVMç³»åˆ—(å››):HotSpotåƒåœ¾å›æ”¶å™¨","slug":"JVMç³»åˆ—-å››-HotSpotåƒåœ¾å›æ”¶å™¨","date":"2019-09-12T02:01:13.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/09/12/JVMç³»åˆ—-å››-HotSpotåƒåœ¾å›æ”¶å™¨/","link":"","permalink":"http://www.octber.xyz/2019/09/12/JVM%E7%B3%BB%E5%88%97-%E5%9B%9B-HotSpot%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E5%99%A8/","excerpt":"å‰è¨€","text":"å‰è¨€","categories":[{"name":"JVM","slug":"JVM","permalink":"http://www.octber.xyz/categories/JVM/"}],"tags":[{"name":"JVM","slug":"JVM","permalink":"http://www.octber.xyz/tags/JVM/"}]},{"title":"JVMç³»åˆ—(ä¸‰):åƒåœ¾æ”¶é›†ç­–ç•¥ä¸ç®—æ³•","slug":"JVMç³»åˆ—-ä¸‰-åƒåœ¾æ”¶é›†ç­–ç•¥ä¸ç®—æ³•","date":"2019-09-12T02:00:52.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/09/12/JVMç³»åˆ—-ä¸‰-åƒåœ¾æ”¶é›†ç­–ç•¥ä¸ç®—æ³•/","link":"","permalink":"http://www.octber.xyz/2019/09/12/JVM%E7%B3%BB%E5%88%97-%E4%B8%89-%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E7%AD%96%E7%95%A5%E4%B8%8E%E7%AE%97%E6%B3%95/","excerpt":"å‰è¨€åƒåœ¾æ”¶é›†ç­–ç•¥ä¸ç®—æ³•ç¨‹åºè®¡æ•°å™¨ã€è™šæ‹Ÿæœºæ ˆã€æœ¬åœ°æ–¹æ³•æ ˆéšçº¿ç¨‹è€Œç”Ÿï¼Œä¹Ÿéšçº¿ç¨‹è€Œç­ï¼›æ ˆå¸§éšç€æ–¹æ³•çš„å¼€å§‹è€Œå…¥æ ˆï¼Œéšç€æ–¹æ³•çš„ç»“æŸè€Œå‡ºæ ˆã€‚è¿™å‡ ä¸ªåŒºåŸŸçš„å†…å­˜åˆ†é…å’Œå›æ”¶éƒ½å…·æœ‰ç¡®å®šæ€§ï¼Œåœ¨è¿™å‡ ä¸ªåŒºåŸŸå†…ä¸éœ€è¦è¿‡å¤šè€ƒè™‘å›æ”¶çš„é—®é¢˜ï¼Œå› ä¸ºæ–¹æ³•ç»“æŸæˆ–è€…çº¿ç¨‹ç»“æŸæ—¶ï¼Œå†…å­˜è‡ªç„¶å°±è·Ÿéšç€å›æ”¶äº†ã€‚ è€Œå¯¹äº Java å †å’Œæ–¹æ³•åŒºï¼Œæˆ‘ä»¬åªæœ‰åœ¨ç¨‹åºè¿è¡ŒæœŸé—´æ‰èƒ½çŸ¥é“ä¼šåˆ›å»ºå“ªäº›å¯¹è±¡ï¼Œè¿™éƒ¨åˆ†å†…å­˜çš„åˆ†é…å’Œå›æ”¶éƒ½æ˜¯åŠ¨æ€çš„ï¼Œåƒåœ¾æ”¶é›†å™¨æ‰€å…³æ³¨çš„æ­£æ˜¯è¿™éƒ¨åˆ†å†…å­˜ã€‚","text":"å‰è¨€åƒåœ¾æ”¶é›†ç­–ç•¥ä¸ç®—æ³•ç¨‹åºè®¡æ•°å™¨ã€è™šæ‹Ÿæœºæ ˆã€æœ¬åœ°æ–¹æ³•æ ˆéšçº¿ç¨‹è€Œç”Ÿï¼Œä¹Ÿéšçº¿ç¨‹è€Œç­ï¼›æ ˆå¸§éšç€æ–¹æ³•çš„å¼€å§‹è€Œå…¥æ ˆï¼Œéšç€æ–¹æ³•çš„ç»“æŸè€Œå‡ºæ ˆã€‚è¿™å‡ ä¸ªåŒºåŸŸçš„å†…å­˜åˆ†é…å’Œå›æ”¶éƒ½å…·æœ‰ç¡®å®šæ€§ï¼Œåœ¨è¿™å‡ ä¸ªåŒºåŸŸå†…ä¸éœ€è¦è¿‡å¤šè€ƒè™‘å›æ”¶çš„é—®é¢˜ï¼Œå› ä¸ºæ–¹æ³•ç»“æŸæˆ–è€…çº¿ç¨‹ç»“æŸæ—¶ï¼Œå†…å­˜è‡ªç„¶å°±è·Ÿéšç€å›æ”¶äº†ã€‚ è€Œå¯¹äº Java å †å’Œæ–¹æ³•åŒºï¼Œæˆ‘ä»¬åªæœ‰åœ¨ç¨‹åºè¿è¡ŒæœŸé—´æ‰èƒ½çŸ¥é“ä¼šåˆ›å»ºå“ªäº›å¯¹è±¡ï¼Œè¿™éƒ¨åˆ†å†…å­˜çš„åˆ†é…å’Œå›æ”¶éƒ½æ˜¯åŠ¨æ€çš„ï¼Œåƒåœ¾æ”¶é›†å™¨æ‰€å…³æ³¨çš„æ­£æ˜¯è¿™éƒ¨åˆ†å†…å­˜ã€‚ åˆ¤å®šå¯¹è±¡æ˜¯å¦å­˜æ´»è‹¥ä¸€ä¸ªå¯¹è±¡ä¸è¢«ä»»ä½•å¯¹è±¡æˆ–å˜é‡å¼•ç”¨ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯æ— æ•ˆå¯¹è±¡ï¼Œéœ€è¦è¢«å›æ”¶ã€‚ å¼•ç”¨è®¡æ•°æ³•åœ¨å¯¹è±¡å¤´ç»´æŠ¤ç€ä¸€ä¸ª counter è®¡æ•°å™¨ï¼Œå¯¹è±¡è¢«å¼•ç”¨ä¸€æ¬¡åˆ™è®¡æ•°å™¨ +1ï¼›è‹¥å¼•ç”¨å¤±æ•ˆåˆ™è®¡æ•°å™¨ -1ã€‚å½“è®¡æ•°å™¨ä¸º 0 æ—¶ï¼Œå°±è®¤ä¸ºè¯¥å¯¹è±¡æ— æ•ˆäº†ã€‚ å¼•ç”¨è®¡æ•°ç®—æ³•çš„å®ç°ç®€å•ï¼Œåˆ¤å®šæ•ˆç‡ä¹Ÿå¾ˆé«˜ï¼Œåœ¨å¤§éƒ¨åˆ†æƒ…å†µä¸‹å®ƒéƒ½æ˜¯ä¸€ä¸ªä¸é”™çš„ç®—æ³•ã€‚ä½†æ˜¯ä¸»æµçš„ Java è™šæ‹Ÿæœºé‡Œæ²¡æœ‰é€‰ç”¨å¼•ç”¨è®¡æ•°ç®—æ³•æ¥ç®¡ç†å†…å­˜ï¼Œä¸»è¦æ˜¯å› ä¸ºå®ƒå¾ˆéš¾è§£å†³å¯¹è±¡ä¹‹é—´å¾ªç¯å¼•ç”¨çš„é—®é¢˜ã€‚ ä¸¾ä¸ªæ —å­ğŸ‘‰å¯¹è±¡ objA å’Œ objB éƒ½æœ‰å­—æ®µ instanceï¼Œä»¤ objA.instance = objB å¹¶ä¸” objB.instance = objAï¼Œç”±äºå®ƒä»¬äº’ç›¸å¼•ç”¨ç€å¯¹æ–¹ï¼Œå¯¼è‡´å®ƒä»¬çš„å¼•ç”¨è®¡æ•°éƒ½ä¸ä¸º 0ï¼Œäºæ˜¯å¼•ç”¨è®¡æ•°ç®—æ³•æ— æ³•é€šçŸ¥ GC æ”¶é›†å™¨å›æ”¶å®ƒä»¬ã€‚ å¯è¾¾æ€§åˆ†ææ³•æ‰€æœ‰å’Œ GC Roots ç›´æ¥æˆ–é—´æ¥å…³è”çš„å¯¹è±¡éƒ½æ˜¯æœ‰æ•ˆå¯¹è±¡ï¼Œå’Œ GC Roots æ²¡æœ‰å…³è”çš„å¯¹è±¡å°±æ˜¯æ— æ•ˆå¯¹è±¡ã€‚ GC Roots æ˜¯æŒ‡ï¼š Java è™šæ‹Ÿæœºæ ˆï¼ˆæ ˆå¸§ä¸­çš„æœ¬åœ°å˜é‡è¡¨ï¼‰ä¸­å¼•ç”¨çš„å¯¹è±¡ æœ¬åœ°æ–¹æ³•æ ˆä¸­å¼•ç”¨çš„å¯¹è±¡ æ–¹æ³•åŒºä¸­å¸¸é‡å¼•ç”¨çš„å¯¹è±¡ æ–¹æ³•åŒºä¸­ç±»é™æ€å±æ€§å¼•ç”¨çš„å¯¹è±¡ GC Roots å¹¶ä¸åŒ…æ‹¬å †ä¸­å¯¹è±¡æ‰€å¼•ç”¨çš„å¯¹è±¡ï¼Œè¿™æ ·å°±ä¸ä¼šæœ‰å¾ªç¯å¼•ç”¨çš„é—®é¢˜ã€‚ å¼•ç”¨çš„ç§ç±»åˆ¤å®šå¯¹è±¡æ˜¯å¦å­˜æ´»ä¸â€œå¼•ç”¨â€æœ‰å…³ã€‚åœ¨ JDK 1.2 ä»¥å‰ï¼ŒJava ä¸­çš„å¼•ç”¨å®šä¹‰å¾ˆä¼ ç»Ÿï¼Œä¸€ä¸ªå¯¹è±¡åªæœ‰è¢«å¼•ç”¨æˆ–è€…æ²¡æœ‰è¢«å¼•ç”¨ä¸¤ç§çŠ¶æ€ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½æè¿°è¿™ä¸€ç±»å¯¹è±¡ï¼šå½“å†…å­˜ç©ºé—´è¿˜è¶³å¤Ÿæ—¶ï¼Œåˆ™ä¿ç•™åœ¨å†…å­˜ä¸­ï¼›å¦‚æœå†…å­˜ç©ºé—´åœ¨è¿›è¡Œåƒåœ¾æ‰‹æ”¶é›†åè¿˜æ˜¯éå¸¸ç´§å¼ ï¼Œåˆ™å¯ä»¥æŠ›å¼ƒè¿™äº›å¯¹è±¡ã€‚å¾ˆå¤šç³»ç»Ÿçš„ç¼“å­˜åŠŸèƒ½éƒ½ç¬¦åˆè¿™æ ·çš„åº”ç”¨åœºæ™¯ã€‚ åœ¨ JDK 1.2 ä¹‹åï¼ŒJava å¯¹å¼•ç”¨çš„æ¦‚å¿µè¿›è¡Œäº†æ‰©å……ï¼Œå°†å¼•ç”¨åˆ†ä¸ºäº†ä»¥ä¸‹å››ç§ã€‚ä¸åŒçš„å¼•ç”¨ç±»å‹ï¼Œä¸»è¦ä½“ç°çš„æ˜¯å¯¹è±¡ä¸åŒçš„å¯è¾¾æ€§çŠ¶æ€reachableå’Œåƒåœ¾æ”¶é›†çš„å½±å“ã€‚ å¼ºå¼•ç”¨ï¼ˆStrong Referenceï¼‰ç±»ä¼¼ â€œObject obj = new Object()â€ è¿™ç±»çš„å¼•ç”¨ï¼Œå°±æ˜¯å¼ºå¼•ç”¨ï¼Œåªè¦å¼ºå¼•ç”¨å­˜åœ¨ï¼Œåƒåœ¾æ”¶é›†å™¨æ°¸è¿œä¸ä¼šå›æ”¶è¢«å¼•ç”¨çš„å¯¹è±¡ã€‚ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬é”™è¯¯åœ°ä¿æŒäº†å¼ºå¼•ç”¨ï¼Œæ¯”å¦‚ï¼šèµ‹å€¼ç»™äº† static å˜é‡ï¼Œé‚£ä¹ˆå¯¹è±¡åœ¨å¾ˆé•¿ä¸€æ®µæ—¶é—´å†…ä¸ä¼šè¢«å›æ”¶ï¼Œä¼šäº§ç”Ÿå†…å­˜æ³„æ¼ã€‚ è½¯å¼•ç”¨ï¼ˆSoft Referenceï¼‰è½¯å¼•ç”¨æ˜¯ä¸€ç§ç›¸å¯¹å¼ºå¼•ç”¨å¼±åŒ–ä¸€äº›çš„å¼•ç”¨ï¼Œå¯ä»¥è®©å¯¹è±¡è±å…ä¸€äº›åƒåœ¾æ”¶é›†ï¼Œåªæœ‰å½“ JVM è®¤ä¸ºå†…å­˜ä¸è¶³æ—¶ï¼Œæ‰ä¼šå»è¯•å›¾å›æ”¶è½¯å¼•ç”¨æŒ‡å‘çš„å¯¹è±¡ã€‚JVM ä¼šç¡®ä¿åœ¨æŠ›å‡º OutOfMemoryError ä¹‹å‰ï¼Œæ¸…ç†è½¯å¼•ç”¨æŒ‡å‘çš„å¯¹è±¡ã€‚è½¯å¼•ç”¨é€šå¸¸ç”¨æ¥å®ç°å†…å­˜æ•æ„Ÿçš„ç¼“å­˜ï¼Œå¦‚æœè¿˜æœ‰ç©ºé—²å†…å­˜ï¼Œå°±å¯ä»¥æš‚æ—¶ä¿ç•™ç¼“å­˜ï¼Œå½“å†…å­˜ä¸è¶³æ—¶æ¸…ç†æ‰ï¼Œè¿™æ ·å°±ä¿è¯äº†ä½¿ç”¨ç¼“å­˜çš„åŒæ—¶ï¼Œä¸ä¼šè€—å°½å†…å­˜ã€‚ å¼±å¼•ç”¨ï¼ˆWeak Referenceï¼‰å¼±å¼•ç”¨çš„å¼ºåº¦æ¯”è½¯å¼•ç”¨æ›´å¼±ä¸€äº›ã€‚å½“ JVM è¿›è¡Œåƒåœ¾å›æ”¶æ—¶ï¼Œæ— è®ºå†…å­˜æ˜¯å¦å……è¶³ï¼Œéƒ½ä¼šå›æ”¶åªè¢«å¼±å¼•ç”¨å…³è”çš„å¯¹è±¡ã€‚ è™šå¼•ç”¨ï¼ˆPhantom Referenceï¼‰è™šå¼•ç”¨ä¹Ÿç§°å¹½çµå¼•ç”¨æˆ–è€…å¹»å½±å¼•ç”¨ï¼Œå®ƒæ˜¯æœ€å¼±çš„ä¸€ç§å¼•ç”¨å…³ç³»ã€‚ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æœ‰è™šå¼•ç”¨çš„å­˜åœ¨ï¼Œå®Œå…¨ä¸ä¼šå¯¹å…¶ç”Ÿå­˜æ—¶é—´æ„æˆå½±å“ã€‚å®ƒä»…ä»…æ˜¯æä¾›äº†ä¸€ç§ç¡®ä¿å¯¹è±¡è¢« finalize ä»¥åï¼ŒåšæŸäº›äº‹æƒ…çš„æœºåˆ¶ï¼Œæ¯”å¦‚ï¼Œé€šå¸¸ç”¨æ¥åšæ‰€è°“çš„ Post-Mortem æ¸…ç†æœºåˆ¶ã€‚ å›æ”¶å †ä¸­æ— æ•ˆå¯¹è±¡å¯¹äºå¯è¾¾æ€§åˆ†æä¸­ä¸å¯è¾¾çš„å¯¹è±¡ï¼Œä¹Ÿå¹¶ä¸æ˜¯æ²¡æœ‰å­˜æ´»çš„å¯èƒ½ã€‚ åˆ¤å®š finalize() æ˜¯å¦æœ‰å¿…è¦æ‰§è¡ŒJVM ä¼šåˆ¤æ–­æ­¤å¯¹è±¡æ˜¯å¦æœ‰å¿…è¦æ‰§è¡Œ finalize() æ–¹æ³•ï¼Œå¦‚æœå¯¹è±¡æ²¡æœ‰è¦†ç›– finalize() æ–¹æ³•ï¼Œæˆ–è€… finalize() æ–¹æ³•å·²ç»è¢«è™šæ‹Ÿæœºè°ƒç”¨è¿‡ï¼Œé‚£ä¹ˆè§†ä¸ºâ€œæ²¡æœ‰å¿…è¦æ‰§è¡Œâ€ã€‚é‚£ä¹ˆå¯¹è±¡åŸºæœ¬ä¸Šå°±çœŸçš„è¢«å›æ”¶äº†ã€‚ å¦‚æœå¯¹è±¡è¢«åˆ¤å®šä¸ºæœ‰å¿…è¦æ‰§è¡Œ finalize() æ–¹æ³•ï¼Œé‚£ä¹ˆå¯¹è±¡ä¼šè¢«æ”¾å…¥ä¸€ä¸ª F-Queue é˜Ÿåˆ—ä¸­ï¼Œè™šæ‹Ÿæœºä¼šä»¥è¾ƒä½çš„ä¼˜å…ˆçº§æ‰§è¡Œè¿™äº› finalize()æ–¹æ³•ï¼Œä½†ä¸ä¼šç¡®ä¿æ‰€æœ‰çš„ finalize() æ–¹æ³•éƒ½ä¼šæ‰§è¡Œç»“æŸã€‚å¦‚æœ finalize() æ–¹æ³•å‡ºç°è€—æ—¶æ“ä½œï¼Œè™šæ‹Ÿæœºå°±ç›´æ¥åœæ­¢æŒ‡å‘è¯¥æ–¹æ³•ï¼Œå°†å¯¹è±¡æ¸…é™¤ã€‚ å¯¹è±¡é‡ç”Ÿæˆ–æ­»äº¡å¦‚æœåœ¨æ‰§è¡Œ finalize() æ–¹æ³•æ—¶ï¼Œå°† this èµ‹ç»™äº†æŸä¸€ä¸ªå¼•ç”¨ï¼Œé‚£ä¹ˆè¯¥å¯¹è±¡å°±é‡ç”Ÿäº†ã€‚å¦‚æœæ²¡æœ‰ï¼Œé‚£ä¹ˆå°±ä¼šè¢«åƒåœ¾æ”¶é›†å™¨æ¸…é™¤ã€‚ ä»»ä½•ä¸€ä¸ªå¯¹è±¡çš„ finalize() æ–¹æ³•åªä¼šè¢«ç³»ç»Ÿè‡ªåŠ¨è°ƒç”¨ä¸€æ¬¡ï¼Œå¦‚æœå¯¹è±¡é¢ä¸´ä¸‹ä¸€æ¬¡å›æ”¶ï¼Œå®ƒçš„ finalize() æ–¹æ³•ä¸ä¼šè¢«å†æ¬¡æ‰§è¡Œï¼Œæƒ³ç»§ç»­åœ¨ finalize() ä¸­è‡ªæ•‘å°±å¤±æ•ˆäº†ã€‚ å›æ”¶æ–¹æ³•åŒºå†…å­˜æ–¹æ³•åŒºä¸­å­˜æ”¾ç”Ÿå‘½å‘¨æœŸè¾ƒé•¿çš„ç±»ä¿¡æ¯ã€å¸¸é‡ã€é™æ€å˜é‡ï¼Œæ¯æ¬¡åƒåœ¾æ”¶é›†åªæœ‰å°‘é‡çš„åƒåœ¾è¢«æ¸…é™¤ã€‚æ–¹æ³•åŒºä¸­ä¸»è¦æ¸…é™¤ä¸¤ç§åƒåœ¾ï¼š åºŸå¼ƒå¸¸é‡ æ— ç”¨çš„ç±» åˆ¤å®šåºŸå¼ƒå¸¸é‡åªè¦å¸¸é‡æ± ä¸­çš„å¸¸é‡ä¸è¢«ä»»ä½•å˜é‡æˆ–å¯¹è±¡å¼•ç”¨ï¼Œé‚£ä¹ˆè¿™äº›å¸¸é‡å°±ä¼šè¢«æ¸…é™¤æ‰ã€‚æ¯”å¦‚ï¼Œä¸€ä¸ªå­—ç¬¦ä¸² â€œbingoâ€ è¿›å…¥äº†å¸¸é‡æ± ï¼Œä½†æ˜¯å½“å‰ç³»ç»Ÿæ²¡æœ‰ä»»ä½•ä¸€ä¸ª String å¯¹è±¡å¼•ç”¨å¸¸é‡æ± ä¸­çš„ â€œbingoâ€ å¸¸é‡ï¼Œä¹Ÿæ²¡æœ‰å…¶å®ƒåœ°æ–¹å¼•ç”¨è¿™ä¸ªå­—é¢é‡ï¼Œå¿…è¦çš„è¯ï¼Œâ€bingoâ€å¸¸é‡ä¼šè¢«æ¸…ç†å‡ºå¸¸é‡æ± ã€‚ åˆ¤å®šæ— ç”¨çš„ç±»åˆ¤å®šä¸€ä¸ªç±»æ˜¯å¦æ˜¯â€œæ— ç”¨çš„ç±»â€ï¼Œæ¡ä»¶è¾ƒä¸ºè‹›åˆ»ã€‚ è¯¥ç±»çš„æ‰€æœ‰å¯¹è±¡éƒ½å·²ç»è¢«æ¸…é™¤ åŠ è½½è¯¥ç±»çš„ ClassLoader å·²ç»è¢«å›æ”¶ è¯¥ç±»çš„ java.lang.Class å¯¹è±¡æ²¡æœ‰åœ¨ä»»ä½•åœ°æ–¹è¢«å¼•ç”¨ï¼Œæ— æ³•åœ¨ä»»ä½•åœ°æ–¹é€šè¿‡åå°„è®¿é—®è¯¥ç±»çš„æ–¹æ³•ã€‚ ä¸€ä¸ªç±»è¢«è™šæ‹ŸæœºåŠ è½½è¿›æ–¹æ³•åŒºï¼Œé‚£ä¹ˆåœ¨å †ä¸­å°±ä¼šæœ‰ä¸€ä¸ªä»£è¡¨è¯¥ç±»çš„å¯¹è±¡ï¼šjava.lang.Classã€‚è¿™ä¸ªå¯¹è±¡åœ¨ç±»è¢«åŠ è½½è¿›æ–¹æ³•åŒºæ—¶åˆ›å»ºï¼Œåœ¨æ–¹æ³•åŒºè¯¥ç±»è¢«åˆ é™¤æ—¶æ¸…é™¤ã€‚ åƒåœ¾æ”¶é›†ç®—æ³•å­¦ä¼šäº†å¦‚ä½•åˆ¤å®šæ— æ•ˆå¯¹è±¡ã€æ— ç”¨ç±»ã€åºŸå¼ƒå¸¸é‡ä¹‹åï¼Œå‰©ä½™å·¥ä½œå°±æ˜¯å›æ”¶è¿™äº›åƒåœ¾ã€‚å¸¸è§çš„åƒåœ¾æ”¶é›†ç®—æ³•æœ‰ä»¥ä¸‹å‡ ä¸ªï¼š æ ‡è®°-æ¸…é™¤ç®—æ³•æ ‡è®°çš„è¿‡ç¨‹æ˜¯ï¼šéå†æ‰€æœ‰çš„ GC Rootsï¼Œç„¶åå°†æ‰€æœ‰ GC Roots å¯è¾¾çš„å¯¹è±¡æ ‡è®°ä¸ºå­˜æ´»çš„å¯¹è±¡ã€‚ æ¸…é™¤çš„è¿‡ç¨‹å°†éå†å †ä¸­æ‰€æœ‰çš„å¯¹è±¡ï¼Œå°†æ²¡æœ‰æ ‡è®°çš„å¯¹è±¡å…¨éƒ¨æ¸…é™¤æ‰ã€‚ä¸æ­¤åŒæ—¶ï¼Œæ¸…é™¤é‚£äº›è¢«æ ‡è®°è¿‡çš„å¯¹è±¡çš„æ ‡è®°ï¼Œä»¥ä¾¿ä¸‹æ¬¡çš„åƒåœ¾å›æ”¶ã€‚ è¿™ç§æ–¹æ³•æœ‰ä¸¤ä¸ªä¸è¶³ï¼š æ•ˆç‡é—®é¢˜ï¼šæ ‡è®°å’Œæ¸…é™¤ä¸¤ä¸ªè¿‡ç¨‹çš„æ•ˆç‡éƒ½ä¸é«˜ã€‚ ç©ºé—´é—®é¢˜ï¼šæ ‡è®°æ¸…é™¤ä¹‹åä¼šäº§ç”Ÿå¤§é‡ä¸è¿ç»­çš„å†…å­˜ç¢ç‰‡ï¼Œç¢ç‰‡å¤ªå¤šå¯èƒ½å¯¼è‡´ä»¥åéœ€è¦åˆ†é…è¾ƒå¤§å¯¹è±¡æ—¶ï¼Œæ— æ³•æ‰¾åˆ°è¶³å¤Ÿçš„è¿ç»­å†…å­˜è€Œä¸å¾—ä¸æå‰è§¦å‘å¦ä¸€æ¬¡åƒåœ¾æ”¶é›†åŠ¨ä½œã€‚ å¤åˆ¶ç®—æ³•ï¼ˆæ–°ç”Ÿä»£ï¼‰ä¸ºäº†è§£å†³æ•ˆç‡é—®é¢˜ï¼Œâ€œå¤åˆ¶â€æ”¶é›†ç®—æ³•å‡ºç°äº†ã€‚å®ƒå°†å¯ç”¨å†…å­˜æŒ‰å®¹é‡åˆ’åˆ†ä¸ºå¤§å°ç›¸ç­‰çš„ä¸¤å—ï¼Œæ¯æ¬¡åªä½¿ç”¨å…¶ä¸­çš„ä¸€å—ã€‚å½“è¿™ä¸€å—å†…å­˜ç”¨å®Œï¼Œéœ€è¦è¿›è¡Œåƒåœ¾æ”¶é›†æ—¶ï¼Œå°±å°†å­˜æ´»è€…çš„å¯¹è±¡å¤åˆ¶åˆ°å¦ä¸€å—ä¸Šé¢ï¼Œç„¶åå°†ç¬¬ä¸€å—å†…å­˜å…¨éƒ¨æ¸…é™¤ã€‚è¿™ç§ç®—æ³•æœ‰ä¼˜æœ‰åŠ£ï¼š ä¼˜ç‚¹ï¼šä¸ä¼šæœ‰å†…å­˜ç¢ç‰‡çš„é—®é¢˜ã€‚ ç¼ºç‚¹ï¼šå†…å­˜ç¼©å°ä¸ºåŸæ¥çš„ä¸€åŠï¼Œæµªè´¹ç©ºé—´ã€‚ ä¸ºäº†è§£å†³ç©ºé—´åˆ©ç”¨ç‡é—®é¢˜ï¼Œå¯ä»¥å°†å†…å­˜åˆ†ä¸ºä¸‰å—ï¼š Edenã€From Survivorã€To Survivorï¼Œæ¯”ä¾‹æ˜¯ 8:1:1ï¼Œæ¯æ¬¡ä½¿ç”¨ Eden å’Œå…¶ä¸­ä¸€å— Survivorã€‚å›æ”¶æ—¶ï¼Œå°† Eden å’Œ Survivor ä¸­è¿˜å­˜æ´»çš„å¯¹è±¡ä¸€æ¬¡æ€§å¤åˆ¶åˆ°å¦å¤–ä¸€å— Survivor ç©ºé—´ä¸Šï¼Œæœ€åæ¸…ç†æ‰ Eden å’Œåˆšæ‰ä½¿ç”¨çš„ Survivor ç©ºé—´ã€‚è¿™æ ·åªæœ‰ 10% çš„å†…å­˜è¢«æµªè´¹ã€‚ ä½†æ˜¯æˆ‘ä»¬æ— æ³•ä¿è¯æ¯æ¬¡å›æ”¶éƒ½åªæœ‰ä¸å¤šäº 10% çš„å¯¹è±¡å­˜æ´»ï¼Œå½“ Survivor ç©ºé—´ä¸å¤Ÿï¼Œéœ€è¦ä¾èµ–å…¶ä»–å†…å­˜ï¼ˆæŒ‡è€å¹´ä»£ï¼‰è¿›è¡Œåˆ†é…æ‹…ä¿ã€‚ åˆ†é…æ‹…ä¿ä¸ºå¯¹è±¡åˆ†é…å†…å­˜ç©ºé—´æ—¶ï¼Œå¦‚æœ Eden+Survivor ä¸­ç©ºé—²åŒºåŸŸæ— æ³•è£…ä¸‹è¯¥å¯¹è±¡ï¼Œä¼šè§¦å‘ MinorGC è¿›è¡Œåƒåœ¾æ”¶é›†ã€‚ä½†å¦‚æœ Minor GC è¿‡åä¾ç„¶æœ‰è¶…è¿‡ 10% çš„å¯¹è±¡å­˜æ´»ï¼Œè¿™æ ·å­˜æ´»çš„å¯¹è±¡ç›´æ¥é€šè¿‡åˆ†é…æ‹…ä¿æœºåˆ¶è¿›å…¥è€å¹´ä»£ï¼Œç„¶åå†å°†æ–°å¯¹è±¡å­˜å…¥ Eden åŒºã€‚ æ ‡è®°-æ•´ç†ç®—æ³•ï¼ˆè€å¹´ä»£ï¼‰æ ‡è®°ï¼šå®ƒçš„ç¬¬ä¸€ä¸ªé˜¶æ®µä¸æ ‡è®°/æ¸…é™¤ç®—æ³•æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ï¼Œå‡æ˜¯éå† GC Rootsï¼Œç„¶åå°†å­˜æ´»çš„å¯¹è±¡æ ‡è®°ã€‚ æ•´ç†ï¼šç§»åŠ¨æ‰€æœ‰å­˜æ´»çš„å¯¹è±¡ï¼Œä¸”æŒ‰ç…§å†…å­˜åœ°å€æ¬¡åºä¾æ¬¡æ’åˆ—ï¼Œç„¶åå°†æœ«ç«¯å†…å­˜åœ°å€ä»¥åçš„å†…å­˜å…¨éƒ¨å›æ”¶ã€‚å› æ­¤ï¼Œç¬¬äºŒé˜¶æ®µæ‰ç§°ä¸ºæ•´ç†é˜¶æ®µã€‚ è¿™æ˜¯ä¸€ç§è€å¹´ä»£çš„åƒåœ¾æ”¶é›†ç®—æ³•ã€‚è€å¹´ä»£çš„å¯¹è±¡ä¸€èˆ¬å¯¿å‘½æ¯”è¾ƒé•¿ï¼Œå› æ­¤æ¯æ¬¡åƒåœ¾å›æ”¶ä¼šæœ‰å¤§é‡å¯¹è±¡å­˜æ´»ï¼Œå¦‚æœé‡‡ç”¨å¤åˆ¶ç®—æ³•ï¼Œæ¯æ¬¡éœ€è¦å¤åˆ¶å¤§é‡å­˜æ´»çš„å¯¹è±¡ï¼Œæ•ˆç‡å¾ˆä½ã€‚ åˆ†ä»£æ”¶é›†ç®—æ³•æ ¹æ®å¯¹è±¡å­˜æ´»å‘¨æœŸçš„ä¸åŒï¼Œå°†å†…å­˜åˆ’åˆ†ä¸ºå‡ å—ã€‚ä¸€èˆ¬æ˜¯æŠŠ Java å †åˆ†ä¸ºæ–°ç”Ÿä»£å’Œè€å¹´ä»£ï¼Œé’ˆå¯¹å„ä¸ªå¹´ä»£çš„ç‰¹ç‚¹é‡‡ç”¨æœ€é€‚å½“çš„æ”¶é›†ç®—æ³•ã€‚ æ–°ç”Ÿä»£ï¼šå¤åˆ¶ç®—æ³• è€å¹´ä»£ï¼šæ ‡è®°-æ¸…é™¤ç®—æ³•ã€æ ‡è®°-æ•´ç†ç®—æ³• ï¼ˆå®Œï¼‰","categories":[{"name":"JVM","slug":"JVM","permalink":"http://www.octber.xyz/categories/JVM/"}],"tags":[{"name":"JVM","slug":"JVM","permalink":"http://www.octber.xyz/tags/JVM/"}]},{"title":"JVMç³»åˆ—(äºŒ):HotSpotè™šæ‹Ÿæœºå¯¹è±¡","slug":"JVMç³»åˆ—-äºŒ-HotSpotè™šæ‹Ÿæœºå¯¹è±¡","date":"2019-09-12T02:00:29.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/09/12/JVMç³»åˆ—-äºŒ-HotSpotè™šæ‹Ÿæœºå¯¹è±¡/","link":"","permalink":"http://www.octber.xyz/2019/09/12/JVM%E7%B3%BB%E5%88%97-%E4%BA%8C-HotSpot%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%AF%B9%E8%B1%A1/","excerpt":"å‰è¨€","text":"å‰è¨€","categories":[{"name":"JVM","slug":"JVM","permalink":"http://www.octber.xyz/categories/JVM/"}],"tags":[{"name":"JVM","slug":"JVM","permalink":"http://www.octber.xyz/tags/JVM/"}]},{"title":"JVMç³»åˆ—(ä¸€):JVMå†…å­˜ç»“æ„","slug":"JVMç³»åˆ—-ä¸€-JVMå†…å­˜ç»“æ„","date":"2019-09-12T01:58:20.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/09/12/JVMç³»åˆ—-ä¸€-JVMå†…å­˜ç»“æ„/","link":"","permalink":"http://www.octber.xyz/2019/09/12/JVM%E7%B3%BB%E5%88%97-%E4%B8%80-JVM%E5%86%85%E5%AD%98%E7%BB%93%E6%9E%84/","excerpt":"å‰è¨€Java è™šæ‹Ÿæœºçš„å†…å­˜ç©ºé—´åˆ†ä¸º 5 ä¸ªéƒ¨åˆ†ï¼š ç¨‹åºè®¡æ•°å™¨ Java è™šæ‹Ÿæœºæ ˆ æœ¬åœ°æ–¹æ³•æ ˆ å † æ–¹æ³•åŒº JDK 1.8 åŒ JDK 1.7 æ¯”ï¼Œæœ€å¤§çš„å·®åˆ«å°±æ˜¯ï¼šå…ƒæ•°æ®åŒºå–ä»£äº†æ°¸ä¹…ä»£ã€‚å…ƒç©ºé—´çš„æœ¬è´¨å’Œæ°¸ä¹…ä»£ç±»ä¼¼ï¼Œéƒ½æ˜¯å¯¹ JVM è§„èŒƒä¸­æ–¹æ³•åŒºçš„å®ç°ã€‚ä¸è¿‡å…ƒç©ºé—´ä¸æ°¸ä¹…ä»£ä¹‹é—´æœ€å¤§çš„åŒºåˆ«åœ¨äºï¼šå…ƒæ•°æ®ç©ºé—´å¹¶ä¸åœ¨è™šæ‹Ÿæœºä¸­ï¼Œè€Œæ˜¯ä½¿ç”¨æœ¬åœ°å†…å­˜ã€‚","text":"å‰è¨€Java è™šæ‹Ÿæœºçš„å†…å­˜ç©ºé—´åˆ†ä¸º 5 ä¸ªéƒ¨åˆ†ï¼š ç¨‹åºè®¡æ•°å™¨ Java è™šæ‹Ÿæœºæ ˆ æœ¬åœ°æ–¹æ³•æ ˆ å † æ–¹æ³•åŒº JDK 1.8 åŒ JDK 1.7 æ¯”ï¼Œæœ€å¤§çš„å·®åˆ«å°±æ˜¯ï¼šå…ƒæ•°æ®åŒºå–ä»£äº†æ°¸ä¹…ä»£ã€‚å…ƒç©ºé—´çš„æœ¬è´¨å’Œæ°¸ä¹…ä»£ç±»ä¼¼ï¼Œéƒ½æ˜¯å¯¹ JVM è§„èŒƒä¸­æ–¹æ³•åŒºçš„å®ç°ã€‚ä¸è¿‡å…ƒç©ºé—´ä¸æ°¸ä¹…ä»£ä¹‹é—´æœ€å¤§çš„åŒºåˆ«åœ¨äºï¼šå…ƒæ•°æ®ç©ºé—´å¹¶ä¸åœ¨è™šæ‹Ÿæœºä¸­ï¼Œè€Œæ˜¯ä½¿ç”¨æœ¬åœ°å†…å­˜ã€‚ ç¨‹åºè®¡æ•°å™¨ï¼ˆPC å¯„å­˜å™¨ï¼‰ç¨‹åºè®¡æ•°å™¨çš„å®šä¹‰ç¨‹åºè®¡æ•°å™¨æ˜¯ä¸€å—è¾ƒå°çš„å†…å­˜ç©ºé—´ï¼Œæ˜¯å½“å‰çº¿ç¨‹æ­£åœ¨æ‰§è¡Œçš„é‚£æ¡å­—èŠ‚ç æŒ‡ä»¤çš„åœ°å€ã€‚è‹¥å½“å‰çº¿ç¨‹æ­£åœ¨æ‰§è¡Œçš„æ˜¯ä¸€ä¸ªæœ¬åœ°æ–¹æ³•ï¼Œé‚£ä¹ˆæ­¤æ—¶ç¨‹åºè®¡æ•°å™¨ä¸ºUndefinedã€‚ ç¨‹åºè®¡æ•°å™¨çš„ä½œç”¨ å­—èŠ‚ç è§£é‡Šå™¨é€šè¿‡æ”¹å˜ç¨‹åºè®¡æ•°å™¨æ¥ä¾æ¬¡è¯»å–æŒ‡ä»¤ï¼Œä»è€Œå®ç°ä»£ç çš„æµç¨‹æ§åˆ¶ã€‚ åœ¨å¤šçº¿ç¨‹æƒ…å†µä¸‹ï¼Œç¨‹åºè®¡æ•°å™¨è®°å½•çš„æ˜¯å½“å‰çº¿ç¨‹æ‰§è¡Œçš„ä½ç½®ï¼Œä»è€Œå½“çº¿ç¨‹åˆ‡æ¢å›æ¥æ—¶ï¼Œå°±çŸ¥é“ä¸Šæ¬¡çº¿ç¨‹æ‰§è¡Œåˆ°å“ªäº†ã€‚ ç¨‹åºè®¡æ•°å™¨çš„ç‰¹ç‚¹ æ˜¯ä¸€å—è¾ƒå°çš„å†…å­˜ç©ºé—´ã€‚ çº¿ç¨‹ç§æœ‰ï¼Œæ¯æ¡çº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„ç¨‹åºè®¡æ•°å™¨ã€‚ ç”Ÿå‘½å‘¨æœŸï¼šéšç€çº¿ç¨‹çš„åˆ›å»ºè€Œåˆ›å»ºï¼Œéšç€çº¿ç¨‹çš„ç»“æŸè€Œé”€æ¯ã€‚ æ˜¯å”¯ä¸€ä¸€ä¸ªä¸ä¼šå‡ºç°OutOfMemoryErrorçš„å†…å­˜åŒºåŸŸã€‚ Java è™šæ‹Ÿæœºæ ˆï¼ˆJava æ ˆï¼‰Java è™šæ‹Ÿæœºæ ˆçš„å®šä¹‰Java è™šæ‹Ÿæœºæ ˆæ˜¯æè¿° Java æ–¹æ³•è¿è¡Œè¿‡ç¨‹çš„å†…å­˜æ¨¡å‹ã€‚ Java è™šæ‹Ÿæœºæ ˆä¼šä¸ºæ¯ä¸€ä¸ªå³å°†è¿è¡Œçš„ Java æ–¹æ³•åˆ›å»ºä¸€å—å«åšâ€œæ ˆå¸§â€çš„åŒºåŸŸï¼Œç”¨äºå­˜æ”¾è¯¥æ–¹æ³•è¿è¡Œè¿‡ç¨‹ä¸­çš„ä¸€äº›ä¿¡æ¯ï¼Œå¦‚ï¼š å±€éƒ¨å˜é‡è¡¨ æ“ä½œæ•°æ ˆ åŠ¨æ€é“¾æ¥ æ–¹æ³•å‡ºå£ä¿¡æ¯ â€¦â€¦ å‹æ ˆå‡ºæ ˆè¿‡ç¨‹å½“æ–¹æ³•è¿è¡Œè¿‡ç¨‹ä¸­éœ€è¦åˆ›å»ºå±€éƒ¨å˜é‡æ—¶ï¼Œå°±å°†å±€éƒ¨å˜é‡çš„å€¼å­˜å…¥æ ˆå¸§ä¸­çš„å±€éƒ¨å˜é‡è¡¨ä¸­ã€‚ Java è™šæ‹Ÿæœºæ ˆçš„æ ˆé¡¶çš„æ ˆå¸§æ˜¯å½“å‰æ­£åœ¨æ‰§è¡Œçš„æ´»åŠ¨æ ˆï¼Œä¹Ÿå°±æ˜¯å½“å‰æ­£åœ¨æ‰§è¡Œçš„æ–¹æ³•ï¼ŒPC å¯„å­˜å™¨ä¹Ÿä¼šæŒ‡å‘è¿™ä¸ªåœ°å€ã€‚åªæœ‰è¿™ä¸ªæ´»åŠ¨çš„æ ˆå¸§çš„æœ¬åœ°å˜é‡å¯ä»¥è¢«æ“ä½œæ•°æ ˆä½¿ç”¨ï¼Œå½“åœ¨è¿™ä¸ªæ ˆå¸§ä¸­è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ï¼Œä¸ä¹‹å¯¹åº”çš„æ ˆå¸§åˆä¼šè¢«åˆ›å»ºï¼Œæ–°åˆ›å»ºçš„æ ˆå¸§å‹å…¥æ ˆé¡¶ï¼Œå˜ä¸ºå½“å‰çš„æ´»åŠ¨æ ˆå¸§ã€‚ æ–¹æ³•ç»“æŸåï¼Œå½“å‰æ ˆå¸§è¢«ç§»å‡ºï¼Œæ ˆå¸§çš„è¿”å›å€¼å˜æˆæ–°çš„æ´»åŠ¨æ ˆå¸§ä¸­æ“ä½œæ•°æ ˆçš„ä¸€ä¸ªæ“ä½œæ•°ã€‚å¦‚æœæ²¡æœ‰è¿”å›å€¼ï¼Œé‚£ä¹ˆæ–°çš„æ´»åŠ¨æ ˆå¸§ä¸­æ“ä½œæ•°æ ˆçš„æ“ä½œæ•°æ²¡æœ‰å˜åŒ–ã€‚ ç”±äºJava è™šæ‹Ÿæœºæ ˆæ˜¯ä¸çº¿ç¨‹å¯¹åº”çš„ï¼Œæ•°æ®ä¸æ˜¯çº¿ç¨‹å…±äº«çš„ï¼Œå› æ­¤ä¸ç”¨å…³å¿ƒæ•°æ®ä¸€è‡´æ€§é—®é¢˜ï¼Œä¹Ÿä¸ä¼šå­˜åœ¨åŒæ­¥é”çš„é—®é¢˜ã€‚ Java è™šæ‹Ÿæœºæ ˆçš„ç‰¹ç‚¹ å±€éƒ¨å˜é‡è¡¨éšç€æ ˆå¸§çš„åˆ›å»ºè€Œåˆ›å»ºï¼Œå®ƒçš„å¤§å°åœ¨ç¼–è¯‘æ—¶ç¡®å®šï¼Œåˆ›å»ºæ—¶åªéœ€åˆ†é…äº‹å…ˆè§„å®šçš„å¤§å°å³å¯ã€‚åœ¨æ–¹æ³•è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œå±€éƒ¨å˜é‡è¡¨çš„å¤§å°ä¸ä¼šå‘ç”Ÿæ”¹å˜ã€‚ Java è™šæ‹Ÿæœºæ ˆä¼šå‡ºç°ä¸¤ç§å¼‚å¸¸ï¼šStackOverFlowError å’Œ OutOfMemoryErrorã€‚ StackOverFlowError è‹¥ Java è™šæ‹Ÿæœºæ ˆçš„å¤§å°ä¸å…è®¸åŠ¨æ€æ‰©å±•ï¼Œé‚£ä¹ˆå½“çº¿ç¨‹è¯·æ±‚æ ˆçš„æ·±åº¦è¶…è¿‡å½“å‰ Java è™šæ‹Ÿæœºæ ˆçš„æœ€å¤§æ·±åº¦æ—¶ï¼ŒæŠ›å‡º StackOverFlowError å¼‚å¸¸ã€‚ OutOfMemoryError è‹¥å…è®¸åŠ¨æ€æ‰©å±•ï¼Œé‚£ä¹ˆå½“çº¿ç¨‹è¯·æ±‚æ ˆæ—¶å†…å­˜ç”¨å®Œäº†ï¼Œæ— æ³•å†åŠ¨æ€æ‰©å±•æ—¶ï¼ŒæŠ›å‡º OutOfMemoryError å¼‚å¸¸ã€‚ Java è™šæ‹Ÿæœºæ ˆä¹Ÿæ˜¯çº¿ç¨‹ç§æœ‰ï¼Œéšç€çº¿ç¨‹åˆ›å»ºè€Œåˆ›å»ºï¼Œéšç€çº¿ç¨‹çš„ç»“æŸè€Œé”€æ¯ã€‚ å‡ºç° StackOverFlowError æ—¶ï¼Œå†…å­˜ç©ºé—´å¯èƒ½è¿˜æœ‰å¾ˆå¤šã€‚ æœ¬åœ°æ–¹æ³•æ ˆï¼ˆC æ ˆï¼‰æœ¬åœ°æ–¹æ³•æ ˆçš„å®šä¹‰æœ¬åœ°æ–¹æ³•æ ˆæ˜¯ä¸º JVM è¿è¡Œ Native æ–¹æ³•å‡†å¤‡çš„ç©ºé—´ï¼Œç”±äºå¾ˆå¤š Native æ–¹æ³•éƒ½æ˜¯ç”¨ C è¯­è¨€å®ç°çš„ï¼Œæ‰€ä»¥å®ƒé€šå¸¸åˆå« C æ ˆã€‚å®ƒä¸ Java è™šæ‹Ÿæœºæ ˆå®ç°çš„åŠŸèƒ½ç±»ä¼¼ï¼Œåªä¸è¿‡æœ¬åœ°æ–¹æ³•æ ˆæ˜¯æè¿°æœ¬åœ°æ–¹æ³•è¿è¡Œè¿‡ç¨‹çš„å†…å­˜æ¨¡å‹ã€‚ æ ˆå¸§å˜åŒ–è¿‡ç¨‹æœ¬åœ°æ–¹æ³•è¢«æ‰§è¡Œæ—¶ï¼Œåœ¨æœ¬åœ°æ–¹æ³•æ ˆä¹Ÿä¼šåˆ›å»ºä¸€å—æ ˆå¸§ï¼Œç”¨äºå­˜æ”¾è¯¥æ–¹æ³•çš„å±€éƒ¨å˜é‡è¡¨ã€æ“ä½œæ•°æ ˆã€åŠ¨æ€é“¾æ¥ã€æ–¹æ³•å‡ºå£ä¿¡æ¯ç­‰ã€‚ æ–¹æ³•æ‰§è¡Œç»“æŸåï¼Œç›¸åº”çš„æ ˆå¸§ä¹Ÿä¼šå‡ºæ ˆï¼Œå¹¶é‡Šæ”¾å†…å­˜ç©ºé—´ã€‚ä¹Ÿä¼šæŠ›å‡º StackOverFlowError å’Œ OutOfMemoryError å¼‚å¸¸ã€‚ å¦‚æœ Java è™šæ‹Ÿæœºæœ¬èº«ä¸æ”¯æŒ Native æ–¹æ³•ï¼Œæˆ–æ˜¯æœ¬èº«ä¸ä¾èµ–äºä¼ ç»Ÿæ ˆï¼Œé‚£ä¹ˆå¯ä»¥ä¸æä¾›æœ¬åœ°æ–¹æ³•æ ˆã€‚å¦‚æœæ”¯æŒæœ¬åœ°æ–¹æ³•æ ˆï¼Œé‚£ä¹ˆè¿™ä¸ªæ ˆä¸€èˆ¬ä¼šåœ¨çº¿ç¨‹åˆ›å»ºçš„æ—¶å€™æŒ‰çº¿ç¨‹åˆ†é…ã€‚ å †å †çš„å®šä¹‰å †æ˜¯ç”¨æ¥å­˜æ”¾å¯¹è±¡çš„å†…å­˜ç©ºé—´ï¼Œå‡ ä¹æ‰€æœ‰çš„å¯¹è±¡éƒ½å­˜å‚¨åœ¨å †ä¸­ã€‚ å †çš„ç‰¹ç‚¹ çº¿ç¨‹å…±äº«ï¼Œæ•´ä¸ª Java è™šæ‹Ÿæœºåªæœ‰ä¸€ä¸ªå †ï¼Œæ‰€æœ‰çš„çº¿ç¨‹éƒ½è®¿é—®åŒä¸€ä¸ªå †ã€‚è€Œç¨‹åºè®¡æ•°å™¨ã€Java è™šæ‹Ÿæœºæ ˆã€æœ¬åœ°æ–¹æ³•æ ˆéƒ½æ˜¯ä¸€ä¸ªçº¿ç¨‹å¯¹åº”ä¸€ä¸ªã€‚ åœ¨è™šæ‹Ÿæœºå¯åŠ¨æ—¶åˆ›å»ºã€‚ æ˜¯åƒåœ¾å›æ”¶çš„ä¸»è¦åœºæ‰€ã€‚ è¿›ä¸€æ­¥å¯åˆ†ä¸ºï¼šæ–°ç”Ÿä»£(EdenåŒº From Survior To Survivor)ã€è€å¹´ä»£ã€‚ ä¸åŒçš„åŒºåŸŸå­˜æ”¾ä¸åŒç”Ÿå‘½å‘¨æœŸçš„å¯¹è±¡ï¼Œè¿™æ ·å¯ä»¥æ ¹æ®ä¸åŒçš„åŒºåŸŸä½¿ç”¨ä¸åŒçš„åƒåœ¾å›æ”¶ç®—æ³•ï¼Œæ›´å…·æœ‰é’ˆå¯¹æ€§ã€‚ å †çš„å¤§å°æ—¢å¯ä»¥å›ºå®šä¹Ÿå¯ä»¥æ‰©å±•ï¼Œä½†å¯¹äºä¸»æµçš„è™šæ‹Ÿæœºï¼Œå †çš„å¤§å°æ˜¯å¯æ‰©å±•çš„ï¼Œå› æ­¤å½“çº¿ç¨‹è¯·æ±‚åˆ†é…å†…å­˜ï¼Œä½†å †å·²æ»¡ï¼Œä¸”å†…å­˜å·²æ— æ³•å†æ‰©å±•æ—¶ï¼Œå°±æŠ›å‡º OutOfMemoryError å¼‚å¸¸ã€‚ Java å †æ‰€ä½¿ç”¨çš„å†…å­˜ä¸éœ€è¦ä¿è¯æ˜¯è¿ç»­çš„ã€‚è€Œç”±äºå †æ˜¯è¢«æ‰€æœ‰çº¿ç¨‹å…±äº«çš„ï¼Œæ‰€ä»¥å¯¹å®ƒçš„è®¿é—®éœ€è¦æ³¨æ„åŒæ­¥é—®é¢˜ï¼Œæ–¹æ³•å’Œå¯¹åº”çš„å±æ€§éƒ½éœ€è¦ä¿è¯ä¸€è‡´æ€§ã€‚ æ–¹æ³•åŒºæ–¹æ³•åŒºçš„å®šä¹‰Java è™šæ‹Ÿæœºè§„èŒƒä¸­å®šä¹‰æ–¹æ³•åŒºæ˜¯å †çš„ä¸€ä¸ªé€»è¾‘éƒ¨åˆ†ã€‚æ–¹æ³•åŒºå­˜æ”¾ä»¥ä¸‹ä¿¡æ¯ï¼š å·²ç»è¢«è™šæ‹ŸæœºåŠ è½½çš„ç±»ä¿¡æ¯ å¸¸é‡ é™æ€å˜é‡ å³æ—¶ç¼–è¯‘å™¨ç¼–è¯‘åçš„ä»£ç  æ–¹æ³•åŒºçš„ç‰¹ç‚¹ çº¿ç¨‹å…±äº«ã€‚ æ–¹æ³•åŒºæ˜¯å †çš„ä¸€ä¸ªé€»è¾‘éƒ¨åˆ†ï¼Œå› æ­¤å’Œå †ä¸€æ ·ï¼Œéƒ½æ˜¯çº¿ç¨‹å…±äº«çš„ã€‚æ•´ä¸ªè™šæ‹Ÿæœºä¸­åªæœ‰ä¸€ä¸ªæ–¹æ³•åŒºã€‚ æ°¸ä¹…ä»£ã€‚ æ–¹æ³•åŒºä¸­çš„ä¿¡æ¯ä¸€èˆ¬éœ€è¦é•¿æœŸå­˜åœ¨ï¼Œè€Œä¸”å®ƒåˆæ˜¯å †çš„é€»è¾‘åˆ†åŒºï¼Œå› æ­¤ç”¨å †çš„åˆ’åˆ†æ–¹æ³•ï¼ŒæŠŠæ–¹æ³•åŒºç§°ä¸ºâ€œæ°¸ä¹…ä»£â€ã€‚ å†…å­˜å›æ”¶æ•ˆç‡ä½ã€‚ æ–¹æ³•åŒºä¸­çš„ä¿¡æ¯ä¸€èˆ¬éœ€è¦é•¿æœŸå­˜åœ¨ï¼Œå›æ”¶ä¸€éä¹‹åå¯èƒ½åªæœ‰å°‘é‡ä¿¡æ¯æ— æ•ˆã€‚ä¸»è¦å›æ”¶ç›®æ ‡æ˜¯ï¼šå¯¹å¸¸é‡æ± çš„å›æ”¶ï¼›å¯¹ç±»å‹çš„å¸è½½ã€‚ Java è™šæ‹Ÿæœºè§„èŒƒå¯¹æ–¹æ³•åŒºçš„è¦æ±‚æ¯”è¾ƒå®½æ¾ã€‚ å’Œå †ä¸€æ ·ï¼Œå…è®¸å›ºå®šå¤§å°ï¼Œä¹Ÿå…è®¸åŠ¨æ€æ‰©å±•ï¼Œè¿˜å…è®¸ä¸å®ç°åƒåœ¾å›æ”¶ã€‚ è¿è¡Œæ—¶å¸¸é‡æ± æ–¹æ³•åŒºä¸­å­˜æ”¾ï¼šç±»ä¿¡æ¯ã€å¸¸é‡ã€é™æ€å˜é‡ã€å³æ—¶ç¼–è¯‘å™¨ç¼–è¯‘åçš„ä»£ç ã€‚å¸¸é‡å°±å­˜æ”¾åœ¨è¿è¡Œæ—¶å¸¸é‡æ± ä¸­ã€‚ å½“ç±»è¢« Java è™šæ‹ŸæœºåŠ è½½åï¼Œ .class æ–‡ä»¶ä¸­çš„å¸¸é‡å°±å­˜æ”¾åœ¨æ–¹æ³•åŒºçš„è¿è¡Œæ—¶å¸¸é‡æ± ä¸­ã€‚è€Œä¸”åœ¨è¿è¡ŒæœŸé—´ï¼Œå¯ä»¥å‘å¸¸é‡æ± ä¸­æ·»åŠ æ–°çš„å¸¸é‡ã€‚å¦‚ String ç±»çš„ intern() æ–¹æ³•å°±èƒ½åœ¨è¿è¡ŒæœŸé—´å‘å¸¸é‡æ± ä¸­æ·»åŠ å­—ç¬¦ä¸²å¸¸é‡ã€‚ ç›´æ¥å†…å­˜ï¼ˆå †å¤–å†…å­˜ï¼‰ç›´æ¥å†…å­˜æ˜¯é™¤ Java è™šæ‹Ÿæœºä¹‹å¤–çš„å†…å­˜ï¼Œä½†ä¹Ÿå¯èƒ½è¢« Java ä½¿ç”¨ã€‚ æ“ä½œç›´æ¥å†…å­˜åœ¨ NIO ä¸­å¼•å…¥äº†ä¸€ç§åŸºäºé€šé“å’Œç¼“å†²çš„ IO æ–¹å¼ã€‚å®ƒå¯ä»¥é€šè¿‡è°ƒç”¨æœ¬åœ°æ–¹æ³•ç›´æ¥åˆ†é… Java è™šæ‹Ÿæœºä¹‹å¤–çš„å†…å­˜ï¼Œç„¶åé€šè¿‡ä¸€ä¸ªå­˜å‚¨åœ¨å †ä¸­çš„DirectByteBufferå¯¹è±¡ç›´æ¥æ“ä½œè¯¥å†…å­˜ï¼Œè€Œæ— é¡»å…ˆå°†å¤–éƒ¨å†…å­˜ä¸­çš„æ•°æ®å¤åˆ¶åˆ°å †ä¸­å†è¿›è¡Œæ“ä½œï¼Œä»è€Œæé«˜äº†æ•°æ®æ“ä½œçš„æ•ˆç‡ã€‚ ç›´æ¥å†…å­˜çš„å¤§å°ä¸å— Java è™šæ‹Ÿæœºæ§åˆ¶ï¼Œä½†æ—¢ç„¶æ˜¯å†…å­˜ï¼Œå½“å†…å­˜ä¸è¶³æ—¶å°±ä¼šæŠ›å‡º OutOfMemoryError å¼‚å¸¸ã€‚ ç›´æ¥å†…å­˜ä¸å †å†…å­˜æ¯”è¾ƒ ç›´æ¥å†…å­˜ç”³è¯·ç©ºé—´è€—è´¹æ›´é«˜çš„æ€§èƒ½ ç›´æ¥å†…å­˜è¯»å– IO çš„æ€§èƒ½è¦ä¼˜äºæ™®é€šçš„å †å†…å­˜ã€‚ ç›´æ¥å†…å­˜ä½œç”¨é“¾ï¼š æœ¬åœ° IO -&gt; ç›´æ¥å†…å­˜ -&gt; æœ¬åœ° IO å †å†…å­˜ä½œç”¨é“¾ï¼šæœ¬åœ° IO -&gt; ç›´æ¥å†…å­˜ -&gt; éç›´æ¥å†…å­˜ -&gt; ç›´æ¥å†…å­˜ -&gt; æœ¬åœ° IO æœåŠ¡å™¨ç®¡ç†å‘˜åœ¨é…ç½®è™šæ‹Ÿæœºå‚æ•°æ—¶ï¼Œä¼šæ ¹æ®å®é™…å†…å­˜è®¾ç½®-Xmxç­‰å‚æ•°ä¿¡æ¯ï¼Œä½†ç»å¸¸å¿½ç•¥ç›´æ¥å†…å­˜ï¼Œä½¿å¾—å„ä¸ªå†…å­˜åŒºåŸŸæ€»å’Œå¤§äºç‰©ç†å†…å­˜é™åˆ¶ï¼Œä»è€Œå¯¼è‡´åŠ¨æ€æ‰©å±•æ—¶å‡ºç°OutOfMemoryErrorå¼‚å¸¸ã€‚ ï¼ˆå®Œï¼‰","categories":[{"name":"JVM","slug":"JVM","permalink":"http://www.octber.xyz/categories/JVM/"}],"tags":[{"name":"JVM","slug":"JVM","permalink":"http://www.octber.xyz/tags/JVM/"}]},{"title":"JVMåŸç†ç³»åˆ—è¯¦è§£","slug":"JVMåŸç†ç³»åˆ—è¯¦è§£","date":"2019-09-12T01:37:46.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/09/12/JVMåŸç†ç³»åˆ—è¯¦è§£/","link":"","permalink":"http://www.octber.xyz/2019/09/12/JVM%E5%8E%9F%E7%90%86%E7%B3%BB%E5%88%97%E8%AF%A6%E8%A7%A3/","excerpt":"å‰è¨€æœ¬ç³»åˆ—åšæ–‡å°†è¯¦ç»†ä»‹ç»JVMç³»åˆ—çŸ¥è¯†ï¼Œå†…å®¹å¤§å¤šæ¥è‡ªGitHubç‰›äººçš„æ€»ç»“å’Œè§‚ç‚¹ï¼ŒåŠ ä¸Šæœ¬äººçš„æ€è€ƒï¼Œç‰¹æ­¤ç•™å¿µã€‚ ç‰¹åˆ«é¸£è°¢ï¼šdoocs","text":"å‰è¨€æœ¬ç³»åˆ—åšæ–‡å°†è¯¦ç»†ä»‹ç»JVMç³»åˆ—çŸ¥è¯†ï¼Œå†…å®¹å¤§å¤šæ¥è‡ªGitHubç‰›äººçš„æ€»ç»“å’Œè§‚ç‚¹ï¼ŒåŠ ä¸Šæœ¬äººçš„æ€è€ƒï¼Œç‰¹æ­¤ç•™å¿µã€‚ ç‰¹åˆ«é¸£è°¢ï¼šdoocs è¿™é‡Œä»…ä»…è®°å½•äº†ä¸€äº›ç¬”è€…è®¤ä¸ºéœ€è¦é‡ç‚¹æŒæ¡çš„ JVM çŸ¥è¯†ç‚¹ï¼Œå¦‚æœä½ æƒ³æ›´åŠ å…¨é¢åœ°äº†è§£ JVM åº•å±‚åŸç†ï¼Œå¯ä»¥é˜…è¯»å‘¨å¿—æ˜è€å¸ˆã€Šæ·±å…¥ç†è§£Javaè™šæ‹Ÿæœºâ€”â€”JVMé«˜çº§ç‰¹æ€§ä¸æœ€ä½³å®è·µ(ç¬¬2ç‰ˆ)ã€‹å…¨ä¹¦ã€‚ æ¸…å• JVM åŸç†ç³»åˆ—è¯¦è§£ ç›®å½• é“¾æ¥ï¼šåæœˆåšå®¢-JVM æœ€åæ›´æ–°æ—¥æœŸï¼š2019-09-12 09:37:46 ç›®å½• JVMå†…å­˜ç»“æ„ HotSpot è™šæ‹Ÿæœºå¯¹è±¡æ¢ç§˜ åƒåœ¾æ”¶é›†ç­–ç•¥ä¸ç®—æ³• HotSpot åƒåœ¾æ”¶é›†å™¨ å†…å­˜åˆ†é…ä¸å›æ”¶ç­–ç•¥ JVM æ€§èƒ½è°ƒä¼˜ ç±»æ–‡ä»¶ç»“æ„ ç±»åŠ è½½çš„æ—¶æœº ç±»åŠ è½½çš„è¿‡ç¨‹ ç±»åŠ è½½å™¨","categories":[{"name":"JVM","slug":"JVM","permalink":"http://www.octber.xyz/categories/JVM/"}],"tags":[{"name":"JVM","slug":"JVM","permalink":"http://www.octber.xyz/tags/JVM/"}]},{"title":"2019.9.11æ—¥æŠ¥","slug":"2019-9-11æ—¥æŠ¥","date":"2019-09-11T12:40:07.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/09/11/2019-9-11æ—¥æŠ¥/","link":"","permalink":"http://www.octber.xyz/2019/09/11/2019-9-11%E6%97%A5%E6%8A%A5/","excerpt":"å‰è¨€[TOC]","text":"å‰è¨€[TOC] 1. ä»»åŠ¡ä¸ä»»åŠ¡è¿›åº¦/å·¥æ—¶è¯´æ˜1.1 æµ‹è¯•ï¼šå¼€æˆ·ä¿®æ”¹ä¸è¯¦æƒ…é¡µ é—®é¢˜ï¼š è¯¦æƒ…é¡µå¼€æˆ·æµç¨‹æ˜¾ç¤ºæœ‰é—®é¢˜ï¼Œä¸å¯¹åº”å†…å®¹ä¸ç¬¦åˆ è§£å†³è¿›åº¦ï¼š 100% 1.2 æµ‹è¯•ï¼šæäº¤-å¤æ ¸ å·¥ä½œæµä¸­å„ä¸ªç¯èŠ‚çŠ¶æ€ç¡®è®¤ é—®é¢˜ï¼š å¤æ ¸é€šè¿‡/æ‹’ç»åé¦–é¡µå¾…åŠä»ç„¶æ˜¾ç¤º è§£å†³è¿›åº¦ï¼š 100% 1.3 æµ‹è¯•ï¼š åœºå¤–æ¨¡å—å…¶ä»–åŠŸèƒ½ é—®é¢˜ï¼š é™¤éƒ¨åˆ†æ ·å¼é—®é¢˜ï¼Œæš‚æ— å‘ç°å…¶ä»–é—®é¢˜ 1.4 æµ‹è¯•ï¼š å¼€æˆ·ã€ä¿®æ”¹å¼€æˆ·ä¿¡æ¯ä¸­ä¿¡æ¯å¯¹åº”é—®é¢˜ é—®é¢˜ï¼š é¡µé¢åŠ è½½é€Ÿåº¦ä¸åŒï¼Œå“åº”ç»“æœä¸åŒ è§£å†³è¿›åº¦ï¼š 100% 2. å·²è§£å†³çš„é—®é¢˜æµ‹è¯•ä¸­å‘ç°çš„é—®é¢˜ 3. æœªè§£å†³çš„é—®é¢˜4. è¿›åº¦å»¶è¿ŸåŸå› è¯´æ˜","categories":[{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"http://www.octber.xyz/categories/%E6%97%A5%E8%AE%B0/"}],"tags":[{"name":"æ—¥æŠ¥","slug":"æ—¥æŠ¥","permalink":"http://www.octber.xyz/tags/%E6%97%A5%E6%8A%A5/"}]},{"title":"redisçš„å¹¶å‘ç«äº‰","slug":"redisçš„å¹¶å‘ç«äº‰","date":"2019-09-11T11:26:30.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/09/11/redisçš„å¹¶å‘ç«äº‰/","link":"","permalink":"http://www.octber.xyz/2019/09/11/redis%E7%9A%84%E5%B9%B6%E5%8F%91%E7%AB%9E%E4%BA%89/","excerpt":"å‰è¨€ ç‰¹åˆ«é¸£è°¢ çŸ³æ‰çš„æ¶æ„ç¬”è®° redis çš„å¹¶å‘ç«äº‰é—®é¢˜æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿäº†è§£ redis äº‹åŠ¡çš„ CAS æ–¹æ¡ˆå—ï¼Ÿ è¿™ä¸ªä¹Ÿæ˜¯çº¿ä¸Šéå¸¸å¸¸è§çš„ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯å¤šå®¢æˆ·ç«¯åŒæ—¶å¹¶å‘å†™ä¸€ä¸ª keyï¼Œå¯èƒ½æœ¬æ¥åº”è¯¥å…ˆåˆ°çš„æ•°æ®ååˆ°äº†ï¼Œå¯¼è‡´æ•°æ®ç‰ˆæœ¬é”™äº†ï¼›æˆ–è€…æ˜¯å¤šå®¢æˆ·ç«¯åŒæ—¶è·å–ä¸€ä¸ª keyï¼Œä¿®æ”¹å€¼ä¹‹åå†å†™å›å»ï¼Œåªè¦é¡ºåºé”™äº†ï¼Œæ•°æ®å°±é”™äº†ã€‚ è€Œä¸” redis è‡ªå·±å°±æœ‰å¤©ç„¶è§£å†³è¿™ä¸ªé—®é¢˜çš„ CAS ç±»çš„ä¹è§‚é”æ–¹æ¡ˆã€‚","text":"å‰è¨€ ç‰¹åˆ«é¸£è°¢ çŸ³æ‰çš„æ¶æ„ç¬”è®° redis çš„å¹¶å‘ç«äº‰é—®é¢˜æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿäº†è§£ redis äº‹åŠ¡çš„ CAS æ–¹æ¡ˆå—ï¼Ÿ è¿™ä¸ªä¹Ÿæ˜¯çº¿ä¸Šéå¸¸å¸¸è§çš„ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯å¤šå®¢æˆ·ç«¯åŒæ—¶å¹¶å‘å†™ä¸€ä¸ª keyï¼Œå¯èƒ½æœ¬æ¥åº”è¯¥å…ˆåˆ°çš„æ•°æ®ååˆ°äº†ï¼Œå¯¼è‡´æ•°æ®ç‰ˆæœ¬é”™äº†ï¼›æˆ–è€…æ˜¯å¤šå®¢æˆ·ç«¯åŒæ—¶è·å–ä¸€ä¸ª keyï¼Œä¿®æ”¹å€¼ä¹‹åå†å†™å›å»ï¼Œåªè¦é¡ºåºé”™äº†ï¼Œæ•°æ®å°±é”™äº†ã€‚ è€Œä¸” redis è‡ªå·±å°±æœ‰å¤©ç„¶è§£å†³è¿™ä¸ªé—®é¢˜çš„ CAS ç±»çš„ä¹è§‚é”æ–¹æ¡ˆã€‚ æŸä¸ªæ—¶åˆ»ï¼Œå¤šä¸ªç³»ç»Ÿå®ä¾‹éƒ½å»æ›´æ–°æŸä¸ª keyã€‚å¯ä»¥åŸºäº zookeeper å®ç°åˆ†å¸ƒå¼é”ã€‚æ¯ä¸ªç³»ç»Ÿé€šè¿‡ zookeeper è·å–åˆ†å¸ƒå¼é”ï¼Œç¡®ä¿åŒä¸€æ—¶é—´ï¼Œåªèƒ½æœ‰ä¸€ä¸ªç³»ç»Ÿå®ä¾‹åœ¨æ“ä½œæŸä¸ª keyï¼Œåˆ«äººéƒ½ä¸å…è®¸è¯»å’Œå†™ã€‚ ä½ è¦å†™å…¥ç¼“å­˜çš„æ•°æ®ï¼Œéƒ½æ˜¯ä» mysql é‡ŒæŸ¥å‡ºæ¥çš„ï¼Œéƒ½å¾—å†™å…¥ mysql ä¸­ï¼Œå†™å…¥ mysql ä¸­çš„æ—¶å€™å¿…é¡»ä¿å­˜ä¸€ä¸ªæ—¶é—´æˆ³ï¼Œä» mysql æŸ¥å‡ºæ¥çš„æ—¶å€™ï¼Œæ—¶é—´æˆ³ä¹ŸæŸ¥å‡ºæ¥ã€‚ æ¯æ¬¡è¦å†™ä¹‹å‰ï¼Œå…ˆåˆ¤æ–­ä¸€ä¸‹å½“å‰è¿™ä¸ª value çš„æ—¶é—´æˆ³æ˜¯å¦æ¯”ç¼“å­˜é‡Œçš„ value çš„æ—¶é—´æˆ³è¦æ–°ã€‚å¦‚æœæ˜¯çš„è¯ï¼Œé‚£ä¹ˆå¯ä»¥å†™ï¼Œå¦åˆ™ï¼Œå°±ä¸èƒ½ç”¨æ—§çš„æ•°æ®è¦†ç›–æ–°çš„æ•°æ®ã€‚","categories":[{"name":"ç¼“å­˜","slug":"ç¼“å­˜","permalink":"http://www.octber.xyz/categories/%E7%BC%93%E5%AD%98/"}],"tags":[{"name":"Redis","slug":"Redis","permalink":"http://www.octber.xyz/tags/Redis/"}]},{"title":"redis çš„é›ªå´©ã€ç©¿é€å’Œå‡»ç©¿","slug":"redis-çš„é›ªå´©ã€ç©¿é€å’Œå‡»ç©¿","date":"2019-09-11T11:20:20.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/09/11/redis-çš„é›ªå´©ã€ç©¿é€å’Œå‡»ç©¿/","link":"","permalink":"http://www.octber.xyz/2019/09/11/redis-%E7%9A%84%E9%9B%AA%E5%B4%A9%E3%80%81%E7%A9%BF%E9%80%8F%E5%92%8C%E5%87%BB%E7%A9%BF/","excerpt":"å‰è¨€ ç‰¹åˆ«é¸£è°¢ çŸ³æ‰çš„æ¶æ„ç¬”è®° äº†è§£ä»€ä¹ˆæ˜¯ redis çš„é›ªå´©ã€ç©¿é€å’Œå‡»ç©¿ï¼Ÿredis å´©æºƒä¹‹åä¼šæ€ä¹ˆæ ·ï¼Ÿç³»ç»Ÿè¯¥å¦‚ä½•åº”å¯¹è¿™ç§æƒ…å†µï¼Ÿå¦‚ä½•å¤„ç† redis çš„ç©¿é€ï¼Ÿ","text":"å‰è¨€ ç‰¹åˆ«é¸£è°¢ çŸ³æ‰çš„æ¶æ„ç¬”è®° äº†è§£ä»€ä¹ˆæ˜¯ redis çš„é›ªå´©ã€ç©¿é€å’Œå‡»ç©¿ï¼Ÿredis å´©æºƒä¹‹åä¼šæ€ä¹ˆæ ·ï¼Ÿç³»ç»Ÿè¯¥å¦‚ä½•åº”å¯¹è¿™ç§æƒ…å†µï¼Ÿå¦‚ä½•å¤„ç† redis çš„ç©¿é€ï¼Ÿ ç¼“å­˜é›ªå´©å¯¹äºç³»ç»Ÿ Aï¼Œå‡è®¾æ¯å¤©é«˜å³°æœŸæ¯ç§’ 5000 ä¸ªè¯·æ±‚ï¼Œæœ¬æ¥ç¼“å­˜åœ¨é«˜å³°æœŸå¯ä»¥æ‰›ä½æ¯ç§’ 4000 ä¸ªè¯·æ±‚ï¼Œä½†æ˜¯ç¼“å­˜æœºå™¨æ„å¤–å‘ç”Ÿäº†å…¨ç›˜å®•æœºã€‚ç¼“å­˜æŒ‚äº†ï¼Œæ­¤æ—¶ 1 ç§’ 5000 ä¸ªè¯·æ±‚å…¨éƒ¨è½æ•°æ®åº“ï¼Œæ•°æ®åº“å¿…ç„¶æ‰›ä¸ä½ï¼Œå®ƒä¼šæŠ¥ä¸€ä¸‹è­¦ï¼Œç„¶åå°±æŒ‚äº†ã€‚æ­¤æ—¶ï¼Œå¦‚æœæ²¡æœ‰é‡‡ç”¨ä»€ä¹ˆç‰¹åˆ«çš„æ–¹æ¡ˆæ¥å¤„ç†è¿™ä¸ªæ•…éšœï¼ŒDBA å¾ˆç€æ€¥ï¼Œé‡å¯æ•°æ®åº“ï¼Œä½†æ˜¯æ•°æ®åº“ç«‹é©¬åˆè¢«æ–°çš„æµé‡ç»™æ‰“æ­»äº†ã€‚ è¿™å°±æ˜¯ç¼“å­˜é›ªå´©ã€‚ å¤§çº¦åœ¨ 3 å¹´å‰ï¼Œå›½å†…æ¯”è¾ƒçŸ¥åçš„ä¸€ä¸ªäº’è”ç½‘å…¬å¸ï¼Œæ›¾å› ä¸ºç¼“å­˜äº‹æ•…ï¼Œå¯¼è‡´é›ªå´©ï¼Œåå°ç³»ç»Ÿå…¨éƒ¨å´©æºƒï¼Œäº‹æ•…ä»å½“å¤©ä¸‹åˆæŒç»­åˆ°æ™šä¸Šå‡Œæ™¨ 3~4 ç‚¹ï¼Œå…¬å¸æŸå¤±äº†å‡ åƒä¸‡ã€‚ ç¼“å­˜é›ªå´©çš„äº‹å‰äº‹ä¸­äº‹åçš„è§£å†³æ–¹æ¡ˆå¦‚ä¸‹ã€‚ äº‹å‰ï¼šredis é«˜å¯ç”¨ï¼Œä¸»ä»+å“¨å…µï¼Œredis clusterï¼Œé¿å…å…¨ç›˜å´©æºƒã€‚ äº‹ä¸­ï¼šæœ¬åœ° ehcache ç¼“å­˜ + hystrix é™æµ&amp;é™çº§ï¼Œé¿å… MySQL è¢«æ‰“æ­»ã€‚ äº‹åï¼šredis æŒä¹…åŒ–ï¼Œä¸€æ—¦é‡å¯ï¼Œè‡ªåŠ¨ä»ç£ç›˜ä¸ŠåŠ è½½æ•°æ®ï¼Œå¿«é€Ÿæ¢å¤ç¼“å­˜æ•°æ®ã€‚ ç”¨æˆ·å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œç³»ç»Ÿ A æ”¶åˆ°è¯·æ±‚åï¼Œå…ˆæŸ¥æœ¬åœ° ehcache ç¼“å­˜ï¼Œå¦‚æœæ²¡æŸ¥åˆ°å†æŸ¥ redisã€‚å¦‚æœ ehcache å’Œ redis éƒ½æ²¡æœ‰ï¼Œå†æŸ¥æ•°æ®åº“ï¼Œå°†æ•°æ®åº“ä¸­çš„ç»“æœï¼Œå†™å…¥ ehcache å’Œ redis ä¸­ã€‚ é™æµç»„ä»¶ï¼Œå¯ä»¥è®¾ç½®æ¯ç§’çš„è¯·æ±‚ï¼Œæœ‰å¤šå°‘èƒ½é€šè¿‡ç»„ä»¶ï¼Œå‰©ä½™çš„æœªé€šè¿‡çš„è¯·æ±‚ï¼Œæ€ä¹ˆåŠï¼Ÿèµ°é™çº§ï¼å¯ä»¥è¿”å›ä¸€äº›é»˜è®¤çš„å€¼ï¼Œæˆ–è€…å‹æƒ…æç¤ºï¼Œæˆ–è€…ç©ºç™½çš„å€¼ã€‚ å¥½å¤„ï¼š æ•°æ®åº“ç»å¯¹ä¸ä¼šæ­»ï¼Œé™æµç»„ä»¶ç¡®ä¿äº†æ¯ç§’åªæœ‰å¤šå°‘ä¸ªè¯·æ±‚èƒ½é€šè¿‡ã€‚ åªè¦æ•°æ®åº“ä¸æ­»ï¼Œå°±æ˜¯è¯´ï¼Œå¯¹ç”¨æˆ·æ¥è¯´ï¼Œ2/5 çš„è¯·æ±‚éƒ½æ˜¯å¯ä»¥è¢«å¤„ç†çš„ã€‚ åªè¦æœ‰ 2/5 çš„è¯·æ±‚å¯ä»¥è¢«å¤„ç†ï¼Œå°±æ„å‘³ç€ä½ çš„ç³»ç»Ÿæ²¡æ­»ï¼Œå¯¹ç”¨æˆ·æ¥è¯´ï¼Œå¯èƒ½å°±æ˜¯ç‚¹å‡»å‡ æ¬¡åˆ·ä¸å‡ºæ¥é¡µé¢ï¼Œä½†æ˜¯å¤šç‚¹å‡ æ¬¡ï¼Œå°±å¯ä»¥åˆ·å‡ºæ¥ä¸€æ¬¡ã€‚ ç¼“å­˜ç©¿é€å¯¹äºç³»ç»ŸAï¼Œå‡è®¾ä¸€ç§’ 5000 ä¸ªè¯·æ±‚ï¼Œç»“æœå…¶ä¸­ 4000 ä¸ªè¯·æ±‚æ˜¯é»‘å®¢å‘å‡ºçš„æ¶æ„æ”»å‡»ã€‚ é»‘å®¢å‘å‡ºçš„é‚£ 4000 ä¸ªæ”»å‡»ï¼Œç¼“å­˜ä¸­æŸ¥ä¸åˆ°ï¼Œæ¯æ¬¡ä½ å»æ•°æ®åº“é‡ŒæŸ¥ï¼Œä¹ŸæŸ¥ä¸åˆ°ã€‚ ä¸¾ä¸ªæ —å­ã€‚æ•°æ®åº“ id æ˜¯ä» 1 å¼€å§‹çš„ï¼Œç»“æœé»‘å®¢å‘è¿‡æ¥çš„è¯·æ±‚ id å…¨éƒ¨éƒ½æ˜¯è´Ÿæ•°ã€‚è¿™æ ·çš„è¯ï¼Œç¼“å­˜ä¸­ä¸ä¼šæœ‰ï¼Œè¯·æ±‚æ¯æ¬¡éƒ½â€œè§†ç¼“å­˜äºæ— ç‰©â€ï¼Œç›´æ¥æŸ¥è¯¢æ•°æ®åº“ã€‚è¿™ç§æ¶æ„æ”»å‡»åœºæ™¯çš„ç¼“å­˜ç©¿é€å°±ä¼šç›´æ¥æŠŠæ•°æ®åº“ç»™æ‰“æ­»ã€‚ è§£å†³æ–¹å¼å¾ˆç®€å•ï¼Œæ¯æ¬¡ç³»ç»Ÿ A ä»æ•°æ®åº“ä¸­åªè¦æ²¡æŸ¥åˆ°ï¼Œå°±å†™ä¸€ä¸ªç©ºå€¼åˆ°ç¼“å­˜é‡Œå»ï¼Œæ¯”å¦‚ set -999 UNKNOWNã€‚ç„¶åè®¾ç½®ä¸€ä¸ªè¿‡æœŸæ—¶é—´ï¼Œè¿™æ ·çš„è¯ï¼Œä¸‹æ¬¡æœ‰ç›¸åŒçš„ key æ¥è®¿é—®çš„æ—¶å€™ï¼Œåœ¨ç¼“å­˜å¤±æ•ˆä¹‹å‰ï¼Œéƒ½å¯ä»¥ç›´æ¥ä»ç¼“å­˜ä¸­å–æ•°æ®ã€‚ ç¼“å­˜å‡»ç©¿ç¼“å­˜å‡»ç©¿ï¼Œå°±æ˜¯è¯´æŸä¸ª key éå¸¸çƒ­ç‚¹ï¼Œè®¿é—®éå¸¸é¢‘ç¹ï¼Œå¤„äºé›†ä¸­å¼é«˜å¹¶å‘è®¿é—®çš„æƒ…å†µï¼Œå½“è¿™ä¸ª key åœ¨å¤±æ•ˆçš„ç¬é—´ï¼Œå¤§é‡çš„è¯·æ±‚å°±å‡»ç©¿äº†ç¼“å­˜ï¼Œç›´æ¥è¯·æ±‚æ•°æ®åº“ï¼Œå°±åƒæ˜¯åœ¨ä¸€é“å±éšœä¸Šå‡¿å¼€äº†ä¸€ä¸ªæ´ã€‚ è§£å†³æ–¹å¼ä¹Ÿå¾ˆç®€å•ï¼Œå¯ä»¥å°†çƒ­ç‚¹æ•°æ®è®¾ç½®ä¸ºæ°¸è¿œä¸è¿‡æœŸï¼›æˆ–è€…åŸºäº redis or zookeeper å®ç°äº’æ–¥é”ï¼Œç­‰å¾…ç¬¬ä¸€ä¸ªè¯·æ±‚æ„å»ºå®Œç¼“å­˜ä¹‹åï¼Œå†é‡Šæ”¾é”ï¼Œè¿›è€Œå…¶å®ƒè¯·æ±‚æ‰èƒ½é€šè¿‡è¯¥ key è®¿é—®æ•°æ®ã€‚","categories":[{"name":"ç¼“å­˜","slug":"ç¼“å­˜","permalink":"http://www.octber.xyz/categories/%E7%BC%93%E5%AD%98/"}],"tags":[{"name":"Redis","slug":"Redis","permalink":"http://www.octber.xyz/tags/Redis/"}]},{"title":"å¦‚ä½•ä¿è¯ç¼“å­˜ä¸æ•°æ®åº“çš„åŒå†™ä¸€è‡´æ€§?","slug":"å¦‚ä½•ä¿è¯ç¼“å­˜ä¸æ•°æ®åº“çš„åŒå†™ä¸€è‡´æ€§","date":"2019-09-11T10:51:16.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/09/11/å¦‚ä½•ä¿è¯ç¼“å­˜ä¸æ•°æ®åº“çš„åŒå†™ä¸€è‡´æ€§/","link":"","permalink":"http://www.octber.xyz/2019/09/11/%E5%A6%82%E4%BD%95%E4%BF%9D%E8%AF%81%E7%BC%93%E5%AD%98%E4%B8%8E%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%8F%8C%E5%86%99%E4%B8%80%E8%87%B4%E6%80%A7/","excerpt":"å‰è¨€ ç‰¹åˆ«é¸£è°¢ çŸ³æ‰çš„æ¶æ„ç¬”è®° å¦‚ä½•ä¿è¯ç¼“å­˜ä¸æ•°æ®åº“çš„åŒå†™ä¸€è‡´æ€§ï¼Ÿä½ åªè¦ç”¨ç¼“å­˜ï¼Œå°±å¯èƒ½ä¼šæ¶‰åŠåˆ°ç¼“å­˜ä¸æ•°æ®åº“åŒå­˜å‚¨åŒå†™ï¼Œä½ åªè¦æ˜¯åŒå†™ï¼Œå°±ä¸€å®šä¼šæœ‰æ•°æ®ä¸€è‡´æ€§çš„é—®é¢˜ï¼Œé‚£ä¹ˆä½ å¦‚ä½•è§£å†³ä¸€è‡´æ€§é—®é¢˜ï¼Ÿ","text":"å‰è¨€ ç‰¹åˆ«é¸£è°¢ çŸ³æ‰çš„æ¶æ„ç¬”è®° å¦‚ä½•ä¿è¯ç¼“å­˜ä¸æ•°æ®åº“çš„åŒå†™ä¸€è‡´æ€§ï¼Ÿä½ åªè¦ç”¨ç¼“å­˜ï¼Œå°±å¯èƒ½ä¼šæ¶‰åŠåˆ°ç¼“å­˜ä¸æ•°æ®åº“åŒå­˜å‚¨åŒå†™ï¼Œä½ åªè¦æ˜¯åŒå†™ï¼Œå°±ä¸€å®šä¼šæœ‰æ•°æ®ä¸€è‡´æ€§çš„é—®é¢˜ï¼Œé‚£ä¹ˆä½ å¦‚ä½•è§£å†³ä¸€è‡´æ€§é—®é¢˜ï¼Ÿ é—®é¢˜å‰–æä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœå…è®¸ç¼“å­˜å¯ä»¥ç¨å¾®çš„è·Ÿæ•°æ®åº“å¶å°”æœ‰ä¸ä¸€è‡´çš„æƒ…å†µï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœä½ çš„ç³»ç»Ÿä¸æ˜¯ä¸¥æ ¼è¦æ±‚ â€œç¼“å­˜+æ•°æ®åº“â€ å¿…é¡»ä¿æŒä¸€è‡´æ€§çš„è¯ï¼Œæœ€å¥½ä¸è¦åšè¿™ä¸ªæ–¹æ¡ˆï¼Œå³ï¼šè¯»è¯·æ±‚å’Œå†™è¯·æ±‚ä¸²è¡ŒåŒ–ï¼Œä¸²åˆ°ä¸€ä¸ªå†…å­˜é˜Ÿåˆ—é‡Œå»ã€‚ ä¸²è¡ŒåŒ–å¯ä»¥ä¿è¯ä¸€å®šä¸ä¼šå‡ºç°ä¸ä¸€è‡´çš„æƒ…å†µï¼Œä½†æ˜¯å®ƒä¹Ÿä¼šå¯¼è‡´ç³»ç»Ÿçš„ååé‡å¤§å¹…åº¦é™ä½ï¼Œç”¨æ¯”æ­£å¸¸æƒ…å†µä¸‹å¤šå‡ å€çš„æœºå™¨å»æ”¯æ’‘çº¿ä¸Šçš„ä¸€ä¸ªè¯·æ±‚ã€‚ Cache Aside Patternæœ€ç»å…¸çš„ç¼“å­˜+æ•°æ®åº“è¯»å†™çš„æ¨¡å¼ï¼Œå°±æ˜¯ Cache Aside Patternã€‚ è¯»çš„æ—¶å€™ï¼Œå…ˆè¯»ç¼“å­˜ï¼Œç¼“å­˜æ²¡æœ‰çš„è¯ï¼Œå°±è¯»æ•°æ®åº“ï¼Œç„¶åå–å‡ºæ•°æ®åæ”¾å…¥ç¼“å­˜ï¼ŒåŒæ—¶è¿”å›å“åº”ã€‚ æ›´æ–°çš„æ—¶å€™ï¼Œå…ˆæ›´æ–°æ•°æ®åº“ï¼Œç„¶åå†åˆ é™¤ç¼“å­˜ã€‚ ä¸ºä»€ä¹ˆæ˜¯åˆ é™¤ç¼“å­˜ï¼Œè€Œä¸æ˜¯æ›´æ–°ç¼“å­˜ï¼Ÿ åŸå› å¾ˆç®€å•ï¼Œå¾ˆå¤šæ—¶å€™ï¼Œåœ¨å¤æ‚ç‚¹çš„ç¼“å­˜åœºæ™¯ï¼Œç¼“å­˜ä¸å•å•æ˜¯æ•°æ®åº“ä¸­ç›´æ¥å–å‡ºæ¥çš„å€¼ã€‚ æ¯”å¦‚å¯èƒ½æ›´æ–°äº†æŸä¸ªè¡¨çš„ä¸€ä¸ªå­—æ®µï¼Œç„¶åå…¶å¯¹åº”çš„ç¼“å­˜ï¼Œæ˜¯éœ€è¦æŸ¥è¯¢å¦å¤–ä¸¤ä¸ªè¡¨çš„æ•°æ®å¹¶è¿›è¡Œè¿ç®—ï¼Œæ‰èƒ½è®¡ç®—å‡ºç¼“å­˜æœ€æ–°çš„å€¼çš„ã€‚ å¦å¤–æ›´æ–°ç¼“å­˜çš„ä»£ä»·æœ‰æ—¶å€™æ˜¯å¾ˆé«˜çš„ã€‚æ˜¯ä¸æ˜¯è¯´ï¼Œæ¯æ¬¡ä¿®æ”¹æ•°æ®åº“çš„æ—¶å€™ï¼Œéƒ½ä¸€å®šè¦å°†å…¶å¯¹åº”çš„ç¼“å­˜æ›´æ–°ä¸€ä»½ï¼Ÿä¹Ÿè®¸æœ‰çš„åœºæ™¯æ˜¯è¿™æ ·ï¼Œä½†æ˜¯å¯¹äºæ¯”è¾ƒå¤æ‚çš„ç¼“å­˜æ•°æ®è®¡ç®—çš„åœºæ™¯ï¼Œå°±ä¸æ˜¯è¿™æ ·äº†ã€‚å¦‚æœä½ é¢‘ç¹ä¿®æ”¹ä¸€ä¸ªç¼“å­˜æ¶‰åŠçš„å¤šä¸ªè¡¨ï¼Œç¼“å­˜ä¹Ÿé¢‘ç¹æ›´æ–°ã€‚ä½†æ˜¯é—®é¢˜åœ¨äºï¼Œè¿™ä¸ªç¼“å­˜åˆ°åº•ä¼šä¸ä¼šè¢«é¢‘ç¹è®¿é—®åˆ°ï¼Ÿ ä¸¾ä¸ªæ —å­ï¼Œä¸€ä¸ªç¼“å­˜æ¶‰åŠçš„è¡¨çš„å­—æ®µï¼Œåœ¨ 1 åˆ†é’Ÿå†…å°±ä¿®æ”¹äº† 20 æ¬¡ï¼Œæˆ–è€…æ˜¯ 100 æ¬¡ï¼Œé‚£ä¹ˆç¼“å­˜æ›´æ–° 20 æ¬¡ã€100 æ¬¡ï¼›ä½†æ˜¯è¿™ä¸ªç¼“å­˜åœ¨ 1 åˆ†é’Ÿå†…åªè¢«è¯»å–äº† 1 æ¬¡ï¼Œæœ‰å¤§é‡çš„å†·æ•°æ®ã€‚å®é™…ä¸Šï¼Œå¦‚æœä½ åªæ˜¯åˆ é™¤ç¼“å­˜çš„è¯ï¼Œé‚£ä¹ˆåœ¨ 1 åˆ†é’Ÿå†…ï¼Œè¿™ä¸ªç¼“å­˜ä¸è¿‡å°±é‡æ–°è®¡ç®—ä¸€æ¬¡è€Œå·²ï¼Œå¼€é”€å¤§å¹…åº¦é™ä½ã€‚ç”¨åˆ°ç¼“å­˜æ‰å»ç®—ç¼“å­˜ã€‚ å…¶å®åˆ é™¤ç¼“å­˜ï¼Œè€Œä¸æ˜¯æ›´æ–°ç¼“å­˜ï¼Œå°±æ˜¯ä¸€ä¸ª lazy è®¡ç®—çš„æ€æƒ³ï¼Œä¸è¦æ¯æ¬¡éƒ½é‡æ–°åšå¤æ‚çš„è®¡ç®—ï¼Œä¸ç®¡å®ƒä¼šä¸ä¼šç”¨åˆ°ï¼Œè€Œæ˜¯è®©å®ƒåˆ°éœ€è¦è¢«ä½¿ç”¨çš„æ—¶å€™å†é‡æ–°è®¡ç®—ã€‚åƒ mybatisï¼Œhibernateï¼Œéƒ½æœ‰æ‡’åŠ è½½æ€æƒ³ã€‚æŸ¥è¯¢ä¸€ä¸ªéƒ¨é—¨ï¼Œéƒ¨é—¨å¸¦äº†ä¸€ä¸ªå‘˜å·¥çš„ listï¼Œæ²¡æœ‰å¿…è¦è¯´æ¯æ¬¡æŸ¥è¯¢éƒ¨é—¨ï¼Œéƒ½æŠŠé‡Œé¢çš„ 1000 ä¸ªå‘˜å·¥çš„æ•°æ®ä¹ŸåŒæ—¶æŸ¥å‡ºæ¥å•Šã€‚80% çš„æƒ…å†µï¼ŒæŸ¥è¿™ä¸ªéƒ¨é—¨ï¼Œå°±åªæ˜¯è¦è®¿é—®è¿™ä¸ªéƒ¨é—¨çš„ä¿¡æ¯å°±å¯ä»¥äº†ã€‚å…ˆæŸ¥éƒ¨é—¨ï¼ŒåŒæ—¶è¦è®¿é—®é‡Œé¢çš„å‘˜å·¥ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™åªæœ‰åœ¨ä½ è¦è®¿é—®é‡Œé¢çš„å‘˜å·¥çš„æ—¶å€™ï¼Œæ‰ä¼šå»æ•°æ®åº“é‡Œé¢æŸ¥è¯¢ 1000 ä¸ªå‘˜å·¥ã€‚ æœ€åˆçº§çš„ç¼“å­˜ä¸ä¸€è‡´é—®é¢˜åŠè§£å†³æ–¹æ¡ˆé—®é¢˜ï¼šå…ˆæ›´æ–°æ•°æ®åº“ï¼Œå†åˆ é™¤ç¼“å­˜ã€‚å¦‚æœåˆ é™¤ç¼“å­˜å¤±è´¥äº†ï¼Œé‚£ä¹ˆä¼šå¯¼è‡´æ•°æ®åº“ä¸­æ˜¯æ–°æ•°æ®ï¼Œç¼“å­˜ä¸­æ˜¯æ—§æ•°æ®ï¼Œæ•°æ®å°±å‡ºç°äº†ä¸ä¸€è‡´ã€‚ è§£å†³æ€è·¯ï¼šå…ˆåˆ é™¤ç¼“å­˜ï¼Œå†æ›´æ–°æ•°æ®åº“ã€‚å¦‚æœæ•°æ®åº“æ›´æ–°å¤±è´¥äº†ï¼Œé‚£ä¹ˆæ•°æ®åº“ä¸­æ˜¯æ—§æ•°æ®ï¼Œç¼“å­˜ä¸­æ˜¯ç©ºçš„ï¼Œé‚£ä¹ˆæ•°æ®ä¸ä¼šä¸ä¸€è‡´ã€‚å› ä¸ºè¯»çš„æ—¶å€™ç¼“å­˜æ²¡æœ‰ï¼Œæ‰€ä»¥å»è¯»äº†æ•°æ®åº“ä¸­çš„æ—§æ•°æ®ï¼Œç„¶åæ›´æ–°åˆ°ç¼“å­˜ä¸­ã€‚ æ¯”è¾ƒå¤æ‚çš„æ•°æ®ä¸ä¸€è‡´é—®é¢˜åˆ†ææ•°æ®å‘ç”Ÿäº†å˜æ›´ï¼Œå…ˆåˆ é™¤äº†ç¼“å­˜ï¼Œç„¶åè¦å»ä¿®æ”¹æ•°æ®åº“ï¼Œæ­¤æ—¶è¿˜æ²¡ä¿®æ”¹ã€‚ä¸€ä¸ªè¯·æ±‚è¿‡æ¥ï¼Œå»è¯»ç¼“å­˜ï¼Œå‘ç°ç¼“å­˜ç©ºäº†ï¼Œå»æŸ¥è¯¢æ•°æ®åº“ï¼ŒæŸ¥åˆ°äº†ä¿®æ”¹å‰çš„æ—§æ•°æ®ï¼Œæ”¾åˆ°äº†ç¼“å­˜ä¸­ã€‚éšåæ•°æ®å˜æ›´çš„ç¨‹åºå®Œæˆäº†æ•°æ®åº“çš„ä¿®æ”¹ã€‚å®Œäº†ï¼Œæ•°æ®åº“å’Œç¼“å­˜ä¸­çš„æ•°æ®ä¸ä¸€æ ·äº†â€¦ ä¸ºä»€ä¹ˆä¸Šäº¿æµé‡é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼Œç¼“å­˜ä¼šå‡ºç°è¿™ä¸ªé—®é¢˜ï¼Ÿ åªæœ‰åœ¨å¯¹ä¸€ä¸ªæ•°æ®åœ¨å¹¶å‘çš„è¿›è¡Œè¯»å†™çš„æ—¶å€™ï¼Œæ‰å¯èƒ½ä¼šå‡ºç°è¿™ç§é—®é¢˜ã€‚å…¶å®å¦‚æœè¯´ä½ çš„å¹¶å‘é‡å¾ˆä½çš„è¯ï¼Œç‰¹åˆ«æ˜¯è¯»å¹¶å‘å¾ˆä½ï¼Œæ¯å¤©è®¿é—®é‡å°± 1 ä¸‡æ¬¡ï¼Œé‚£ä¹ˆå¾ˆå°‘çš„æƒ…å†µä¸‹ï¼Œä¼šå‡ºç°åˆšæ‰æè¿°çš„é‚£ç§ä¸ä¸€è‡´çš„åœºæ™¯ã€‚ä½†æ˜¯é—®é¢˜æ˜¯ï¼Œå¦‚æœæ¯å¤©çš„æ˜¯ä¸Šäº¿çš„æµé‡ï¼Œæ¯ç§’å¹¶å‘è¯»æ˜¯å‡ ä¸‡ï¼Œæ¯ç§’åªè¦æœ‰æ•°æ®æ›´æ–°çš„è¯·æ±‚ï¼Œå°±å¯èƒ½ä¼šå‡ºç°ä¸Šè¿°çš„æ•°æ®åº“+ç¼“å­˜ä¸ä¸€è‡´çš„æƒ…å†µã€‚ è§£å†³æ–¹æ¡ˆå¦‚ä¸‹ï¼š æ›´æ–°æ•°æ®çš„æ—¶å€™ï¼Œæ ¹æ®æ•°æ®çš„å”¯ä¸€æ ‡è¯†ï¼Œå°†æ“ä½œè·¯ç”±ä¹‹åï¼Œå‘é€åˆ°ä¸€ä¸ª jvm å†…éƒ¨é˜Ÿåˆ—ä¸­ã€‚è¯»å–æ•°æ®çš„æ—¶å€™ï¼Œå¦‚æœå‘ç°æ•°æ®ä¸åœ¨ç¼“å­˜ä¸­ï¼Œé‚£ä¹ˆå°†é‡æ–°è¯»å–æ•°æ®+æ›´æ–°ç¼“å­˜çš„æ“ä½œï¼Œæ ¹æ®å”¯ä¸€æ ‡è¯†è·¯ç”±ä¹‹åï¼Œä¹Ÿå‘é€åŒä¸€ä¸ª jvm å†…éƒ¨é˜Ÿåˆ—ä¸­ã€‚ ä¸€ä¸ªé˜Ÿåˆ—å¯¹åº”ä¸€ä¸ªå·¥ä½œçº¿ç¨‹ï¼Œæ¯ä¸ªå·¥ä½œçº¿ç¨‹ä¸²è¡Œæ‹¿åˆ°å¯¹åº”çš„æ“ä½œï¼Œç„¶åä¸€æ¡ä¸€æ¡çš„æ‰§è¡Œã€‚è¿™æ ·çš„è¯ï¼Œä¸€ä¸ªæ•°æ®å˜æ›´çš„æ“ä½œï¼Œå…ˆåˆ é™¤ç¼“å­˜ï¼Œç„¶åå†å»æ›´æ–°æ•°æ®åº“ï¼Œä½†æ˜¯è¿˜æ²¡å®Œæˆæ›´æ–°ã€‚æ­¤æ—¶å¦‚æœä¸€ä¸ªè¯»è¯·æ±‚è¿‡æ¥ï¼Œæ²¡æœ‰è¯»åˆ°ç¼“å­˜ï¼Œé‚£ä¹ˆå¯ä»¥å…ˆå°†ç¼“å­˜æ›´æ–°çš„è¯·æ±‚å‘é€åˆ°é˜Ÿåˆ—ä¸­ï¼Œæ­¤æ—¶ä¼šåœ¨é˜Ÿåˆ—ä¸­ç§¯å‹ï¼Œç„¶ååŒæ­¥ç­‰å¾…ç¼“å­˜æ›´æ–°å®Œæˆã€‚ è¿™é‡Œæœ‰ä¸€ä¸ªä¼˜åŒ–ç‚¹ï¼Œä¸€ä¸ªé˜Ÿåˆ—ä¸­ï¼Œå…¶å®å¤šä¸ªæ›´æ–°ç¼“å­˜è¯·æ±‚ä¸²åœ¨ä¸€èµ·æ˜¯æ²¡æ„ä¹‰çš„ï¼Œå› æ­¤å¯ä»¥åšè¿‡æ»¤ï¼Œå¦‚æœå‘ç°é˜Ÿåˆ—ä¸­å·²ç»æœ‰ä¸€ä¸ªæ›´æ–°ç¼“å­˜çš„è¯·æ±‚äº†ï¼Œé‚£ä¹ˆå°±ä¸ç”¨å†æ”¾ä¸ªæ›´æ–°è¯·æ±‚æ“ä½œè¿›å»äº†ï¼Œç›´æ¥ç­‰å¾…å‰é¢çš„æ›´æ–°æ“ä½œè¯·æ±‚å®Œæˆå³å¯ã€‚ å¾…é‚£ä¸ªé˜Ÿåˆ—å¯¹åº”çš„å·¥ä½œçº¿ç¨‹å®Œæˆäº†ä¸Šä¸€ä¸ªæ“ä½œçš„æ•°æ®åº“çš„ä¿®æ”¹ä¹‹åï¼Œæ‰ä¼šå»æ‰§è¡Œä¸‹ä¸€ä¸ªæ“ä½œï¼Œä¹Ÿå°±æ˜¯ç¼“å­˜æ›´æ–°çš„æ“ä½œï¼Œæ­¤æ—¶ä¼šä»æ•°æ®åº“ä¸­è¯»å–æœ€æ–°çš„å€¼ï¼Œç„¶åå†™å…¥ç¼“å­˜ä¸­ã€‚ å¦‚æœè¯·æ±‚è¿˜åœ¨ç­‰å¾…æ—¶é—´èŒƒå›´å†…ï¼Œä¸æ–­è½®è¯¢å‘ç°å¯ä»¥å–åˆ°å€¼äº†ï¼Œé‚£ä¹ˆå°±ç›´æ¥è¿”å›ï¼›å¦‚æœè¯·æ±‚ç­‰å¾…çš„æ—¶é—´è¶…è¿‡ä¸€å®šæ—¶é•¿ï¼Œé‚£ä¹ˆè¿™ä¸€æ¬¡ç›´æ¥ä»æ•°æ®åº“ä¸­è¯»å–å½“å‰çš„æ—§å€¼ã€‚ é«˜å¹¶å‘çš„åœºæ™¯ä¸‹ï¼Œè¯¥è§£å†³æ–¹æ¡ˆè¦æ³¨æ„çš„é—®é¢˜ï¼š è¯»è¯·æ±‚é•¿æ—¶é˜»å¡ ç”±äºè¯»è¯·æ±‚è¿›è¡Œäº†éå¸¸è½»åº¦çš„å¼‚æ­¥åŒ–ï¼Œæ‰€ä»¥ä¸€å®šè¦æ³¨æ„è¯»è¶…æ—¶çš„é—®é¢˜ï¼Œæ¯ä¸ªè¯»è¯·æ±‚å¿…é¡»åœ¨è¶…æ—¶æ—¶é—´èŒƒå›´å†…è¿”å›ã€‚ è¯¥è§£å†³æ–¹æ¡ˆï¼Œæœ€å¤§çš„é£é™©ç‚¹åœ¨äºè¯´ï¼Œå¯èƒ½æ•°æ®æ›´æ–°å¾ˆé¢‘ç¹ï¼Œå¯¼è‡´é˜Ÿåˆ—ä¸­ç§¯å‹äº†å¤§é‡æ›´æ–°æ“ä½œåœ¨é‡Œé¢ï¼Œç„¶åè¯»è¯·æ±‚ä¼šå‘ç”Ÿå¤§é‡çš„è¶…æ—¶ï¼Œæœ€åå¯¼è‡´å¤§é‡çš„è¯·æ±‚ç›´æ¥èµ°æ•°æ®åº“ã€‚åŠ¡å¿…é€šè¿‡ä¸€äº›æ¨¡æ‹ŸçœŸå®çš„æµ‹è¯•ï¼Œçœ‹çœ‹æ›´æ–°æ•°æ®çš„é¢‘ç‡æ˜¯æ€æ ·çš„ã€‚ å¦å¤–ä¸€ç‚¹ï¼Œå› ä¸ºä¸€ä¸ªé˜Ÿåˆ—ä¸­ï¼Œå¯èƒ½ä¼šç§¯å‹é’ˆå¯¹å¤šä¸ªæ•°æ®é¡¹çš„æ›´æ–°æ“ä½œï¼Œå› æ­¤éœ€è¦æ ¹æ®è‡ªå·±çš„ä¸šåŠ¡æƒ…å†µè¿›è¡Œæµ‹è¯•ï¼Œå¯èƒ½éœ€è¦éƒ¨ç½²å¤šä¸ªæœåŠ¡ï¼Œæ¯ä¸ªæœåŠ¡åˆ†æ‘Šä¸€äº›æ•°æ®çš„æ›´æ–°æ“ä½œã€‚å¦‚æœä¸€ä¸ªå†…å­˜é˜Ÿåˆ—é‡Œå±…ç„¶ä¼šæŒ¤å‹ 100 ä¸ªå•†å“çš„åº“å­˜ä¿®æ”¹æ“ä½œï¼Œæ¯ä¸ªåº“å­˜ä¿®æ”¹æ“ä½œè¦è€—è´¹ 10ms å»å®Œæˆï¼Œé‚£ä¹ˆæœ€åä¸€ä¸ªå•†å“çš„è¯»è¯·æ±‚ï¼Œå¯èƒ½ç­‰å¾… 10 * 100 = 1000ms = 1s åï¼Œæ‰èƒ½å¾—åˆ°æ•°æ®ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯¼è‡´è¯»è¯·æ±‚çš„é•¿æ—¶é˜»å¡ã€‚ ä¸€å®šè¦åšæ ¹æ®å®é™…ä¸šåŠ¡ç³»ç»Ÿçš„è¿è¡Œæƒ…å†µï¼Œå»è¿›è¡Œä¸€äº›å‹åŠ›æµ‹è¯•ï¼Œå’Œæ¨¡æ‹Ÿçº¿ä¸Šç¯å¢ƒï¼Œå»çœ‹çœ‹æœ€ç¹å¿™çš„æ—¶å€™ï¼Œå†…å­˜é˜Ÿåˆ—å¯èƒ½ä¼šæŒ¤å‹å¤šå°‘æ›´æ–°æ“ä½œï¼Œå¯èƒ½ä¼šå¯¼è‡´æœ€åä¸€ä¸ªæ›´æ–°æ“ä½œå¯¹åº”çš„è¯»è¯·æ±‚ï¼Œä¼š hang å¤šå°‘æ—¶é—´ï¼Œå¦‚æœè¯»è¯·æ±‚åœ¨ 200ms è¿”å›ï¼Œå¦‚æœä½ è®¡ç®—è¿‡åï¼Œå“ªæ€•æ˜¯æœ€ç¹å¿™çš„æ—¶å€™ï¼Œç§¯å‹ 10 ä¸ªæ›´æ–°æ“ä½œï¼Œæœ€å¤šç­‰å¾… 200msï¼Œé‚£è¿˜å¯ä»¥çš„ã€‚ å¦‚æœä¸€ä¸ªå†…å­˜é˜Ÿåˆ—ä¸­å¯èƒ½ç§¯å‹çš„æ›´æ–°æ“ä½œç‰¹åˆ«å¤šï¼Œé‚£ä¹ˆä½ å°±è¦åŠ æœºå™¨ï¼Œè®©æ¯ä¸ªæœºå™¨ä¸Šéƒ¨ç½²çš„æœåŠ¡å®ä¾‹å¤„ç†æ›´å°‘çš„æ•°æ®ï¼Œé‚£ä¹ˆæ¯ä¸ªå†…å­˜é˜Ÿåˆ—ä¸­ç§¯å‹çš„æ›´æ–°æ“ä½œå°±ä¼šè¶Šå°‘ã€‚ å…¶å®æ ¹æ®ä¹‹å‰çš„é¡¹ç›®ç»éªŒï¼Œä¸€èˆ¬æ¥è¯´ï¼Œæ•°æ®çš„å†™é¢‘ç‡æ˜¯å¾ˆä½çš„ï¼Œå› æ­¤å®é™…ä¸Šæ­£å¸¸æ¥è¯´ï¼Œåœ¨é˜Ÿåˆ—ä¸­ç§¯å‹çš„æ›´æ–°æ“ä½œåº”è¯¥æ˜¯å¾ˆå°‘çš„ã€‚åƒè¿™ç§é’ˆå¯¹è¯»é«˜å¹¶å‘ã€è¯»ç¼“å­˜æ¶æ„çš„é¡¹ç›®ï¼Œä¸€èˆ¬æ¥è¯´å†™è¯·æ±‚æ˜¯éå¸¸å°‘çš„ï¼Œæ¯ç§’çš„ QPS èƒ½åˆ°å‡ ç™¾å°±ä¸é”™äº†ã€‚ æˆ‘ä»¬æ¥å®é™…ç²—ç•¥æµ‹ç®—ä¸€ä¸‹ã€‚ å¦‚æœä¸€ç§’æœ‰ 500 çš„å†™æ“ä½œï¼Œå¦‚æœåˆ†æˆ 5 ä¸ªæ—¶é—´ç‰‡ï¼Œæ¯ 200ms å°± 100 ä¸ªå†™æ“ä½œï¼Œæ”¾åˆ° 20 ä¸ªå†…å­˜é˜Ÿåˆ—ä¸­ï¼Œæ¯ä¸ªå†…å­˜é˜Ÿåˆ—ï¼Œå¯èƒ½å°±ç§¯å‹ 5 ä¸ªå†™æ“ä½œã€‚æ¯ä¸ªå†™æ“ä½œæ€§èƒ½æµ‹è¯•åï¼Œä¸€èˆ¬æ˜¯åœ¨ 20ms å·¦å³å°±å®Œæˆï¼Œé‚£ä¹ˆé’ˆå¯¹æ¯ä¸ªå†…å­˜é˜Ÿåˆ—çš„æ•°æ®çš„è¯»è¯·æ±‚ï¼Œä¹Ÿå°±æœ€å¤š hang ä¸€ä¼šå„¿ï¼Œ200ms ä»¥å†…è‚¯å®šèƒ½è¿”å›äº†ã€‚ ç»è¿‡åˆšæ‰ç®€å•çš„æµ‹ç®—ï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œå•æœºæ”¯æ’‘çš„å†™ QPS åœ¨å‡ ç™¾æ˜¯æ²¡é—®é¢˜çš„ï¼Œå¦‚æœå†™ QPS æ‰©å¤§äº† 10 å€ï¼Œé‚£ä¹ˆå°±æ‰©å®¹æœºå™¨ï¼Œæ‰©å®¹ 10 å€çš„æœºå™¨ï¼Œæ¯ä¸ªæœºå™¨ 20 ä¸ªé˜Ÿåˆ—ã€‚ è¯»è¯·æ±‚å¹¶å‘é‡è¿‡é«˜ è¿™é‡Œè¿˜å¿…é¡»åšå¥½å‹åŠ›æµ‹è¯•ï¼Œç¡®ä¿æ°å·§ç¢°ä¸Šä¸Šè¿°æƒ…å†µçš„æ—¶å€™ï¼Œè¿˜æœ‰ä¸€ä¸ªé£é™©ï¼Œå°±æ˜¯çªç„¶é—´å¤§é‡è¯»è¯·æ±‚ä¼šåœ¨å‡ åæ¯«ç§’çš„å»¶æ—¶ hang åœ¨æœåŠ¡ä¸Šï¼Œçœ‹æœåŠ¡èƒ½ä¸èƒ½æ‰›çš„ä½ï¼Œéœ€è¦å¤šå°‘æœºå™¨æ‰èƒ½æ‰›ä½æœ€å¤§çš„æé™æƒ…å†µçš„å³°å€¼ã€‚ ä½†æ˜¯å› ä¸ºå¹¶ä¸æ˜¯æ‰€æœ‰çš„æ•°æ®éƒ½åœ¨åŒä¸€æ—¶é—´æ›´æ–°ï¼Œç¼“å­˜ä¹Ÿä¸ä¼šåŒä¸€æ—¶é—´å¤±æ•ˆï¼Œæ‰€ä»¥æ¯æ¬¡å¯èƒ½ä¹Ÿå°±æ˜¯å°‘æ•°æ•°æ®çš„ç¼“å­˜å¤±æ•ˆäº†ï¼Œç„¶åé‚£äº›æ•°æ®å¯¹åº”çš„è¯»è¯·æ±‚è¿‡æ¥ï¼Œå¹¶å‘é‡åº”è¯¥ä¹Ÿä¸ä¼šç‰¹åˆ«å¤§ã€‚ å¤šæœåŠ¡å®ä¾‹éƒ¨ç½²çš„è¯·æ±‚è·¯ç”± å¯èƒ½è¿™ä¸ªæœåŠ¡éƒ¨ç½²äº†å¤šä¸ªå®ä¾‹ï¼Œé‚£ä¹ˆå¿…é¡»ä¿è¯è¯´ï¼Œæ‰§è¡Œæ•°æ®æ›´æ–°æ“ä½œï¼Œä»¥åŠæ‰§è¡Œç¼“å­˜æ›´æ–°æ“ä½œçš„è¯·æ±‚ï¼Œéƒ½é€šè¿‡ Nginx æœåŠ¡å™¨è·¯ç”±åˆ°ç›¸åŒçš„æœåŠ¡å®ä¾‹ä¸Šã€‚ æ¯”å¦‚è¯´ï¼Œå¯¹åŒä¸€ä¸ªå•†å“çš„è¯»å†™è¯·æ±‚ï¼Œå…¨éƒ¨è·¯ç”±åˆ°åŒä¸€å°æœºå™¨ä¸Šã€‚å¯ä»¥è‡ªå·±å»åšæœåŠ¡é—´çš„æŒ‰ç…§æŸä¸ªè¯·æ±‚å‚æ•°çš„ hash è·¯ç”±ï¼Œä¹Ÿå¯ä»¥ç”¨ Nginx çš„ hash è·¯ç”±åŠŸèƒ½ç­‰ç­‰ã€‚ çƒ­ç‚¹å•†å“çš„è·¯ç”±é—®é¢˜ï¼Œå¯¼è‡´è¯·æ±‚çš„å€¾æ–œ ä¸‡ä¸€æŸä¸ªå•†å“çš„è¯»å†™è¯·æ±‚ç‰¹åˆ«é«˜ï¼Œå…¨éƒ¨æ‰“åˆ°ç›¸åŒçš„æœºå™¨çš„ç›¸åŒçš„é˜Ÿåˆ—é‡Œé¢å»äº†ï¼Œå¯èƒ½ä¼šé€ æˆæŸå°æœºå™¨çš„å‹åŠ›è¿‡å¤§ã€‚å°±æ˜¯è¯´ï¼Œå› ä¸ºåªæœ‰åœ¨å•†å“æ•°æ®æ›´æ–°çš„æ—¶å€™æ‰ä¼šæ¸…ç©ºç¼“å­˜ï¼Œç„¶åæ‰ä¼šå¯¼è‡´è¯»å†™å¹¶å‘ï¼Œæ‰€ä»¥å…¶å®è¦æ ¹æ®ä¸šåŠ¡ç³»ç»Ÿå»çœ‹ï¼Œå¦‚æœæ›´æ–°é¢‘ç‡ä¸æ˜¯å¤ªé«˜çš„è¯ï¼Œè¿™ä¸ªé—®é¢˜çš„å½±å“å¹¶ä¸æ˜¯ç‰¹åˆ«å¤§ï¼Œä½†æ˜¯çš„ç¡®å¯èƒ½æŸäº›æœºå™¨çš„è´Ÿè½½ä¼šé«˜ä¸€äº›ã€‚","categories":[{"name":"ç¼“å­˜","slug":"ç¼“å­˜","permalink":"http://www.octber.xyz/categories/%E7%BC%93%E5%AD%98/"}],"tags":[{"name":"ç¼“å­˜","slug":"ç¼“å­˜","permalink":"http://www.octber.xyz/tags/%E7%BC%93%E5%AD%98/"}]},{"title":"æˆ‘ä»¬ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ç¼“å­˜æœºåˆ¶ï¼Ÿ","slug":"æˆ‘ä»¬ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ç¼“å­˜æœºåˆ¶ï¼Ÿ","date":"2019-09-11T10:42:08.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/09/11/æˆ‘ä»¬ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ç¼“å­˜æœºåˆ¶ï¼Ÿ/","link":"","permalink":"http://www.octber.xyz/2019/09/11/%E6%88%91%E4%BB%AC%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8%E7%BC%93%E5%AD%98%E6%9C%BA%E5%88%B6%EF%BC%9F/","excerpt":"å‰è¨€ ç‰¹åˆ«é¸£è°¢ çŸ³æ‰çš„æ¶æ„ç¬”è®° é¡¹ç›®ä¸­ç¼“å­˜æ˜¯å¦‚ä½•ä½¿ç”¨çš„ï¼Ÿä¸ºä»€ä¹ˆè¦ç”¨ç¼“å­˜ï¼Ÿç¼“å­˜ä½¿ç”¨ä¸å½“ä¼šé€ æˆä»€ä¹ˆåæœï¼Ÿ","text":"å‰è¨€ ç‰¹åˆ«é¸£è°¢ çŸ³æ‰çš„æ¶æ„ç¬”è®° é¡¹ç›®ä¸­ç¼“å­˜æ˜¯å¦‚ä½•ä½¿ç”¨çš„ï¼Ÿä¸ºä»€ä¹ˆè¦ç”¨ç¼“å­˜ï¼Ÿç¼“å­˜ä½¿ç”¨ä¸å½“ä¼šé€ æˆä»€ä¹ˆåæœï¼Ÿ é¢è¯•å®˜å¿ƒç†åˆ†æè¿™ä¸ªé—®é¢˜ï¼Œäº’è”ç½‘å…¬å¸å¿…é—®ï¼Œè¦æ˜¯ä¸€ä¸ªäººè¿ç¼“å­˜éƒ½ä¸å¤ªæ¸…æ¥šï¼Œé‚£ç¡®å®æ¯”è¾ƒå°´å°¬ã€‚ åªè¦é—®åˆ°ç¼“å­˜ï¼Œä¸Šæ¥ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œè‚¯å®šæ˜¯å…ˆé—®é—®ä½ é¡¹ç›®å“ªé‡Œç”¨äº†ç¼“å­˜ï¼Ÿä¸ºå•¥è¦ç”¨ï¼Ÿä¸ç”¨è¡Œä¸è¡Œï¼Ÿå¦‚æœç”¨äº†ä»¥åå¯èƒ½ä¼šæœ‰ä»€ä¹ˆä¸è‰¯çš„åæœï¼Ÿ è¿™å°±æ˜¯çœ‹çœ‹ä½ å¯¹ç¼“å­˜è¿™ä¸ªä¸œè¥¿èƒŒåæœ‰æ²¡æœ‰æ€è€ƒï¼Œå¦‚æœä½ å°±æ˜¯å‚»ä¹ä¹çš„çç”¨ï¼Œæ²¡æ³•ç»™é¢è¯•å®˜ä¸€ä¸ªåˆç†çš„è§£ç­”ï¼Œé‚£é¢è¯•å®˜å¯¹ä½ å°è±¡è‚¯å®šä¸å¤ªå¥½ï¼Œè§‰å¾—ä½ å¹³æ—¶æ€è€ƒå¤ªå°‘ï¼Œå°±çŸ¥é“å¹²æ´»å„¿ã€‚ é¢è¯•é¢˜å‰–æé¡¹ç›®ä¸­ç¼“å­˜æ˜¯å¦‚ä½•ä½¿ç”¨çš„ï¼Ÿè¿™ä¸ªï¼Œéœ€è¦ç»“åˆè‡ªå·±é¡¹ç›®çš„ä¸šåŠ¡æ¥ã€‚ æˆ‘ï¼šç”¨ç¼“å­˜çš„ç›®çš„å¾ˆç®€å•ï¼Œä¸ºäº†é«˜æ€§èƒ½å’Œé«˜å¹¶å‘ï¼Œç”±äºç¼“å­˜æ˜¯èµ°å†…å­˜çš„ï¼Œå†…å­˜å¤©ç„¶å°±æ”¯æ’‘é«˜å¹¶å‘ã€‚åœ¨æˆ‘çš„é¡¹ç›®ä¸­é‡‡ç”¨Redisè¿›è¡Œç¼“å­˜å¤„ç†ï¼Œç”±äºç”¨æˆ·å¾ˆå¤šæ•°æ®åœ¨è¯·æ±‚ä¸€æ¬¡è¿‡åå¾ˆé•¿æ—¶é—´å‡ ä¹ä¸ä¼šå‘ç”Ÿæ”¹å˜ï¼Œé’ˆå¯¹è¿™äº›æ•°æ®åˆç†ä½¿ç”¨ç¼“å­˜å°±å¯ä»¥ä¼˜åŒ–ç”¨æˆ·å‰ç«¯çš„ä½¿ç”¨ä½“éªŒã€‚ ä¸ºä»€ä¹ˆè¦ç”¨ç¼“å­˜ï¼Ÿç”¨ç¼“å­˜ï¼Œä¸»è¦æœ‰ä¸¤ä¸ªç”¨é€”ï¼šé«˜æ€§èƒ½ã€é«˜å¹¶å‘ã€‚ é«˜æ€§èƒ½å‡è®¾è¿™ä¹ˆä¸ªåœºæ™¯ï¼Œä½ æœ‰ä¸ªæ“ä½œï¼Œä¸€ä¸ªè¯·æ±‚è¿‡æ¥ï¼Œå­å“§å­å“§ä½ å„ç§ä¹±ä¸ƒå…«ç³Ÿæ“ä½œ mysqlï¼ŒåŠå¤©æŸ¥å‡ºæ¥ä¸€ä¸ªç»“æœï¼Œè€—æ—¶ 600msã€‚ä½†æ˜¯è¿™ä¸ªç»“æœå¯èƒ½æ¥ä¸‹æ¥å‡ ä¸ªå°æ—¶éƒ½ä¸ä¼šå˜äº†ï¼Œæˆ–è€…å˜äº†ä¹Ÿå¯ä»¥ä¸ç”¨ç«‹å³åé¦ˆç»™ç”¨æˆ·ã€‚é‚£ä¹ˆæ­¤æ—¶å’‹åŠï¼Ÿ ç¼“å­˜å•Šï¼ŒæŠ˜è…¾ 600ms æŸ¥å‡ºæ¥çš„ç»“æœï¼Œæ‰”ç¼“å­˜é‡Œï¼Œä¸€ä¸ª key å¯¹åº”ä¸€ä¸ª valueï¼Œä¸‹æ¬¡å†æœ‰äººæŸ¥ï¼Œåˆ«èµ° mysql æŠ˜è…¾ 600ms äº†ï¼Œç›´æ¥ä»ç¼“å­˜é‡Œï¼Œé€šè¿‡ä¸€ä¸ª key æŸ¥å‡ºæ¥ä¸€ä¸ª valueï¼Œ2ms æå®šã€‚æ€§èƒ½æå‡ 300 å€ã€‚ å°±æ˜¯è¯´å¯¹äºä¸€äº›éœ€è¦å¤æ‚æ“ä½œè€—æ—¶æŸ¥å‡ºæ¥çš„ç»“æœï¼Œä¸”ç¡®å®šåé¢ä¸æ€ä¹ˆå˜åŒ–ï¼Œä½†æ˜¯æœ‰å¾ˆå¤šè¯»è¯·æ±‚ï¼Œé‚£ä¹ˆç›´æ¥å°†æŸ¥è¯¢å‡ºæ¥çš„ç»“æœæ”¾åœ¨ç¼“å­˜ä¸­ï¼Œåé¢ç›´æ¥è¯»ç¼“å­˜å°±å¥½ã€‚ é«˜å¹¶å‘mysql è¿™ä¹ˆé‡çš„æ•°æ®åº“ï¼Œå‹æ ¹å„¿è®¾è®¡ä¸æ˜¯è®©ä½ ç©å„¿é«˜å¹¶å‘çš„ï¼Œè™½ç„¶ä¹Ÿå¯ä»¥ç©å„¿ï¼Œä½†æ˜¯å¤©ç„¶æ”¯æŒä¸å¥½ã€‚mysql å•æœºæ”¯æ’‘åˆ° 2000QPS ä¹Ÿå¼€å§‹å®¹æ˜“æŠ¥è­¦äº†ã€‚ æ‰€ä»¥è¦æ˜¯ä½ æœ‰ä¸ªç³»ç»Ÿï¼Œé«˜å³°æœŸä¸€ç§’é’Ÿè¿‡æ¥çš„è¯·æ±‚æœ‰ 1ä¸‡ï¼Œé‚£ä¸€ä¸ª mysql å•æœºç»å¯¹ä¼šæ­»æ‰ã€‚ä½ è¿™ä¸ªæ—¶å€™å°±åªèƒ½ä¸Šç¼“å­˜ï¼ŒæŠŠå¾ˆå¤šæ•°æ®æ”¾ç¼“å­˜ï¼Œåˆ«æ”¾ mysqlã€‚ç¼“å­˜åŠŸèƒ½ç®€å•ï¼Œè¯´ç™½äº†å°±æ˜¯ key-value å¼æ“ä½œï¼Œå•æœºæ”¯æ’‘çš„å¹¶å‘é‡è½»æ¾ä¸€ç§’å‡ ä¸‡åå‡ ä¸‡ï¼Œæ”¯æ’‘é«˜å¹¶å‘ so easyã€‚å•æœºæ‰¿è½½å¹¶å‘é‡æ˜¯ mysql å•æœºçš„å‡ åå€ã€‚ ç¼“å­˜æ˜¯èµ°å†…å­˜çš„ï¼Œå†…å­˜å¤©ç„¶å°±æ”¯æ’‘é«˜å¹¶å‘ã€‚ ç”¨äº†ç¼“å­˜ä¹‹åä¼šæœ‰ä»€ä¹ˆä¸è‰¯åæœï¼Ÿå¸¸è§çš„ç¼“å­˜é—®é¢˜æœ‰ä»¥ä¸‹å‡ ä¸ªï¼š ç¼“å­˜ä¸æ•°æ®åº“åŒå†™ä¸ä¸€è‡´ ç¼“å­˜é›ªå´©ã€ç¼“å­˜ç©¿é€ ç¼“å­˜å¹¶å‘ç«äº‰ åé¢å†è¯¦ç»†è¯´æ˜ã€‚","categories":[{"name":"ç¼“å­˜","slug":"ç¼“å­˜","permalink":"http://www.octber.xyz/categories/%E7%BC%93%E5%AD%98/"}],"tags":[{"name":"ç¼“å­˜","slug":"ç¼“å­˜","permalink":"http://www.octber.xyz/tags/%E7%BC%93%E5%AD%98/"}]},{"title":"æ¶ˆæ¯é˜Ÿåˆ—çš„é¡ºåºæ€§é—®é¢˜","slug":"æ¶ˆæ¯é˜Ÿåˆ—çš„é¡ºåºæ€§é—®é¢˜","date":"2019-09-11T10:18:25.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/09/11/æ¶ˆæ¯é˜Ÿåˆ—çš„é¡ºåºæ€§é—®é¢˜/","link":"","permalink":"http://www.octber.xyz/2019/09/11/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%E7%9A%84%E9%A1%BA%E5%BA%8F%E6%80%A7%E9%97%AE%E9%A2%98/","excerpt":"å‰è¨€ ç‰¹åˆ«é¸£è°¢ çŸ³æ‰çš„æ¶æ„ç¬”è®° å…¶å®è¿™ä¸ªä¹Ÿæ˜¯ç”¨ MQ çš„æ—¶å€™å¿…é—®çš„è¯é¢˜ï¼Œç¬¬ä¸€çœ‹çœ‹ä½ äº†ä¸äº†è§£é¡ºåºè¿™ä¸ªäº‹å„¿ï¼Ÿç¬¬äºŒçœ‹çœ‹ä½ æœ‰æ²¡æœ‰åŠæ³•ä¿è¯æ¶ˆæ¯æ˜¯æœ‰é¡ºåºçš„ï¼Ÿè¿™æ˜¯ç”Ÿäº§ç³»ç»Ÿä¸­å¸¸è§çš„é—®é¢˜ã€‚","text":"å‰è¨€ ç‰¹åˆ«é¸£è°¢ çŸ³æ‰çš„æ¶æ„ç¬”è®° å…¶å®è¿™ä¸ªä¹Ÿæ˜¯ç”¨ MQ çš„æ—¶å€™å¿…é—®çš„è¯é¢˜ï¼Œç¬¬ä¸€çœ‹çœ‹ä½ äº†ä¸äº†è§£é¡ºåºè¿™ä¸ªäº‹å„¿ï¼Ÿç¬¬äºŒçœ‹çœ‹ä½ æœ‰æ²¡æœ‰åŠæ³•ä¿è¯æ¶ˆæ¯æ˜¯æœ‰é¡ºåºçš„ï¼Ÿè¿™æ˜¯ç”Ÿäº§ç³»ç»Ÿä¸­å¸¸è§çš„é—®é¢˜ã€‚ é—®é¢˜åœºæ™¯å…ˆçœ‹çœ‹é¡ºåºä¼šé”™ä¹±çš„ä¿©åœºæ™¯ï¼š RabbitMQï¼šä¸€ä¸ª queueï¼Œå¤šä¸ª consumerã€‚æ¯”å¦‚ï¼Œç”Ÿäº§è€…å‘ RabbitMQ é‡Œå‘é€äº†ä¸‰æ¡æ•°æ®ï¼Œé¡ºåºä¾æ¬¡æ˜¯ data1/data2/data3ï¼Œå‹å…¥çš„æ˜¯ RabbitMQ çš„ä¸€ä¸ªå†…å­˜é˜Ÿåˆ—ã€‚æœ‰ä¸‰ä¸ªæ¶ˆè´¹è€…åˆ†åˆ«ä» MQ ä¸­æ¶ˆè´¹è¿™ä¸‰æ¡æ•°æ®ä¸­çš„ä¸€æ¡ï¼Œç»“æœæ¶ˆè´¹è€…2å…ˆæ‰§è¡Œå®Œæ“ä½œï¼ŒæŠŠ data2 å­˜å…¥æ•°æ®åº“ï¼Œç„¶åæ˜¯ data1/data3ã€‚è¿™ä¸æ˜æ˜¾ä¹±äº†ã€‚ Kafkaï¼šæ¯”å¦‚è¯´æˆ‘ä»¬å»ºäº†ä¸€ä¸ª topicï¼Œæœ‰ä¸‰ä¸ª partitionã€‚ç”Ÿäº§è€…åœ¨å†™çš„æ—¶å€™ï¼Œå…¶å®å¯ä»¥æŒ‡å®šä¸€ä¸ª keyï¼Œæ¯”å¦‚è¯´æˆ‘ä»¬æŒ‡å®šäº†æŸä¸ªè®¢å• id ä½œä¸º keyï¼Œé‚£ä¹ˆè¿™ä¸ªè®¢å•ç›¸å…³çš„æ•°æ®ï¼Œä¸€å®šä¼šè¢«åˆ†å‘åˆ°åŒä¸€ä¸ª partition ä¸­å»ï¼Œè€Œä¸”è¿™ä¸ª partition ä¸­çš„æ•°æ®ä¸€å®šæ˜¯æœ‰é¡ºåºçš„ã€‚æ¶ˆè´¹è€…ä» partition ä¸­å–å‡ºæ¥æ•°æ®çš„æ—¶å€™ï¼Œä¹Ÿä¸€å®šæ˜¯æœ‰é¡ºåºçš„ã€‚åˆ°è¿™é‡Œï¼Œé¡ºåºè¿˜æ˜¯ ok çš„ï¼Œæ²¡æœ‰é”™ä¹±ã€‚æ¥ç€ï¼Œæˆ‘ä»¬åœ¨æ¶ˆè´¹è€…é‡Œå¯èƒ½ä¼šæå¤šä¸ªçº¿ç¨‹æ¥å¹¶å‘å¤„ç†æ¶ˆæ¯ã€‚å› ä¸ºå¦‚æœæ¶ˆè´¹è€…æ˜¯å•çº¿ç¨‹æ¶ˆè´¹å¤„ç†ï¼Œè€Œå¤„ç†æ¯”è¾ƒè€—æ—¶çš„è¯ï¼Œæ¯”å¦‚å¤„ç†ä¸€æ¡æ¶ˆæ¯è€—æ—¶å‡ å msï¼Œé‚£ä¹ˆ 1 ç§’é’Ÿåªèƒ½å¤„ç†å‡ åæ¡æ¶ˆæ¯ï¼Œè¿™ååé‡å¤ªä½äº†ã€‚è€Œå¤šä¸ªçº¿ç¨‹å¹¶å‘è·‘çš„è¯ï¼Œé¡ºåºå¯èƒ½å°±ä¹±æ‰äº†ã€‚","categories":[{"name":"æ¶ˆæ¯é˜Ÿåˆ—","slug":"æ¶ˆæ¯é˜Ÿåˆ—","permalink":"http://www.octber.xyz/categories/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/"}],"tags":[{"name":"RabbitMQ","slug":"RabbitMQ","permalink":"http://www.octber.xyz/tags/RabbitMQ/"}]},{"title":"æ¶ˆæ¯é˜Ÿåˆ—çš„å¹‚ç­‰æ€§","slug":"æ¶ˆæ¯é˜Ÿåˆ—çš„å¹‚ç­‰æ€§","date":"2019-09-11T09:01:54.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/09/11/æ¶ˆæ¯é˜Ÿåˆ—çš„å¹‚ç­‰æ€§/","link":"","permalink":"http://www.octber.xyz/2019/09/11/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%E7%9A%84%E5%B9%82%E7%AD%89%E6%80%A7/","excerpt":"å‰è¨€ ç‰¹åˆ«é¸£è°¢ çŸ³æ‰çš„æ¶æ„ç¬”è®° å¦‚ä½•ä¿è¯æ¶ˆæ¯ä¸è¢«é‡å¤æ¶ˆè´¹ï¼Ÿæˆ–è€…è¯´ï¼Œå¦‚ä½•ä¿è¯æ¶ˆæ¯æ¶ˆè´¹çš„å¹‚ç­‰æ€§ï¼Ÿ","text":"å‰è¨€ ç‰¹åˆ«é¸£è°¢ çŸ³æ‰çš„æ¶æ„ç¬”è®° å¦‚ä½•ä¿è¯æ¶ˆæ¯ä¸è¢«é‡å¤æ¶ˆè´¹ï¼Ÿæˆ–è€…è¯´ï¼Œå¦‚ä½•ä¿è¯æ¶ˆæ¯æ¶ˆè´¹çš„å¹‚ç­‰æ€§ï¼Ÿ é—®é¢˜æè¿°ä¸¾ä¸ªæ —å­ã€‚ æœ‰è¿™ä¹ˆä¸ªåœºæ™¯ã€‚æ•°æ® 1/2/3 ä¾æ¬¡è¿›å…¥ kafkaï¼Œkafka ä¼šç»™è¿™ä¸‰æ¡æ•°æ®æ¯æ¡åˆ†é…ä¸€ä¸ª offsetï¼Œä»£è¡¨è¿™æ¡æ•°æ®çš„åºå·ï¼Œæˆ‘ä»¬å°±å‡è®¾åˆ†é…çš„ offset ä¾æ¬¡æ˜¯ 152/153/154ã€‚æ¶ˆè´¹è€…ä» kafka å»æ¶ˆè´¹çš„æ—¶å€™ï¼Œä¹Ÿæ˜¯æŒ‰ç…§è¿™ä¸ªé¡ºåºå»æ¶ˆè´¹ã€‚å‡å¦‚å½“æ¶ˆè´¹è€…æ¶ˆè´¹äº† offset=153 çš„è¿™æ¡æ•°æ®ï¼Œåˆšå‡†å¤‡å»æäº¤ offset åˆ° zookeeperï¼Œæ­¤æ—¶æ¶ˆè´¹è€…è¿›ç¨‹è¢«é‡å¯äº†ã€‚é‚£ä¹ˆæ­¤æ—¶æ¶ˆè´¹è¿‡çš„æ•°æ® 1/2 çš„ offset å¹¶æ²¡æœ‰æäº¤ï¼Œkafka ä¹Ÿå°±ä¸çŸ¥é“ä½ å·²ç»æ¶ˆè´¹äº† offset=153 è¿™æ¡æ•°æ®ã€‚é‚£ä¹ˆé‡å¯ä¹‹åï¼Œæ¶ˆè´¹è€…ä¼šæ‰¾ kafka è¯´ï¼Œå˜¿ï¼Œå“¥å„¿ä»¬ï¼Œä½ ç»™æˆ‘æ¥ç€æŠŠä¸Šæ¬¡æˆ‘æ¶ˆè´¹åˆ°çš„é‚£ä¸ªåœ°æ–¹åé¢çš„æ•°æ®ç»§ç»­ç»™æˆ‘ä¼ é€’è¿‡æ¥ã€‚ç”±äºä¹‹å‰çš„ offset æ²¡æœ‰æäº¤æˆåŠŸï¼Œé‚£ä¹ˆæ•°æ® 1/2 ä¼šå†æ¬¡ä¼ è¿‡æ¥ï¼Œå¦‚æœæ­¤æ—¶æ¶ˆè´¹è€…æ²¡æœ‰å»é‡çš„è¯ï¼Œé‚£ä¹ˆå°±ä¼šå¯¼è‡´é‡å¤æ¶ˆè´¹ã€‚ å¦‚æœæ¶ˆè´¹è€…å¹²çš„äº‹å„¿æ˜¯æ‹¿ä¸€æ¡æ•°æ®å°±å¾€æ•°æ®åº“é‡Œå†™ä¸€æ¡ï¼Œä¼šå¯¼è‡´è¯´ï¼Œä½ å¯èƒ½å°±æŠŠæ•°æ® 1/2 åœ¨æ•°æ®åº“é‡Œæ’å…¥äº† 2 æ¬¡ï¼Œé‚£ä¹ˆæ•°æ®å°±é”™å•¦ã€‚ è§£å†³æ€è·¯å…¶å®è¿˜æ˜¯å¾—ç»“åˆä¸šåŠ¡æ¥æ€è€ƒï¼Œæˆ‘è¿™é‡Œç»™å‡ ä¸ªæ€è·¯ï¼š æ¯”å¦‚ä½ æ‹¿ä¸ªæ•°æ®è¦å†™åº“ï¼Œä½ å…ˆæ ¹æ®ä¸»é”®æŸ¥ä¸€ä¸‹ï¼Œå¦‚æœè¿™æ•°æ®éƒ½æœ‰äº†ï¼Œä½ å°±åˆ«æ’å…¥äº†ï¼Œupdate ä¸€ä¸‹å¥½å§ã€‚ æ¯”å¦‚ä½ æ˜¯å†™ Redisï¼Œé‚£æ²¡é—®é¢˜äº†ï¼Œåæ­£æ¯æ¬¡éƒ½æ˜¯ setï¼Œå¤©ç„¶å¹‚ç­‰æ€§ã€‚ æ¯”å¦‚ä½ ä¸æ˜¯ä¸Šé¢ä¸¤ä¸ªåœºæ™¯ï¼Œé‚£åšçš„ç¨å¾®å¤æ‚ä¸€ç‚¹ï¼Œä½ éœ€è¦è®©ç”Ÿäº§è€…å‘é€æ¯æ¡æ•°æ®çš„æ—¶å€™ï¼Œé‡Œé¢åŠ ä¸€ä¸ªå…¨å±€å”¯ä¸€çš„ idï¼Œç±»ä¼¼è®¢å• id ä¹‹ç±»çš„ä¸œè¥¿ï¼Œç„¶åä½ è¿™é‡Œæ¶ˆè´¹åˆ°äº†ä¹‹åï¼Œå…ˆæ ¹æ®è¿™ä¸ª id å»æ¯”å¦‚ Redis é‡ŒæŸ¥ä¸€ä¸‹ï¼Œä¹‹å‰æ¶ˆè´¹è¿‡å—ï¼Ÿå¦‚æœæ²¡æœ‰æ¶ˆè´¹è¿‡ï¼Œä½ å°±å¤„ç†ï¼Œç„¶åè¿™ä¸ª id å†™ Redisã€‚å¦‚æœæ¶ˆè´¹è¿‡äº†ï¼Œé‚£ä½ å°±åˆ«å¤„ç†äº†ï¼Œä¿è¯åˆ«é‡å¤å¤„ç†ç›¸åŒçš„æ¶ˆæ¯å³å¯ã€‚ æ¯”å¦‚åŸºäºæ•°æ®åº“çš„å”¯ä¸€é”®æ¥ä¿è¯é‡å¤æ•°æ®ä¸ä¼šé‡å¤æ’å…¥å¤šæ¡ã€‚å› ä¸ºæœ‰å”¯ä¸€é”®çº¦æŸäº†ï¼Œé‡å¤æ•°æ®æ’å…¥åªä¼šæŠ¥é”™ï¼Œä¸ä¼šå¯¼è‡´æ•°æ®åº“ä¸­å‡ºç°è„æ•°æ®ã€‚ å½“ç„¶ï¼Œå¦‚ä½•ä¿è¯ MQ çš„æ¶ˆè´¹æ˜¯å¹‚ç­‰æ€§çš„ï¼Œéœ€è¦ç»“åˆå…·ä½“çš„ä¸šåŠ¡æ¥çœ‹ã€‚ æˆ‘ï¼š åœ¨æˆ‘çš„åº”ç”¨ä¸­ï¼Œä¿è¯å¹‚ç­‰æ€§ï¼Œé¿å…é‡å¤æ¶ˆè´¹ï¼Œå…¶å®å°±æ˜¯å¯¹äºä¸€ä¸ªåŠŸèƒ½å­ç³»ç»Ÿï¼ˆå¦‚æ’å…¥è®¢å•æ•°æ®ï¼‰è€Œè¨€ï¼Œåœ¨æ’å…¥å‰æ ¹æ®å”¯ä¸€æ ‡è¯†ï¼ˆå¦‚è®¢å•idï¼‰è¿›è¡ŒæŸ¥é‡ï¼Œé‡å¤åˆ™æ›´æ–°æ•°æ®ã€‚å®é™…ä¸Šæˆ‘é€šè¿‡ä½¿ç”¨Redisçš„Setæ•°æ®é›†ï¼Œä¿è¯äº†å¤©ç„¶çš„å¹‚ç­‰æ€§ï¼Œç»è¿‡Redisè¿™ä¸€å±‚é«˜é€Ÿç¼“å­˜çš„å¤©ç„¶å¹‚ç­‰æ€§è¿‡æ»¤ï¼Œå®é™…å…¥åº“çš„æ•°æ®å°±ä¸ä¼šå­˜åœ¨è„æ•°æ®ã€‚","categories":[{"name":"æ¶ˆæ¯é˜Ÿåˆ—","slug":"æ¶ˆæ¯é˜Ÿåˆ—","permalink":"http://www.octber.xyz/categories/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/"}],"tags":[{"name":"RabbitMQ","slug":"RabbitMQ","permalink":"http://www.octber.xyz/tags/RabbitMQ/"}]},{"title":"æ¶ˆæ¯é˜Ÿåˆ—çš„æ¶ˆæ¯ä¸¢å¤±é—®é¢˜","slug":"æ¶ˆæ¯é˜Ÿåˆ—çš„æ¶ˆæ¯ä¸¢å¤±é—®é¢˜","date":"2019-09-11T08:34:14.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/09/11/æ¶ˆæ¯é˜Ÿåˆ—çš„æ¶ˆæ¯ä¸¢å¤±é—®é¢˜/","link":"","permalink":"http://www.octber.xyz/2019/09/11/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%E7%9A%84%E6%B6%88%E6%81%AF%E4%B8%A2%E5%A4%B1%E9%97%AE%E9%A2%98/","excerpt":"å‰è¨€ ç‰¹åˆ«é¸£è°¢ çŸ³æ‰çš„æ¶æ„ç¬”è®° å¦‚ä½•ä¿è¯æ¶ˆæ¯çš„å¯é æ€§ä¼ è¾“ï¼Ÿæˆ–è€…è¯´ï¼Œå¦‚ä½•å¤„ç†æ¶ˆæ¯ä¸¢å¤±çš„é—®é¢˜ï¼Ÿ","text":"å‰è¨€ ç‰¹åˆ«é¸£è°¢ çŸ³æ‰çš„æ¶æ„ç¬”è®° å¦‚ä½•ä¿è¯æ¶ˆæ¯çš„å¯é æ€§ä¼ è¾“ï¼Ÿæˆ–è€…è¯´ï¼Œå¦‚ä½•å¤„ç†æ¶ˆæ¯ä¸¢å¤±çš„é—®é¢˜ï¼Ÿ RabbitMQ ç”Ÿäº§è€…å¼„ä¸¢äº†æ•°æ®ç”Ÿäº§è€…å°†æ•°æ®å‘é€åˆ° RabbitMQ çš„æ—¶å€™ï¼Œå¯èƒ½æ•°æ®å°±åœ¨åŠè·¯ç»™æä¸¢äº†ï¼Œå› ä¸ºç½‘ç»œé—®é¢˜å•¥çš„ï¼Œéƒ½æœ‰å¯èƒ½ã€‚ æ­¤æ—¶å¯ä»¥é€‰æ‹©ç”¨ RabbitMQ æä¾›çš„äº‹åŠ¡åŠŸèƒ½ï¼Œå°±æ˜¯ç”Ÿäº§è€…å‘é€æ•°æ®ä¹‹å‰å¼€å¯ RabbitMQ äº‹åŠ¡channel.txSelectï¼Œç„¶åå‘é€æ¶ˆæ¯ï¼Œå¦‚æœæ¶ˆæ¯æ²¡æœ‰æˆåŠŸè¢« RabbitMQ æ¥æ”¶åˆ°ï¼Œé‚£ä¹ˆç”Ÿäº§è€…ä¼šæ”¶åˆ°å¼‚å¸¸æŠ¥é”™ï¼Œæ­¤æ—¶å°±å¯ä»¥å›æ»šäº‹åŠ¡channel.txRollbackï¼Œç„¶åé‡è¯•å‘é€æ¶ˆæ¯ï¼›å¦‚æœæ”¶åˆ°äº†æ¶ˆæ¯ï¼Œé‚£ä¹ˆå¯ä»¥æäº¤äº‹åŠ¡channel.txCommitã€‚ 123456789101112// å¼€å¯äº‹åŠ¡channel.txSelecttry &#123; // è¿™é‡Œå‘é€æ¶ˆæ¯&#125; catch (Exception e) &#123; channel.txRollback // è¿™é‡Œå†æ¬¡é‡å‘è¿™æ¡æ¶ˆæ¯&#125;// æäº¤äº‹åŠ¡channel.txCommit ä½†æ˜¯é—®é¢˜æ˜¯ï¼ŒRabbitMQ äº‹åŠ¡æœºåˆ¶ï¼ˆåŒæ­¥ï¼‰ä¸€æï¼ŒåŸºæœ¬ä¸Šååé‡ä¼šä¸‹æ¥ï¼Œå› ä¸ºå¤ªè€—æ€§èƒ½ã€‚ æ‰€ä»¥ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœä½ è¦ç¡®ä¿è¯´å†™ RabbitMQ çš„æ¶ˆæ¯åˆ«ä¸¢ï¼Œå¯ä»¥å¼€å¯ confirm æ¨¡å¼ï¼Œåœ¨ç”Ÿäº§è€…é‚£é‡Œè®¾ç½®å¼€å¯ confirm æ¨¡å¼ä¹‹åï¼Œä½ æ¯æ¬¡å†™çš„æ¶ˆæ¯éƒ½ä¼šåˆ†é…ä¸€ä¸ªå”¯ä¸€çš„ idï¼Œç„¶åå¦‚æœå†™å…¥äº† RabbitMQ ä¸­ï¼ŒRabbitMQ ä¼šç»™ä½ å›ä¼ ä¸€ä¸ª ack æ¶ˆæ¯ï¼Œå‘Šè¯‰ä½ è¯´è¿™ä¸ªæ¶ˆæ¯ ok äº†ã€‚å¦‚æœ RabbitMQ æ²¡èƒ½å¤„ç†è¿™ä¸ªæ¶ˆæ¯ï¼Œä¼šå›è°ƒä½ çš„ä¸€ä¸ª nack æ¥å£ï¼Œå‘Šè¯‰ä½ è¿™ä¸ªæ¶ˆæ¯æ¥æ”¶å¤±è´¥ï¼Œä½ å¯ä»¥é‡è¯•ã€‚è€Œä¸”ä½ å¯ä»¥ç»“åˆè¿™ä¸ªæœºåˆ¶è‡ªå·±åœ¨å†…å­˜é‡Œç»´æŠ¤æ¯ä¸ªæ¶ˆæ¯ id çš„çŠ¶æ€ï¼Œå¦‚æœè¶…è¿‡ä¸€å®šæ—¶é—´è¿˜æ²¡æ¥æ”¶åˆ°è¿™ä¸ªæ¶ˆæ¯çš„å›è°ƒï¼Œé‚£ä¹ˆä½ å¯ä»¥é‡å‘ã€‚ äº‹åŠ¡æœºåˆ¶å’Œ confirm æœºåˆ¶æœ€å¤§çš„ä¸åŒåœ¨äºï¼Œäº‹åŠ¡æœºåˆ¶æ˜¯åŒæ­¥çš„ï¼Œä½ æäº¤ä¸€ä¸ªäº‹åŠ¡ä¹‹åä¼šé˜»å¡åœ¨é‚£å„¿ï¼Œä½†æ˜¯ confirm æœºåˆ¶æ˜¯å¼‚æ­¥çš„ï¼Œä½ å‘é€ä¸ªæ¶ˆæ¯ä¹‹åå°±å¯ä»¥å‘é€ä¸‹ä¸€ä¸ªæ¶ˆæ¯ï¼Œç„¶åé‚£ä¸ªæ¶ˆæ¯ RabbitMQ æ¥æ”¶äº†ä¹‹åä¼šå¼‚æ­¥å›è°ƒä½ çš„ä¸€ä¸ªæ¥å£é€šçŸ¥ä½ è¿™ä¸ªæ¶ˆæ¯æ¥æ”¶åˆ°äº†ã€‚ æ‰€ä»¥ä¸€èˆ¬åœ¨ç”Ÿäº§è€…è¿™å—é¿å…æ•°æ®ä¸¢å¤±ï¼Œéƒ½æ˜¯ç”¨ confirm æœºåˆ¶çš„ã€‚ RabbitMQ å¼„ä¸¢äº†æ•°æ®å°±æ˜¯ RabbitMQ è‡ªå·±å¼„ä¸¢äº†æ•°æ®ï¼Œè¿™ä¸ªä½ å¿…é¡»å¼€å¯ RabbitMQ çš„æŒä¹…åŒ–ï¼Œå°±æ˜¯æ¶ˆæ¯å†™å…¥ä¹‹åä¼šæŒä¹…åŒ–åˆ°ç£ç›˜ï¼Œå“ªæ€•æ˜¯ RabbitMQ è‡ªå·±æŒ‚äº†ï¼Œæ¢å¤ä¹‹åä¼šè‡ªåŠ¨è¯»å–ä¹‹å‰å­˜å‚¨çš„æ•°æ®ï¼Œä¸€èˆ¬æ•°æ®ä¸ä¼šä¸¢ã€‚é™¤éæå…¶ç½•è§çš„æ˜¯ï¼ŒRabbitMQ è¿˜æ²¡æŒä¹…åŒ–ï¼Œè‡ªå·±å°±æŒ‚äº†ï¼Œå¯èƒ½å¯¼è‡´å°‘é‡æ•°æ®ä¸¢å¤±ï¼Œä½†æ˜¯è¿™ä¸ªæ¦‚ç‡è¾ƒå°ã€‚ è®¾ç½®æŒä¹…åŒ–æœ‰ä¸¤ä¸ªæ­¥éª¤ï¼š åˆ›å»º queue çš„æ—¶å€™å°†å…¶è®¾ç½®ä¸ºæŒä¹…åŒ–è¿™æ ·å°±å¯ä»¥ä¿è¯ RabbitMQ æŒä¹…åŒ– queue çš„å…ƒæ•°æ®ï¼Œä½†æ˜¯å®ƒæ˜¯ä¸ä¼šæŒä¹…åŒ– queue é‡Œçš„æ•°æ®çš„ã€‚ ç¬¬äºŒä¸ªæ˜¯å‘é€æ¶ˆæ¯çš„æ—¶å€™å°†æ¶ˆæ¯çš„ deliveryMode è®¾ç½®ä¸º 2å°±æ˜¯å°†æ¶ˆæ¯è®¾ç½®ä¸ºæŒä¹…åŒ–çš„ï¼Œæ­¤æ—¶ RabbitMQ å°±ä¼šå°†æ¶ˆæ¯æŒä¹…åŒ–åˆ°ç£ç›˜ä¸Šå»ã€‚ å¿…é¡»è¦åŒæ—¶è®¾ç½®è¿™ä¸¤ä¸ªæŒä¹…åŒ–æ‰è¡Œï¼ŒRabbitMQ å“ªæ€•æ˜¯æŒ‚äº†ï¼Œå†æ¬¡é‡å¯ï¼Œä¹Ÿä¼šä»ç£ç›˜ä¸Šé‡å¯æ¢å¤ queueï¼Œæ¢å¤è¿™ä¸ª queue é‡Œçš„æ•°æ®ã€‚ æ³¨æ„ï¼Œå“ªæ€•æ˜¯ä½ ç»™ RabbitMQ å¼€å¯äº†æŒä¹…åŒ–æœºåˆ¶ï¼Œä¹Ÿæœ‰ä¸€ç§å¯èƒ½ï¼Œå°±æ˜¯è¿™ä¸ªæ¶ˆæ¯å†™åˆ°äº† RabbitMQ ä¸­ï¼Œä½†æ˜¯è¿˜æ²¡æ¥å¾—åŠæŒä¹…åŒ–åˆ°ç£ç›˜ä¸Šï¼Œç»“æœä¸å·§ï¼Œæ­¤æ—¶ RabbitMQ æŒ‚äº†ï¼Œå°±ä¼šå¯¼è‡´å†…å­˜é‡Œçš„ä¸€ç‚¹ç‚¹æ•°æ®ä¸¢å¤±ã€‚ æ‰€ä»¥ï¼ŒæŒä¹…åŒ–å¯ä»¥è·Ÿç”Ÿäº§è€…é‚£è¾¹çš„ confirm æœºåˆ¶é…åˆèµ·æ¥ï¼Œåªæœ‰æ¶ˆæ¯è¢«æŒä¹…åŒ–åˆ°ç£ç›˜ä¹‹åï¼Œæ‰ä¼šé€šçŸ¥ç”Ÿäº§è€… ack äº†ï¼Œæ‰€ä»¥å“ªæ€•æ˜¯åœ¨æŒä¹…åŒ–åˆ°ç£ç›˜ä¹‹å‰ï¼ŒRabbitMQ æŒ‚äº†ï¼Œæ•°æ®ä¸¢äº†ï¼Œç”Ÿäº§è€…æ”¶ä¸åˆ° ackï¼Œä½ ä¹Ÿæ˜¯å¯ä»¥è‡ªå·±é‡å‘çš„ã€‚ æ¶ˆè´¹ç«¯å¼„ä¸¢äº†æ•°æ®RabbitMQ å¦‚æœä¸¢å¤±äº†æ•°æ®ï¼Œä¸»è¦æ˜¯å› ä¸ºä½ æ¶ˆè´¹çš„æ—¶å€™ï¼Œåˆšæ¶ˆè´¹åˆ°ï¼Œè¿˜æ²¡å¤„ç†ï¼Œç»“æœè¿›ç¨‹æŒ‚äº†ï¼Œæ¯”å¦‚é‡å¯äº†ï¼Œé‚£ä¹ˆå°±å°´å°¬äº†ï¼ŒRabbitMQ è®¤ä¸ºä½ éƒ½æ¶ˆè´¹äº†ï¼Œè¿™æ•°æ®å°±ä¸¢äº†ã€‚ è¿™ä¸ªæ—¶å€™å¾—ç”¨ RabbitMQ æä¾›çš„ ack æœºåˆ¶ï¼Œç®€å•æ¥è¯´ï¼Œå°±æ˜¯ä½ å¿…é¡»å…³é—­ RabbitMQ çš„è‡ªåŠ¨ ackï¼Œå¯ä»¥é€šè¿‡ä¸€ä¸ª api æ¥è°ƒç”¨å°±è¡Œï¼Œç„¶åæ¯æ¬¡ä½ è‡ªå·±ä»£ç é‡Œç¡®ä¿å¤„ç†å®Œçš„æ—¶å€™ï¼Œå†åœ¨ç¨‹åºé‡Œ ack ä¸€æŠŠã€‚è¿™æ ·çš„è¯ï¼Œå¦‚æœä½ è¿˜æ²¡å¤„ç†å®Œï¼Œä¸å°±æ²¡æœ‰ ack äº†ï¼Ÿé‚£ RabbitMQ å°±è®¤ä¸ºä½ è¿˜æ²¡å¤„ç†å®Œï¼Œè¿™ä¸ªæ—¶å€™ RabbitMQ ä¼šæŠŠè¿™ä¸ªæ¶ˆè´¹åˆ†é…ç»™åˆ«çš„ consumer å»å¤„ç†ï¼Œæ¶ˆæ¯æ˜¯ä¸ä¼šä¸¢çš„ã€‚","categories":[{"name":"æ¶ˆæ¯é˜Ÿåˆ—","slug":"æ¶ˆæ¯é˜Ÿåˆ—","permalink":"http://www.octber.xyz/categories/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/"}],"tags":[{"name":"RabbitMQ","slug":"RabbitMQ","permalink":"http://www.octber.xyz/tags/RabbitMQ/"}]},{"title":"æ¶ˆæ¯é˜Ÿåˆ—çš„é«˜å¯ç”¨é—®é¢˜","slug":"æ¶ˆæ¯é˜Ÿåˆ—çš„é«˜å¯ç”¨é—®é¢˜","date":"2019-09-11T08:07:40.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/09/11/æ¶ˆæ¯é˜Ÿåˆ—çš„é«˜å¯ç”¨é—®é¢˜/","link":"","permalink":"http://www.octber.xyz/2019/09/11/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E9%97%AE%E9%A2%98/","excerpt":"å‰è¨€ ç‰¹åˆ«é¸£è°¢ çŸ³æ‰çš„æ¶æ„ç¬”è®° åœ¨â€œä¸ºä»€ä¹ˆä½¿ç”¨æ¶ˆæ¯MQï¼Ÿâ€ä¸€é—®ä¸­æˆ‘æåˆ°ï¼Œæ¶ˆæ¯é˜Ÿåˆ—çš„é«˜å¯ç”¨é—®é¢˜æ˜¯ä¸€ä¸ªé‡å¤§çš„é—®é¢˜ï¼Œä½œä¸ºä¸­é—´æ¡¥æ¢çš„MQï¼Œä¸€æ—¦å´©æºƒï¼Œæ•´ä¸ªç³»ç»Ÿå°±æ— æ³•æ­£å¸¸è¿ä½œã€‚","text":"å‰è¨€ ç‰¹åˆ«é¸£è°¢ çŸ³æ‰çš„æ¶æ„ç¬”è®° åœ¨â€œä¸ºä»€ä¹ˆä½¿ç”¨æ¶ˆæ¯MQï¼Ÿâ€ä¸€é—®ä¸­æˆ‘æåˆ°ï¼Œæ¶ˆæ¯é˜Ÿåˆ—çš„é«˜å¯ç”¨é—®é¢˜æ˜¯ä¸€ä¸ªé‡å¤§çš„é—®é¢˜ï¼Œä½œä¸ºä¸­é—´æ¡¥æ¢çš„MQï¼Œä¸€æ—¦å´©æºƒï¼Œæ•´ä¸ªç³»ç»Ÿå°±æ— æ³•æ­£å¸¸è¿ä½œã€‚ RabbitMQ çš„é«˜å¯ç”¨æ€§RabbitMQ æ˜¯æ¯”è¾ƒæœ‰ä»£è¡¨æ€§çš„ï¼Œå› ä¸ºæ˜¯åŸºäºä¸»ä»ï¼ˆéåˆ†å¸ƒå¼ï¼‰åšé«˜å¯ç”¨æ€§çš„ï¼Œæˆ‘ä»¬å°±ä»¥ RabbitMQ ä¸ºä¾‹å­è®²è§£ç¬¬ä¸€ç§ MQ çš„é«˜å¯ç”¨æ€§æ€ä¹ˆå®ç°ã€‚ RabbitMQ æœ‰ä¸‰ç§æ¨¡å¼ï¼šå•æœºæ¨¡å¼ã€æ™®é€šé›†ç¾¤æ¨¡å¼ã€é•œåƒé›†ç¾¤æ¨¡å¼ã€‚ å•æœºæ¨¡å¼å•æœºæ¨¡å¼ï¼Œå°±æ˜¯ Demo çº§åˆ«çš„ï¼Œä¸€èˆ¬å°±æ˜¯ä½ æœ¬åœ°å¯åŠ¨äº†ç©ç©å„¿çš„ğŸ˜„ï¼Œæ²¡äººç”Ÿäº§ç”¨å•æœºæ¨¡å¼ã€‚ æ™®é€šé›†ç¾¤æ¨¡å¼ï¼ˆæ— é«˜å¯ç”¨æ€§ï¼‰æ™®é€šé›†ç¾¤æ¨¡å¼ï¼Œæ„æ€å°±æ˜¯åœ¨å¤šå°æœºå™¨ä¸Šå¯åŠ¨å¤šä¸ª RabbitMQ å®ä¾‹ï¼Œæ¯ä¸ªæœºå™¨å¯åŠ¨ä¸€ä¸ªã€‚ä½ åˆ›å»ºçš„ queueï¼Œåªä¼šæ”¾åœ¨ä¸€ä¸ª RabbitMQ å®ä¾‹ä¸Šï¼Œä½†æ˜¯æ¯ä¸ªå®ä¾‹éƒ½åŒæ­¥ queue çš„å…ƒæ•°æ®ï¼ˆå…ƒæ•°æ®å¯ä»¥è®¤ä¸ºæ˜¯ queue çš„ä¸€äº›é…ç½®ä¿¡æ¯ï¼Œé€šè¿‡å…ƒæ•°æ®ï¼Œå¯ä»¥æ‰¾åˆ° queue æ‰€åœ¨å®ä¾‹ï¼‰ã€‚ä½ æ¶ˆè´¹çš„æ—¶å€™ï¼Œå®é™…ä¸Šå¦‚æœè¿æ¥åˆ°äº†å¦å¤–ä¸€ä¸ªå®ä¾‹ï¼Œé‚£ä¹ˆé‚£ä¸ªå®ä¾‹ä¼šä» queue æ‰€åœ¨å®ä¾‹ä¸Šæ‹‰å–æ•°æ®è¿‡æ¥ã€‚ è¿™ç§æ–¹å¼ç¡®å®å¾ˆéº»çƒ¦ï¼Œä¹Ÿä¸æ€ä¹ˆå¥½ï¼Œæ²¡åšåˆ°æ‰€è°“çš„åˆ†å¸ƒå¼ï¼Œå°±æ˜¯ä¸ªæ™®é€šé›†ç¾¤ã€‚å› ä¸ºè¿™å¯¼è‡´ä½ è¦ä¹ˆæ¶ˆè´¹è€…æ¯æ¬¡éšæœºè¿æ¥ä¸€ä¸ªå®ä¾‹ç„¶åæ‹‰å–æ•°æ®ï¼Œè¦ä¹ˆå›ºå®šè¿æ¥é‚£ä¸ª queue æ‰€åœ¨å®ä¾‹æ¶ˆè´¹æ•°æ®ï¼Œå‰è€…æœ‰æ•°æ®æ‹‰å–çš„å¼€é”€ï¼Œåè€…å¯¼è‡´å•å®ä¾‹æ€§èƒ½ç“¶é¢ˆã€‚ è€Œä¸”å¦‚æœé‚£ä¸ªæ”¾ queue çš„å®ä¾‹å®•æœºäº†ï¼Œä¼šå¯¼è‡´æ¥ä¸‹æ¥å…¶ä»–å®ä¾‹å°±æ— æ³•ä»é‚£ä¸ªå®ä¾‹æ‹‰å–ï¼Œå¦‚æœä½ å¼€å¯äº†æ¶ˆæ¯æŒä¹…åŒ–ï¼Œè®© RabbitMQ è½åœ°å­˜å‚¨æ¶ˆæ¯çš„è¯ï¼Œæ¶ˆæ¯ä¸ä¸€å®šä¼šä¸¢ï¼Œå¾—ç­‰è¿™ä¸ªå®ä¾‹æ¢å¤äº†ï¼Œç„¶åæ‰å¯ä»¥ç»§ç»­ä»è¿™ä¸ª queue æ‹‰å–æ•°æ®ã€‚ æ‰€ä»¥è¿™ä¸ªäº‹å„¿å°±æ¯”è¾ƒå°´å°¬äº†ï¼Œè¿™å°±æ²¡æœ‰ä»€ä¹ˆæ‰€è°“çš„é«˜å¯ç”¨æ€§ï¼Œè¿™æ–¹æ¡ˆä¸»è¦æ˜¯æé«˜ååé‡çš„ï¼Œå°±æ˜¯è¯´è®©é›†ç¾¤ä¸­å¤šä¸ªèŠ‚ç‚¹æ¥æœåŠ¡æŸä¸ª queue çš„è¯»å†™æ“ä½œã€‚ é•œåƒé›†ç¾¤æ¨¡å¼ï¼ˆé«˜å¯ç”¨æ€§ï¼‰è¿™ç§æ¨¡å¼ï¼Œæ‰æ˜¯æ‰€è°“çš„ RabbitMQ çš„é«˜å¯ç”¨æ¨¡å¼ã€‚è·Ÿæ™®é€šé›†ç¾¤æ¨¡å¼ä¸ä¸€æ ·çš„æ˜¯ï¼Œåœ¨é•œåƒé›†ç¾¤æ¨¡å¼ä¸‹ï¼Œä½ åˆ›å»ºçš„ queueï¼Œæ— è®ºå…ƒæ•°æ®è¿˜æ˜¯ queue é‡Œçš„æ¶ˆæ¯éƒ½ä¼šå­˜åœ¨äºå¤šä¸ªå®ä¾‹ä¸Šï¼Œå°±æ˜¯è¯´ï¼Œæ¯ä¸ª RabbitMQ èŠ‚ç‚¹éƒ½æœ‰è¿™ä¸ª queue çš„ä¸€ä¸ªå®Œæ•´é•œåƒï¼ŒåŒ…å« queue çš„å…¨éƒ¨æ•°æ®çš„æ„æ€ã€‚ç„¶åæ¯æ¬¡ä½ å†™æ¶ˆæ¯åˆ° queue çš„æ—¶å€™ï¼Œéƒ½ä¼šè‡ªåŠ¨æŠŠæ¶ˆæ¯åŒæ­¥åˆ°å¤šä¸ªå®ä¾‹çš„ queue ä¸Šã€‚ é‚£ä¹ˆå¦‚ä½•å¼€å¯è¿™ä¸ªé•œåƒé›†ç¾¤æ¨¡å¼å‘¢ï¼Ÿå…¶å®å¾ˆç®€å•ï¼ŒRabbitMQ æœ‰å¾ˆå¥½çš„ç®¡ç†æ§åˆ¶å°ï¼Œå°±æ˜¯åœ¨åå°æ–°å¢ä¸€ä¸ªç­–ç•¥ï¼Œè¿™ä¸ªç­–ç•¥æ˜¯é•œåƒé›†ç¾¤æ¨¡å¼çš„ç­–ç•¥ï¼ŒæŒ‡å®šçš„æ—¶å€™æ˜¯å¯ä»¥è¦æ±‚æ•°æ®åŒæ­¥åˆ°æ‰€æœ‰èŠ‚ç‚¹çš„ï¼Œä¹Ÿå¯ä»¥è¦æ±‚åŒæ­¥åˆ°æŒ‡å®šæ•°é‡çš„èŠ‚ç‚¹ï¼Œå†æ¬¡åˆ›å»º queue çš„æ—¶å€™ï¼Œåº”ç”¨è¿™ä¸ªç­–ç•¥ï¼Œå°±ä¼šè‡ªåŠ¨å°†æ•°æ®åŒæ­¥åˆ°å…¶ä»–çš„èŠ‚ç‚¹ä¸Šå»äº†ã€‚ è¿™æ ·çš„è¯ï¼Œå¥½å¤„åœ¨äºï¼Œä½ ä»»ä½•ä¸€ä¸ªæœºå™¨å®•æœºäº†ï¼Œæ²¡äº‹å„¿ï¼Œå…¶å®ƒæœºå™¨ï¼ˆèŠ‚ç‚¹ï¼‰è¿˜åŒ…å«äº†è¿™ä¸ª queue çš„å®Œæ•´æ•°æ®ï¼Œåˆ«çš„ consumer éƒ½å¯ä»¥åˆ°å…¶å®ƒèŠ‚ç‚¹ä¸Šå»æ¶ˆè´¹æ•°æ®ã€‚åå¤„åœ¨äºï¼Œç¬¬ä¸€ï¼Œè¿™ä¸ªæ€§èƒ½å¼€é”€ä¹Ÿå¤ªå¤§äº†å§ï¼Œæ¶ˆæ¯éœ€è¦åŒæ­¥åˆ°æ‰€æœ‰æœºå™¨ä¸Šï¼Œå¯¼è‡´ç½‘ç»œå¸¦å®½å‹åŠ›å’Œæ¶ˆè€—å¾ˆé‡ï¼ç¬¬äºŒï¼Œè¿™ä¹ˆç©å„¿ï¼Œä¸æ˜¯åˆ†å¸ƒå¼çš„ï¼Œå°±æ²¡æœ‰æ‰©å±•æ€§å¯è¨€äº†ï¼Œå¦‚æœæŸä¸ª queue è´Ÿè½½å¾ˆé‡ï¼Œä½ åŠ æœºå™¨ï¼Œæ–°å¢çš„æœºå™¨ä¹ŸåŒ…å«äº†è¿™ä¸ª queue çš„æ‰€æœ‰æ•°æ®ï¼Œå¹¶æ²¡æœ‰åŠæ³•çº¿æ€§æ‰©å±•ä½ çš„ queueã€‚ä½ æƒ³ï¼Œå¦‚æœè¿™ä¸ª queue çš„æ•°æ®é‡å¾ˆå¤§ï¼Œå¤§åˆ°è¿™ä¸ªæœºå™¨ä¸Šçš„å®¹é‡æ— æ³•å®¹çº³äº†ï¼Œæ­¤æ—¶è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ Kafka çš„é«˜å¯ç”¨æ€§Kafka ä¸€ä¸ªæœ€åŸºæœ¬çš„æ¶æ„è®¤è¯†ï¼šç”±å¤šä¸ª broker ç»„æˆï¼Œæ¯ä¸ª broker æ˜¯ä¸€ä¸ªèŠ‚ç‚¹ï¼›ä½ åˆ›å»ºä¸€ä¸ª topicï¼Œè¿™ä¸ª topic å¯ä»¥åˆ’åˆ†ä¸ºå¤šä¸ª partitionï¼Œæ¯ä¸ª partition å¯ä»¥å­˜åœ¨äºä¸åŒçš„ broker ä¸Šï¼Œæ¯ä¸ª partition å°±æ”¾ä¸€éƒ¨åˆ†æ•°æ®ã€‚ è¿™å°±æ˜¯å¤©ç„¶çš„åˆ†å¸ƒå¼æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå°±æ˜¯è¯´ä¸€ä¸ª topic çš„æ•°æ®ï¼Œæ˜¯åˆ†æ•£æ”¾åœ¨å¤šä¸ªæœºå™¨ä¸Šçš„ï¼Œæ¯ä¸ªæœºå™¨å°±æ”¾ä¸€éƒ¨åˆ†æ•°æ®ã€‚ å®é™…ä¸Š RabbmitMQ ä¹‹ç±»çš„ï¼Œå¹¶ä¸æ˜¯åˆ†å¸ƒå¼æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå®ƒå°±æ˜¯ä¼ ç»Ÿçš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œåªä¸è¿‡æä¾›äº†ä¸€äº›é›†ç¾¤ã€HA(High Availability, é«˜å¯ç”¨æ€§) çš„æœºåˆ¶è€Œå·²ï¼Œå› ä¸ºæ— è®ºæ€ä¹ˆç©å„¿ï¼ŒRabbitMQ ä¸€ä¸ª queue çš„æ•°æ®éƒ½æ˜¯æ”¾åœ¨ä¸€ä¸ªèŠ‚ç‚¹é‡Œçš„ï¼Œé•œåƒé›†ç¾¤ä¸‹ï¼Œä¹Ÿæ˜¯æ¯ä¸ªèŠ‚ç‚¹éƒ½æ”¾è¿™ä¸ª queue çš„å®Œæ•´æ•°æ®ã€‚ Kafka 0.8 ä»¥å‰ï¼Œæ˜¯æ²¡æœ‰ HA æœºåˆ¶çš„ï¼Œå°±æ˜¯ä»»ä½•ä¸€ä¸ª broker å®•æœºäº†ï¼Œé‚£ä¸ª broker ä¸Šçš„ partition å°±åºŸäº†ï¼Œæ²¡æ³•å†™ä¹Ÿæ²¡æ³•è¯»ï¼Œæ²¡æœ‰ä»€ä¹ˆé«˜å¯ç”¨æ€§å¯è¨€ã€‚ æ¯”å¦‚è¯´ï¼Œæˆ‘ä»¬å‡è®¾åˆ›å»ºäº†ä¸€ä¸ª topicï¼ŒæŒ‡å®šå…¶ partition æ•°é‡æ˜¯ 3 ä¸ªï¼Œåˆ†åˆ«åœ¨ä¸‰å°æœºå™¨ä¸Šã€‚ä½†æ˜¯ï¼Œå¦‚æœç¬¬äºŒå°æœºå™¨å®•æœºäº†ï¼Œä¼šå¯¼è‡´è¿™ä¸ª topic çš„ 1/3 çš„æ•°æ®å°±ä¸¢äº†ï¼Œå› æ­¤è¿™ä¸ªæ˜¯åšä¸åˆ°é«˜å¯ç”¨çš„ã€‚ Kafka 0.8 ä»¥åï¼Œæä¾›äº† HA æœºåˆ¶ï¼Œå°±æ˜¯ replicaï¼ˆå¤åˆ¶å“ï¼‰ å‰¯æœ¬æœºåˆ¶ã€‚æ¯ä¸ª partition çš„æ•°æ®éƒ½ä¼šåŒæ­¥åˆ°å…¶å®ƒæœºå™¨ä¸Šï¼Œå½¢æˆè‡ªå·±çš„å¤šä¸ª replica å‰¯æœ¬ã€‚æ‰€æœ‰ replica ä¼šé€‰ä¸¾ä¸€ä¸ª leader å‡ºæ¥ï¼Œé‚£ä¹ˆç”Ÿäº§å’Œæ¶ˆè´¹éƒ½è·Ÿè¿™ä¸ª leader æ‰“äº¤é“ï¼Œç„¶åå…¶ä»– replica å°±æ˜¯ followerã€‚å†™çš„æ—¶å€™ï¼Œleader ä¼šè´Ÿè´£æŠŠæ•°æ®åŒæ­¥åˆ°æ‰€æœ‰ follower ä¸Šå»ï¼Œè¯»çš„æ—¶å€™å°±ç›´æ¥è¯» leader ä¸Šçš„æ•°æ®å³å¯ã€‚åªèƒ½è¯»å†™ leaderï¼Ÿå¾ˆç®€å•ï¼Œè¦æ˜¯ä½ å¯ä»¥éšæ„è¯»å†™æ¯ä¸ª followerï¼Œé‚£ä¹ˆå°±è¦ care æ•°æ®ä¸€è‡´æ€§çš„é—®é¢˜ï¼Œç³»ç»Ÿå¤æ‚åº¦å¤ªé«˜ï¼Œå¾ˆå®¹æ˜“å‡ºé—®é¢˜ã€‚Kafka ä¼šå‡åŒ€åœ°å°†ä¸€ä¸ª partition çš„æ‰€æœ‰ replica åˆ†å¸ƒåœ¨ä¸åŒçš„æœºå™¨ä¸Šï¼Œè¿™æ ·æ‰å¯ä»¥æé«˜å®¹é”™æ€§ã€‚ è¿™ä¹ˆæï¼Œå°±æœ‰æ‰€è°“çš„é«˜å¯ç”¨æ€§äº†ï¼Œå› ä¸ºå¦‚æœæŸä¸ª broker å®•æœºäº†ï¼Œæ²¡äº‹å„¿ï¼Œé‚£ä¸ª brokerä¸Šé¢çš„ partition åœ¨å…¶ä»–æœºå™¨ä¸Šéƒ½æœ‰å‰¯æœ¬çš„ã€‚å¦‚æœè¿™ä¸ªå®•æœºçš„ broker ä¸Šé¢æœ‰æŸä¸ª partition çš„ leaderï¼Œé‚£ä¹ˆæ­¤æ—¶ä¼šä» follower ä¸­é‡æ–°é€‰ä¸¾ä¸€ä¸ªæ–°çš„ leader å‡ºæ¥ï¼Œå¤§å®¶ç»§ç»­è¯»å†™é‚£ä¸ªæ–°çš„ leader å³å¯ã€‚è¿™å°±æœ‰æ‰€è°“çš„é«˜å¯ç”¨æ€§äº†ã€‚ å†™æ•°æ®çš„æ—¶å€™ï¼Œç”Ÿäº§è€…å°±å†™ leaderï¼Œç„¶å leader å°†æ•°æ®è½åœ°å†™æœ¬åœ°ç£ç›˜ï¼Œæ¥ç€å…¶ä»– follower è‡ªå·±ä¸»åŠ¨ä» leader æ¥ pull æ•°æ®ã€‚ä¸€æ—¦æ‰€æœ‰ follower åŒæ­¥å¥½æ•°æ®äº†ï¼Œå°±ä¼šå‘é€ ack ç»™ leaderï¼Œleader æ”¶åˆ°æ‰€æœ‰ follower çš„ ack ä¹‹åï¼Œå°±ä¼šè¿”å›å†™æˆåŠŸçš„æ¶ˆæ¯ç»™ç”Ÿäº§è€…ã€‚ï¼ˆå½“ç„¶ï¼Œè¿™åªæ˜¯å…¶ä¸­ä¸€ç§æ¨¡å¼ï¼Œè¿˜å¯ä»¥é€‚å½“è°ƒæ•´è¿™ä¸ªè¡Œä¸ºï¼‰ æ¶ˆè´¹çš„æ—¶å€™ï¼Œåªä¼šä» leader å»è¯»ï¼Œä½†æ˜¯åªæœ‰å½“ä¸€ä¸ªæ¶ˆæ¯å·²ç»è¢«æ‰€æœ‰ follower éƒ½åŒæ­¥æˆåŠŸè¿”å› ack çš„æ—¶å€™ï¼Œè¿™ä¸ªæ¶ˆæ¯æ‰ä¼šè¢«æ¶ˆè´¹è€…è¯»åˆ°ã€‚ çœ‹åˆ°è¿™é‡Œï¼Œç›¸ä¿¡ä½ å¤§è‡´æ˜ç™½äº† Kafka æ˜¯å¦‚ä½•ä¿è¯é«˜å¯ç”¨æœºåˆ¶çš„äº†ï¼Œå¯¹å§ï¼Ÿä¸è‡³äºä¸€æ— æ‰€çŸ¥ï¼Œç°åœºè¿˜èƒ½ç»™é¢è¯•å®˜ç”»ç”»å›¾ã€‚è¦æ˜¯é‡ä¸Šé¢è¯•å®˜ç¡®å®æ˜¯ Kafka é«˜æ‰‹ï¼Œæ·±æŒ–äº†é—®ï¼Œé‚£ä½ åªèƒ½è¯´ä¸å¥½æ„æ€ï¼Œå¤ªæ·±å…¥çš„ä½ æ²¡ç ”ç©¶è¿‡ã€‚","categories":[{"name":"æ¶ˆæ¯é˜Ÿåˆ—","slug":"æ¶ˆæ¯é˜Ÿåˆ—","permalink":"http://www.octber.xyz/categories/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/"}],"tags":[{"name":"RabbitMQ","slug":"RabbitMQ","permalink":"http://www.octber.xyz/tags/RabbitMQ/"}]},{"title":"ä¸ºä»€ä¹ˆä½¿ç”¨MQï¼Ÿ","slug":"ä¸ºä»€ä¹ˆä½¿ç”¨MQï¼Ÿ","date":"2019-09-11T07:33:44.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/09/11/ä¸ºä»€ä¹ˆä½¿ç”¨MQï¼Ÿ/","link":"","permalink":"http://www.octber.xyz/2019/09/11/%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BD%BF%E7%94%A8MQ%EF%BC%9F/","excerpt":"å‰è¨€ ç‰¹åˆ«é¸£è°¢ çŸ³æ‰çš„æ¶æ„ç¬”è®° ç»“åˆæˆ‘æ›¾ç»åšçš„ä¸€ä¸ªé¡¹ç›®ï¼Œè°ˆè°ˆæˆ‘ä¸ºä»€ä¹ˆç”¨å¾—ä¸ŠRabbitMQ","text":"å‰è¨€ ç‰¹åˆ«é¸£è°¢ çŸ³æ‰çš„æ¶æ„ç¬”è®° ç»“åˆæˆ‘æ›¾ç»åšçš„ä¸€ä¸ªé¡¹ç›®ï¼Œè°ˆè°ˆæˆ‘ä¸ºä»€ä¹ˆç”¨å¾—ä¸ŠRabbitMQ ä¸ºä»€ä¹ˆä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—å…¶å®å°±æ˜¯æ¶ˆæ¯é˜Ÿåˆ—éƒ½æœ‰å“ªäº›ä½¿ç”¨åœºæ™¯ï¼Œç„¶åé¡¹ç›®é‡Œå…·ä½“æ˜¯ä»€ä¹ˆåœºæ™¯ã€‚ é¢è¯•å®˜é—®è¿™ä¸ªé—®é¢˜ï¼ŒæœŸæœ›çš„ä¸€ä¸ªå›ç­”æ˜¯è¯´ï¼Œæœ‰ä¸ªä»€ä¹ˆä¸šåŠ¡åœºæ™¯ï¼Œè¿™ä¸ªä¸šåŠ¡åœºæ™¯æœ‰ä¸ªä»€ä¹ˆæŠ€æœ¯æŒ‘æˆ˜ï¼Œå¦‚æœä¸ç”¨ MQ å¯èƒ½ä¼šå¾ˆéº»çƒ¦ï¼Œä½†æ˜¯ä½ ç°åœ¨ç”¨äº† MQ ä¹‹åå¸¦ç»™äº†ä½ å¾ˆå¤šçš„å¥½å¤„ã€‚ å…ˆè¯´ä¸€ä¸‹æ¶ˆæ¯é˜Ÿåˆ—å¸¸è§çš„ä½¿ç”¨åœºæ™¯å§ï¼Œå…¶å®åœºæ™¯æœ‰å¾ˆå¤šï¼Œä½†æ˜¯æ¯”è¾ƒæ ¸å¿ƒçš„æœ‰ 3 ä¸ªï¼šè§£è€¦ã€å¼‚æ­¥ã€å‰Šå³°ã€‚ è§£è€¦çœ‹è¿™ä¹ˆä¸ªåœºæ™¯ã€‚A ç³»ç»Ÿå‘é€æ•°æ®åˆ° BCD ä¸‰ä¸ªç³»ç»Ÿï¼Œé€šè¿‡æ¥å£è°ƒç”¨å‘é€ã€‚å¦‚æœ E ç³»ç»Ÿä¹Ÿè¦è¿™ä¸ªæ•°æ®å‘¢ï¼Ÿé‚£å¦‚æœ C ç³»ç»Ÿç°åœ¨ä¸éœ€è¦äº†å‘¢ï¼ŸA ç³»ç»Ÿè´Ÿè´£äººå‡ ä¹å´©æºƒâ€¦â€¦ åœ¨è¿™ä¸ªåœºæ™¯ä¸­ï¼ŒA ç³»ç»Ÿè·Ÿå…¶å®ƒå„ç§ä¹±ä¸ƒå…«ç³Ÿçš„ç³»ç»Ÿä¸¥é‡è€¦åˆï¼ŒA ç³»ç»Ÿäº§ç”Ÿä¸€æ¡æ¯”è¾ƒå…³é”®çš„æ•°æ®ï¼Œå¾ˆå¤šç³»ç»Ÿéƒ½éœ€è¦ A ç³»ç»Ÿå°†è¿™ä¸ªæ•°æ®å‘é€è¿‡æ¥ã€‚A ç³»ç»Ÿè¦æ—¶æ—¶åˆ»åˆ»è€ƒè™‘ BCDE å››ä¸ªç³»ç»Ÿå¦‚æœæŒ‚äº†è¯¥å’‹åŠï¼Ÿè¦ä¸è¦é‡å‘ï¼Œè¦ä¸è¦æŠŠæ¶ˆæ¯å­˜èµ·æ¥ï¼Ÿå¤´å‘éƒ½ç™½äº†å•Šï¼ å¦‚æœä½¿ç”¨ MQï¼ŒA ç³»ç»Ÿäº§ç”Ÿä¸€æ¡æ•°æ®ï¼Œå‘é€åˆ° MQ é‡Œé¢å»ï¼Œå“ªä¸ªç³»ç»Ÿéœ€è¦æ•°æ®è‡ªå·±å» MQ é‡Œé¢æ¶ˆè´¹ã€‚å¦‚æœæ–°ç³»ç»Ÿéœ€è¦æ•°æ®ï¼Œç›´æ¥ä» MQ é‡Œæ¶ˆè´¹å³å¯ï¼›å¦‚æœæŸä¸ªç³»ç»Ÿä¸éœ€è¦è¿™æ¡æ•°æ®äº†ï¼Œå°±å–æ¶ˆå¯¹ MQ æ¶ˆæ¯çš„æ¶ˆè´¹å³å¯ã€‚è¿™æ ·ä¸‹æ¥ï¼ŒA ç³»ç»Ÿå‹æ ¹å„¿ä¸éœ€è¦å»è€ƒè™‘è¦ç»™è°å‘é€æ•°æ®ï¼Œä¸éœ€è¦ç»´æŠ¤è¿™ä¸ªä»£ç ï¼Œä¹Ÿä¸éœ€è¦è€ƒè™‘äººå®¶æ˜¯å¦è°ƒç”¨æˆåŠŸã€å¤±è´¥è¶…æ—¶ç­‰æƒ…å†µã€‚ æ€»ç»“ï¼šé€šè¿‡ä¸€ä¸ª MQï¼ŒPub/Sub å‘å¸ƒè®¢é˜…æ¶ˆæ¯è¿™ä¹ˆä¸€ä¸ªæ¨¡å‹ï¼ŒA ç³»ç»Ÿå°±è·Ÿå…¶å®ƒç³»ç»Ÿå½»åº•è§£è€¦äº†ã€‚ é¢è¯•æŠ€å·§ï¼šä½ éœ€è¦å»è€ƒè™‘ä¸€ä¸‹ä½ è´Ÿè´£çš„ç³»ç»Ÿä¸­æ˜¯å¦æœ‰ç±»ä¼¼çš„åœºæ™¯ï¼Œå°±æ˜¯ä¸€ä¸ªç³»ç»Ÿæˆ–è€…ä¸€ä¸ªæ¨¡å—ï¼Œè°ƒç”¨äº†å¤šä¸ªç³»ç»Ÿæˆ–è€…æ¨¡å—ï¼Œäº’ç›¸ä¹‹é—´çš„è°ƒç”¨å¾ˆå¤æ‚ï¼Œç»´æŠ¤èµ·æ¥å¾ˆéº»çƒ¦ã€‚ä½†æ˜¯å…¶å®è¿™ä¸ªè°ƒç”¨æ˜¯ä¸éœ€è¦ç›´æ¥åŒæ­¥è°ƒç”¨æ¥å£çš„ï¼Œå¦‚æœç”¨ MQ ç»™å®ƒå¼‚æ­¥åŒ–è§£è€¦ï¼Œä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œä½ å°±éœ€è¦å»è€ƒè™‘åœ¨ä½ çš„é¡¹ç›®é‡Œï¼Œæ˜¯ä¸æ˜¯å¯ä»¥è¿ç”¨è¿™ä¸ª MQ å»è¿›è¡Œç³»ç»Ÿçš„è§£è€¦ã€‚åœ¨ç®€å†ä¸­ä½“ç°å‡ºæ¥è¿™å—ä¸œè¥¿ï¼Œç”¨ MQ ä½œè§£è€¦ã€‚ æˆ‘ï¼š åœ¨æˆ‘çš„å°è¶…å¸‚å°ç¨‹åºçš„è¿ä½œä¸­ï¼Œå®¢æˆ·ä¸‹å•å’Œå®é™…çš„å¤„ç†æ˜¯åˆ†ç¦»çš„ï¼Œå¦‚æœå°†å®¢æˆ·ä¸‹å•ç­‰æ“ä½œå’Œä¸šåŠ¡é€»è¾‘ï¼ˆæ¯”å¦‚ç”Ÿæˆè®¢å•ã€é€šçŸ¥ç¬¬ä¸‰æ–¹ç‰©æµã€å‡åº“å­˜ç­‰ã€æ‰“å°ã€å‘é€çŸ­ä¿¡ã€å‘é€é‚®ä»¶ï¼‰è€¦åˆåœ¨ä¸€èµ·ï¼Œåœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹ä¼šé€ æˆç³»ç»Ÿç¼“æ…¢ç”šè‡³å´©æºƒçš„é—®é¢˜ï¼ˆä¸€ä¸ªåŠŸèƒ½å¼‚å¸¸æ•´ä¸ªæµç¨‹å¤±è´¥çš„é—®é¢˜ï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä½¿ç”¨RabbitMQæ¶ˆæ¯é˜Ÿåˆ—åªéœ€è¦åœ¨ä¸‹å•æ—¶ï¼Œå‘å¸ƒæ¶ˆæ¯åˆ°å¯¹åº”çš„é˜Ÿåˆ—ä¸­å»ï¼Œè®©å®é™…çš„æ‰“å°ã€å‘é€çŸ­ä¿¡ã€å‘é€é‚®ä»¶ç­‰ç³»ç»Ÿè®¢é˜…é˜Ÿåˆ—ä¸­çš„æ¶ˆæ¯ï¼Œåœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹å„å¸å…¶èŒï¼Œå°±å¯ä»¥å®Œç¾çš„è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ å¼‚æ­¥å†æ¥çœ‹ä¸€ä¸ªåœºæ™¯ï¼ŒA ç³»ç»Ÿæ¥æ”¶ä¸€ä¸ªè¯·æ±‚ï¼Œéœ€è¦åœ¨è‡ªå·±æœ¬åœ°å†™åº“ï¼Œè¿˜éœ€è¦åœ¨ BCD ä¸‰ä¸ªç³»ç»Ÿå†™åº“ï¼Œè‡ªå·±æœ¬åœ°å†™åº“è¦ 3msï¼ŒBCD ä¸‰ä¸ªç³»ç»Ÿåˆ†åˆ«å†™åº“è¦ 300msã€450msã€200msã€‚æœ€ç»ˆè¯·æ±‚æ€»å»¶æ—¶æ˜¯ 3 + 300 + 450 + 200 = 953msï¼Œæ¥è¿‘ 1sï¼Œç”¨æˆ·æ„Ÿè§‰æä¸ªä»€ä¹ˆä¸œè¥¿ï¼Œæ…¢æ­»äº†æ…¢æ­»äº†ã€‚ç”¨æˆ·é€šè¿‡æµè§ˆå™¨å‘èµ·è¯·æ±‚ï¼Œç­‰å¾…ä¸ª 1sï¼Œè¿™å‡ ä¹æ˜¯ä¸å¯æ¥å—çš„ã€‚ ä¸€èˆ¬äº’è”ç½‘ç±»çš„ä¼ä¸šï¼Œå¯¹äºç”¨æˆ·ç›´æ¥çš„æ“ä½œï¼Œä¸€èˆ¬è¦æ±‚æ˜¯æ¯ä¸ªè¯·æ±‚éƒ½å¿…é¡»åœ¨ 200 ms ä»¥å†…å®Œæˆï¼Œå¯¹ç”¨æˆ·å‡ ä¹æ˜¯æ— æ„ŸçŸ¥çš„ã€‚ å¦‚æœä½¿ç”¨ MQï¼Œé‚£ä¹ˆ A ç³»ç»Ÿè¿ç»­å‘é€ 3 æ¡æ¶ˆæ¯åˆ° MQ é˜Ÿåˆ—ä¸­ï¼Œå‡å¦‚è€—æ—¶ 5msï¼ŒA ç³»ç»Ÿä»æ¥å—ä¸€ä¸ªè¯·æ±‚åˆ°è¿”å›å“åº”ç»™ç”¨æˆ·ï¼Œæ€»æ—¶é•¿æ˜¯ 3 + 5 = 8msï¼Œå¯¹äºç”¨æˆ·è€Œè¨€ï¼Œå…¶å®æ„Ÿè§‰ä¸Šå°±æ˜¯ç‚¹ä¸ªæŒ‰é’®ï¼Œ8ms ä»¥åå°±ç›´æ¥è¿”å›äº†ï¼Œçˆ½ï¼ç½‘ç«™åšå¾—çœŸå¥½ï¼ŒçœŸå¿«ï¼ æˆ‘ï¼šæ­£å¦‚ä¸Šé¢è¯´è¯´ï¼Œå‘é€çŸ­ä¿¡ï¼Œåº“å­˜æ“ä½œï¼Œè®¢å•å¤„ç†ç­‰ä¸šåŠ¡ååˆ†è€—æ—¶ï¼Œä½†æ˜¯å¯¹äºç”¨æˆ·æ¥è¯´ä¸‹å•æœ€è¿«åˆ‡çš„éœ€æ±‚æ˜¯è®°å½•ä¸‹å•æ•°æ®å¹¶æ‰§è¡Œæ”¯ä»˜æ“ä½œï¼Œåªè¦æ»¡è¶³åº“å­˜å¤Ÿï¼Œæ”¯ä»˜é‡‘é¢å¤Ÿå°±å¯ä»¥äº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥å°†æ ¸å¿ƒä¸šåŠ¡ä¸å…¶ä»–è€—æ—¶ä¸šåŠ¡åˆ†ç¦»ï¼Œè¿›è¡Œå¼‚æ­¥æ“ä½œï¼Œåœ¨ç”¨æˆ·ä¸‹å•å®Œæˆåå†è¿›è¡Œè€—æ—¶æ“ä½œï¼Œå¹¶ä¸”è¿™äº›è€—æ—¶çš„ä¸šåŠ¡æ“ä½œå³ä¾¿å¤±è´¥ï¼Œä¹Ÿæœ‰è¶³å¤Ÿçš„æ—¶é—´ä¸æ¡ä»¶å»åšå¤„ç†ï¼Œå¹¶ä¸å½±å“ç”¨æˆ·ä½“éªŒã€‚ å‰Šå³°æ¯å¤© 0:00 åˆ° 12:00ï¼ŒA ç³»ç»Ÿé£å¹³æµªé™ï¼Œæ¯ç§’å¹¶å‘è¯·æ±‚æ•°é‡å°± 50 ä¸ªã€‚ç»“æœæ¯æ¬¡ä¸€åˆ° 12:00 ~ 13:00 ï¼Œæ¯ç§’å¹¶å‘è¯·æ±‚æ•°é‡çªç„¶ä¼šæš´å¢åˆ° 5k+ æ¡ã€‚ä½†æ˜¯ç³»ç»Ÿæ˜¯ç›´æ¥åŸºäº MySQL çš„ï¼Œå¤§é‡çš„è¯·æ±‚æ¶Œå…¥ MySQLï¼Œæ¯ç§’é’Ÿå¯¹ MySQL æ‰§è¡Œçº¦ 5k æ¡ SQLã€‚ ä¸€èˆ¬çš„ MySQLï¼Œæ‰›åˆ°æ¯ç§’ 2k ä¸ªè¯·æ±‚å°±å·®ä¸å¤šäº†ï¼Œå¦‚æœæ¯ç§’è¯·æ±‚åˆ° 5k çš„è¯ï¼Œå¯èƒ½å°±ç›´æ¥æŠŠ MySQL ç»™æ‰“æ­»äº†ï¼Œå¯¼è‡´ç³»ç»Ÿå´©æºƒï¼Œç”¨æˆ·ä¹Ÿå°±æ²¡æ³•å†ä½¿ç”¨ç³»ç»Ÿäº†ã€‚ ä½†æ˜¯é«˜å³°æœŸä¸€è¿‡ï¼Œåˆ°äº†ä¸‹åˆçš„æ—¶å€™ï¼Œå°±æˆäº†ä½å³°æœŸï¼Œå¯èƒ½ä¹Ÿå°± 1w çš„ç”¨æˆ·åŒæ—¶åœ¨ç½‘ç«™ä¸Šæ“ä½œï¼Œæ¯ç§’ä¸­çš„è¯·æ±‚æ•°é‡å¯èƒ½ä¹Ÿå°± 50 ä¸ªè¯·æ±‚ï¼Œå¯¹æ•´ä¸ªç³»ç»Ÿå‡ ä¹æ²¡æœ‰ä»»ä½•çš„å‹åŠ›ã€‚ å¦‚æœä½¿ç”¨ MQï¼Œæ¯ç§’ 5k ä¸ªè¯·æ±‚å†™å…¥ MQï¼ŒA ç³»ç»Ÿæ¯ç§’é’Ÿæœ€å¤šå¤„ç† 2k ä¸ªè¯·æ±‚ï¼Œå› ä¸º MySQL æ¯ç§’é’Ÿæœ€å¤šå¤„ç† 2k ä¸ªã€‚A ç³»ç»Ÿä» MQ ä¸­æ…¢æ…¢æ‹‰å–è¯·æ±‚ï¼Œæ¯ç§’é’Ÿå°±æ‹‰å– 2k ä¸ªè¯·æ±‚ï¼Œä¸è¦è¶…è¿‡è‡ªå·±æ¯ç§’èƒ½å¤„ç†çš„æœ€å¤§è¯·æ±‚æ•°é‡å°± okï¼Œè¿™æ ·ä¸‹æ¥ï¼Œå“ªæ€•æ˜¯é«˜å³°æœŸçš„æ—¶å€™ï¼ŒA ç³»ç»Ÿä¹Ÿç»å¯¹ä¸ä¼šæŒ‚æ‰ã€‚è€Œ MQ æ¯ç§’é’Ÿ 5k ä¸ªè¯·æ±‚è¿›æ¥ï¼Œå°± 2k ä¸ªè¯·æ±‚å‡ºå»ï¼Œç»“æœå°±å¯¼è‡´åœ¨ä¸­åˆé«˜å³°æœŸï¼ˆ1 ä¸ªå°æ—¶ï¼‰ï¼Œå¯èƒ½æœ‰å‡ åä¸‡ç”šè‡³å‡ ç™¾ä¸‡çš„è¯·æ±‚ç§¯å‹åœ¨ MQ ä¸­ã€‚ è¿™ä¸ªçŸ­æš‚çš„é«˜å³°æœŸç§¯å‹æ˜¯ ok çš„ï¼Œå› ä¸ºé«˜å³°æœŸè¿‡äº†ä¹‹åï¼Œæ¯ç§’é’Ÿå°± 50 ä¸ªè¯·æ±‚è¿› MQï¼Œä½†æ˜¯ A ç³»ç»Ÿä¾ç„¶ä¼šæŒ‰ç…§æ¯ç§’ 2k ä¸ªè¯·æ±‚çš„é€Ÿåº¦åœ¨å¤„ç†ã€‚æ‰€ä»¥è¯´ï¼Œåªè¦é«˜å³°æœŸä¸€è¿‡ï¼ŒA ç³»ç»Ÿå°±ä¼šå¿«é€Ÿå°†ç§¯å‹çš„æ¶ˆæ¯ç»™è§£å†³æ‰ã€‚ æˆ‘ï¼š åœ¨æˆ‘çš„ç³»ç»Ÿä¸­å¹¶ä¸éœ€è¦è€ƒè™‘è¿™ä¸ªé—®é¢˜ï¼ŒåŸºäºæˆ‘æ‰€åšçš„ç³»ç»Ÿæœ€é«˜çš„å¹¶å‘é‡ä¹Ÿä¸è¶³5kï¼Œæ‰€ä»¥å‡ ä¹ä¸å­˜åœ¨å‰Šå³°çš„é—®é¢˜ï¼Œä½†æ˜¯ç”±äºæˆ‘ä½¿ç”¨çš„æ˜¯å­¦ç”ŸæœåŠ¡å™¨æ­è½½ï¼Œæ‰€ä»¥å®é™…æ‰¿å—èƒ½åŠ›ä¹Ÿè¾ƒä½ï¼Œåœ¨ä½¿ç”¨jmeterå‹åŠ›æµ‹è¯•æ—¶æœ‰ç›¸åº”æµ‹è¯•ï¼Œæ•ˆæœè‰¯å¥½ã€‚ æ¶ˆæ¯é˜Ÿåˆ—æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ä¼˜ç‚¹ä¸Šé¢å·²ç»è¯´äº†ï¼Œå°±æ˜¯åœ¨ç‰¹æ®Šåœºæ™¯ä¸‹æœ‰å…¶å¯¹åº”çš„å¥½å¤„ï¼Œè§£è€¦ã€å¼‚æ­¥ã€å‰Šå³°ã€‚ ç¼ºç‚¹æœ‰ä»¥ä¸‹å‡ ä¸ªï¼š ç³»ç»Ÿå¯ç”¨æ€§é™ä½ç³»ç»Ÿå¼•å…¥çš„å¤–éƒ¨ä¾èµ–è¶Šå¤šï¼Œè¶Šå®¹æ˜“æŒ‚æ‰ã€‚æœ¬æ¥ä½ å°±æ˜¯ A ç³»ç»Ÿè°ƒç”¨ BCD ä¸‰ä¸ªç³»ç»Ÿçš„æ¥å£å°±å¥½äº†ï¼Œäºº ABCD å››ä¸ªç³»ç»Ÿå¥½å¥½çš„ï¼Œæ²¡å•¥é—®é¢˜ï¼Œä½ ååŠ ä¸ª MQ è¿›æ¥ï¼Œä¸‡ä¸€ MQ æŒ‚äº†å’‹æ•´ï¼ŒMQ ä¸€æŒ‚ï¼Œæ•´å¥—ç³»ç»Ÿå´©æºƒçš„ï¼Œä½ ä¸å°±å®Œäº†ï¼Ÿå¦‚ä½•ä¿è¯æ¶ˆæ¯é˜Ÿåˆ—çš„é«˜å¯ç”¨ï¼Œå¯ä»¥ç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹ã€‚ ç³»ç»Ÿå¤æ‚åº¦æé«˜ç¡¬ç”Ÿç”ŸåŠ ä¸ª MQ è¿›æ¥ï¼Œä½ æ€ä¹ˆä¿è¯æ¶ˆæ¯æ²¡æœ‰é‡å¤æ¶ˆè´¹ï¼Ÿæ€ä¹ˆå¤„ç†æ¶ˆæ¯ä¸¢å¤±çš„æƒ…å†µï¼Ÿæ€ä¹ˆä¿è¯æ¶ˆæ¯ä¼ é€’çš„é¡ºåºæ€§ï¼Ÿå¤´å¤§å¤´å¤§ï¼Œé—®é¢˜ä¸€å¤§å †ï¼Œç—›è‹¦ä¸å·²ã€‚ ä¸€è‡´æ€§é—®é¢˜A ç³»ç»Ÿå¤„ç†å®Œäº†ç›´æ¥è¿”å›æˆåŠŸäº†ï¼Œäººéƒ½ä»¥ä¸ºä½ è¿™ä¸ªè¯·æ±‚å°±æˆåŠŸäº†ï¼›ä½†æ˜¯é—®é¢˜æ˜¯ï¼Œè¦æ˜¯ BCD ä¸‰ä¸ªç³»ç»Ÿé‚£é‡Œï¼ŒBD ä¸¤ä¸ªç³»ç»Ÿå†™åº“æˆåŠŸäº†ï¼Œç»“æœ C ç³»ç»Ÿå†™åº“å¤±è´¥äº†ï¼Œå’‹æ•´ï¼Ÿä½ è¿™æ•°æ®å°±ä¸ä¸€è‡´äº†ã€‚ æ‰€ä»¥æ¶ˆæ¯é˜Ÿåˆ—å®é™…æ˜¯ä¸€ç§éå¸¸å¤æ‚çš„æ¶æ„ï¼Œä½ å¼•å…¥å®ƒæœ‰å¾ˆå¤šå¥½å¤„ï¼Œä½†æ˜¯ä¹Ÿå¾—é’ˆå¯¹å®ƒå¸¦æ¥çš„åå¤„åšå„ç§é¢å¤–çš„æŠ€æœ¯æ–¹æ¡ˆå’Œæ¶æ„æ¥è§„é¿æ‰ï¼Œåšå¥½ä¹‹åï¼Œä½ ä¼šå‘ç°ï¼Œå¦ˆå‘€ï¼Œç³»ç»Ÿå¤æ‚åº¦æå‡äº†ä¸€ä¸ªæ•°é‡çº§ï¼Œä¹Ÿè®¸æ˜¯å¤æ‚äº† 10 å€ã€‚ä½†æ˜¯å…³é”®æ—¶åˆ»ï¼Œç”¨ï¼Œè¿˜æ˜¯å¾—ç”¨çš„ã€‚ Kafkaã€ActiveMQã€RabbitMQã€RocketMQ æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼Ÿ ç‰¹æ€§ ActiveMQ RabbitMQ RocketMQ Kafka å•æœºååé‡ ä¸‡çº§ï¼Œæ¯” RocketMQã€Kafka ä½ä¸€ä¸ªæ•°é‡çº§ åŒ ActiveMQ 10 ä¸‡çº§ï¼Œæ”¯æ’‘é«˜åå 10 ä¸‡çº§ï¼Œé«˜ååï¼Œä¸€èˆ¬é…åˆå¤§æ•°æ®ç±»çš„ç³»ç»Ÿæ¥è¿›è¡Œå®æ—¶æ•°æ®è®¡ç®—ã€æ—¥å¿—é‡‡é›†ç­‰åœºæ™¯ topic æ•°é‡å¯¹ååé‡çš„å½±å“ topic å¯ä»¥è¾¾åˆ°å‡ ç™¾/å‡ åƒçš„çº§åˆ«ï¼Œååé‡ä¼šæœ‰è¾ƒå°å¹…åº¦çš„ä¸‹é™ï¼Œè¿™æ˜¯ RocketMQ çš„ä¸€å¤§ä¼˜åŠ¿ï¼Œåœ¨åŒç­‰æœºå™¨ä¸‹ï¼Œå¯ä»¥æ”¯æ’‘å¤§é‡çš„ topic topic ä»å‡ ååˆ°å‡ ç™¾ä¸ªæ—¶å€™ï¼Œååé‡ä¼šå¤§å¹…åº¦ä¸‹é™ï¼Œåœ¨åŒç­‰æœºå™¨ä¸‹ï¼ŒKafka å°½é‡ä¿è¯ topic æ•°é‡ä¸è¦è¿‡å¤šï¼Œå¦‚æœè¦æ”¯æ’‘å¤§è§„æ¨¡çš„ topicï¼Œéœ€è¦å¢åŠ æ›´å¤šçš„æœºå™¨èµ„æº æ—¶æ•ˆæ€§ ms çº§ å¾®ç§’çº§ï¼Œè¿™æ˜¯ RabbitMQ çš„ä¸€å¤§ç‰¹ç‚¹ï¼Œå»¶è¿Ÿæœ€ä½ ms çº§ å»¶è¿Ÿåœ¨ ms çº§ä»¥å†… å¯ç”¨æ€§ é«˜ï¼ŒåŸºäºä¸»ä»æ¶æ„å®ç°é«˜å¯ç”¨ åŒ ActiveMQ éå¸¸é«˜ï¼Œåˆ†å¸ƒå¼æ¶æ„ éå¸¸é«˜ï¼Œåˆ†å¸ƒå¼ï¼Œä¸€ä¸ªæ•°æ®å¤šä¸ªå‰¯æœ¬ï¼Œå°‘æ•°æœºå™¨å®•æœºï¼Œä¸ä¼šä¸¢å¤±æ•°æ®ï¼Œä¸ä¼šå¯¼è‡´ä¸å¯ç”¨ æ¶ˆæ¯å¯é æ€§ æœ‰è¾ƒä½çš„æ¦‚ç‡ä¸¢å¤±æ•°æ® åŸºæœ¬ä¸ä¸¢ ç»è¿‡å‚æ•°ä¼˜åŒ–é…ç½®ï¼Œå¯ä»¥åšåˆ° 0 ä¸¢å¤± åŒ RocketMQ åŠŸèƒ½æ”¯æŒ MQ é¢†åŸŸçš„åŠŸèƒ½æå…¶å®Œå¤‡ åŸºäº erlang å¼€å‘ï¼Œå¹¶å‘èƒ½åŠ›å¾ˆå¼ºï¼Œæ€§èƒ½æå¥½ï¼Œå»¶æ—¶å¾ˆä½ MQ åŠŸèƒ½è¾ƒä¸ºå®Œå–„ï¼Œè¿˜æ˜¯åˆ†å¸ƒå¼çš„ï¼Œæ‰©å±•æ€§å¥½ åŠŸèƒ½è¾ƒä¸ºç®€å•ï¼Œä¸»è¦æ”¯æŒç®€å•çš„ MQ åŠŸèƒ½ï¼Œåœ¨å¤§æ•°æ®é¢†åŸŸçš„å®æ—¶è®¡ç®—ä»¥åŠæ—¥å¿—é‡‡é›†è¢«å¤§è§„æ¨¡ä½¿ç”¨ ç»¼ä¸Šï¼Œå„ç§å¯¹æ¯”ä¹‹åï¼Œæœ‰å¦‚ä¸‹å»ºè®®ï¼š ä¸€èˆ¬çš„ä¸šåŠ¡ç³»ç»Ÿè¦å¼•å…¥ MQï¼Œæœ€æ—©å¤§å®¶éƒ½ç”¨ ActiveMQï¼Œä½†æ˜¯ç°åœ¨ç¡®å®å¤§å®¶ç”¨çš„ä¸å¤šäº†ï¼Œæ²¡ç»è¿‡å¤§è§„æ¨¡ååé‡åœºæ™¯çš„éªŒè¯ï¼Œç¤¾åŒºä¹Ÿä¸æ˜¯å¾ˆæ´»è·ƒï¼Œæ‰€ä»¥å¤§å®¶è¿˜æ˜¯ç®—äº†å§ï¼Œæˆ‘ä¸ªäººä¸æ¨èç”¨è¿™ä¸ªäº†ï¼› åæ¥å¤§å®¶å¼€å§‹ç”¨ RabbitMQï¼Œä½†æ˜¯ç¡®å® erlang è¯­è¨€é˜»æ­¢äº†å¤§é‡çš„ Java å·¥ç¨‹å¸ˆå»æ·±å…¥ç ”ç©¶å’ŒæŒæ§å®ƒï¼Œå¯¹å…¬å¸è€Œè¨€ï¼Œå‡ ä¹å¤„äºä¸å¯æ§çš„çŠ¶æ€ï¼Œä½†æ˜¯ç¡®å®äººå®¶æ˜¯å¼€æºçš„ï¼Œæ¯”è¾ƒç¨³å®šçš„æ”¯æŒï¼Œæ´»è·ƒåº¦ä¹Ÿé«˜ï¼› ä¸è¿‡ç°åœ¨ç¡®å®è¶Šæ¥è¶Šå¤šçš„å…¬å¸ä¼šå»ç”¨ RocketMQï¼Œç¡®å®å¾ˆä¸é”™ï¼Œæ¯•ç«Ÿæ˜¯é˜¿é‡Œå‡ºå“ï¼Œä½†ç¤¾åŒºå¯èƒ½æœ‰çªç„¶é»„æ‰çš„é£é™©ï¼ˆç›®å‰ RocketMQ å·²æç»™ Apacheï¼Œä½† GitHub ä¸Šçš„æ´»è·ƒåº¦å…¶å®ä¸ç®—é«˜ï¼‰å¯¹è‡ªå·±å…¬å¸æŠ€æœ¯å®åŠ›æœ‰ç»å¯¹è‡ªä¿¡çš„ï¼Œæ¨èç”¨ RocketMQï¼Œå¦åˆ™å›å»è€è€å®å®ç”¨ RabbitMQ å§ï¼Œäººå®¶æœ‰æ´»è·ƒçš„å¼€æºç¤¾åŒºï¼Œç»å¯¹ä¸ä¼šé»„ã€‚ æ‰€ä»¥ä¸­å°å‹å…¬å¸ï¼ŒæŠ€æœ¯å®åŠ›è¾ƒä¸ºä¸€èˆ¬ï¼ŒæŠ€æœ¯æŒ‘æˆ˜ä¸æ˜¯ç‰¹åˆ«é«˜ï¼Œç”¨ RabbitMQ æ˜¯ä¸é”™çš„é€‰æ‹©ï¼›å¤§å‹å…¬å¸ï¼ŒåŸºç¡€æ¶æ„ç ”å‘å®åŠ›è¾ƒå¼ºï¼Œç”¨ RocketMQ æ˜¯å¾ˆå¥½çš„é€‰æ‹©ã€‚ å¦‚æœæ˜¯å¤§æ•°æ®é¢†åŸŸçš„å®æ—¶è®¡ç®—ã€æ—¥å¿—é‡‡é›†ç­‰åœºæ™¯ï¼Œç”¨ Kafka æ˜¯ä¸šå†…æ ‡å‡†çš„ï¼Œç»å¯¹æ²¡é—®é¢˜ï¼Œç¤¾åŒºæ´»è·ƒåº¦å¾ˆé«˜ï¼Œç»å¯¹ä¸ä¼šé»„ï¼Œä½•å†µå‡ ä¹æ˜¯å…¨ä¸–ç•Œè¿™ä¸ªé¢†åŸŸçš„äº‹å®æ€§è§„èŒƒã€‚","categories":[{"name":"æ¶ˆæ¯é˜Ÿåˆ—","slug":"æ¶ˆæ¯é˜Ÿåˆ—","permalink":"http://www.octber.xyz/categories/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/"}],"tags":[{"name":"RabbitMQ","slug":"RabbitMQ","permalink":"http://www.octber.xyz/tags/RabbitMQ/"}]},{"title":"2019.9.10æ—¥æŠ¥","slug":"2019-9-10æ—¥æŠ¥","date":"2019-09-10T01:56:55.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/09/10/2019-9-10æ—¥æŠ¥/","link":"","permalink":"http://www.octber.xyz/2019/09/10/2019-9-10%E6%97%A5%E6%8A%A5/","excerpt":"å‰è¨€[TOC]","text":"å‰è¨€[TOC] 1. ä»»åŠ¡ä¸ä»»åŠ¡è¿›åº¦/å·¥æ—¶è¯´æ˜ æµ‹è¯•å‘ç°é—®é¢˜ä¸åŠæ—¶è§£å†³ 1.1 [é‡æ„] é”€å”®æ¸ é“å¯¹æ¥ä¿¡æ¯ é—®é¢˜æè¿°: devä¸­å¼•ç”¨bgbçš„æœåŠ¡ è§£å†³æ–¹æ¡ˆ: å°†æ¥å£è½¬ç§»åˆ°bgbä¸­,å‰ç«¯å¼•ç”¨bgbä¸­çš„æœåŠ¡ è§£å†³è¿›åº¦: 100% 1.2 [æ–°é¡µé¢] åˆ†çº¢(å¼ºèµ/å¼ºå¢å¼ºå‡)æµæ°´æŸ¥è¯¢ ä»»åŠ¡æè¿°: ä¸‰ä¸ªTabé¡µ,æ˜¾ç¤ºä¸‰ä¸ªæŸ¥è¯¢é¡µé¢ è¿›åº¦: 100% 1.3 [æµ‹è¯•] èµ„é‡‘è°ƒæ•´åŠå¤æ ¸ å‘ç°é—®é¢˜: æ•°æ®åº“è¡¨dateå­—æ®µä¸åº”è¯¥ä¸ºä¸»é”®-&gt;å·²è§£å†³ å·¥ä½œæµæäº¤åº”è¯¥å…¨éƒ¨æ”¾åœ¨åç«¯å¤„ç†,ä¸åº”è¯¥åœ¨å‰ç«¯å¤„ç† è¿›åº¦: 100% 2. å·²è§£å†³çš„é—®é¢˜ 1.1 [é‡æ„] é”€å”®æ¸ é“å¯¹æ¥ä¿¡æ¯ 1.2 [æ–°é¡µé¢] åˆ†çº¢(å¼ºèµ/å¼ºå¢å¼ºå‡)æµæ°´æŸ¥è¯¢ 1.3 [æµ‹è¯•] èµ„é‡‘è°ƒæ•´åŠå¤æ ¸ 3. æœªè§£å†³çš„é—®é¢˜æ—  4. è¿›åº¦å»¶è¿ŸåŸå› è¯´æ˜5. åˆ†çº¢(å¼ºèµ,å¼ºå¢å¼ºå‡)æµæ°´æŸ¥è¯¢ å¤‡æ³¨: å­—æ®µå¯¹åº”å…³ç³»,ä»¥ä¾¿äºå‰ç«¯å‡†ç¡®æ˜¾ç¤º 5.1 åˆ†çº¢æŸ¥è¯¢ éƒ¨é—¨ç¼–å· company_id éƒ¨é—¨ç®€ç§° company_name éƒ¨é—¨å…¨ç§° company_name å¯¼å…¥æ—¥æœŸ create_time_stamp é”€å”®æ¸ é“ agency_code-&gt;agency_name TAç¡®è®¤ç¼–å· ta_serial_id ç¡®è®¤æ—¥æœŸ date æƒç›Šç™»è®°æ—¥ equity_reg_date é™¤æƒæ—¥ xr_date åˆ†çº¢æ—¥/å‘æ”¾æ—¥ dividend_date åˆ°è´¦æ—¥ cash_date åŸºé‡‘ä»£ç  fund_code åŸºé‡‘ç¼–å· fund_id åŸºé‡‘åç§° fund_name äº¤æ˜“è´¦æˆ· fund_trade_account åŸºé‡‘è´¦æˆ· fund_account çº¢åˆ©/çº¢åˆ©å†æŠ•èµ„åŸºæ•°(ç™»è®°ä»½é¢) reg_share åˆ†çº¢æ–¹å¼ bonus_type DefDividendMethod0-çº¢åˆ©è½¬æŠ•1-ç°é‡‘åˆ†çº¢ åŸºé‡‘è´¦æˆ·çº¢åˆ©å†æŠ•èµ„åŸºé‡‘ä»½æ•°ï¼ˆå«å†»ç»“ï¼‰dicidend_share å†»ç»“å†æŠ•èµ„ä»½é¢ frozen_shares åŸºé‡‘è´¦æˆ·çº¢åˆ©èµ„é‡‘ï¼ˆå«å†»ç»“ï¼‰dividend_bala æ¯ç¬”äº¤æ˜“ç¡®è®¤é‡‘é¢ confirmed_amount æ‰‹ç»­è´¹ charge 5.2 å¼ºèµ éƒ¨é—¨ç¼–å· éƒ¨é—¨ç®€ç§° éƒ¨é—¨å…¨ç§° å¯¼å…¥æ—¥æœŸ date é”€å”®æ¸ é“ agency_code-&gt;agency_name ç¡®è®¤æ—¥æœŸ transaction_cfmdate TAç¡®è®¤ç¼–å· ta_serialno ä¸šåŠ¡ç±»å‹: å¼ºèµ åˆ°è´¦æ—¥ cash_date åŸºé‡‘ä»£ç  fund_id åŸºé‡‘åç§° fund_name äº¤æ˜“è´¦æˆ· fund_trade_account åŸºé‡‘è´¦æˆ· fund_account ç¡®è®¤ä»½é¢ confirmed_vol ç¡®è®¤é‡‘é¢ confirmed_amount æ‰‹ç»­è´¹ charge å‡€å€¼ nav 5.3 å¼ºå¢å¼ºå‡ éƒ¨é—¨ç¼–å· éƒ¨é—¨ç®€ç§° éƒ¨é—¨å…¨ç§° å¯¼å…¥æ—¥æœŸ é”€å”®æ¸ é“ ç¡®è®¤æ—¥æœŸ TAç¡®è®¤ç¼–å· ta_serialno ä¸šåŠ¡ç±»å‹: å¼ºå¢å¼ºå‡ åŸºé‡‘ä»£ç  åŸºé‡‘åç§° äº¤æ˜“è´¦æˆ· åŸºé‡‘è´¦æˆ· ç¡®è®¤ä»½é¢ æ‰‹ç»­è´¹ å‡€å€¼","categories":[{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"http://www.octber.xyz/categories/%E6%97%A5%E8%AE%B0/"}],"tags":[{"name":"æ—¥æŠ¥","slug":"æ—¥æŠ¥","permalink":"http://www.octber.xyz/tags/%E6%97%A5%E6%8A%A5/"}]},{"title":"2019.9.9æ—¥æŠ¥","slug":"2019-9-9æ—¥æŠ¥","date":"2019-09-09T12:40:19.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/09/09/2019-9-9æ—¥æŠ¥/","link":"","permalink":"http://www.octber.xyz/2019/09/09/2019-9-9%E6%97%A5%E6%8A%A5/","excerpt":"å‰è¨€2019.9.9æ—¥æŠ¥ [TOC]","text":"å‰è¨€2019.9.9æ—¥æŠ¥ [TOC] 1. ä»»åŠ¡ä¸ä»»åŠ¡è¿›åº¦/å·¥æ—¶è¯´æ˜1.1 é”€å”®æ¸ é“å¯¹æ¥ä¿¡æ¯ç®¡ç† å†…å®¹ï¼š ä¸€è§ˆã€å¢åŠ ã€åˆ é™¤ã€è¯¦æƒ…ã€ä¿®æ”¹ è¿›åº¦ï¼š 100% 1.2 å‘ç°Bugå¹¶è§£å†³ é€šè¿‡å’Œæ¶›å“¥ç¡®è®¤ï¼Œå‘ç°å¹¶è§£å†³èµ„é‡‘å¤æ ¸ä¸­å­˜åœ¨çš„é—®é¢˜ å…¬å¸æ ‘æŸ¥è¯¢æ¥å£ä½ç½®è¿ç§» ä¿®æ”¹é”€å”®æ¸ é“å’Œé”€å”®æ¸ é“å¯¹æ¥ä¿¡æ¯ç›¸å…³companyIdçš„æ“ä½œ è¿›åº¦ï¼š 100% 2. å·²è§£å†³çš„é—®é¢˜1.1 é”€å”®æ¸ é“å¯¹æ¥ä¿¡æ¯ç®¡ç†3. æœªè§£å†³çš„é—®é¢˜4. è¿›åº¦å»¶è¿ŸåŸå› è¯´æ˜","categories":[{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"http://www.octber.xyz/categories/%E6%97%A5%E8%AE%B0/"}],"tags":[{"name":"æ—¥æŠ¥","slug":"æ—¥æŠ¥","permalink":"http://www.octber.xyz/tags/%E6%97%A5%E6%8A%A5/"}]},{"title":"Redis-ä»æ¥è§¦åˆ°ä¸Šç˜¾","slug":"Redis-ä»æ¥è§¦åˆ°ä¸Šç˜¾","date":"2019-09-08T03:31:35.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/09/08/Redis-ä»æ¥è§¦åˆ°ä¸Šç˜¾/","link":"","permalink":"http://www.octber.xyz/2019/09/08/Redis-%E4%BB%8E%E6%8E%A5%E8%A7%A6%E5%88%B0%E4%B8%8A%E7%98%BE/","excerpt":"å‰è¨€ æ¥è§¦Redisä¹Ÿæœ‰ä¸€å¹´å¤šäº†ï¼Œå¾ˆå¤šé¡¹ç›®ä¸­ä¹Ÿå¾ˆæ–¹ä¾¿çš„ä½¿ç”¨åˆ°ï¼Œå¯ä»¥è¯´Redisç¡®å®ååˆ†çš„æ–¹ä¾¿ï¼Œä¸éœ€è¦è‡ªå®šä¹‰SQLè¯­å¥ï¼Œå°±å¯ä»¥å®Œæˆè‡ªåŠ¨åŒ–çš„é”®å€¼å¯¹å‚¨å­˜ä¸é«˜æ•ˆçš„ä½¿ç”¨ï¼Œå¯ä»¥è¯´æ˜¯å¼€ç®±å³ç”¨ï¼Œä½¿ç”¨è¿‡åæˆ‘ä»¬è¿˜éœ€è¦å¯¹Redisæœ‰ä¸€ä¸ªæ·±å…¥çš„ç†è§£ï¼Œä»Šå¤©å°±æ¥åšä¸€ä¸ªæ€»ç»“ã€‚","text":"å‰è¨€ æ¥è§¦Redisä¹Ÿæœ‰ä¸€å¹´å¤šäº†ï¼Œå¾ˆå¤šé¡¹ç›®ä¸­ä¹Ÿå¾ˆæ–¹ä¾¿çš„ä½¿ç”¨åˆ°ï¼Œå¯ä»¥è¯´Redisç¡®å®ååˆ†çš„æ–¹ä¾¿ï¼Œä¸éœ€è¦è‡ªå®šä¹‰SQLè¯­å¥ï¼Œå°±å¯ä»¥å®Œæˆè‡ªåŠ¨åŒ–çš„é”®å€¼å¯¹å‚¨å­˜ä¸é«˜æ•ˆçš„ä½¿ç”¨ï¼Œå¯ä»¥è¯´æ˜¯å¼€ç®±å³ç”¨ï¼Œä½¿ç”¨è¿‡åæˆ‘ä»¬è¿˜éœ€è¦å¯¹Redisæœ‰ä¸€ä¸ªæ·±å…¥çš„ç†è§£ï¼Œä»Šå¤©å°±æ¥åšä¸€ä¸ªæ€»ç»“ã€‚ ä»€ä¹ˆæ˜¯Redisï¼Œä»–æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼Ÿ Redisæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªKey-Valueç±»å‹çš„å†…å­˜æ•°æ®åº“ï¼Œå¾ˆåƒmemcachedï¼Œæ•´ä¸ªæ•°æ®åº“ç»Ÿç»ŸåŠ è½½åœ¨å†…å­˜å½“ä¸­è¿›è¡Œæ“ä½œï¼Œå®šæœŸé€šè¿‡å¼‚æ­¥æ“ä½œæŠŠæ•°æ®åº“æ•°æ®flushåˆ°ç¡¬ç›˜ä¸Šè¿›è¡Œä¿å­˜ã€‚ å› ä¸ºæ˜¯çº¯å†…å­˜æ“ä½œï¼ŒRedisçš„æ€§èƒ½éå¸¸å‡ºè‰²ï¼Œæ¯ç§’å¯ä»¥å¤„ç†è¶…è¿‡ 10ä¸‡æ¬¡è¯»å†™æ“ä½œï¼Œæ˜¯å·²çŸ¥æ€§èƒ½æœ€å¿«çš„Key-Value DBã€‚ Redisçš„å‡ºè‰²ä¹‹å¤„ä¸ä»…ä»…æ˜¯æ€§èƒ½ï¼ŒRedisæœ€å¤§çš„é­…åŠ›æ˜¯æ”¯æŒä¿å­˜å¤šç§æ•°æ®ç»“æ„ï¼Œæ­¤å¤–å•ä¸ªvalueçš„æœ€å¤§é™åˆ¶æ˜¯1GBï¼Œä¸åƒ memcachedåªèƒ½ä¿å­˜1MBçš„æ•°æ®ï¼Œå› æ­¤Rediså¯ä»¥ç”¨æ¥å®ç°å¾ˆå¤šæœ‰ç”¨çš„åŠŸèƒ½ã€‚ æ¯”æ–¹è¯´ç”¨ä»–çš„Listæ¥åšFIFOåŒå‘é“¾è¡¨ï¼Œå®ç°ä¸€ä¸ªè½»é‡çº§çš„é«˜æ€§èƒ½æ¶ˆæ¯é˜Ÿåˆ—æœåŠ¡ï¼Œç”¨ä»–çš„Setå¯ä»¥åšé«˜æ€§èƒ½çš„tagç³»ç»Ÿç­‰ç­‰ã€‚ å¦å¤–Redisä¹Ÿå¯ä»¥å¯¹å­˜å…¥çš„Key-Valueè®¾ç½®expireæ—¶é—´ï¼Œå› æ­¤ä¹Ÿå¯ä»¥è¢«å½“ä½œä¸€ ä¸ªåŠŸèƒ½åŠ å¼ºç‰ˆçš„memcachedæ¥ç”¨ã€‚ Redisçš„ä¸»è¦ç¼ºç‚¹æ˜¯æ•°æ®åº“å®¹é‡å—åˆ°ç‰©ç†å†…å­˜çš„é™åˆ¶ï¼Œä¸èƒ½ç”¨ä½œæµ·é‡æ•°æ®çš„é«˜æ€§èƒ½è¯»å†™ï¼Œå› æ­¤Redisé€‚åˆçš„åœºæ™¯ä¸»è¦å±€é™åœ¨è¾ƒå°æ•°æ®é‡çš„é«˜æ€§èƒ½æ“ä½œå’Œè¿ç®—ä¸Šã€‚ Redisç›¸æ¯”memcachedæœ‰å“ªäº›ä¼˜åŠ¿ï¼Ÿ (1) memcachedæ‰€æœ‰çš„å€¼å‡æ˜¯ç®€å•çš„å­—ç¬¦ä¸²ï¼Œredisä½œä¸ºå…¶æ›¿ä»£è€…ï¼Œæ”¯æŒæ›´ä¸ºä¸°å¯Œçš„æ•°æ®ç±»å‹ (2) redisçš„é€Ÿåº¦æ¯”memcachedå¿«å¾ˆå¤š (3) rediså¯ä»¥æŒä¹…åŒ–å…¶æ•°æ® Redisæ”¯æŒå“ªå‡ ç§æ•°æ®ç±»å‹ï¼Ÿ Stringã€Listã€Setã€Sorted Setã€hashes Redisä¸»è¦æ¶ˆè€—ä»€ä¹ˆç‰©ç†èµ„æºï¼Ÿ å†…å­˜ Redisçš„å…¨ç§°æ˜¯ä»€ä¹ˆï¼Ÿ Remote Dictionary Serverã€‚ Redisæœ‰å“ªå‡ ç§æ•°æ®æ·˜æ±°ç­–ç•¥ï¼Ÿ noeviction:è¿”å›é”™è¯¯å½“å†…å­˜é™åˆ¶è¾¾åˆ°å¹¶ä¸”å®¢æˆ·ç«¯å°è¯•æ‰§è¡Œä¼šè®©æ›´å¤šå†…å­˜è¢«ä½¿ç”¨çš„å‘½ä»¤ï¼ˆå¤§éƒ¨åˆ†çš„å†™å…¥æŒ‡ä»¤ï¼Œä½†DELå’Œå‡ ä¸ªä¾‹å¤–ï¼‰ allkeys-lru: å°è¯•å›æ”¶æœ€å°‘ä½¿ç”¨çš„é”®ï¼ˆLRUï¼‰ï¼Œä½¿å¾—æ–°æ·»åŠ çš„æ•°æ®æœ‰ç©ºé—´å­˜æ”¾ã€‚ volatile-lru: å°è¯•å›æ”¶æœ€å°‘ä½¿ç”¨çš„é”®ï¼ˆLRUï¼‰ï¼Œä½†ä»…é™äºåœ¨è¿‡æœŸé›†åˆçš„é”®,ä½¿å¾—æ–°æ·»åŠ çš„æ•°æ®æœ‰ç©ºé—´å­˜æ”¾ã€‚ allkeys-random: å›æ”¶éšæœºçš„é”®ä½¿å¾—æ–°æ·»åŠ çš„æ•°æ®æœ‰ç©ºé—´å­˜æ”¾ã€‚ volatile-random: å›æ”¶éšæœºçš„é”®ä½¿å¾—æ–°æ·»åŠ çš„æ•°æ®æœ‰ç©ºé—´å­˜æ”¾ï¼Œä½†ä»…é™äºåœ¨è¿‡æœŸé›†åˆçš„é”®ã€‚ volatile-ttl: å›æ”¶åœ¨è¿‡æœŸé›†åˆçš„é”®ï¼Œå¹¶ä¸”ä¼˜å…ˆå›æ”¶å­˜æ´»æ—¶é—´ï¼ˆTTLï¼‰è¾ƒçŸ­çš„é”®,ä½¿å¾—æ–°æ·»åŠ çš„æ•°æ®æœ‰ç©ºé—´å­˜æ”¾ã€‚ Rediså®˜æ–¹ä¸ºä»€ä¹ˆä¸æä¾›Windowsç‰ˆæœ¬ï¼Ÿ å› ä¸ºç›®å‰Linuxç‰ˆæœ¬å·²ç»ç›¸å½“ç¨³å®šï¼Œè€Œä¸”ç”¨æˆ·é‡å¾ˆå¤§ï¼Œæ— éœ€å¼€å‘windowsç‰ˆæœ¬ï¼Œåè€Œä¼šå¸¦æ¥å…¼å®¹æ€§ç­‰é—®é¢˜ã€‚ ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„å€¼èƒ½å­˜å‚¨æœ€å¤§å®¹é‡æ˜¯å¤šå°‘ï¼Ÿ 512M ä¸ºä»€ä¹ˆRediséœ€è¦æŠŠæ‰€æœ‰æ•°æ®æ”¾åˆ°å†…å­˜ä¸­ï¼Ÿ Redisä¸ºäº†è¾¾åˆ°æœ€å¿«çš„è¯»å†™é€Ÿåº¦å°†æ•°æ®éƒ½è¯»åˆ°å†…å­˜ä¸­ï¼Œå¹¶é€šè¿‡å¼‚æ­¥çš„æ–¹å¼å°†æ•°æ®å†™å…¥ç£ç›˜ã€‚ æ‰€ä»¥rediså…·æœ‰å¿«é€Ÿå’Œæ•°æ®æŒä¹…åŒ–çš„ç‰¹å¾ã€‚å¦‚æœä¸å°†æ•°æ®æ”¾åœ¨å†…å­˜ä¸­ï¼Œç£ç›˜I/Oé€Ÿåº¦ä¸ºä¸¥é‡å½±å“redisçš„æ€§èƒ½ã€‚ åœ¨å†…å­˜è¶Šæ¥è¶Šä¾¿å®œçš„ä»Šå¤©ï¼Œrediså°†ä¼šè¶Šæ¥è¶Šå—æ¬¢è¿ã€‚ å¦‚æœè®¾ç½®äº†æœ€å¤§ä½¿ç”¨çš„å†…å­˜ï¼Œåˆ™æ•°æ®å·²æœ‰è®°å½•æ•°è¾¾åˆ°å†…å­˜é™å€¼åä¸èƒ½ç»§ç»­æ’å…¥æ–°å€¼ã€‚ Redisé›†ç¾¤æ–¹æ¡ˆåº”è¯¥æ€ä¹ˆåšï¼Ÿéƒ½æœ‰å“ªäº›æ–¹æ¡ˆï¼Ÿ1.codis ç›®å‰ç”¨çš„æœ€å¤šçš„é›†ç¾¤æ–¹æ¡ˆï¼ŒåŸºæœ¬å’Œtwemproxyä¸€è‡´çš„æ•ˆæœï¼Œä½†å®ƒæ”¯æŒåœ¨ èŠ‚ç‚¹æ•°é‡æ”¹å˜æƒ…å†µä¸‹ï¼Œæ—§èŠ‚ç‚¹æ•°æ®å¯æ¢å¤åˆ°æ–°hashèŠ‚ç‚¹ã€‚ 2.redis cluster3.0è‡ªå¸¦çš„é›†ç¾¤ï¼Œç‰¹ç‚¹åœ¨äºä»–çš„åˆ†å¸ƒå¼ç®—æ³•ä¸æ˜¯ä¸€è‡´æ€§hashï¼Œè€Œæ˜¯hashæ§½çš„æ¦‚å¿µï¼Œä»¥åŠè‡ªèº«æ”¯æŒèŠ‚ç‚¹è®¾ç½®ä»èŠ‚ç‚¹ã€‚å…·ä½“çœ‹å®˜æ–¹æ–‡æ¡£ä»‹ç»ã€‚ 3.åœ¨ä¸šåŠ¡ä»£ç å±‚å®ç°å‡ ä¸ªæ¯«æ— å…³è”çš„rediså®ä¾‹ï¼Œåœ¨ä»£ç å±‚ï¼Œå¯¹key è¿›è¡Œhashè®¡ç®—ï¼Œç„¶åå»å¯¹åº”çš„rediså®ä¾‹æ“ä½œæ•°æ®ã€‚ è¿™ç§æ–¹å¼å¯¹hashå±‚ä»£ç è¦æ±‚æ¯”è¾ƒé«˜ï¼Œè€ƒè™‘éƒ¨åˆ†åŒ…æ‹¬ï¼ŒèŠ‚ç‚¹å¤±æ•ˆåçš„æ›¿ä»£ç®—æ³•æ–¹æ¡ˆï¼Œæ•°æ®éœ‡è¡åçš„è‡ªåŠ¨è„šæœ¬æ¢å¤ï¼Œå®ä¾‹çš„ç›‘æ§ï¼Œç­‰ç­‰ã€‚ Redisé›†ç¾¤æ–¹æ¡ˆä»€ä¹ˆæƒ…å†µä¸‹ä¼šå¯¼è‡´æ•´ä¸ªé›†ç¾¤ä¸å¯ç”¨ï¼Ÿ æœ‰Aï¼ŒBï¼ŒCä¸‰ä¸ªèŠ‚ç‚¹çš„é›†ç¾¤,åœ¨æ²¡æœ‰å¤åˆ¶æ¨¡å‹çš„æƒ…å†µä¸‹,å¦‚æœèŠ‚ç‚¹Bå¤±è´¥äº†ï¼Œé‚£ä¹ˆæ•´ä¸ªé›†ç¾¤å°±ä¼šä»¥ä¸ºç¼ºå°‘5501-11000è¿™ä¸ªèŒƒå›´çš„æ§½è€Œä¸å¯ç”¨ã€‚ MySQLé‡Œæœ‰2000wæ•°æ®ï¼Œredisä¸­åªå­˜20wçš„æ•°æ®ï¼Œå¦‚ä½•ä¿è¯redisä¸­çš„æ•°æ®éƒ½æ˜¯çƒ­ç‚¹æ•°æ®ï¼Ÿ rediså†…å­˜æ•°æ®é›†å¤§å°ä¸Šå‡åˆ°ä¸€å®šå¤§å°çš„æ—¶å€™ï¼Œå°±ä¼šæ–½è¡Œæ•°æ®æ·˜æ±°ç­–ç•¥ã€‚ Redisæœ‰å“ªäº›é€‚åˆçš„åœºæ™¯ï¼Ÿï¼ˆ1ï¼‰ä¼šè¯ç¼“å­˜ï¼ˆSession Cacheï¼‰ æœ€å¸¸ç”¨çš„ä¸€ç§ä½¿ç”¨Redisçš„æƒ…æ™¯æ˜¯ä¼šè¯ç¼“å­˜ï¼ˆsession cacheï¼‰ã€‚ç”¨Redisç¼“å­˜ä¼šè¯æ¯”å…¶ä»–å­˜å‚¨ï¼ˆå¦‚Memcachedï¼‰çš„ä¼˜åŠ¿åœ¨äºï¼šRedisæä¾›æŒä¹…åŒ–ã€‚å½“ç»´æŠ¤ä¸€ä¸ªä¸æ˜¯ä¸¥æ ¼è¦æ±‚ä¸€è‡´æ€§çš„ç¼“å­˜æ—¶ï¼Œå¦‚æœç”¨æˆ·çš„è´­ç‰©è½¦ä¿¡æ¯å…¨éƒ¨ä¸¢å¤±ï¼Œå¤§éƒ¨åˆ†äººéƒ½ä¼šä¸é«˜å…´çš„ï¼Œç°åœ¨ï¼Œä»–ä»¬è¿˜ä¼šè¿™æ ·å—ï¼Ÿ å¹¸è¿çš„æ˜¯ï¼Œéšç€ Redis è¿™äº›å¹´çš„æ”¹è¿›ï¼Œå¾ˆå®¹æ˜“æ‰¾åˆ°æ€ä¹ˆæ°å½“çš„ä½¿ç”¨Redisæ¥ç¼“å­˜ä¼šè¯çš„æ–‡æ¡£ã€‚ç”šè‡³å¹¿ä¸ºäººçŸ¥çš„å•†ä¸šå¹³å°Magentoä¹Ÿæä¾›Redisçš„æ’ä»¶ã€‚ ï¼ˆ2ï¼‰å…¨é¡µç¼“å­˜ï¼ˆFPCï¼‰ é™¤åŸºæœ¬çš„ä¼šè¯tokenä¹‹å¤–ï¼ŒRedisè¿˜æä¾›å¾ˆç®€ä¾¿çš„FPCå¹³å°ã€‚å›åˆ°ä¸€è‡´æ€§é—®é¢˜ï¼Œå³ä½¿é‡å¯äº†Rediså®ä¾‹ï¼Œå› ä¸ºæœ‰ç£ç›˜çš„æŒä¹…åŒ–ï¼Œç”¨æˆ·ä¹Ÿä¸ä¼šçœ‹åˆ°é¡µé¢åŠ è½½é€Ÿåº¦çš„ä¸‹é™ï¼Œè¿™æ˜¯ä¸€ä¸ªæå¤§æ”¹è¿›ï¼Œç±»ä¼¼PHPæœ¬åœ°FPCã€‚ å†æ¬¡ä»¥Magentoä¸ºä¾‹ï¼ŒMagentoæä¾›ä¸€ä¸ªæ’ä»¶æ¥ä½¿ç”¨Redisä½œä¸ºå…¨é¡µç¼“å­˜åç«¯ã€‚ æ­¤å¤–ï¼Œå¯¹WordPressçš„ç”¨æˆ·æ¥è¯´ï¼ŒPantheonæœ‰ä¸€ä¸ªéå¸¸å¥½çš„æ’ä»¶ wp-redisï¼Œè¿™ä¸ªæ’ä»¶èƒ½å¸®åŠ©ä½ ä»¥æœ€å¿«é€Ÿåº¦åŠ è½½ä½ æ›¾æµè§ˆè¿‡çš„é¡µé¢ã€‚ ï¼ˆ3ï¼‰é˜Ÿåˆ— Reidsåœ¨å†…å­˜å­˜å‚¨å¼•æ“é¢†åŸŸçš„ä¸€å¤§ä¼˜ç‚¹æ˜¯æä¾› list å’Œ set æ“ä½œï¼Œè¿™ä½¿å¾—Redisèƒ½ä½œä¸ºä¸€ä¸ªå¾ˆå¥½çš„æ¶ˆæ¯é˜Ÿåˆ—å¹³å°æ¥ä½¿ç”¨ã€‚Redisä½œä¸ºé˜Ÿåˆ—ä½¿ç”¨çš„æ“ä½œï¼Œå°±ç±»ä¼¼äºæœ¬åœ°ç¨‹åºè¯­è¨€ï¼ˆå¦‚Pythonï¼‰å¯¹ list çš„ push/pop æ“ä½œã€‚ å¦‚æœä½ å¿«é€Ÿçš„åœ¨Googleä¸­æœç´¢â€œRedis queuesâ€ï¼Œä½ é©¬ä¸Šå°±èƒ½æ‰¾åˆ°å¤§é‡çš„å¼€æºé¡¹ç›®ï¼Œè¿™äº›é¡¹ç›®çš„ç›®çš„å°±æ˜¯åˆ©ç”¨Redisåˆ›å»ºéå¸¸å¥½çš„åç«¯å·¥å…·ï¼Œä»¥æ»¡è¶³å„ç§é˜Ÿåˆ—éœ€æ±‚ã€‚ä¾‹å¦‚ï¼ŒCeleryæœ‰ä¸€ä¸ªåå°å°±æ˜¯ä½¿ç”¨Redisä½œä¸ºbrokerï¼Œä½ å¯ä»¥ä»è¿™é‡Œå»æŸ¥çœ‹ã€‚ ï¼ˆ4ï¼‰æ’è¡Œæ¦œ/è®¡æ•°å™¨ Redisåœ¨å†…å­˜ä¸­å¯¹æ•°å­—è¿›è¡Œé€’å¢æˆ–é€’å‡çš„æ“ä½œå®ç°çš„éå¸¸å¥½ã€‚é›†åˆï¼ˆSetï¼‰å’Œæœ‰åºé›†åˆï¼ˆSorted Setï¼‰ä¹Ÿä½¿å¾—æˆ‘ä»¬åœ¨æ‰§è¡Œè¿™äº›æ“ä½œçš„æ—¶å€™å˜çš„éå¸¸ç®€å•ï¼ŒRedisåªæ˜¯æ­£å¥½æä¾›äº†è¿™ä¸¤ç§æ•°æ®ç»“æ„ã€‚ æ‰€ä»¥ï¼Œæˆ‘ä»¬è¦ä»æ’åºé›†åˆä¸­è·å–åˆ°æ’åæœ€é å‰çš„10ä¸ªç”¨æˆ·â€“æˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œuser_scoresâ€ï¼Œæˆ‘ä»¬åªéœ€è¦åƒä¸‹é¢ä¸€æ ·æ‰§è¡Œå³å¯ï¼š å½“ç„¶ï¼Œè¿™æ˜¯å‡å®šä½ æ˜¯æ ¹æ®ä½ ç”¨æˆ·çš„åˆ†æ•°åšé€’å¢çš„æ’åºã€‚å¦‚æœä½ æƒ³è¿”å›ç”¨æˆ·åŠç”¨æˆ·çš„åˆ†æ•°ï¼Œä½ éœ€è¦è¿™æ ·æ‰§è¡Œï¼š ZRANGE user_scores 0 10 WITHSCORES Agora Gameså°±æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­ï¼Œç”¨Rubyå®ç°çš„ï¼Œå®ƒçš„æ’è¡Œæ¦œå°±æ˜¯ä½¿ç”¨Redisæ¥å­˜å‚¨æ•°æ®çš„ï¼Œä½ å¯ä»¥åœ¨è¿™é‡Œçœ‹åˆ°ã€‚ ï¼ˆ5ï¼‰å‘å¸ƒ/è®¢é˜… æœ€åï¼ˆä½†è‚¯å®šä¸æ˜¯æœ€ä¸é‡è¦çš„ï¼‰æ˜¯Redisçš„å‘å¸ƒ/è®¢é˜…åŠŸèƒ½ã€‚å‘å¸ƒ/è®¢é˜…çš„ä½¿ç”¨åœºæ™¯ç¡®å®éå¸¸å¤šã€‚æˆ‘å·²çœ‹è§äººä»¬åœ¨ç¤¾äº¤ç½‘ç»œè¿æ¥ä¸­ä½¿ç”¨ï¼Œè¿˜å¯ä½œä¸ºåŸºäºå‘å¸ƒ/è®¢é˜…çš„è„šæœ¬è§¦å‘å™¨ï¼Œç”šè‡³ç”¨Redisçš„å‘å¸ƒ/è®¢é˜…åŠŸèƒ½æ¥å»ºç«‹èŠå¤©ç³»ç»Ÿï¼ Redisæ”¯æŒçš„Javaå®¢æˆ·ç«¯éƒ½æœ‰å“ªäº›ï¼Ÿå®˜æ–¹æ¨èç”¨å“ªä¸ªï¼Ÿ Redissonã€Jedisã€lettuceç­‰ç­‰ï¼Œå®˜æ–¹æ¨èä½¿ç”¨Redissonã€‚ Rediså’ŒRedissonæœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ Redissonæ˜¯ä¸€ä¸ªé«˜çº§çš„åˆ†å¸ƒå¼åè°ƒRediså®¢æœç«¯ï¼Œèƒ½å¸®åŠ©ç”¨æˆ·åœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸­è½»æ¾å®ç°ä¸€äº›Javaçš„å¯¹è±¡ (Bloom filter, BitSet, Set, SetMultimap, ScoredSortedSet, SortedSet, Map, ConcurrentMap, List, ListMultimap, Queue, BlockingQueue, Deque, BlockingDeque, Semaphore, Lock, ReadWriteLock, AtomicLong, CountDownLatch, Publish / Subscribe, HyperLogLog)ã€‚ Jedisä¸Redissonå¯¹æ¯”æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼Ÿ Jedisæ˜¯Redisçš„Javaå®ç°çš„å®¢æˆ·ç«¯ï¼Œå…¶APIæä¾›äº†æ¯”è¾ƒå…¨é¢çš„Rediså‘½ä»¤çš„æ”¯æŒï¼› Redissonå®ç°äº†åˆ†å¸ƒå¼å’Œå¯æ‰©å±•çš„Javaæ•°æ®ç»“æ„ï¼Œå’ŒJedisç›¸æ¯”ï¼ŒåŠŸèƒ½è¾ƒä¸ºç®€å•ï¼Œä¸æ”¯æŒå­—ç¬¦ä¸²æ“ä½œï¼Œä¸æ”¯æŒæ’åºã€äº‹åŠ¡ã€ç®¡é“ã€åˆ†åŒºç­‰Redisç‰¹æ€§ã€‚Redissonçš„å®—æ—¨æ˜¯ä¿ƒè¿›ä½¿ç”¨è€…å¯¹Redisçš„å…³æ³¨åˆ†ç¦»ï¼Œä»è€Œè®©ä½¿ç”¨è€…èƒ½å¤Ÿå°†ç²¾åŠ›æ›´é›†ä¸­åœ°æ”¾åœ¨å¤„ç†ä¸šåŠ¡é€»è¾‘ä¸Šã€‚ Rediså¦‚ä½•è®¾ç½®å¯†ç åŠéªŒè¯å¯†ç ï¼Ÿ è®¾ç½®å¯†ç ï¼šconfig set requirepass 123456 æˆæƒå¯†ç ï¼šauth 123456 è¯´è¯´Rediså“ˆå¸Œæ§½çš„æ¦‚å¿µï¼Ÿ Redisé›†ç¾¤æ²¡æœ‰ä½¿ç”¨ä¸€è‡´æ€§hash,è€Œæ˜¯å¼•å…¥äº†å“ˆå¸Œæ§½çš„æ¦‚å¿µï¼ŒRedisé›†ç¾¤æœ‰16384ä¸ªå“ˆå¸Œæ§½ï¼Œæ¯ä¸ªkeyé€šè¿‡CRC16æ ¡éªŒåå¯¹16384å–æ¨¡æ¥å†³å®šæ”¾ç½®å“ªä¸ªæ§½ï¼Œé›†ç¾¤çš„æ¯ä¸ªèŠ‚ç‚¹è´Ÿè´£ä¸€éƒ¨åˆ†hashæ§½ã€‚ Redisé›†ç¾¤çš„ä¸»ä»å¤åˆ¶æ¨¡å‹æ˜¯æ€æ ·çš„ï¼Ÿ ä¸ºäº†ä½¿åœ¨éƒ¨åˆ†èŠ‚ç‚¹å¤±è´¥æˆ–è€…å¤§éƒ¨åˆ†èŠ‚ç‚¹æ— æ³•é€šä¿¡çš„æƒ…å†µä¸‹é›†ç¾¤ä»ç„¶å¯ç”¨ï¼Œæ‰€ä»¥é›†ç¾¤ä½¿ç”¨äº†ä¸»ä»å¤åˆ¶æ¨¡å‹,æ¯ä¸ªèŠ‚ç‚¹éƒ½ä¼šæœ‰N-1ä¸ªå¤åˆ¶å“. Redisé›†ç¾¤ä¼šæœ‰å†™æ“ä½œä¸¢å¤±å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ Rediså¹¶ä¸èƒ½ä¿è¯æ•°æ®çš„å¼ºä¸€è‡´æ€§ï¼Œè¿™æ„å‘³è¿™åœ¨å®é™…ä¸­é›†ç¾¤åœ¨ç‰¹å®šçš„æ¡ä»¶ä¸‹å¯èƒ½ä¼šä¸¢å¤±å†™æ“ä½œã€‚ Redisé›†ç¾¤ä¹‹é—´æ˜¯å¦‚ä½•å¤åˆ¶çš„ï¼Ÿ å¼‚æ­¥å¤åˆ¶ Redisé›†ç¾¤æœ€å¤§èŠ‚ç‚¹ä¸ªæ•°æ˜¯å¤šå°‘ï¼Ÿ 16384ä¸ª Redisé›†ç¾¤å¦‚ä½•é€‰æ‹©æ•°æ®åº“ï¼ŸRedisé›†ç¾¤ç›®å‰æ— æ³•åšæ•°æ®åº“é€‰æ‹©ï¼Œé»˜è®¤åœ¨0æ•°æ®åº“ã€‚ æ€ä¹ˆæµ‹è¯•Redisçš„è¿é€šæ€§ï¼Ÿping Redisä¸­çš„ç®¡é“æœ‰ä»€ä¹ˆç”¨ï¼Ÿ ä¸€æ¬¡è¯·æ±‚/å“åº”æœåŠ¡å™¨èƒ½å®ç°å¤„ç†æ–°çš„è¯·æ±‚å³ä½¿æ—§çš„è¯·æ±‚è¿˜æœªè¢«å“åº”ã€‚è¿™æ ·å°±å¯ä»¥å°†å¤šä¸ªå‘½ä»¤å‘é€åˆ°æœåŠ¡å™¨ï¼Œè€Œä¸ç”¨ç­‰å¾…å›å¤ï¼Œæœ€ååœ¨ä¸€ä¸ªæ­¥éª¤ä¸­è¯»å–è¯¥ç­”å¤ã€‚ è¿™å°±æ˜¯ç®¡é“ï¼ˆpipeliningï¼‰ï¼Œæ˜¯ä¸€ç§å‡ åå¹´æ¥å¹¿æ³›ä½¿ç”¨çš„æŠ€æœ¯ã€‚ä¾‹å¦‚è®¸å¤šPOP3åè®®å·²ç»å®ç°æ”¯æŒè¿™ä¸ªåŠŸèƒ½ï¼Œå¤§å¤§åŠ å¿«äº†ä»æœåŠ¡å™¨ä¸‹è½½æ–°é‚®ä»¶çš„è¿‡ç¨‹ã€‚ æ€ä¹ˆç†è§£Redisäº‹åŠ¡ï¼Ÿ äº‹åŠ¡æ˜¯ä¸€ä¸ªå•ç‹¬çš„éš”ç¦»æ“ä½œï¼šäº‹åŠ¡ä¸­çš„æ‰€æœ‰å‘½ä»¤éƒ½ä¼šåºåˆ—åŒ–ã€æŒ‰é¡ºåºåœ°æ‰§è¡Œã€‚äº‹åŠ¡åœ¨æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œä¸ä¼šè¢«å…¶ä»–å®¢æˆ·ç«¯å‘é€æ¥çš„å‘½ä»¤è¯·æ±‚æ‰€æ‰“æ–­ã€‚ äº‹åŠ¡æ˜¯ä¸€ä¸ªåŸå­æ“ä½œï¼šäº‹åŠ¡ä¸­çš„å‘½ä»¤è¦ä¹ˆå…¨éƒ¨è¢«æ‰§è¡Œï¼Œè¦ä¹ˆå…¨éƒ¨éƒ½ä¸æ‰§è¡Œã€‚ Redisäº‹åŠ¡ç›¸å…³çš„å‘½ä»¤æœ‰å“ªå‡ ä¸ªï¼Ÿ MULTIã€EXECã€DISCARDã€WATCH Redis keyçš„è¿‡æœŸæ—¶é—´å’Œæ°¸ä¹…æœ‰æ•ˆåˆ†åˆ«æ€ä¹ˆè®¾ç½®ï¼Ÿ EXPIREå’ŒPERSISTå‘½ä»¤ã€‚ Rediså¦‚ä½•åšå†…å­˜ä¼˜åŒ–ï¼Ÿ å°½å¯èƒ½ä½¿ç”¨æ•£åˆ—è¡¨ï¼ˆhashesï¼‰ï¼Œæ•£åˆ—è¡¨ï¼ˆæ˜¯è¯´æ•£åˆ—è¡¨é‡Œé¢å­˜å‚¨çš„æ•°å°‘ï¼‰ä½¿ç”¨çš„å†…å­˜éå¸¸å°ï¼Œæ‰€ä»¥ä½ åº”è¯¥å°½å¯èƒ½çš„å°†ä½ çš„æ•°æ®æ¨¡å‹æŠ½è±¡åˆ°ä¸€ä¸ªæ•£åˆ—è¡¨é‡Œé¢ã€‚ æ¯”å¦‚ä½ çš„webç³»ç»Ÿä¸­æœ‰ä¸€ä¸ªç”¨æˆ·å¯¹è±¡ï¼Œä¸è¦ä¸ºè¿™ä¸ªç”¨æˆ·çš„åç§°ï¼Œå§“æ°ï¼Œé‚®ç®±ï¼Œå¯†ç è®¾ç½®å•ç‹¬çš„key,è€Œæ˜¯åº”è¯¥æŠŠè¿™ä¸ªç”¨æˆ·çš„æ‰€æœ‰ä¿¡æ¯å­˜å‚¨åˆ°ä¸€å¼ æ•£åˆ—è¡¨é‡Œé¢ã€‚ Rediså›æ”¶è¿›ç¨‹å¦‚ä½•å·¥ä½œçš„ï¼Ÿ ä¸€ä¸ªå®¢æˆ·ç«¯è¿è¡Œäº†æ–°çš„å‘½ä»¤ï¼Œæ·»åŠ äº†æ–°çš„æ•°æ®ã€‚ Rediæ£€æŸ¥å†…å­˜ä½¿ç”¨æƒ…å†µï¼Œå¦‚æœå¤§äºmaxmemoryçš„é™åˆ¶, åˆ™æ ¹æ®è®¾å®šå¥½çš„ç­–ç•¥è¿›è¡Œå›æ”¶ã€‚ ä¸€ä¸ªæ–°çš„å‘½ä»¤è¢«æ‰§è¡Œï¼Œç­‰ç­‰ã€‚ æ‰€ä»¥æˆ‘ä»¬ä¸æ–­åœ°ç©¿è¶Šå†…å­˜é™åˆ¶çš„è¾¹ç•Œï¼Œé€šè¿‡ä¸æ–­è¾¾åˆ°è¾¹ç•Œç„¶åä¸æ–­åœ°å›æ”¶å›åˆ°è¾¹ç•Œä»¥ä¸‹ã€‚ å¦‚æœä¸€ä¸ªå‘½ä»¤çš„ç»“æœå¯¼è‡´å¤§é‡å†…å­˜è¢«ä½¿ç”¨ï¼ˆä¾‹å¦‚å¾ˆå¤§çš„é›†åˆçš„äº¤é›†ä¿å­˜åˆ°ä¸€ä¸ªæ–°çš„é”®ï¼‰ï¼Œä¸ç”¨å¤šä¹…å†…å­˜é™åˆ¶å°±ä¼šè¢«è¿™ä¸ªå†…å­˜ä½¿ç”¨é‡è¶…è¶Šã€‚","categories":[{"name":"Redis","slug":"Redis","permalink":"http://www.octber.xyz/categories/Redis/"}],"tags":[{"name":"Redis","slug":"Redis","permalink":"http://www.octber.xyz/tags/Redis/"}]},{"title":"2019.9.6-7æ—¥æŠ¥","slug":"2019-9-7æ—¥æŠ¥","date":"2019-09-06T09:22:12.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/09/06/2019-9-7æ—¥æŠ¥/","link":"","permalink":"http://www.octber.xyz/2019/09/06/2019-9-7%E6%97%A5%E6%8A%A5/","excerpt":"å‰è¨€2019.9.5æ—¥æŠ¥ [TOC]","text":"å‰è¨€2019.9.5æ—¥æŠ¥ [TOC] 1. ä»»åŠ¡ä¸ä»»åŠ¡è¿›åº¦/å·¥æ—¶è¯´æ˜ å­¦ä¹ æ“ä½œæµçš„æµç¨‹å’Œæ“ä½œæ ‡è¯†ä½¿ç”¨æ–¹æ³• 1.1 èµ„é‡‘è°ƒæ•´ å†…å®¹ï¼š æ·»åŠ æ“ä½œæ ‡è¯†æ§åˆ¶ã€æ·»åŠ å·¥ä½œæµã€å†™ä¸€ä¸ªè¯¦æƒ…é¡µ è¿›åº¦ï¼š 100% 1.2 èµ„é‡‘å¤æ ¸ å†…å®¹ï¼š æ·»åŠ æ“ä½œæ ‡è¯†æ§åˆ¶ã€æ·»åŠ å·¥ä½œæµã€å¤ç”¨ä¸€ä¸ªè¯¦æƒ…é¡µ è¿›åº¦ï¼š 100% 2. å·²è§£å†³çš„é—®é¢˜ä»»åŠ¡ä¸­é—®é¢˜å…¨éƒ¨è§£å†³ 3. æœªè§£å†³çš„é—®é¢˜4. è¿›åº¦å»¶è¿ŸåŸå› è¯´æ˜5. æ“ä½œæ ‡è¯†ã€å·¥ä½œæµ5.1 æ“ä½œæ ‡è¯†JSON å¯¹åº”ç¼–å·ã€è·¯ç”±ã€æ ‡è¯†åç­‰ 123456789101112131415161718192021222324file: OTC_TOPERATEFLAG.json&#123; &quot;company_id&quot;: 0, &quot;use_flag&quot;: &quot;1&quot;, &quot;am4_operate_flag&quot;: 451001, &quot;am4_operate_caption&quot;: &quot;å¤æ ¸è¯¦æƒ…&quot;, &quot;show_order&quot;: 1, &quot;data_method&quot;: &quot;show&quot;, &quot;operator_mode&quot;: &quot;1&quot;, &quot;group_caption&quot;: &quot;ä¸šåŠ¡æ“ä½œ&quot;, &quot;subsys_no&quot;: 3345, &quot;is_process&quot;: 1, &quot;am4_operate_caption_eng&quot;: &quot;show&quot;, &quot;url&quot;: &quot;/otc/adjustAndReview/adjustFund/edit&quot;, &quot;business_type&quot;: &quot;&quot;, &quot;icon&quot;: &quot;&quot;, &quot;is_operate_button&quot;: &quot;1&quot; &#125;file: OTC_TOPERATEFORMENU.json&#123; &quot;company_id&quot;: 0, &quot;am4_operate_flag&quot;: 451001, &quot;menu_code&quot;: &quot;080405&quot;&#125; 5.2 æ“ä½œæ ‡è¯†é…ç½® æ¸…ç©ºå¯¹åº”systemè¡¨ï¼Œè¿è¡Œé¡¹ç›®ï¼Œå¯¼å…¥æ•°æ®åº“ â€œåŸºç¡€ç»„-æ“ä½œæ ‡å¿—æµç¨‹é…ç½®â€ä¸­è¿›è¡Œâ€œåˆ†é…æµç¨‹â€ï¼ˆå·¥ä½œæµæ¨¡æ¿éœ€è¦å»ºç«‹ï¼‰ â€œåŸºç¡€æŸ±-ç”¨æˆ·ç®¡ç†â€ä¸­è¿›è¡Œæƒé™é…ç½®æ“ä½œæ ‡å¿— 5.3 å‰ç«¯é€»è¾‘ æ··å…¥ 1234import queryGrid from &#x27;@/mixins/querygrid&#x27;;import gridPage from &#x27;@/mixins/gridpage&#x27;;...mixins: [queryGrid, gridPage],","categories":[{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"http://www.octber.xyz/categories/%E6%97%A5%E8%AE%B0/"}],"tags":[{"name":"æ—¥æŠ¥","slug":"æ—¥æŠ¥","permalink":"http://www.octber.xyz/tags/%E6%97%A5%E6%8A%A5/"}]},{"title":"2019.9.5æ—¥æŠ¥","slug":"2019-9-5æ—¥æŠ¥","date":"2019-09-05T12:47:39.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/09/05/2019-9-5æ—¥æŠ¥/","link":"","permalink":"http://www.octber.xyz/2019/09/05/2019-9-5%E6%97%A5%E6%8A%A5/","excerpt":"å‰è¨€2019.9.5æ—¥æŠ¥ [TOC]","text":"å‰è¨€2019.9.5æ—¥æŠ¥ [TOC] 1. ä»»åŠ¡ä¸ä»»åŠ¡è¿›åº¦/å·¥æ—¶è¯´æ˜ ä¿¡æ¯æŸ¥è¯¢ æ¨¡å—åŸºæœ¬å®Œæˆï¼Œå‰©ä½™éƒ¨åˆ†å°ç»†èŠ‚é€‚å½“è°ƒæ•´å³å¯ 1.1 æŒä»“ä»½é¢æŸ¥è¯¢ï¼ˆä¿®æ”¹ï¼‰ å†…å®¹: ä¿®æ”¹é¡µé¢æ ·å¼ã€åå°æŸ¥è¯¢é€»è¾‘é‡æ„ï¼ˆä¹‹å‰çš„åå°é€»è¾‘bugï¼‰ è¿›åº¦: 100% 1.2 è´¦æˆ·ç”³è¯·æŸ¥è¯¢ï¼ˆå¤ç”¨ä¸è°ƒæ•´ï¼‰ å†…å®¹: å¤ç”¨ä¹‹å‰çš„é¡µé¢å¹¶ä¿®æ”¹æ£€ç´¢æ¡ä»¶ä¸è¡¨æ ¼åˆ— è¿›åº¦: 100% 1.3 äº¤æ˜“ç”³è¯·æŸ¥è¯¢ å†…å®¹: æœ‰å‰ç«¯é¡µé¢å¯ä»¥å¤ç”¨ä¸€éƒ¨åˆ†ï¼Œå¢æ·»éƒ¨é—¨æ£€ç´¢é¡¹ï¼Œé‡å†™åç«¯æ¥å£ è¿›åº¦: 100% 1.4 äº¤æ˜“ç¡®è®¤æŸ¥è¯¢ å†…å®¹: æ— å¯å¤ç”¨é¡µé¢ï¼Œå®Œæˆç¡®è®¤æŸ¥è¯¢ä»»åŠ¡ è¿›åº¦: 100% 1.5 èµ„é‡‘å¤æ ¸ å†…å®¹: é‡æ„å‰ç«¯é¡µé¢ï¼Œå¹¶ä½¿ç”¨å·¥ä½œæµä¸æ“ä½œæ ‡è¯†æ§åˆ¶ è¿›åº¦: 20% 1.6 è´¦æˆ·ç±»ä¸šåŠ¡ç”³æŠ¥è®°å½•ï¼ˆè°ƒæ•´ä¸ä¿®æ”¹ï¼‰ å†…å®¹: ä½¿ç”¨å·¥ä½œæµã€æ“ä½œæ ‡è¯†ï¼Œä¸è´¦æˆ·ç”³è¯·æŸ¥è¯¢åšå¤ç”¨è°ƒæ•´ è¿›åº¦: 100% 2. å·²è§£å†³çš„é—®é¢˜ä»»åŠ¡ä¸­é—®é¢˜å…¨éƒ¨è§£å†³ 3. æœªè§£å†³çš„é—®é¢˜ èµ„é‡‘å¤æ ¸å·¥ä½œæµå’Œæ“ä½œæ ‡è¯†æ–¹é¢ 4. è¿›åº¦å»¶è¿ŸåŸå› è¯´æ˜","categories":[{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"http://www.octber.xyz/categories/%E6%97%A5%E8%AE%B0/"}],"tags":[{"name":"æ—¥æŠ¥","slug":"æ—¥æŠ¥","permalink":"http://www.octber.xyz/tags/%E6%97%A5%E6%8A%A5/"}]},{"title":"2019.9.3æ—¥æŠ¥","slug":"2019-9-3æ—¥æŠ¥","date":"2019-09-03T12:17:51.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/09/03/2019-9-3æ—¥æŠ¥/","link":"","permalink":"http://www.octber.xyz/2019/09/03/2019-9-3%E6%97%A5%E6%8A%A5/","excerpt":"å‰è¨€2019.9.3æ—¥æŠ¥ [TOC]","text":"å‰è¨€2019.9.3æ—¥æŠ¥ [TOC] 1. ä»»åŠ¡ä¸ä»»åŠ¡è¿›åº¦/å·¥æ—¶è¯´æ˜1.1 ååŠ©æ¨é‘«è¿›è¡Œå·¥ä½œæµç›¸å…³ä»»åŠ¡1.2 èµ„é‡‘è°ƒæ•´é€»è¾‘ä¿®æ”¹ å¤‡æ³¨: ç”±ä¹‹å‰çš„ä¸éœ€è¦å¤æ ¸ï¼Œåˆ°éœ€è¦å¤æ ¸ è¿›åº¦: 100% 1.3 èµ„é‡‘å¤æ ¸é¡µé¢ å¤‡æ³¨: å·®å·¥ä½œæµæ–¹é¢è°ƒæ•´ è¿›åº¦: 80% 1.4 è¡Œæƒ…è½¬æ¢æœºè°ƒæ•´ å¤‡æ³¨: æŒ‰ç…§æœ€æ–°è¦æ±‚ä¿®æ”¹ è¿›åº¦: 100% 2. å·²è§£å†³çš„é—®é¢˜ä»»åŠ¡ä¸­é—®é¢˜å…¨éƒ¨è§£å†³ 3. æœªè§£å†³çš„é—®é¢˜ èµ„é‡‘å¤æ ¸å·¥ä½œæµæ–¹é¢ 4. è¿›åº¦å»¶è¿ŸåŸå› è¯´æ˜","categories":[{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"http://www.octber.xyz/categories/%E6%97%A5%E8%AE%B0/"}],"tags":[{"name":"æ—¥æŠ¥","slug":"æ—¥æŠ¥","permalink":"http://www.octber.xyz/tags/%E6%97%A5%E6%8A%A5/"}]},{"title":"2019.9.2æ—¥æŠ¥","slug":"2019-9-2æ—¥æŠ¥","date":"2019-09-02T12:25:28.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/09/02/2019-9-2æ—¥æŠ¥/","link":"","permalink":"http://www.octber.xyz/2019/09/02/2019-9-2%E6%97%A5%E6%8A%A5/","excerpt":"å‰è¨€2019.8.30æ—¥æŠ¥ [TOC]","text":"å‰è¨€2019.8.30æ—¥æŠ¥ [TOC] 1. ä»»åŠ¡ä¸ä»»åŠ¡è¿›åº¦/å·¥æ—¶è¯´æ˜1.1 å¸‚åœºä¿¡æ¯æµ‹è¯• è¿›åº¦ï¼š100% 1.2 è´¦å·ä¿¡æ¯ã€å¼€æˆ·ç­‰ç»§ç»­æµ‹è¯• è¿›åº¦: å‘ç°çš„å‡å·²è§£å†³ 100% 1.3 èµ„é‡‘å¤æ ¸ å‰ç«¯å®Œæˆä¸€åŠ è¿›åº¦ï¼š20% 2. å·²è§£å†³çš„é—®é¢˜ä»»åŠ¡ä¸­é—®é¢˜å…¨éƒ¨è§£å†³ å‘¨ä¼šæå‡ºçš„é—®é¢˜ï¼šé¡µé¢æ ·å¼ å¼€æˆ·æµç¨‹æµ‹è¯• è½¬æ¢åŠä»»åŠ¡ä¿¡æ¯è®°å½• 3. æœªè§£å†³çš„é—®é¢˜ èµ„é‡‘å¤æ ¸ 4. è¿›åº¦å»¶è¿ŸåŸå› è¯´æ˜","categories":[{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"http://www.octber.xyz/categories/%E6%97%A5%E8%AE%B0/"}],"tags":[{"name":"æ—¥æŠ¥","slug":"æ—¥æŠ¥","permalink":"http://www.octber.xyz/tags/%E6%97%A5%E6%8A%A5/"}]},{"title":"2019.8.31æ—¥æŠ¥","slug":"2019-8-31æ—¥æŠ¥","date":"2019-08-31T01:04:17.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/08/31/2019-8-31æ—¥æŠ¥/","link":"","permalink":"http://www.octber.xyz/2019/08/31/2019-8-31%E6%97%A5%E6%8A%A5/","excerpt":"å‰è¨€2019.8.30æ—¥æŠ¥ [TOC]","text":"å‰è¨€2019.8.30æ—¥æŠ¥ [TOC] 1. ä»»åŠ¡ä¸ä»»åŠ¡è¿›åº¦/å·¥æ—¶è¯´æ˜1.1 å†™è¿‡çš„æ‰€æœ‰é¡µé¢æ ·å¼è°ƒä¼˜ è§£å†³å‘¨ä¼šä¸Šæåˆ°çš„é—®é¢˜ï¼šæŒ‰ç…§æ¨¡æ¿çš„æ ·å¼ä¸ºå‚è€ƒå¯¹é¡µé¢æ ·å¼è¿›è¡Œè°ƒæ•´ï¼Œä¿æŒä¸€è‡´ã€‚ è¿›åº¦ï¼š100% 1.2 å¼€æˆ·æµç¨‹æµ‹è¯•å‘ç°é—®é¢˜ä¸è§£å†³ å¤‡æ³¨: ä¸æ¨é‘«é’ˆå¯¹å¼€æˆ·è¿‡ç¨‹ä¸­å‘ç°çš„é—®é¢˜è®¨è®ºï¼Œå¹¶åŠæ—¶ä¿®å¤Bug è¿›åº¦: å‘ç°çš„å‡å·²è§£å†³ 100% 1.3 è½¬æ¢æœºä»»åŠ¡ä¸­ä¿¡æ¯è®°å½•JobExcuteä¿®æ”¹ ç»è¿‡é‚“æ–¯å¯¹è¿™å—å†…å®¹çš„å°è£…è°ƒæ•´ï¼Œä¿®æ”¹å¯¹åº”ä»£ç  è¿›åº¦ï¼š100% 1.4 å­¦ä¹ ä¸“ä¸šåè¯ æŠ½æ—¶é—´çœ‹çœ‹ä¸€äº›ä¸“ä¸šåè¯ï¼Œç»“åˆä¸šåŠ¡æµç¨‹ï¼ŒåŠ æ·±ç†è§£ 2. å·²è§£å†³çš„é—®é¢˜ä»»åŠ¡ä¸­é—®é¢˜å…¨éƒ¨è§£å†³ å‘¨ä¼šæå‡ºçš„é—®é¢˜ï¼šé¡µé¢æ ·å¼ å¼€æˆ·æµç¨‹æµ‹è¯• è½¬æ¢åŠä»»åŠ¡ä¿¡æ¯è®°å½• 3. æœªè§£å†³çš„é—®é¢˜4. è¿›åº¦å»¶è¿ŸåŸå› è¯´æ˜5. ã€å­¦ä¹ è®°å½•ã€‘ç§¯ç´¯ä¸“ä¸šè¯æ±‡5.1 æŒä»“åœ¨å®ç‰©äº¤å‰²æˆ–è€…ç°é‡‘äº¤å‰²åˆ°æœŸä¹‹å‰ï¼ŒæŠ•èµ„è€…å¯ä»¥æ ¹æ®å¸‚åœºè¡Œæƒ…å’Œä¸ªäººæ„æ„¿ï¼Œè‡ªæ„¿åœ°å†³å®šä¹°å…¥æˆ–å–å‡ºæœŸè´§åˆçº¦ã€‚è€ŒæŠ•èµ„è€…ï¼ˆåšå¤šæˆ–åšç©ºï¼‰æ²¡æœ‰ä½œäº¤å‰²æœˆä»½å’Œæ•°é‡ç›¸ç­‰çš„é€†å‘æ“ä½œï¼ˆå–å‡ºæˆ–ä¹°å…¥ï¼‰ï¼ŒæŒæœ‰æœŸè´§åˆçº¦ï¼Œåˆ™ç§°ä¹‹ä¸ºâ€œæŒä»“â€ã€‚åœ¨é»„é‡‘ç­‰å•†å“æœŸè´§æ“ä½œä¸­ï¼Œæ— è®ºæ˜¯ä¹°è¿˜æ˜¯å–ï¼Œå‡¡æ˜¯æ–°å»ºå¤´å¯¸éƒ½å«å»ºä»“ã€‚æ“ä½œè€…å»ºä»“ä¹‹åæ‰‹ä¸­å°±æŒæœ‰å¤´å¯¸ï¼Œè¿™å°±å«æŒä»“ã€‚ åœ¨æœŸè´§äº¤æ˜“ä¸­ï¼Œæ— è®ºæ˜¯ä¹°è¿˜æ˜¯å–ï¼Œå‡¡æ˜¯æ–°å»ºå¤´å¯¸éƒ½å«å¼€ä»“ã€‚äº¤æ˜“è€…å»ºä»“ä¹‹åæ‰‹ä¸­å°±æŒæœ‰å¤´å¯¸ï¼Œè¿™å°±å«æŒä»“ã€‚ å¯¹äºæŒä»“é‡çš„ç®—æ³•ï¼Œå›½å†…æ˜¯è¿™æ ·è®¡ç®—çš„ï¼ŒæŒä»“é‡çš„å¢åŠ ä»£è¡¨èµ„é‡‘æµå…¥æœŸè´§å¸‚åœºï¼Œåä¹‹ï¼Œä»£è¡¨èµ„é‡‘æµå‡ºæœŸè´§å¸‚åœºã€‚å¯¹ä»·æ ¼çš„å½±å“è¦ç»“åˆæˆäº¤é‡ä¸€èµ·åˆ†æã€‚ 5.2 äº¤å‰²äº¤å‰²æ˜¯ç»“ç®—è¿‡ç¨‹ä¸­ï¼ŒæŠ•èµ„è€…ä¸è¯åˆ¸å•†ä¹‹é—´çš„èµ„é‡‘ç»“ç®—ã€‚æ²ªæ·±ä¸¤å¸‚é™¤Bè‚¡å¤–çš„ä¸Šå¸‚äº¤æ˜“è¯åˆ¸ï¼ˆAè‚¡ã€åŸºé‡‘ã€å€ºåˆ¸ï¼‰ï¼Œéƒ½å®è¡ŒT+1äº¤å‰²åˆ¶åº¦ã€‚T+1åˆ¶åº¦æ˜¯æŒ‡å½“æ—¥ä¹°å…¥çš„è‚¡ç¥¨ä¸èƒ½åœ¨å½“æ—¥å–å‡ºï¼Œèµ„é‡‘æ”¶ä»˜ä¸è¯åˆ¸äº¤å‰²åªèƒ½åœ¨æˆäº¤æ—¥çš„ä¸‹ä¸€ä¸ªè¥ä¸šæ—¥è¿›è¡Œï¼Œä¸èƒ½åœ¨å½“æ—¥ä»å¸æˆ·ä¸­æå–ç°é‡‘ã€‚ æ–°æ—§äº¤æ›¿æ—¶ç»“æ¸…æ‰‹ç»­;ç§»äº¤ ä¹°å–åŒæ–¹ç»“æ¸…æ‰‹ç»­ [1 æŠ•èµ„è€…åº”æ³¨æ„çš„æ˜¯ï¼ŒT+1åˆ¶åº¦å½“æ—¥ä¹°å…¥çš„è¯åˆ¸å½“æ—¥ä¸èƒ½å–å‡ºï¼Œè€Œå½“æ—¥å–å‡ºçš„è‚¡ç¥¨æ˜¯å¯ä»¥ä¹°å…¥çš„ã€‚ æŠ•èµ„è€…è¿›è¡Œè¯åˆ¸å§”æ‰˜ä¹°å–ä»¥åï¼Œåº”åŠæ—¶åŠç†äº¤å‰²æ‰‹ç»­ï¼Œå¦‚å‘ç°æœ‰ç–‘é—®,å¯åœ¨ä¸€å®šæœŸé™å†…ï¼ˆä¸€èˆ¬ä¸º3å¤©ï¼‰ï¼Œå‘è¯åˆ¸è¥ä¸šéƒ¨æå‡ºè´¨ç–‘ã€‚å¯¹äºå› æ­¤è€Œäº§ç”Ÿçš„æŸå¤±ï¼Œå¦‚æœè¯æ®ç¡®å‡¿ï¼Œç†ç”±å……åˆ†ï¼Œå®Œå…¨å¯ä»¥è¦æ±‚è¯åˆ¸è¥ä¸šéƒ¨è¿›è¡Œèµ”å¿ã€‚ äº¤æ˜“åŒæ–¹è¿‡æˆ·äº¤æ˜“è´§å¸çš„æ‰€æœ‰æƒçš„å®é™…äº¤ä»˜è¡Œä¸ºã€‚ äº¤å‰²æ¦‚å¿µæ¥æºäºæœŸè´§å®ç‰©äº¤å‰²ç°é‡‘äº¤å‰² äº¤å‰²å•æ˜¯ç”¨æ¥è®°å½•äº¤å‰²çš„å…·ä½“äº¤æ˜“æƒ…å†µçš„å•æ®. 5.2.1 å®ç‰©äº¤å‰²æ˜¯æŒ‡æœŸè´§åˆçº¦çš„ä¹°å–åŒæ–¹äºåˆçº¦åˆ°æœŸæ—¶ï¼Œæ ¹æ®äº¤æ˜“æ‰€åˆ¶è®¢çš„è§„åˆ™å’Œç¨‹åºï¼Œé€šè¿‡æœŸè´§åˆçº¦æ ‡çš„ç‰©çš„æ‰€æœ‰æƒè½¬ç§»ï¼Œå°†åˆ°æœŸæœªå¹³ä»“åˆçº¦è¿›è¡Œäº†ç»“çš„è¡Œä¸ºã€‚å•†å“æœŸè´§äº¤æ˜“ä¸€èˆ¬é‡‡ç”¨å®ç‰©äº¤å‰²çš„æ–¹å¼ã€‚ 5.2.2 ç°é‡‘äº¤å‰²æ˜¯æŒ‡åˆ°æœŸæœªå¹³ä»“æœŸè´§åˆçº¦è¿›è¡Œäº¤å‰²æ—¶ï¼Œç”¨ç»“ç®—ä»·æ ¼æ¥è®¡ç®—æœªå¹³ä»“åˆçº¦çš„ç›ˆäºï¼Œä»¥ç°é‡‘æ”¯ä»˜çš„æ–¹å¼æœ€ç»ˆäº†ç»“æœŸè´§åˆçº¦çš„äº¤å‰²æ–¹å¼ã€‚è¿™ç§äº¤å‰²æ–¹å¼ä¸»è¦ç”¨äºé‡‘èæœŸè´§ç­‰æœŸè´§æ ‡çš„ç‰©æ— æ³•è¿›è¡Œå®ç‰©äº¤å‰²çš„æœŸè´§åˆçº¦ï¼Œå¦‚è‚¡ç¥¨æŒ‡æ•°æœŸè´§åˆçº¦ç­‰ã€‚å›½å¤–ä¸€äº›äº¤æ˜“æ‰€ä¹Ÿæ¢ç´¢å°†ç°é‡‘äº¤å‰²çš„æ–¹å¼ç”¨äºå•†å“æœŸè´§ã€‚æˆ‘å›½å•†å“æœŸè´§å¸‚åœºä¸å…è®¸è¿›è¡Œ ç°é‡‘äº¤å‰²ã€‚ 5.2.3 äº¤å‰²æ–¹å¼ T+1äº¤å‰²ï¼šæ˜¯æŒ‡è¾¾æˆäº¤æ˜“åï¼Œç›¸åº”çš„èµ„é‡‘äº¤æ”¶ä¸è¯åˆ¸äº¤æ”¶åœ¨æˆäº¤æ—¥çš„ä¸‹ä¸€ä¸ªè¥ä¸šæ—¥ï¼ˆT+1ï¼‰å®Œæˆã€‚ç›®å‰æˆ‘å›½çš„Aè‚¡ã€åŸºé‡‘åˆ¸ã€å€ºåˆ¸ç­‰é‡‡ç”¨è¿™ç§äº¤æ”¶æ–¹å¼ã€‚ T+3äº¤å‰²ï¼šç›®å‰æˆ‘å›½å¯¹Bè‚¡ï¼ˆäººæ°‘å¸ç‰¹ç§è‚¡ç¥¨ï¼‰å®è¡ŒT+3äº¤å‰²äº¤æ”¶æ–¹å¼ã€‚ ä¸ºäº†ä¿è¯åˆ°æœŸåˆçº¦äº¤å‰²çš„é¡ºåˆ©è¿›è¡Œï¼Œè¦æ±‚åœ¨äº¤å‰²æ—¶å®¢æˆ·äº¤æ˜“è´¦æˆ·å¿…é¡»ç•™æœ‰è¶³å¤Ÿäº¤å‰²çš„ä¿è¯é‡‘ã€‚å› æ­¤é‡‡å–è‡ªæœ€åäº¤æ˜“æ—¥çš„å‰äº”ä¸ªäº¤æ˜“æ—¥èµ·ï¼Œä»¥æ¯ä¸ªäº¤æ˜“æ—¥10%çš„å¹…åº¦ï¼Œé€æ—¥é€’å¢ã€‚ å®¢æˆ·æŒä»“ä¿è¯é‡‘ï¼Œç›´è‡³æœ€åäº¤æ˜“æ—¥ä¸ºæ­¢ã€‚è¿™ä¸ªæ—¶é—´åŒºåŸŸç§°ä½œäº¤å‰²ä¿è¯é‡‘è¿½åŠ æœŸï¼Œç®€ç§°äº¤å‰²æœŸã€‚ é™„æ³¨ï¼šæœ€åäº¤æ˜“æ—¥ï¼šè¿›å…¥äº¤å‰²æœˆåˆçº¦æœ€åå…è®¸äº¤æ˜“çš„äº¤æ˜“æ—¥ï¼Œè§„å®šä¸ºæ¯è‡ªç„¶æœˆçš„æœ€åä¸€ä¸ªäº¤æ˜“æ—¥ã€‚ T+0äº¤å‰²:å®æ—¶äº¤æ˜“ å¹¶éè‚¡å¸‚çš„æ’®åˆäº¤æ˜“ï¼Œåªè¦æƒ³æˆäº¤å°±ä»¥ç°ä»·æˆäº¤ï¼Œæ²¡æœ‰æ—¶é—´çš„é™åˆ¶ æ²¡æœ‰ç­‰å¾…æˆäº¤çš„è¢«åŠ¨çš„æƒ…å†µå‡ºç°ã€‚å½“å¤©ä¸é™æ¬¡æ•°ï¼Œä¸ç”¨ç­‰åˆ°ç¬¬äºŒå¤©ï¼Œå½“å¤©å¯ä»¥è¿ç»­æ“ä½œè¶…çŸ­ã€‚ 5.2.4 äº¤å‰²ä¸»ä½“å¯¹äºâ€œäº¤å‰²â€ï¼Œåªæœ‰æ³•äººä¹Ÿå°±æ˜¯ä¼ä¸šï¼Œæ‰æœ‰èµ„æ ¼è¿›è¡Œä¿å€¼ã€äº¤å‰²ï¼Œå¯¹äºä¸€èˆ¬ä¸ªäººï¼Œåªèƒ½é€‰æ‹©æŠ•æœºã€‚ 5.2.5 äº¤å‰²æœˆä»½äº¤å‰²æœˆä»½æ˜¯äº¤æ˜“äººåœ¨æœŸè´§åˆ°æœŸæ—¶æŒ‰ç…§åˆçº¦è§„å®šäº¤å‡ºæˆ–æ¥å—è¯åˆ¸çš„æœˆä»½ã€‚ä¸€èˆ¬åœ°ï¼Œäº¤å‰²æœˆä»½çš„ç¬¬ä¸€ä¸ªäº¤æ˜“æ—¥è¢«æŒ‡å®šä¸ºç¬¬ä¸€é€šçŸ¥æ—¥ã€‚ä»è¿™ä¸€å¤©å¼€å§‹ï¼Œä¹°è€…ä¼šéšæ—¶æ”¶åˆ°ä¸€å¼ äº¤æ”¶é€šçŸ¥å•ã€‚å½“ä¹°è€…æ”¶åˆ°é€šçŸ¥å•æ—¶ï¼Œå³è¦ä»˜å‡ºåˆçº¦æ¬¾é¡¹ã€‚æœ‰çš„äº¤æ˜“æ‰€å…è®¸ä¹°å–åŒæ–¹åœ¨äº¤å‰²æœˆä»½çš„ä»»æ„ä¸€å¤©äº¤å‰²ã€‚è‹¥ä¹°è€…æŠ¢ç€åœ¨ç¬¬ä¸€ä¸ªé€šçŸ¥æ—¥æ”¶è´§æ—¶ï¼Œå¯èƒ½é€ æˆä»·æ ¼ä¸Šå‡;åä¹‹ï¼Œè‹¥å–è€…æŠ¢ç€åœ¨ç¬¬ä¸€ä¸ªé€šçŸ¥æ—¥äº¤è´§ï¼Œå¯èƒ½é€ æˆä¹°å®¢åŒ†å¿™å›åå’Œä»·æ ¼ä¸‹è·Œã€‚ 5.3 æœŸè´§åˆçº¦ æœŸè´§åˆçº¦æ˜¯æŒ‡ç”±æœŸè´§äº¤æ˜“æ‰€ç»Ÿä¸€åˆ¶å®šçš„ã€è§„å®šåœ¨å°†æ¥æŸä¸€ç‰¹å®šçš„æ—¶é—´å’Œåœ°ç‚¹äº¤å‰²ä¸€å®šæ•°é‡å’Œè´¨é‡å•†å“çš„æ ‡å‡†åŒ–åˆçº¦ã€‚ æœŸè´§åˆçº¦æ˜¯ä¹°æ–¹åŒæ„åœ¨ä¸€æ®µæŒ‡å®šæ—¶é—´ä¹‹åæŒ‰ç‰¹å®šä»·æ ¼æ¥æ”¶æŸç§èµ„äº§ï¼Œå–æ–¹åŒæ„åœ¨ä¸€æ®µæŒ‡å®šæ—¶é—´ä¹‹åæŒ‰ç‰¹å®šä»·æ ¼äº¤ä»˜æŸç§èµ„äº§çš„åè®®ã€‚åŒæ–¹åŒæ„å°†æ¥äº¤æ˜“æ—¶ä½¿ç”¨çš„ä»·æ ¼ç§°ä¸ºæœŸè´§ä»·æ ¼ã€‚åŒæ–¹å°†æ¥å¿…é¡»è¿›è¡Œäº¤æ˜“çš„æŒ‡å®šæ—¥æœŸç§°ä¸ºç»“ç®—æ—¥æˆ–äº¤å‰²æ—¥ã€‚åŒæ–¹åŒæ„äº¤æ¢çš„èµ„äº§ç§°ä¸ºâ€œæ ‡çš„â€ã€‚å¦‚æœæŠ•èµ„è€…é€šè¿‡ä¹°å…¥æœŸè´§åˆçº¦ï¼ˆå³åŒæ„åœ¨å°†æ¥æ—¥æœŸä¹°å…¥ï¼‰åœ¨å¸‚åœºä¸Šå–å¾—ä¸€ä¸ªå¤´å¯¸ï¼Œç§°å¤šå¤´å¤´å¯¸æˆ–åœ¨æœŸè´§ä¸Šåšå¤šã€‚ç›¸åï¼Œå¦‚æœæŠ•èµ„è€…å–å¾—çš„å¤´å¯¸æ˜¯å–å‡ºæœŸè´§åˆçº¦ï¼ˆå³æ‰¿æ‹…å°†æ¥å–å‡ºçš„åˆçº¦è´£ä»»ï¼‰ï¼Œç§°ç©ºå¤´å¤´å¯¸æˆ–åœ¨æœŸè´§ä¸Šåšç©ºã€‚ 5.4 å¤´å¯¸ å¤´å¯¸ï¼ˆpositionï¼‰ä¹Ÿç§°ä¸ºâ€œå¤´è¡¬â€å°±æ˜¯æ¬¾é¡¹çš„æ„æ€ï¼Œæ˜¯é‡‘èç•ŒåŠå•†ä¸šç•Œçš„æµè¡Œç”¨è¯­ã€‚å¤´å¯¸æŒ‡æŠ•èµ„è€…æ‹¥æœ‰æˆ–å€Ÿç”¨çš„èµ„é‡‘æ•°é‡ã€‚ å¤´å¯¸æ˜¯ä¸€ç§å¸‚åœºçº¦å®šï¼Œæ‰¿è¯ºä¹°å–åˆçº¦çš„æœ€åˆéƒ¨ä½ï¼Œä¹°è¿›åˆçº¦è€…æ˜¯å¤šå¤´ï¼Œå¤„äºç›¼æ¶¨éƒ¨ä½ï¼›å–å‡ºåˆçº¦è€…ä¸ºç©ºå¤´ï¼Œå¤„äºç›¼è·Œéƒ¨ä½ã€‚ å¦‚æœé“¶è¡Œåœ¨å½“æ—¥çš„å…¨éƒ¨æ”¶ä»˜æ¬¾ä¸­æ”¶å…¥å¤§äºæ”¯å‡ºæ¬¾é¡¹ï¼Œå°±ç§°ä¸ºâ€œå¤šå¤´å¯¸â€ï¼Œå¦‚æœä»˜å‡ºæ¬¾é¡¹å¤§äºæ”¶å…¥æ¬¾é¡¹ï¼Œå°±ç§°ä¸ºâ€œç¼ºå¤´å¯¸â€ã€‚å¯¹é¢„è®¡è¿™ä¸€ç±»å¤´å¯¸çš„å¤šä¸å°‘çš„è¡Œä¸ºç§°ä¸ºâ€è½§å¤´å¯¸â€ã€‚åˆ°å¤„æƒ³æ–¹è®¾æ³•è°ƒè¿›æ¬¾é¡¹çš„è¡Œä¸ºç§°ä¸ºâ€œè°ƒå¤´å¯¸â€ã€‚å¦‚æœæš‚æ—¶æœªç”¨çš„æ¬¾é¡¹å¤§äºéœ€ç”¨é‡æ—¶ç§°ä¸ºâ€œå¤´å¯¸æ¾â€ï¼Œå¦‚æœèµ„é‡‘éœ€æ±‚é‡å¤§äºé—²ç½®é‡æ—¶å°±ç§°ä¸ºâ€œå¤´å¯¸ç´§â€ã€‚ [1] å¤´å¯¸æ˜¯é‡‘èè¡Œä¸šå¸¸ç”¨åˆ°çš„ä¸€ä¸ªè¯ï¼Œåœ¨é‡‘èã€è¯åˆ¸ã€è‚¡ç¥¨ã€æœŸè´§äº¤æ˜“ä¸­ç»å¸¸ç”¨åˆ°ã€‚ æ¯”å¦‚åœ¨æœŸè´§äº¤æ˜“ä¸­å»ºä»“æ—¶,ä¹°å…¥æœŸè´§åˆçº¦åæ‰€æŒæœ‰çš„å¤´å¯¸å«å¤šå¤´å¤´å¯¸,ç®€ç§°å¤šå¤´;å–å‡ºæœŸè´§åˆçº¦åæ‰€æŒæœ‰çš„å¤´å¯¸å«ç©ºå¤´å¤´å¯¸,ç®€ç§°ç©ºå¤´ã€‚å•†å“æœªå¹³ä»“å¤šå¤´åˆçº¦ä¸æœªå¹³ä»“ç©ºå¤´åˆçº¦ä¹‹é—´çš„å·®é¢å°±å«åšå‡€å¤´å¯¸ã€‚åªæ˜¯åœ¨æœŸè´§äº¤æ˜“ä¸­æœ‰è¿™ç§åšæ³•ï¼Œåœ¨ç°è´§äº¤æ˜“ä¸­è¿˜æ²¡æœ‰è¿™ç§åšæ³•ã€‚ 5.5 æœŸè´§äº¤æ˜“ æœŸè´§äº¤æ˜“çš„å…¨è¿‡ç¨‹å¯ä»¥æ¦‚æ‹¬ä¸ºå»ºä»“ã€æŒä»“ã€å¹³ä»“æˆ–å®ç‰©äº¤å‰² 5.6 å¹³ä»“å¹³ä»“æ˜¯æºäºå•†å“æœŸè´§äº¤æ˜“çš„ä¸€ä¸ªæœ¯è¯­ï¼ŒæŒ‡çš„æ˜¯æœŸè´§ä¹°å–çš„ä¸€æ–¹ä¸ºå¯¹é”€ä»¥å‰ä¹°è¿›æˆ–å–å‡ºçš„æœŸè´§åˆçº¦è€Œè¿›è¡Œçš„æˆäº¤è¡Œä¸ºã€‚å¹³ä»“æ˜¯åœ¨è‚¡ç¥¨äº¤æ˜“ä¸­ï¼Œå¤šå¤´å°†æ‰€ä¹°è¿›çš„è‚¡ç¥¨å–å‡ºï¼Œæˆ–ç©ºå¤´ä¹°å›æ‰€å–å‡ºè‚¡ç¥¨è¡Œä¸ºçš„ç»Ÿç§°ã€‚ 6 ã€Šå¼€æ”¾å¼åŸºé‡‘ä¸šåŠ¡æ•°æ®äº¤æ¢åè®®ã€‹é˜…è¯»6.1 åè®®èŒƒå›´æœ¬æ ‡å‡†è§„å®šäº†åœºå¤–å¼€æ”¾å¼åŸºé‡‘ã€è¯åˆ¸å…¬å¸å¤§é›†åˆäº§å“ï¼ˆæ–‡ä¸­ç®€ç§°â€œåŸºé‡‘â€ï¼‰ç›¸å…³ä¸šåŠ¡ä¸­æœºæ„ä¹‹é—´è¿›è¡Œæ•°æ®äº¤æ¢æ—¶æ‰€é‡‡ç”¨çš„æ•°æ®æ ¼å¼ã€æ•°æ®å®šä¹‰å’Œæ•°æ®å†…å®¹ï¼Œè¯åˆ¸æœŸè´§ç»è¥æœºæ„ç®¡ç†çš„å…¶å®ƒèµ„ç®¡äº§å“ã€ç§å‹ŸåŸºé‡‘ç›¸å…³ä¸šåŠ¡å¯å‚ç…§æœ¬æ ‡å‡†è¿›è¡Œæ•°æ®äº¤æ¢ã€‚èµ„ç®¡äº§å“åœ¨æ²ªæ·±è¯åˆ¸äº¤æ˜“æ‰€åœºå†…æ•°æ®äº¤æ¢å‚ç…§äº¤æ˜“æ‰€ç›¸å…³è§„å®šã€‚ ç¬”è®°ï¼š åœºå¤–åŸºé‡‘ï¼š æ™®é€šå¼€æ”¾åŸºé‡‘éƒ½å±äºåœºå¤–åŸºé‡‘ï¼Œä¹Ÿå°±æ˜¯æ¯å¤©åªæœ‰ä¸€ä¸ªå‡€å€¼ä½œä¸ºç”³è´­èµå›çš„ä»·æ ¼ã€‚è€Œå°é—­ï¼ŒLOF ETFè¿™äº›åŸºé‡‘æ˜¯åœºå†…äº¤æ˜“åŸºé‡‘ï¼Œå¥¹çš„ä»·æ ¼è·Ÿè‚¡ç¥¨ä¸€æ ·ï¼Œç›˜ä¸­éšæ—¶åœ¨å˜åŒ–ã€‚åœºå¤–å°±ç†è§£æˆä¸ºè‚¡ç¥¨äº¤æ˜“å¸‚åœºå¤–,å°±æ˜¯é“¶è¡Œã€è¯åˆ¸å…¬å¸çš„ä»£é”€,åŸºé‡‘å…¬å¸çš„ç›´é”€æ–¹å¼,ä¹Ÿå°±æ˜¯ç†Ÿæ‚‰çš„å¼€æ”¾å¼åŸºé‡‘é”€å”®æ¸ é“ã€‚ åœºå†…åŸºé‡‘ å’Œåœºå¤–ç”³è´­ä¸€æ ·ï¼Œåœºå†…è´­ä¹°ï¼ˆä¹°å…¥ï¼‰çš„ä¹Ÿå¯ä»¥åˆ†çº¢ï¼Œä½†æ˜¯æœ‰ä¸€ç‚¹åŒºåˆ«ï¼Œåœºå†…è´­ä¹°çš„åŸºé‡‘åˆ†çº¢åªèƒ½æ˜¯ç°é‡‘åˆ†çº¢ï¼Œä¸èƒ½çº¢åˆ©å†æŠ•å…¥ï¼Œåœºå¤–çš„å¯ä»¥çº¢åˆ©å†æŠ•å…¥ã€‚å¯ä»¥èµå›çš„ï¼Œåœ¨åœºå†…è´­ä¹°çš„åŸºé‡‘ï¼Œä¹Ÿå¯ä»¥åœ¨åœºå†…èµå›ï¼Œèµå›ä»·æ ¼ä»¥æ”¶å¸‚åå…¬å¸å…¬å¸ƒçš„å½“å¤©å‡€å€¼ä¸ºèµå›ä»·æ ¼ã€‚ä¹°å…¥ï¼ˆè‚¡ç¥¨æ–¹å¼ï¼‰ä¸ç”³è´­ï¼ˆåŸºé‡‘æ–¹å¼ï¼‰ï¼Œå–å‡ºä¸èµå›ä¸åŒã€‚ æ³¨æ„é€‰æ‹©ä½ çš„äº¤æ˜“æ–¹å¼ï¼Œä»¥åŠé€‰æ‹©åŸºé‡‘çš„æ­£ç¡®ä»£ç ï¼Œå¦‚ï¼š510880äº¤æ˜“æ˜¯åœºå†…å¸‚ä»·ï¼Œ510881æ˜¯å‡€å€¼ç”³è´­ LOFåŸºé‡‘ä¸ETFåŸºé‡‘,å³èƒ½åœ¨åœºå†…äº¤æ˜“,ä¹Ÿèƒ½åœ¨åœºå¤–è¿›è¡Œç”³è´­å’Œèµå›ã€‚ TODOï¼šåœºå†…åœºå¤–çš„åŒºåˆ«å•ç‹¬è®°å½•ä¸€ç¯‡å­¦ä¹ æ—¥å¿—å§ 6.2 æœ¯è¯­åŠå®šä¹‰ åŸºé‡‘ä¸šåŠ¡å½“äº‹äºº fund business party ä¸åŸºé‡‘ä¸šåŠ¡å¤„ç†çš„ç›¸å…³çš„æ‰€æœ‰æœºæ„ä¸ä¸ªäººã€‚ åŸºé‡‘å‘èµ·äºº fund founder-member ä»¥åŸºé‡‘çš„æˆç«‹ä¸ºç›®çš„ï¼Œå¹¶æŒ‰ç…§è§„å®šçš„è®¾ç«‹æ¡ä»¶å’Œç¨‹åºè®¾ç«‹åŸºé‡‘çš„æœºæ„ã€‚ åŸºé‡‘ç®¡ç†äºº fund manager ä¾æ³•ä»äº‹æŠ•èµ„åŸºé‡‘ç®¡ç†çš„åŸºé‡‘ç®¡ç†å…¬å¸ã€‚ åŸºé‡‘æ‰˜ç®¡äºº fund custodian ä¾æ³•ä¿ç®¡åŸºé‡‘èµ„äº§ã€ç›‘ç£ç®¡ç†äººæŠ•èµ„æ´»åŠ¨çš„æœºæ„ã€‚ æ³¨å†Œï¼ˆè¿‡æˆ·ï¼‰ç™»è®°äºº transfer agent è´Ÿè´£åŸºé‡‘æŠ•èµ„äººè´¦æˆ·ä¿ç®¡ã€äº¤æ˜“è®°å½•ä¿å­˜ã€ä»£ç†åˆ†çº¢ã€æŠ•èµ„äººè´¦æˆ·æŠ¥å‘Šã€ç™»è®°åŸºé‡‘ä»½æ•°ç­‰æœåŠ¡çš„æœºæ„ï¼Œç®€ç§°TAã€‚ ç¬”è®°ï¼š TAè´¦æˆ·ï¼šTAçš„è‹±æ–‡æ˜¯Transfer Agentï¼ˆè¿‡æˆ·ä»£ç†ï¼‰ï¼Œç›´è¯‘å°±æ˜¯è¿‡æˆ·ç™»è®°çš„æ„æ€ã€‚TAåŸºé‡‘è´¦æˆ·å¯é€šè¿‡åŸºé‡‘ä»£ç†æœºæ„å¼€ç«‹ï¼Œæ˜¯æ³¨å†Œä¸è¿‡æˆ·ç™»è®°æœºæ„ä¸ºæŠ•èµ„è€…å¼€ç«‹çš„ç”¨äºè®°å½•æŠ•èµ„è€…æŒæœ‰åŸºé‡‘ä»½é¢åŠå…¶å˜åŠ¨æƒ…å†µçš„è´¦æˆ·ã€‚ åŸºé‡‘äº¤æ˜“è´¦æˆ·ï¼š åŸºé‡‘äº¤æ˜“è´¦æˆ·æ˜¯é“¶è¡Œä¸ºæŠ•èµ„è€…è®¾ç«‹çš„ç”¨äºåœ¨æœ¬è¡Œè¿›è¡ŒåŸºé‡‘äº¤æ˜“çš„è´¦æˆ·ã€‚æŠ•èµ„è€…é€šè¿‡é“¶è¡Œä»£é”€ç½‘ç‚¹åŠç†åŸºé‡‘ä¸šåŠ¡æ—¶ï¼Œå¿…é¡»å…ˆå¼€ç«‹åŸºé‡‘äº¤æ˜“è´¦æˆ·ã€‚è¯¥è´¦æˆ·ç”¨äºè®°è½½æŠ•èµ„è€…è¿›è¡ŒåŸºé‡‘äº¤æ˜“æ´»åŠ¨çš„æƒ…å†µå’Œæ‰€æŒæœ‰çš„åŸºé‡‘ä»½é¢ã€‚æ¯ä¸ªæŠ•èµ„è€…åªèƒ½ç”³è¯·å¼€ç«‹ä¸€ä¸ªåŸºé‡‘äº¤æ˜“ã€‚ å…³ç³»ï¼š 1ä¸ªæŠ•èµ„è€…åœ¨ä¸€å®¶åŸºé‡‘ç®¡ç†å…¬å¸åªæœ‰1ä¸ªTAè´¦æˆ·ï¼Œä½†æ˜¯å¯ä»¥æœ‰å¤šä¸ªäº¤æ˜“è´¦æˆ·ï¼Œæ¯”å¦‚åœ¨å†œè¡Œå¼€ä¸€ä¸ªï¼Œåœ¨æŸè¯åˆ¸å…¬å¸å¼€ä¸€ä¸ªï¼Œ2ä¸ªäº¤æ˜“è´¦æˆ·éƒ½å¯ä»¥è¿›è¡Œä¹°å–äº¤æ˜“ï¼Œä¹Ÿå¯ ä»¥å°†åŸºé‡‘ä»ä¸€ä¸ªäº¤æ˜“è´¦æˆ·è½¬åˆ°å¦ä¸€ä¸ªäº¤æ˜“è´¦æˆ·ï¼Œå°±æ˜¯æ‰€è°“çš„è½¬æ‰˜ç®¡ã€‚TAè´¦æˆ·å’Œäº¤æ˜“è´¦æˆ·æ˜¯å¤šå¯¹å¤šçš„å…³ç³»ã€‚1ä¸ªæŠ•èµ„è€…åœ¨é“¶è¡Œåªæœ‰ä¸€ä¸ªäº¤æ˜“è´¦æˆ·ï¼Œä½†æ˜¯å¯ä»¥ä¹°å¤šä¸ªåŸº é‡‘å…¬å¸çš„åŸºé‡‘ï¼Œè¿™æ—¶æ˜¯1ä¸ªäº¤æ˜“è´¦æˆ· vs å¤šä¸ªTAè´¦æˆ·ã€‚ å†æ¯”å¦‚æ‚¨è¦è´­ä¹°ä¸€ä¸ªåŸºé‡‘å…¬å¸ä¸‹å±çš„æŸä¸ªåŸºé‡‘çš„è¯ï¼Œé¦–å…ˆè¦å¼€é€šåŸºé‡‘äº¤æ˜“è´¦æˆ·ï¼Œè¿™ä¸ªè´¦æˆ·ä¹Ÿå¯ä»¥åœ¨é“¶è¡Œå¼€é€šï¼Œæ˜¯ç”¨æ¥åŸºé‡‘äº¤æ˜“åˆ’æ‹¨èµ„é‡‘çš„ï¼›å…¶æ¬¡æ‚¨è¦å¼€é€šè¯¥åŸºé‡‘å…¬å¸çš„TAè´¦æˆ·ï¼Œæ‰å¯ä»¥è´­ä¹°å…¶ä¸‹å±çš„åŸºé‡‘ä¸€ä¸ªåŸºé‡‘å…¬å¸ä¸€èˆ¬æœ‰ä¸‹å±å¥½å¤šä¸ªåŸºé‡‘ï¼Œæ‚¨åªéœ€è¦å¼€é€šä¸€æ¬¡TAè´¦æˆ·å°±å¯ä»¥è´­ä¹°ä¸‹å±æ‰€æœ‰åŸºé‡‘ï¼Œå¦‚AåŸºé‡‘ï¼Œæ‚¨åªéœ€å¼€é€šä¸€ä¸‹AåŸºé‡‘å…¬å¸çš„TAè´¦æˆ·ã€‚ åŸºé‡‘æŒæœ‰äºº fund holder æŒæœ‰è¯åˆ¸æŠ•èµ„åŸºé‡‘ä»½æ•°çš„æŠ•èµ„äººã€‚ åŸºé‡‘é”€å”®äºº fund saler é”€å”®åŸºé‡‘çš„æ³•äººæˆ–è‡ªç„¶äººã€‚ ä¸šåŠ¡ç§ç±» business type åŸºé‡‘ä¸šåŠ¡å¤„ç†ä¸­çš„æ‰€æ¶‰åŠåˆ°çš„ä¸šåŠ¡ç±»å‹ã€‚ åŸºé‡‘è´¦æˆ· transfer agent account æ³¨å†Œç™»è®°äººä¸ºåŸºé‡‘æŠ•èµ„äººè®¾ç«‹çš„åŸºé‡‘è´¦æˆ·ï¼Œç”¨äºè®°å½•å’Œä¿å­˜æŒæœ‰äººçš„åŸºé‡‘å•ä½ä»½æ•°ã€‚ å¼€æˆ· open an account åŸºé‡‘æŠ•èµ„äººç”³è¯·è®¾ç«‹æ³¨å†Œç™»è®°åŸºé‡‘è´¦æˆ·çš„ä¸šåŠ¡ã€‚ è®¤è´­ subsribe æŠ•èµ„äººåœ¨åŸºé‡‘å‹Ÿé›†æœŸé—´ç”³è¯·è´­ä¹°è¯¥åŸºé‡‘çš„è¡Œä¸ºã€‚ ç¬”è®°ï¼š è®¤è´­æ˜¯ç”³è¯·è´­ä¹°åŸºé‡‘å•ä½çš„è¡Œä¸ºã€‚ç°ä»¥åŸºé‡‘ä¸¾ä¾‹ï¼šåœ¨åŸºé‡‘æˆç«‹å‰çš„å‘è¡Œå‹Ÿé›†æœŸå†…ç”³è¯·è´­ä¹°åŸºé‡‘å•ä½å¯ä»¥è®¤è´­ï¼Œè´­ä¹°ä»·æ ¼ä¸ºåŸºé‡‘å•ä½ä»·æ ¼ã€‚ ç®€å•æ¥è¯´ï¼Œå°±æ˜¯åŸºé‡‘è¿˜æ²¡æˆç«‹ï¼Œå°±ç”³è¯·è¦ä¹°äº†ã€‚ å’Œç”³è´­çš„åŒºåˆ«ï¼š è®¤è´­å’Œç”³è´­éƒ½æ˜¯ç”³è¯·è´­ä¹°åŸºé‡‘å•ä½çš„è¡Œä¸ºï¼Œå…¶åŒºåˆ«åœ¨äºè´­ä¹°è¡Œä¸ºå‘ç”Ÿçš„æ—¶é—´æ¡†æ¶å’Œè´­ä¹°ä»·æ ¼ï¼šåœ¨åŸºé‡‘æˆç«‹å‰çš„å‘è¡Œå‹Ÿé›†æœŸå†…ç”³è¯·è´­ä¹°åŸºé‡‘å•ä½å«è®¤è´­ï¼Œè´­ä¹°ä»·æ ¼ä¸ºåŸºé‡‘å•ä½ä»·æ ¼ï¼›åœ¨åŸºé‡‘æˆç«‹åç”³è¯·è´­ä¹°åŸºé‡‘å•ä½å«ç”³è´­ï¼Œè´­ä¹°ä»·æ ¼ä¸ºå½“æ—¥åŸºé‡‘å•ä½å‡€å€¼ã€‚ ç”³è´­ buy æŠ•èµ„äººç”³è¯·è´­ä¹°å·²ç»æˆç«‹çš„åŸºé‡‘çš„è¡Œä¸ºã€‚åŸºé‡‘ç®¡ç†äººæ¥åˆ°æŠ•èµ„äººçš„è´­ä¹°ç”³è¯·æ—¶ï¼Œåº”æŒ‰å½“æ—¥å…¬å¸ƒçš„åŸºé‡‘ä»½æ•°å‡€èµ„äº§åŠ å‡å¿…è¦è´¹ç”¨äºˆä»¥æˆäº¤ï¼ŒåŸºé‡‘æ‰˜ç®¡äººæŒ‰è§„å®šä¸åŸºé‡‘ç®¡ç†äººåŠç†äº¤å‰²ä¸æ¸…ç®—æ‰‹ç»­ï¼Œæ³¨å†Œç™»è®°äººå¢åŠ æŠ•èµ„äººè´¦æˆ·çš„åŸºé‡‘æ•°é‡å’ŒåŸºé‡‘çš„èµ„äº§ã€‚ èµå› redeem åŸºé‡‘æŒæœ‰äººç”³è¯·åŸºé‡‘ç®¡ç†äººä¹°å›è¯¥æŠ•èµ„äººå·²è´­å…¶ç®¡ç†çš„åŸºé‡‘çš„è¡Œä¸ºã€‚æ¥åˆ°åŸºé‡‘æŒæœ‰äººèµå›è¯·æ±‚æ—¶ï¼ŒåŸºé‡‘ç®¡ç†äººåº”æŒ‰å½“æ—¥å…¬å¸ƒçš„åŸºé‡‘ä»½æ•°å‡€èµ„äº§åŠ å‡å¿…è¦è´¹ç”¨äºˆä»¥æˆäº¤ï¼ŒåŸºé‡‘æ‰˜ç®¡äººæŒ‰è§„å®šä¸åŸºé‡‘ç®¡ç†äººåŠç†äº¤å‰²ä¸æ¸…ç®—æ‰‹ç»­ï¼Œåœ¨è§„å®šæœŸé™å†…å‘åŸºé‡‘æŒæœ‰äººæ”¯ä»˜èµå›èµ„é‡‘ï¼Œæ³¨å†Œç™»è®°äººå‡å°‘åŸºé‡‘æŒæœ‰äººè´¦æˆ·åŸºé‡‘ä»½æ•°å’ŒåŸºé‡‘çš„èµ„äº§ã€‚ å·¨é¢èµå› vastly redeem åœ¨åŸºé‡‘çš„å•ä¸ªå¼€æ”¾æ—¥ï¼ŒåŸºé‡‘å‡€èµå›ç”³è¯·è¶…è¿‡è¯¥åŸºé‡‘æ€»ä»½æ•°çš„ä¸€å®šæ¯”ä¾‹æ—¶ï¼Œå°±æ˜¯å·¨é¢èµå›ã€‚ é¢„çº¦èµå› preengage redeem åŸºé‡‘æŒæœ‰äººä¸ºç»™åŸºé‡‘ç®¡ç†äººä¸€å®šçš„æ—¶é—´åŠç†èµå›ä¸šåŠ¡è€Œæå‰å‘å‡ºçš„åœ¨æœªæ¥æŸæ—¥èµå›çš„ç”³è¯·ã€‚ åˆ†çº¢ dividend æŒ‰åŸºé‡‘å¥‘çº¦çš„è§„å®šï¼ŒåŸºé‡‘ç®¡ç†äººåœ¨æ¯ä¸ªä¼šè®¡å¹´åº¦å°†åŸºé‡‘è¿ä½œæ‰€å¾—æ”¶ç›ŠæŒ‰ä¸€å®šçš„æ¯”ä¾‹åˆ†é…ç»™åŸºé‡‘æŒæœ‰äººçš„è¡Œä¸ºã€‚ ç™»è®°æ—¥ register date ç™»è®°åŸºé‡‘æŒæœ‰äººæŒ‰å…¶æ‰€æŒåŸºé‡‘äº«å—åŸºé‡‘åˆ†çº¢æƒåˆ©çš„æ—¶ç‚¹ã€‚ çº¢åˆ©å‘æ”¾æ—¥ dividend date å‘åŸºé‡‘æŒæœ‰äººæ‹¨ä»˜çº¢åˆ©æ¬¾é¡¹çš„æ—¥æœŸã€‚ çº¢åˆ©å†æŠ•èµ„ dividend reinvestment åŸºé‡‘æŒæœ‰äººå°†æ‰€æŒåŸºé‡‘åˆ†å¾—çš„ç°é‡‘çº¢åˆ©è‡ªåŠ¨ç”³è¯·è½¬ä¸ºæŒæœ‰è¯¥åŸºé‡‘å•ä½çš„æŠ•èµ„æ´»åŠ¨ã€‚ éäº¤æ˜“è¿‡æˆ· transfer åŸºé‡‘èµ ä¸ã€ç»§æ‰¿ã€ååŠ©æ‰§è¡Œå¸æ³•åˆ¤å†³ç­‰æœ‰åŒæ–¹å‚ä¸ä¸”æ¶‰åŠåŸºé‡‘å•ä½æ•°é‡å˜åŒ–çš„è¿‡æˆ·ä¸šåŠ¡ã€‚ åŸºé‡‘è½¬æ¢ fund conversion åŸºé‡‘ç®¡ç†äººå‘åŸºé‡‘æŒæœ‰äººæä¾›çš„ä¸€ç§æœåŠ¡ï¼Œå³å°†åŸºé‡‘æŒæœ‰äººçš„æŸåªåŸºé‡‘è½¬æ¢ä¸ºå¦ä¸€åªåŸºé‡‘çš„æœåŠ¡ã€‚ åŸºé‡‘ä¿¡æ¯ fund information æœ‰å…³åŸºé‡‘æœ¬èº«çš„ç‰¹å¾ä¿¡æ¯ã€‚ åŸºé‡‘å•ä½èµ„äº§å‡€å€¼ net asset value åŸºé‡‘å¼€æ”¾æ—¥é—­å¸‚ååŸºé‡‘èµ„äº§å‡€å€¼é™¤ä»¥å½“æ—¥åŸºé‡‘å•ä½çš„ä½™é¢æ•°é‡ã€‚ ç”³è´­è´¹ buy charge æŠ•èµ„äººç”³è´­åŸºé‡‘å•ä½æ‰€éœ€æ”¯ä»˜çš„è´¹ç”¨ã€‚ èµå›è´¹ redemption charge æŠ•èµ„äººèµå›åŸºé‡‘å•ä½æ—¶æ‰€æ”¯ä»˜çš„è´¹ç”¨ã€‚ è´¦æˆ·ç®¡ç†è´¹ account management charge åŸºé‡‘ç®¡ç†äººå‘æŠ•èµ„äººæ”¶å–çš„ç”¨äºç®¡ç†ç»´æŠ¤æŠ•èµ„äººåŸºé‡‘è´¦æˆ·çš„è´¹ç”¨ã€‚ æ³¨å†Œç™»è®°è´¹ transfer agent charge æ³¨å†Œç™»è®°ä»£ç†äººæ ¹æ®â€œæ³¨å†Œç™»è®°ä»£ç†åè®®â€å‘åŸºé‡‘ç®¡ç†äººæ”¶å–çš„è´¹ç”¨ã€‚ å°¾éšä½£é‡‘ rake-off åŸºé‡‘ç®¡ç†äººç»™ä¸åŸºé‡‘ä»£ç†é”€å”®äººçš„é”€å”®ä¸šç»©æŠ¥é…¬ã€‚","categories":[{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"http://www.octber.xyz/categories/%E6%97%A5%E8%AE%B0/"}],"tags":[{"name":"æ—¥æŠ¥","slug":"æ—¥æŠ¥","permalink":"http://www.octber.xyz/tags/%E6%97%A5%E6%8A%A5/"}]},{"title":"2019.8.30æ—¥æŠ¥","slug":"2019-8-30æ—¥æŠ¥","date":"2019-08-30T08:30:53.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/08/30/2019-8-30æ—¥æŠ¥/","link":"","permalink":"http://www.octber.xyz/2019/08/30/2019-8-30%E6%97%A5%E6%8A%A5/","excerpt":"å‰è¨€2019.8.30æ—¥æŠ¥ [TOC]","text":"å‰è¨€2019.8.30æ—¥æŠ¥ [TOC] 1. ä»»åŠ¡ä¸ä»»åŠ¡è¿›åº¦/å·¥æ—¶è¯´æ˜1.1 è´¦å·ç±»ä¸šåŠ¡ç”³æŠ¥è®°å½• è¿›åº¦: 100% 1.2 ä¸šåŠ¡åŸºç¡€-è´¦æˆ·ç®¡ç†-è´¦å·ç»´æŠ¤æµ‹è¯• å¤‡æ³¨: è¿™å—æµç¨‹æ¯”è¾ƒå¤š è¿›åº¦: 50% 2. å·²è§£å†³çš„é—®é¢˜ä»»åŠ¡ä¸­é—®é¢˜å…¨éƒ¨è§£å†³ è´¦å·ç±»ä¸šåŠ¡ç”³æŠ¥è®°å½• æµ‹è¯•ä»»åŠ¡ 3. æœªè§£å†³çš„é—®é¢˜ æµ‹è¯•ä»»åŠ¡éƒ¨åˆ†æœªå®Œæˆ 4. è¿›åº¦å»¶è¿ŸåŸå› è¯´æ˜ è´¦å·ç±»ä¸šåŠ¡ç”³æŠ¥è®°å½•è¯¦æƒ…é¡µé‡å†™äº†åå°æ¥å£å’Œå‰ç«¯é¡µé¢ï¼Œæ”¹åŠ¨è¾ƒå¤§ï¼Œè¯¦æƒ…é¡µæ¯”è¾ƒéº»çƒ¦ã€‚","categories":[{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"http://www.octber.xyz/categories/%E6%97%A5%E8%AE%B0/"}],"tags":[{"name":"æ—¥æŠ¥","slug":"æ—¥æŠ¥","permalink":"http://www.octber.xyz/tags/%E6%97%A5%E6%8A%A5/"}]},{"title":"2019.8.29æ—¥æŠ¥","slug":"2019-8-29æ—¥æŠ¥","date":"2019-08-29T08:56:43.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/08/29/2019-8-29æ—¥æŠ¥/","link":"","permalink":"http://www.octber.xyz/2019/08/29/2019-8-29%E6%97%A5%E6%8A%A5/","excerpt":"å‰è¨€2019.8.29æ—¥æŠ¥ [TOC]","text":"å‰è¨€2019.8.29æ—¥æŠ¥ [TOC] 1. ä»»åŠ¡ä¸ä»»åŠ¡è¿›åº¦/å·¥æ—¶è¯´æ˜1.1 ä¸šåŠ¡åŸºç¡€-è´¦æˆ·ç®¡ç†-äº§å“å•å…ƒç»„åˆæµ‹è¯• è¿›åº¦: 100% 1.2 ä¸šåŠ¡åŸºç¡€-è´¦æˆ·ç®¡ç†-è´¦å·ç±»ä¸šåŠ¡ç”³æŠ¥è®°å½•æµ‹è¯• è¿›åº¦: 100% 1.3 ã€ä¿®æ”¹é¡µé¢ã€‘è´¦å·ç±»ä¸šåŠ¡ç”³æŠ¥è®°å½• è¿›åº¦: 60% 2. å·²è§£å†³çš„é—®é¢˜ä»»åŠ¡ä¸­é—®é¢˜å…¨éƒ¨è§£å†³ æµ‹è¯•æ–‡æ¡£ç¼–å†™ è´¦å·ç±»ä¸šåŠ¡ç”³æŠ¥è®°å½• 3. æœªè§£å†³çš„é—®é¢˜ è´¦å·ç±»ä¸šåŠ¡ç”³æŠ¥è®°å½•è¯¦æƒ…å¼¹çª— 4. è¿›åº¦å»¶è¿ŸåŸå› è¯´æ˜ æµ‹è¯•ä»»åŠ¡çœ‹çš„ä¹…äº†ä¸€ç‚¹ï¼Œæ’°å†™æ–‡æ¡£æ¯”è¾ƒè´¹æ—¶é—´ 5. [å¤‡æ³¨]è´¦æˆ·ç±»ä¸šåŠ¡ç”³æŠ¥è®°å½•5.1 è¡¨æ ¼åˆ—ä¸æ•°æ®åº“å¯¹åº” ç”³è¯·æ—¥æœŸ: åœºå¤–ä»£é”€è´¦æˆ·ç±»ç”³æŠ¥è¡¨bgb_tagentaccountapp.date ç¡®è®¤æ—¥æœŸ: åœºå¤–ä»£é”€è´¦æˆ·ç±»ç¡®è®¤ç»“æœè¡¨bgb_tagentaccoutconfirm.date è®¢å•ç¼–å·: bgb_tagentaccountapp.otc_report_seq å¤æ ¸çŠ¶æ€: bgb_tagentaccountapp.status å­—å…¸è¡¨607051:æœªæŠ¥2:å¾…æŠ¥3:æ­£æŠ¥4:å·²æŠ¥5:ç”³æŠ¥æˆåŠŸ6:ç”³æŠ¥å¤±è´¥7:éƒ¨åˆ†ç”³æŠ¥æˆåŠŸ8:ç¡®è®¤æœ‰æ•ˆï¼ˆæŸ¥è¯¢åˆ°æ­£å¸¸è¿”å›åŸºé‡‘è´¦å·åçš„çŠ¶æ€ï¼‰9:ç¡®è®¤å¤±è´¥ï¼ˆæŸ¥è¯¢åŸºé‡‘è´¦å·çš„ç»“æœTAè¿”å›é”™è¯¯ä¿¡æ¯æ—¶çš„çŠ¶æ€ï¼‰ è®¢å•çŠ¶æ€: æš‚æ—¶æ²¡æœ‰ ä¸šåŠ¡ç±»å‹: bgb_tagentaccountapp.Busin_type å­—å…¸é¡¹ç›®ï¼š61093 001:å¼€ç«‹åŸºé‡‘è´¦æˆ· ï¼ˆè¦ç”¨åˆ°ï¼‰002:æ³¨é”€åŸºé‡‘è´¦æˆ·ï¼ˆè¦ç”¨åˆ°ï¼‰003:è´¦æˆ·ä¿¡æ¯ä¿®æ”¹ï¼ˆè¦ç”¨åˆ°ï¼‰008:ç™»è®°åŸºé‡‘è´¦æˆ·009:å¢å¼€åŸºé‡‘è´¦æˆ·ï¼ˆè¦ç”¨åˆ°ï¼‰101:å¼€ç«‹åŸºé‡‘è´¦æˆ·ç¡®è®¤102:æ³¨é”€åŸºé‡‘è´¦æˆ·ç¡®è®¤103:è´¦æˆ·ä¿¡æ¯ä¿®æ”¹ç¡®è®¤108:ç™»è®°åŸºé‡‘è´¦æˆ·ç¡®è®¤109:å¢å¼€åŸºé‡‘è´¦æˆ·ç¡®è®¤ äº§å“ä»£ç : bgb_tagentaccountapp.fund_id äº§å“ç®€ç§°: bgb_tagentaccountapp.fund_name é”€å”®æ¸ é“: bgb_tagentaccountapp.agency_code äº¤æ˜“è´¦å·: bgb_tagentaccountapp.fund_trade_account åŸºé‡‘è´¦å·: bgb_tagentaccountapp.fund_account TAä»£ç : bgb_tagentaccountapp.ta_code","categories":[{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"http://www.octber.xyz/categories/%E6%97%A5%E8%AE%B0/"}],"tags":[{"name":"æ—¥æŠ¥","slug":"æ—¥æŠ¥","permalink":"http://www.octber.xyz/tags/%E6%97%A5%E6%8A%A5/"}]},{"title":"2019.8.28æ—¥æŠ¥","slug":"2019-8-28æ—¥æŠ¥","date":"2019-08-28T12:36:54.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/08/28/2019-8-28æ—¥æŠ¥/","link":"","permalink":"http://www.octber.xyz/2019/08/28/2019-8-28%E6%97%A5%E6%8A%A5/","excerpt":"å‰è¨€2019.8.27æ—¥æŠ¥ [TOC]","text":"å‰è¨€2019.8.27æ—¥æŠ¥ [TOC] 1. ä»»åŠ¡ä¸ä»»åŠ¡è¿›åº¦/å·¥æ—¶è¯´æ˜1.1 ä¸šåŠ¡åŸºç¡€-äººå‘˜ç®¡ç†-æ³•äººä¿¡æ¯æµ‹è¯• è¿›åº¦: 100% 1.2 ä¸šåŠ¡åŸºç¡€-äººå‘˜ç®¡ç†-ç»åŠäººä¿¡æ¯æµ‹è¯• è¿›åº¦: 100% 1.3 ä¸šåŠ¡åŸºç¡€-è´¦æˆ·ç®¡ç†-å¯¹æ‰‹æ–¹é“¶è¡Œè´¦æˆ·ä¿¡æ¯æµ‹è¯• è¿›åº¦: 100% 1.4 åˆå§‹åŒ–Fispé“¶è¡Œä¿¡æ¯æ’å…¥ ç”ŸæˆJSONå¹¶åœ¨bgbå¯åŠ¨æ—¶æ£€æµ‹ç³»ç»Ÿç‰ˆæœ¬åšæ’å…¥æ“ä½œ è¿›åº¦: 100% 1.5 è¡Œæƒ…è½¬æ¢æœºä»»åŠ¡JobExcuteè®°å½• é‚“æ–¯ä¿®æ”¹äº†JobExcuteæ¶ˆæ¯è®°å½•ï¼Œæ–¹å¼ç”¨åˆ°çš„åœ°æ–¹éƒ½éœ€è¦ä¿®æ”¹ è¿›åº¦: 100% 2. å·²è§£å†³çš„é—®é¢˜ä»»åŠ¡ä¸­é—®é¢˜å…¨éƒ¨è§£å†³ æµ‹è¯•æ–‡æ¡£ç¼–å†™ åˆå§‹åŒ–Fispé“¶è¡Œä¿¡æ¯JSONç”Ÿæˆä»£ç ä¸æ’å…¥æ“ä½œ 3. æœªè§£å†³çš„é—®é¢˜æ— æœªè§£å†³é—®é¢˜ 4. è¿›åº¦å»¶è¿ŸåŸå› è¯´æ˜","categories":[{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"http://www.octber.xyz/categories/%E6%97%A5%E8%AE%B0/"}],"tags":[{"name":"æ—¥æŠ¥","slug":"æ—¥æŠ¥","permalink":"http://www.octber.xyz/tags/%E6%97%A5%E6%8A%A5/"}]},{"title":"2019.8.27æ—¥æŠ¥","slug":"2019-8-27æ—¥æŠ¥","date":"2019-08-27T01:00:38.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/08/27/2019-8-27æ—¥æŠ¥/","link":"","permalink":"http://www.octber.xyz/2019/08/27/2019-8-27%E6%97%A5%E6%8A%A5/","excerpt":"å‰è¨€2019.8.27æ—¥æŠ¥ [TOC]","text":"å‰è¨€2019.8.27æ—¥æŠ¥ [TOC] 1. ä»»åŠ¡ä¸ä»»åŠ¡è¿›åº¦/å·¥æ—¶è¯´æ˜ ä»Šå¤©æå‡ºä¸æµ‹è¯•ä¸­å‘ç°çš„é—®é¢˜å‡å·²è§£å†³ 1.1 åœºå¤–-ä¿¡æ¯æŸ¥è¯¢-äº§å“ä¿¡æ¯æŸ¥è¯¢æµ‹è¯• è¿›åº¦: 100% 1.2 ä¸šåŠ¡åŸºç¡€-äº§å“ç®¡ç†-äº§å“ä¿¡æ¯æµ‹è¯• è¿›åº¦: 100% 1.3 ä¸šåŠ¡åŸºç¡€-è´¦æˆ·ç®¡ç†-fispé“¶è¡Œç¼–ç æµ‹è¯• è¿›åº¦: 100% 1.4 åˆå§‹åŒ–åœºå¤–ä¸šåŠ¡ç±»åˆ«è¡¨åˆå§‹åŒ–æ’å…¥ ç”ŸæˆJSONå¹¶åœ¨otcå¯åŠ¨æ—¶æ£€æµ‹ç³»ç»Ÿç‰ˆæœ¬åšæ’å…¥æ“ä½œ è¿›åº¦: 100% 2. å·²è§£å†³çš„é—®é¢˜ä»»åŠ¡ä¸­é—®é¢˜å…¨éƒ¨è§£å†³ æµ‹è¯•æ–‡æ¡£ç¼–å†™ åˆå§‹åŒ–åˆå§‹åŒ–åœºå¤–ä¸šåŠ¡ç±»åˆ«JSONç”Ÿæˆä»£ç ä¸æ’å…¥æ“ä½œ 3. æœªè§£å†³çš„é—®é¢˜æ— æœªè§£å†³é—®é¢˜ 4. è¿›åº¦å»¶è¿ŸåŸå› è¯´æ˜","categories":[{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"http://www.octber.xyz/categories/%E6%97%A5%E8%AE%B0/"}],"tags":[{"name":"æ—¥æŠ¥","slug":"æ—¥æŠ¥","permalink":"http://www.octber.xyz/tags/%E6%97%A5%E6%8A%A5/"}]},{"title":"2019.8.26æ—¥æŠ¥","slug":"2019-8-26æ—¥æŠ¥","date":"2019-08-26T01:09:51.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/08/26/2019-8-26æ—¥æŠ¥/","link":"","permalink":"http://www.octber.xyz/2019/08/26/2019-8-26%E6%97%A5%E6%8A%A5/","excerpt":"å‰è¨€2019.8.26æ—¥æŠ¥ [TOC]","text":"å‰è¨€2019.8.26æ—¥æŠ¥ [TOC] 1. ä»»åŠ¡ä¸ä»»åŠ¡è¿›åº¦/å·¥æ—¶è¯´æ˜ ä»Šå¤©æå‡ºä¸æµ‹è¯•ä¸­å‘ç°çš„é—®é¢˜å‡å·²è§£å†³ 1.1 [BUG]è¡Œæƒ…è½¬æ¢æœºé‡å¤çŠ¶æ€ è¿›åº¦: 100% 1.2 èµ„é‡‘è°ƒæ•´å‰ç«¯é‡æ„/åç«¯æŸ¥è¯¢é€»è¾‘ è¿›åº¦: 100% 1.3 å¢å¼€åŸºé‡‘è´¦æˆ· é—®é¢˜: å¢å¼€æ—¶å“ªäº›ä¿¡æ¯è¦å…¥åº“ç¡®è®¤ è¿›åº¦: 100% 1.4 ä»½é¢è°ƒæ•´/ä»½é¢æŸ¥è¯¢ é—®é¢˜: å‰ç«¯/åç«¯åˆ†é¡µä¸­ç”±äºå¯¹æºç åŠŸèƒ½äº†è§£ä¸è¶³å‡ºç°åˆ†é¡µé”™è¯¯é—®é¢˜ è¿›åº¦: 100% 1.5 å…¶ä»–é—®é¢˜ é—®é¢˜: å¦‚æ—¥æœŸç»Ÿä¸€ä½¿ç”¨DateUtilsç­‰ è¿›åº¦: 100% 2. å·²è§£å†³çš„é—®é¢˜ä»»åŠ¡ä¸­é—®é¢˜å…¨éƒ¨è§£å†³ 3. æœªè§£å†³çš„é—®é¢˜æ— æœªè§£å†³é—®é¢˜ 4. è¿›åº¦å»¶è¿ŸåŸå› è¯´æ˜","categories":[{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"http://www.octber.xyz/categories/%E6%97%A5%E8%AE%B0/"}],"tags":[{"name":"æ—¥æŠ¥","slug":"æ—¥æŠ¥","permalink":"http://www.octber.xyz/tags/%E6%97%A5%E6%8A%A5/"}]},{"title":"2019.8.24æ—¥æŠ¥","slug":"2019-8-24æ—¥æŠ¥","date":"2019-08-24T01:14:19.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/08/24/2019-8-24æ—¥æŠ¥/","link":"","permalink":"http://www.octber.xyz/2019/08/24/2019-8-24%E6%97%A5%E6%8A%A5/","excerpt":"å‰è¨€2019.8.24æ—¥æŠ¥ [TOC]","text":"å‰è¨€2019.8.24æ—¥æŠ¥ [TOC] 1. ä»»åŠ¡ä¸ä»»åŠ¡è¿›åº¦/å·¥æ—¶è¯´æ˜ ä»Šå¤©æ”¹bugï¼Œæ”¹è¡Œæƒ…è½¬æ¢æœº 1.1 è¡Œæƒ…è½¬æ¢æœºé—®é¢˜ è°ƒæ•´å­—æ®µ æ·»åŠ åˆ†é¡µ 1.2 èµ„äº§è°ƒæ•´é—®é¢˜ 2. å·²è§£å†³çš„é—®é¢˜1.1 è¡Œæƒ…è½¬æ¢æœº1.2 èµ„äº§è°ƒæ•´ï¼ˆéƒ¨åˆ†ï¼‰3. æœªè§£å†³çš„é—®é¢˜4. è¿›åº¦å»¶è¿ŸåŸå› è¯´æ˜","categories":[{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"http://www.octber.xyz/categories/%E6%97%A5%E8%AE%B0/"}],"tags":[{"name":"æ—¥æŠ¥","slug":"æ—¥æŠ¥","permalink":"http://www.octber.xyz/tags/%E6%97%A5%E6%8A%A5/"}]},{"title":"volatileç®€æ","slug":"volatileç®€æ","date":"2019-08-23T06:27:05.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/08/23/volatileç®€æ/","link":"","permalink":"http://www.octber.xyz/2019/08/23/volatile%E7%AE%80%E6%9E%90/","excerpt":"å‰è¨€volatileç®€æï¼Œè¿™ä¸ªå…³é”®å­—è™½ç„¶åœ¨å¤šçº¿ç¨‹ä¸­èµ·åˆ°äº†é‡è¦çš„ä½œç”¨è€Œä¸”ä½¿ç”¨ä¾¿æ·ï¼Œä½†æ˜¯çœŸæ­£äº†è§£ä»–è¿˜æ˜¯å¾ˆéš¾çš„ å­¦ä¹ è¿™ä½å¤§ç¥: HollisChuang","text":"å‰è¨€volatileç®€æï¼Œè¿™ä¸ªå…³é”®å­—è™½ç„¶åœ¨å¤šçº¿ç¨‹ä¸­èµ·åˆ°äº†é‡è¦çš„ä½œç”¨è€Œä¸”ä½¿ç”¨ä¾¿æ·ï¼Œä½†æ˜¯çœŸæ­£äº†è§£ä»–è¿˜æ˜¯å¾ˆéš¾çš„ å­¦ä¹ è¿™ä½å¤§ç¥: HollisChuang æœ¬æ–‡å°±å›´ç»•volatileå±•å¼€ï¼Œä¸»è¦ä»‹ç»volatileçš„ç”¨æ³•ã€volatileçš„åŸç†ï¼Œä»¥åŠvolatileæ˜¯å¦‚ä½•æä¾›å¯è§æ€§å’Œæœ‰åºæ€§ä¿éšœçš„ç­‰ã€‚ volatileè¿™ä¸ªå…³é”®å­—ï¼Œä¸ä»…ä»…åœ¨Javaè¯­è¨€ä¸­æœ‰ï¼Œåœ¨å¾ˆå¤šè¯­è¨€ä¸­éƒ½æœ‰çš„ï¼Œè€Œä¸”å…¶ç”¨æ³•å’Œè¯­ä¹‰ä¹Ÿéƒ½æ˜¯ä¸å°½ç›¸åŒçš„ã€‚å°¤å…¶åœ¨Cè¯­è¨€ã€C++ä»¥åŠJavaä¸­ï¼Œéƒ½æœ‰volatileå…³é”®å­—ã€‚éƒ½å¯ä»¥ç”¨æ¥å£°æ˜å˜é‡æˆ–è€…å¯¹è±¡ã€‚ä¸‹é¢ç®€å•æ¥ä»‹ç»ä¸€ä¸‹Javaè¯­è¨€ä¸­çš„volatileå…³é”®å­—ã€‚ volatileçš„ç”¨æ³•volatileé€šå¸¸è¢«æ¯”å–»æˆâ€è½»é‡çº§çš„synchronizedâ€œï¼Œä¹Ÿæ˜¯Javaå¹¶å‘ç¼–ç¨‹ä¸­æ¯”è¾ƒé‡è¦çš„ä¸€ä¸ªå…³é”®å­—ã€‚å’Œsynchronizedä¸åŒï¼Œvolatileæ˜¯ä¸€ä¸ªå˜é‡ä¿®é¥°ç¬¦ï¼Œåªèƒ½ç”¨æ¥ä¿®é¥°å˜é‡ã€‚æ— æ³•ä¿®é¥°æ–¹æ³•åŠä»£ç å—ç­‰ã€‚ volatileçš„ç”¨æ³•æ¯”è¾ƒç®€å•ï¼Œåªéœ€è¦åœ¨å£°æ˜ä¸€ä¸ªå¯èƒ½è¢«å¤šçº¿ç¨‹åŒæ—¶è®¿é—®çš„å˜é‡æ—¶ï¼Œä½¿ç”¨volatileä¿®é¥°å°±å¯ä»¥äº†ã€‚ 1234567891011121314public class Singleton &#123; private volatile static Singleton singleton; private Singleton ()&#123;&#125; public static Singleton getSingleton() &#123; if (singleton == null) &#123; synchronized (Singleton.class) &#123; if (singleton == null) &#123; singleton = new Singleton(); &#125; &#125; &#125; return singleton; &#125; &#125; å¦‚ä»¥ä¸Šä»£ç ï¼Œæ˜¯ä¸€ä¸ªæ¯”è¾ƒå…¸å‹çš„ä½¿ç”¨åŒé‡é”æ ¡éªŒçš„å½¢å¼å®ç°å•ä¾‹çš„ï¼Œå…¶ä¸­ä½¿ç”¨volatileå…³é”®å­—ä¿®é¥°å¯èƒ½è¢«å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®åˆ°çš„singletonã€‚ volatileçš„åŸç†åœ¨å†æœ‰äººé—®ä½ Javaå†…å­˜æ¨¡å‹æ˜¯ä»€ä¹ˆï¼Œå°±æŠŠè¿™ç¯‡æ–‡ç« å‘ç»™ä»–ä¸­æˆ‘ä»¬æ›¾ç»ä»‹ç»è¿‡ï¼Œä¸ºäº†æé«˜å¤„ç†å™¨çš„æ‰§è¡Œé€Ÿåº¦ï¼Œåœ¨å¤„ç†å™¨å’Œå†…å­˜ä¹‹é—´å¢åŠ äº†å¤šçº§ç¼“å­˜æ¥æå‡ã€‚ä½†æ˜¯ç”±äºå¼•å…¥äº†å¤šçº§ç¼“å­˜ï¼Œå°±å­˜åœ¨ç¼“å­˜æ•°æ®ä¸ä¸€è‡´é—®é¢˜ã€‚ ä½†æ˜¯ï¼Œå¯¹äºvolatileå˜é‡ï¼Œå½“å¯¹volatileå˜é‡è¿›è¡Œå†™æ“ä½œçš„æ—¶å€™ï¼ŒJVMä¼šå‘å¤„ç†å™¨å‘é€ä¸€æ¡lockå‰ç¼€çš„æŒ‡ä»¤ï¼Œå°†è¿™ä¸ªç¼“å­˜ä¸­çš„å˜é‡å›å†™åˆ°ç³»ç»Ÿä¸»å­˜ä¸­ã€‚ ä½†æ˜¯å°±ç®—å†™å›åˆ°å†…å­˜ï¼Œå¦‚æœå…¶ä»–å¤„ç†å™¨ç¼“å­˜çš„å€¼è¿˜æ˜¯æ—§çš„ï¼Œå†æ‰§è¡Œè®¡ç®—æ“ä½œå°±ä¼šæœ‰é—®é¢˜ï¼Œæ‰€ä»¥åœ¨å¤šå¤„ç†å™¨ä¸‹ï¼Œä¸ºäº†ä¿è¯å„ä¸ªå¤„ç†å™¨çš„ç¼“å­˜æ˜¯ä¸€è‡´çš„ï¼Œå°±ä¼šå®ç°ç¼“å­˜ä¸€è‡´æ€§åè®® ç¼“å­˜ä¸€è‡´æ€§åè®®ï¼šæ¯ä¸ªå¤„ç†å™¨é€šè¿‡å—…æ¢åœ¨æ€»çº¿ä¸Šä¼ æ’­çš„æ•°æ®æ¥æ£€æŸ¥è‡ªå·±ç¼“å­˜çš„å€¼æ˜¯ä¸æ˜¯è¿‡æœŸäº†ï¼Œå½“å¤„ç†å™¨å‘ç°è‡ªå·±ç¼“å­˜è¡Œå¯¹åº”çš„å†…å­˜åœ°å€è¢«ä¿®æ”¹ï¼Œå°±ä¼šå°†å½“å‰å¤„ç†å™¨çš„ç¼“å­˜è¡Œè®¾ç½®æˆæ— æ•ˆçŠ¶æ€ï¼Œå½“å¤„ç†å™¨è¦å¯¹è¿™ä¸ªæ•°æ®è¿›è¡Œä¿®æ”¹æ“ä½œçš„æ—¶å€™ï¼Œä¼šå¼ºåˆ¶é‡æ–°ä»ç³»ç»Ÿå†…å­˜é‡ŒæŠŠæ•°æ®è¯»åˆ°å¤„ç†å™¨ç¼“å­˜é‡Œã€‚ æ‰€ä»¥ï¼Œå¦‚æœä¸€ä¸ªå˜é‡è¢«volatileæ‰€ä¿®é¥°çš„è¯ï¼Œåœ¨æ¯æ¬¡æ•°æ®å˜åŒ–ä¹‹åï¼Œå…¶å€¼éƒ½ä¼šè¢«å¼ºåˆ¶åˆ·å…¥ä¸»å­˜ã€‚è€Œå…¶ä»–å¤„ç†å™¨çš„ç¼“å­˜ç”±äºéµå®ˆäº†ç¼“å­˜ä¸€è‡´æ€§åè®®ï¼Œä¹Ÿä¼šæŠŠè¿™ä¸ªå˜é‡çš„å€¼ä»ä¸»å­˜åŠ è½½åˆ°è‡ªå·±çš„ç¼“å­˜ä¸­ã€‚è¿™å°±ä¿è¯äº†ä¸€ä¸ªvolatileåœ¨å¹¶å‘ç¼–ç¨‹ä¸­ï¼Œå…¶å€¼åœ¨å¤šä¸ªç¼“å­˜ä¸­æ˜¯å¯è§çš„ã€‚ volatileä¸å¯è§æ€§å¯è§æ€§æ˜¯æŒ‡å½“å¤šä¸ªçº¿ç¨‹è®¿é—®åŒä¸€ä¸ªå˜é‡æ—¶ï¼Œä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†è¿™ä¸ªå˜é‡çš„å€¼ï¼Œå…¶ä»–çº¿ç¨‹èƒ½å¤Ÿç«‹å³çœ‹å¾—åˆ°ä¿®æ”¹çš„å€¼ã€‚ æˆ‘ä»¬åœ¨å†æœ‰äººé—®ä½ Javaå†…å­˜æ¨¡å‹æ˜¯ä»€ä¹ˆï¼Œå°±æŠŠè¿™ç¯‡æ–‡ç« å‘ç»™ä»–ä¸­åˆ†æè¿‡ï¼šJavaå†…å­˜æ¨¡å‹è§„å®šäº†æ‰€æœ‰çš„å˜é‡éƒ½å­˜å‚¨åœ¨ä¸»å†…å­˜ä¸­ï¼Œæ¯æ¡çº¿ç¨‹è¿˜æœ‰è‡ªå·±çš„å·¥ä½œå†…å­˜ï¼Œçº¿ç¨‹çš„å·¥ä½œå†…å­˜ä¸­ä¿å­˜äº†è¯¥çº¿ç¨‹ä¸­æ˜¯ç”¨åˆ°çš„å˜é‡çš„ä¸»å†…å­˜å‰¯æœ¬æ‹·è´ï¼Œçº¿ç¨‹å¯¹å˜é‡çš„æ‰€æœ‰æ“ä½œéƒ½å¿…é¡»åœ¨å·¥ä½œå†…å­˜ä¸­è¿›è¡Œï¼Œè€Œä¸èƒ½ç›´æ¥è¯»å†™ä¸»å†…å­˜ã€‚ä¸åŒçš„çº¿ç¨‹ä¹‹é—´ä¹Ÿæ— æ³•ç›´æ¥è®¿é—®å¯¹æ–¹å·¥ä½œå†…å­˜ä¸­çš„å˜é‡ï¼Œçº¿ç¨‹é—´å˜é‡çš„ä¼ é€’å‡éœ€è¦è‡ªå·±çš„å·¥ä½œå†…å­˜å’Œä¸»å­˜ä¹‹é—´è¿›è¡Œæ•°æ®åŒæ­¥è¿›è¡Œã€‚æ‰€ä»¥ï¼Œå°±å¯èƒ½å‡ºç°çº¿ç¨‹1æ”¹äº†æŸä¸ªå˜é‡çš„å€¼ï¼Œä½†æ˜¯çº¿ç¨‹2ä¸å¯è§çš„æƒ…å†µã€‚ å‰é¢çš„å…³äºvolatileçš„åŸç†ä¸­ä»‹ç»è¿‡äº†ï¼ŒJavaä¸­çš„volatileå…³é”®å­—æä¾›äº†ä¸€ä¸ªåŠŸèƒ½ï¼Œé‚£å°±æ˜¯è¢«å…¶ä¿®é¥°çš„å˜é‡åœ¨è¢«ä¿®æ”¹åå¯ä»¥ç«‹å³åŒæ­¥åˆ°ä¸»å†…å­˜ï¼Œè¢«å…¶ä¿®é¥°çš„å˜é‡åœ¨æ¯æ¬¡æ˜¯ç”¨ä¹‹å‰éƒ½ä»ä¸»å†…å­˜åˆ·æ–°ã€‚å› æ­¤ï¼Œå¯ä»¥ä½¿ç”¨volatileæ¥ä¿è¯å¤šçº¿ç¨‹æ“ä½œæ—¶å˜é‡çš„å¯è§æ€§ã€‚ volatileä¸æœ‰åºæ€§æœ‰åºæ€§å³ç¨‹åºæ‰§è¡Œçš„é¡ºåºæŒ‰ç…§ä»£ç çš„å…ˆåé¡ºåºæ‰§è¡Œã€‚ æˆ‘ä»¬åœ¨å†æœ‰äººé—®ä½ Javaå†…å­˜æ¨¡å‹æ˜¯ä»€ä¹ˆï¼Œå°±æŠŠè¿™ç¯‡æ–‡ç« å‘ç»™ä»–ä¸­åˆ†æè¿‡ï¼šé™¤äº†å¼•å…¥äº†æ—¶é—´ç‰‡ä»¥å¤–ï¼Œç”±äºå¤„ç†å™¨ä¼˜åŒ–å’ŒæŒ‡ä»¤é‡æ’ç­‰ï¼ŒCPUè¿˜å¯èƒ½å¯¹è¾“å…¥ä»£ç è¿›è¡Œä¹±åºæ‰§è¡Œï¼Œæ¯”å¦‚load-&gt;add-&gt;save æœ‰å¯èƒ½è¢«ä¼˜åŒ–æˆload-&gt;save-&gt;add ã€‚è¿™å°±æ˜¯å¯èƒ½å­˜åœ¨æœ‰åºæ€§é—®é¢˜ã€‚ è€Œvolatileé™¤äº†å¯ä»¥ä¿è¯æ•°æ®çš„å¯è§æ€§ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªå¼ºå¤§çš„åŠŸèƒ½ï¼Œé‚£å°±æ˜¯ä»–å¯ä»¥ç¦æ­¢æŒ‡ä»¤é‡æ’ä¼˜åŒ–ç­‰ã€‚ æ™®é€šçš„å˜é‡ä»…ä»…ä¼šä¿è¯åœ¨è¯¥æ–¹æ³•çš„æ‰§è¡Œè¿‡ç¨‹ä¸­æ‰€ä¾èµ–çš„èµ‹å€¼ç»“æœçš„åœ°æ–¹éƒ½èƒ½è·å¾—æ­£ç¡®çš„ç»“æœï¼Œè€Œä¸èƒ½ä¿è¯å˜é‡çš„èµ‹å€¼æ“ä½œçš„é¡ºåºä¸ç¨‹åºä»£ç ä¸­çš„æ‰§è¡Œé¡ºåºä¸€è‡´ã€‚ volatileå¯ä»¥ç¦æ­¢æŒ‡ä»¤é‡æ’ï¼Œè¿™å°±ä¿è¯äº†ä»£ç çš„ç¨‹åºä¼šä¸¥æ ¼æŒ‰ç…§ä»£ç çš„å…ˆåé¡ºåºæ‰§è¡Œã€‚è¿™å°±ä¿è¯äº†æœ‰åºæ€§ã€‚è¢«volatileä¿®é¥°çš„å˜é‡çš„æ“ä½œï¼Œä¼šä¸¥æ ¼æŒ‰ç…§ä»£ç é¡ºåºæ‰§è¡Œï¼Œload-&gt;add-&gt;save çš„æ‰§è¡Œé¡ºåºå°±æ˜¯ï¼šloadã€addã€saveã€‚ volatileä¸åŸå­æ€§åŸå­æ€§æ˜¯æŒ‡ä¸€ä¸ªæ“ä½œæ˜¯ä¸å¯ä¸­æ–­çš„ï¼Œè¦å…¨éƒ¨æ‰§è¡Œå®Œæˆï¼Œè¦ä¸å°±éƒ½ä¸æ‰§è¡Œã€‚ æˆ‘ä»¬åœ¨Javaçš„å¹¶å‘ç¼–ç¨‹ä¸­çš„å¤šçº¿ç¨‹é—®é¢˜åˆ°åº•æ˜¯æ€ä¹ˆå›äº‹å„¿ï¼Ÿä¸­åˆ†æè¿‡ï¼šçº¿ç¨‹æ˜¯CPUè°ƒåº¦çš„åŸºæœ¬å•ä½ã€‚CPUæœ‰æ—¶é—´ç‰‡çš„æ¦‚å¿µï¼Œä¼šæ ¹æ®ä¸åŒçš„è°ƒåº¦ç®—æ³•è¿›è¡Œçº¿ç¨‹è°ƒåº¦ã€‚å½“ä¸€ä¸ªçº¿ç¨‹è·å¾—æ—¶é—´ç‰‡ä¹‹åå¼€å§‹æ‰§è¡Œï¼Œåœ¨æ—¶é—´ç‰‡è€—å°½ä¹‹åï¼Œå°±ä¼šå¤±å»CPUä½¿ç”¨æƒã€‚æ‰€ä»¥åœ¨å¤šçº¿ç¨‹åœºæ™¯ä¸‹ï¼Œç”±äºæ—¶é—´ç‰‡åœ¨çº¿ç¨‹é—´è½®æ¢ï¼Œå°±ä¼šå‘ç”ŸåŸå­æ€§é—®é¢˜ã€‚ åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»synchronizedçš„æ—¶å€™ï¼Œæåˆ°è¿‡ï¼Œä¸ºäº†ä¿è¯åŸå­æ€§ï¼Œéœ€è¦é€šè¿‡å­—èŠ‚ç æŒ‡ä»¤monitorenterå’Œmonitorexitï¼Œä½†æ˜¯volatileå’Œè¿™ä¸¤ä¸ªæŒ‡ä»¤ä¹‹é—´æ˜¯æ²¡æœ‰ä»»ä½•å…³ç³»çš„ã€‚ æ‰€ä»¥ï¼Œvolatileæ˜¯ä¸èƒ½ä¿è¯åŸå­æ€§çš„ã€‚ æ‰€ä»¥voatitleå¹¶ä¸æ˜¯ä¸‡èƒ½çš„ï¼Œè¦è€ƒè™‘ä»¥ä¸‹ä¸¤ä¸ªåœºæ™¯ä½¿ç”¨ åœ¨ä»¥ä¸‹ä¸¤ä¸ªåœºæ™¯ä¸­å¯ä»¥ä½¿ç”¨volatileæ¥ä»£æ›¿synchronizedï¼š 1ã€è¿ç®—ç»“æœå¹¶ä¸ä¾èµ–å˜é‡çš„å½“å‰å€¼ï¼Œæˆ–è€…èƒ½å¤Ÿç¡®ä¿åªæœ‰å•ä¸€çš„çº¿ç¨‹ä¼šä¿®æ”¹å˜é‡çš„å€¼ã€‚ 2ã€å˜é‡ä¸éœ€è¦ä¸å…¶ä»–çŠ¶æ€å˜é‡å…±åŒå‚ä¸ä¸å˜çº¦æŸã€‚ æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹volatileå’ŒåŸå­æ€§çš„ä¾‹å­ï¼š 1234567891011121314151617181920212223public class Test &#123; public volatile int inc = 0; public void increase() &#123; inc++; &#125; public static void main(String[] args) &#123; final Test test = new Test(); for(int i=0;i&lt;10;i++)&#123; new Thread()&#123; public void run() &#123; for(int j=0;j&lt;1000;j++) test.increase(); &#125;; &#125;.start(); &#125; while(Thread.activeCount()&gt;1) //ä¿è¯å‰é¢çš„çº¿ç¨‹éƒ½æ‰§è¡Œå®Œ Thread.yield(); System.out.println(test.inc); &#125;&#125; ä»¥ä¸Šä»£ç æ¯”è¾ƒç®€å•ï¼Œå°±æ˜¯åˆ›å»º10ä¸ªçº¿ç¨‹ï¼Œç„¶ååˆ†åˆ«æ‰§è¡Œ1000æ¬¡i++æ“ä½œã€‚æ­£å¸¸æƒ…å†µä¸‹ï¼Œç¨‹åºçš„è¾“å‡ºç»“æœåº”è¯¥æ˜¯10000ï¼Œä½†æ˜¯ï¼Œå¤šæ¬¡æ‰§è¡Œçš„ç»“æœéƒ½å°äº10000ã€‚è¿™å…¶å®å°±æ˜¯volatileæ— æ³•æ»¡è¶³åŸå­æ€§çš„åŸå› ã€‚ ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ç§æƒ…å†µå‘¢ï¼Œé‚£å°±æ˜¯å› ä¸ºè™½ç„¶volatileå¯ä»¥ä¿è¯incåœ¨å¤šä¸ªçº¿ç¨‹ä¹‹é—´çš„å¯è§æ€§ã€‚ä½†æ˜¯æ— æ³•inc++çš„åŸå­æ€§ã€‚","categories":[{"name":"Java","slug":"Java","permalink":"http://www.octber.xyz/categories/Java/"}],"tags":[{"name":"çº¿ç¨‹","slug":"çº¿ç¨‹","permalink":"http://www.octber.xyz/tags/%E7%BA%BF%E7%A8%8B/"}]},{"title":"synchronizedç®€æ","slug":"synchronizedç®€æ","date":"2019-08-23T05:46:14.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/08/23/synchronizedç®€æ/","link":"","permalink":"http://www.octber.xyz/2019/08/23/synchronized%E7%AE%80%E6%9E%90/","excerpt":"å‰è¨€synchronizedç®€æï¼Œè¿™ä¸ªå…³é”®å­—è™½ç„¶åœ¨å¤šçº¿ç¨‹ä¸­èµ·åˆ°äº†é‡è¦çš„ä½œç”¨è€Œä¸”ä½¿ç”¨ä¾¿æ·ï¼Œä½†æ˜¯çœŸæ­£äº†è§£ä»–è¿˜æ˜¯å¾ˆéš¾çš„ å­¦ä¹ è¿™ä½å¤§ç¥: HollisChuang Javaè¯­è¨€ä¸ºäº†è§£å†³å¹¶å‘ç¼–ç¨‹ä¸­å­˜åœ¨çš„åŸå­æ€§ã€å¯è§æ€§å’Œæœ‰åºæ€§é—®é¢˜ï¼Œæä¾›äº†ä¸€ç³»åˆ—å’Œå¹¶å‘å¤„ç†ç›¸å…³çš„å…³é”®å­—ï¼Œæ¯”å¦‚synchronizedã€volatileã€finalã€concurrenåŒ…ç­‰ã€‚","text":"å‰è¨€synchronizedç®€æï¼Œè¿™ä¸ªå…³é”®å­—è™½ç„¶åœ¨å¤šçº¿ç¨‹ä¸­èµ·åˆ°äº†é‡è¦çš„ä½œç”¨è€Œä¸”ä½¿ç”¨ä¾¿æ·ï¼Œä½†æ˜¯çœŸæ­£äº†è§£ä»–è¿˜æ˜¯å¾ˆéš¾çš„ å­¦ä¹ è¿™ä½å¤§ç¥: HollisChuang Javaè¯­è¨€ä¸ºäº†è§£å†³å¹¶å‘ç¼–ç¨‹ä¸­å­˜åœ¨çš„åŸå­æ€§ã€å¯è§æ€§å’Œæœ‰åºæ€§é—®é¢˜ï¼Œæä¾›äº†ä¸€ç³»åˆ—å’Œå¹¶å‘å¤„ç†ç›¸å…³çš„å…³é”®å­—ï¼Œæ¯”å¦‚synchronizedã€volatileã€finalã€concurrenåŒ…ç­‰ã€‚ synchronizedå…³é”®å­—åœ¨éœ€è¦åŸå­æ€§ã€å¯è§æ€§å’Œæœ‰åºæ€§è¿™ä¸‰ç§ç‰¹æ€§çš„æ—¶å€™éƒ½å¯ä»¥ä½œä¸ºå…¶ä¸­ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œçœ‹èµ·æ¥æ˜¯â€œä¸‡èƒ½â€çš„ã€‚çš„ç¡®ï¼Œå¤§éƒ¨åˆ†å¹¶å‘æ§åˆ¶æ“ä½œéƒ½èƒ½ä½¿ç”¨synchronizedæ¥å®Œæˆã€‚ synchronizedçš„ç”¨æ³•synchronizedæ˜¯Javaæä¾›çš„ä¸€ä¸ªå¹¶å‘æ§åˆ¶çš„å…³é”®å­—ã€‚ä¸»è¦æœ‰ä¸¤ç§ç”¨æ³•ï¼Œåˆ†åˆ«æ˜¯åŒæ­¥æ–¹æ³•å’ŒåŒæ­¥ä»£ç å—ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œsynchronizedæ—¢å¯ä»¥ä¿®é¥°æ–¹æ³•ä¹Ÿå¯ä»¥ä¿®é¥°ä»£ç å—ã€‚ 12345678910111213141516/** * @author Hollis 18/08/04. */public class SynchronizedDemo &#123; //åŒæ­¥æ–¹æ³• public synchronized void doSth()&#123; System.out.println(&quot;Hello World&quot;); &#125; //åŒæ­¥ä»£ç å— public void doSth1()&#123; synchronized (SynchronizedDemo.class)&#123; System.out.println(&quot;Hello World&quot;); &#125; &#125;&#125; è¢«synchronizedä¿®é¥°çš„ä»£ç å—åŠæ–¹æ³•ï¼Œåœ¨åŒä¸€æ—¶é—´ï¼Œåªèƒ½è¢«å•ä¸ªçº¿ç¨‹è®¿é—®ã€‚ synchronizedçš„å®ç°åŸç†synchronizedï¼Œæ˜¯Javaä¸­ç”¨äºè§£å†³å¹¶å‘æƒ…å†µä¸‹æ•°æ®åŒæ­¥è®¿é—®çš„ä¸€ä¸ªå¾ˆé‡è¦çš„å…³é”®å­—ã€‚å½“æˆ‘ä»¬æƒ³è¦ä¿è¯ä¸€ä¸ªå…±äº«èµ„æºåœ¨åŒä¸€æ—¶é—´åªä¼šè¢«ä¸€ä¸ªçº¿ç¨‹è®¿é—®åˆ°æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä»£ç ä¸­ä½¿ç”¨synchronizedå…³é”®å­—å¯¹ç±»æˆ–è€…å¯¹è±¡åŠ é”ã€‚ åœ¨æ·±å…¥ç†è§£å¤šçº¿ç¨‹ï¼ˆä¸€ï¼‰â€”â€”Synchronizedçš„å®ç°åŸç†ä¸­æˆ‘æ›¾ç»ä»‹ç»è¿‡å…¶å®ç°åŸç†ï¼Œä¸ºäº†ä¿è¯çŸ¥è¯†çš„å®Œæ•´æ€§ï¼Œè¿™é‡Œå†ç®€å•ä»‹ç»ä¸€ä¸‹ï¼Œè¯¦ç»†çš„å†…å®¹è¯·å»åŸæ–‡é˜…è¯»ã€‚ æˆ‘ä»¬å¯¹ä¸Šé¢çš„ä»£ç è¿›è¡Œåç¼–è¯‘ï¼Œå¯ä»¥å¾—åˆ°å¦‚ä¸‹ä»£ç ï¼š 12345678910111213141516171819202122232425262728293031public synchronized void doSth(); descriptor: ()V flags: ACC_PUBLIC, ACC_SYNCHRONIZED Code: stack=2, locals=1, args_size=1 0: getstatic #2 // Field java/lang/System.out:Ljava/io/PrintStream; 3: ldc #3 // String Hello World 5: invokevirtual #4 // Method java/io/PrintStream.println:(Ljava/lang/String;)V 8: return public void doSth1(); descriptor: ()V flags: ACC_PUBLIC Code: stack=2, locals=3, args_size=1 0: ldc #5 // class com/hollis/SynchronizedTest 2: dup 3: astore_1 4: monitorenter 5: getstatic #2 // Field java/lang/System.out:Ljava/io/PrintStream; 8: ldc #3 // String Hello World 10: invokevirtual #4 // Method java/io/PrintStream.println:(Ljava/lang/String;)V 13: aload_1 14: monitorexit 15: goto 23 18: astore_2 19: aload_1 20: monitorexit 21: aload_2 22: athrow 23: return é€šè¿‡åç¼–è¯‘åä»£ç å¯ä»¥çœ‹å‡ºï¼šå¯¹äºåŒæ­¥æ–¹æ³•ï¼ŒJVMé‡‡ç”¨ACC_SYNCHRONIZEDæ ‡è®°ç¬¦æ¥å®ç°åŒæ­¥ã€‚ å¯¹äºåŒæ­¥ä»£ç å—ã€‚JVMé‡‡ç”¨monitorenterã€monitorexitä¸¤ä¸ªæŒ‡ä»¤æ¥å®ç°åŒæ­¥ã€‚ åœ¨The JavaÂ® Virtual Machine Specificationä¸­æœ‰å…³äºåŒæ­¥æ–¹æ³•å’ŒåŒæ­¥ä»£ç å—çš„å®ç°åŸç†çš„ä»‹ç»ï¼Œæˆ‘ç¿»è¯‘æˆä¸­æ–‡å¦‚ä¸‹ï¼š æ–¹æ³•çº§çš„åŒæ­¥æ˜¯éšå¼çš„ã€‚åŒæ­¥æ–¹æ³•çš„å¸¸é‡æ± ä¸­ä¼šæœ‰ä¸€ä¸ªACC_SYNCHRONIZEDæ ‡å¿—ã€‚å½“æŸä¸ªçº¿ç¨‹è¦è®¿é—®æŸä¸ªæ–¹æ³•çš„æ—¶å€™ï¼Œä¼šæ£€æŸ¥æ˜¯å¦æœ‰ACC_SYNCHRONIZEDï¼Œå¦‚æœæœ‰è®¾ç½®ï¼Œåˆ™éœ€è¦å…ˆè·å¾—ç›‘è§†å™¨é”ï¼Œç„¶åå¼€å§‹æ‰§è¡Œæ–¹æ³•ï¼Œæ–¹æ³•æ‰§è¡Œä¹‹åå†é‡Šæ”¾ç›‘è§†å™¨é”ã€‚è¿™æ—¶å¦‚æœå…¶ä»–çº¿ç¨‹æ¥è¯·æ±‚æ‰§è¡Œæ–¹æ³•ï¼Œä¼šå› ä¸ºæ— æ³•è·å¾—ç›‘è§†å™¨é”è€Œè¢«é˜»æ–­ä½ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœåœ¨æ–¹æ³•æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå‘ç”Ÿäº†å¼‚å¸¸ï¼Œå¹¶ä¸”æ–¹æ³•å†…éƒ¨å¹¶æ²¡æœ‰å¤„ç†è¯¥å¼‚å¸¸ï¼Œé‚£ä¹ˆåœ¨å¼‚å¸¸è¢«æŠ›åˆ°æ–¹æ³•å¤–é¢ä¹‹å‰ç›‘è§†å™¨é”ä¼šè¢«è‡ªåŠ¨é‡Šæ”¾ã€‚ åŒæ­¥ä»£ç å—ä½¿ç”¨monitorenterå’Œmonitorexitä¸¤ä¸ªæŒ‡ä»¤å®ç°ã€‚å¯ä»¥æŠŠæ‰§è¡ŒmonitorenteræŒ‡ä»¤ç†è§£ä¸ºåŠ é”ï¼Œæ‰§è¡Œmonitorexitç†è§£ä¸ºé‡Šæ”¾é”ã€‚ æ¯ä¸ªå¯¹è±¡ç»´æŠ¤ç€ä¸€ä¸ªè®°å½•ç€è¢«é”æ¬¡æ•°çš„è®¡æ•°å™¨ã€‚æœªè¢«é”å®šçš„å¯¹è±¡çš„è¯¥è®¡æ•°å™¨ä¸º0ï¼Œå½“ä¸€ä¸ªçº¿ç¨‹è·å¾—é”ï¼ˆæ‰§è¡Œmonitorenterï¼‰åï¼Œè¯¥è®¡æ•°å™¨è‡ªå¢å˜ä¸º 1 ï¼Œå½“åŒä¸€ä¸ªçº¿ç¨‹å†æ¬¡è·å¾—è¯¥å¯¹è±¡çš„é”çš„æ—¶å€™ï¼Œè®¡æ•°å™¨å†æ¬¡è‡ªå¢ã€‚å½“åŒä¸€ä¸ªçº¿ç¨‹é‡Šæ”¾é”ï¼ˆæ‰§è¡ŒmonitorexitæŒ‡ä»¤ï¼‰çš„æ—¶å€™ï¼Œè®¡æ•°å™¨å†è‡ªå‡ã€‚å½“è®¡æ•°å™¨ä¸º0çš„æ—¶å€™ã€‚é”å°†è¢«é‡Šæ”¾ï¼Œå…¶ä»–çº¿ç¨‹ä¾¿å¯ä»¥è·å¾—é”ã€‚ æ— è®ºæ˜¯ACC_SYNCHRONIZEDè¿˜æ˜¯monitorenterã€monitorexitéƒ½æ˜¯åŸºäºMonitorå®ç°çš„ï¼Œåœ¨Javaè™šæ‹Ÿæœº(HotSpot)ä¸­ï¼ŒMonitoræ˜¯åŸºäºC++å®ç°çš„ï¼Œç”±ObjectMonitorå®ç°ã€‚ ObjectMonitorç±»ä¸­æä¾›äº†å‡ ä¸ªæ–¹æ³•ï¼Œå¦‚enterã€exitã€waitã€notifyã€notifyAllç­‰ã€‚sychronizedåŠ é”çš„æ—¶å€™ï¼Œä¼šè°ƒç”¨objectMonitorçš„enteræ–¹æ³•ï¼Œè§£é”çš„æ—¶å€™ä¼šè°ƒç”¨exitæ–¹æ³•ã€‚ï¼ˆå…³äºMonitorè¯¦è§æ·±å…¥ç†è§£å¤šçº¿ç¨‹ï¼ˆå››ï¼‰â€”â€” Moniterçš„å®ç°åŸç†ï¼‰ synchronizedä¸åŸå­æ€§åŸå­æ€§æ˜¯æŒ‡ä¸€ä¸ªæ“ä½œæ˜¯ä¸å¯ä¸­æ–­çš„ï¼Œè¦å…¨éƒ¨æ‰§è¡Œå®Œæˆï¼Œè¦ä¸å°±éƒ½ä¸æ‰§è¡Œã€‚ æˆ‘ä»¬åœ¨Javaçš„å¹¶å‘ç¼–ç¨‹ä¸­çš„å¤šçº¿ç¨‹é—®é¢˜åˆ°åº•æ˜¯æ€ä¹ˆå›äº‹å„¿ï¼Ÿä¸­åˆ†æè¿‡ï¼šçº¿ç¨‹æ˜¯CPUè°ƒåº¦çš„åŸºæœ¬å•ä½ã€‚CPUæœ‰æ—¶é—´ç‰‡çš„æ¦‚å¿µï¼Œä¼šæ ¹æ®ä¸åŒçš„è°ƒåº¦ç®—æ³•è¿›è¡Œçº¿ç¨‹è°ƒåº¦ã€‚å½“ä¸€ä¸ªçº¿ç¨‹è·å¾—æ—¶é—´ç‰‡ä¹‹åå¼€å§‹æ‰§è¡Œï¼Œåœ¨æ—¶é—´ç‰‡è€—å°½ä¹‹åï¼Œå°±ä¼šå¤±å»CPUä½¿ç”¨æƒã€‚æ‰€ä»¥åœ¨å¤šçº¿ç¨‹åœºæ™¯ä¸‹ï¼Œç”±äºæ—¶é—´ç‰‡åœ¨çº¿ç¨‹é—´è½®æ¢ï¼Œå°±ä¼šå‘ç”ŸåŸå­æ€§é—®é¢˜ã€‚ åœ¨Javaä¸­ï¼Œä¸ºäº†ä¿è¯åŸå­æ€§ï¼Œæä¾›äº†ä¸¤ä¸ªé«˜çº§çš„å­—èŠ‚ç æŒ‡ä»¤monitorenterå’Œmonitorexitã€‚å‰é¢ä¸­ï¼Œä»‹ç»è¿‡ï¼Œè¿™ä¸¤ä¸ªå­—èŠ‚ç æŒ‡ä»¤ï¼Œåœ¨Javaä¸­å¯¹åº”çš„å…³é”®å­—å°±æ˜¯synchronizedã€‚ é€šè¿‡monitorenterå’ŒmonitorexitæŒ‡ä»¤ï¼Œå¯ä»¥ä¿è¯è¢«synchronizedä¿®é¥°çš„ä»£ç åœ¨åŒä¸€æ—¶é—´åªèƒ½è¢«ä¸€ä¸ªçº¿ç¨‹è®¿é—®ï¼Œåœ¨é”æœªé‡Šæ”¾ä¹‹å‰ï¼Œæ— æ³•è¢«å…¶ä»–çº¿ç¨‹è®¿é—®åˆ°ã€‚å› æ­¤ï¼Œåœ¨Javaä¸­å¯ä»¥ä½¿ç”¨synchronizedæ¥ä¿è¯æ–¹æ³•å’Œä»£ç å—å†…çš„æ“ä½œæ˜¯åŸå­æ€§çš„ã€‚ çº¿ç¨‹1åœ¨æ‰§è¡ŒmonitorenteræŒ‡ä»¤çš„æ—¶å€™ï¼Œä¼šå¯¹Monitorè¿›è¡ŒåŠ é”ï¼ŒåŠ é”åå…¶ä»–çº¿ç¨‹æ— æ³•è·å¾—é”ï¼Œé™¤éçº¿ç¨‹1ä¸»åŠ¨è§£é”ã€‚å³ä½¿åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œç”±äºæŸç§åŸå› ï¼Œæ¯”å¦‚CPUæ—¶é—´ç‰‡ç”¨å®Œï¼Œçº¿ç¨‹1æ”¾å¼ƒäº†CPUï¼Œä½†æ˜¯ï¼Œä»–å¹¶æ²¡æœ‰è¿›è¡Œè§£é”ã€‚è€Œç”±äºsynchronizedçš„é”æ˜¯å¯é‡å…¥çš„ï¼Œä¸‹ä¸€ä¸ªæ—¶é—´ç‰‡è¿˜æ˜¯åªèƒ½è¢«ä»–è‡ªå·±è·å–åˆ°ï¼Œè¿˜æ˜¯ä¼šç»§ç»­æ‰§è¡Œä»£ç ã€‚ç›´åˆ°æ‰€æœ‰ä»£ç æ‰§è¡Œå®Œã€‚è¿™å°±ä¿è¯äº†åŸå­æ€§ã€‚ synchronizedä¸å¯è§æ€§å¯è§æ€§æ˜¯æŒ‡å½“å¤šä¸ªçº¿ç¨‹è®¿é—®åŒä¸€ä¸ªå˜é‡æ—¶ï¼Œä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†è¿™ä¸ªå˜é‡çš„å€¼ï¼Œå…¶ä»–çº¿ç¨‹èƒ½å¤Ÿç«‹å³çœ‹å¾—åˆ°ä¿®æ”¹çš„å€¼ã€‚ æˆ‘ä»¬åœ¨å†æœ‰äººé—®ä½ Javaå†…å­˜æ¨¡å‹æ˜¯ä»€ä¹ˆï¼Œå°±æŠŠè¿™ç¯‡æ–‡ç« å‘ç»™ä»–ã€‚ä¸­åˆ†æè¿‡ï¼šJavaå†…å­˜æ¨¡å‹è§„å®šäº†æ‰€æœ‰çš„å˜é‡éƒ½å­˜å‚¨åœ¨ä¸»å†…å­˜ä¸­ï¼Œæ¯æ¡çº¿ç¨‹è¿˜æœ‰è‡ªå·±çš„å·¥ä½œå†…å­˜ï¼Œçº¿ç¨‹çš„å·¥ä½œå†…å­˜ä¸­ä¿å­˜äº†è¯¥çº¿ç¨‹ä¸­æ˜¯ç”¨åˆ°çš„å˜é‡çš„ä¸»å†…å­˜å‰¯æœ¬æ‹·è´ï¼Œçº¿ç¨‹å¯¹å˜é‡çš„æ‰€æœ‰æ“ä½œéƒ½å¿…é¡»åœ¨å·¥ä½œå†…å­˜ä¸­è¿›è¡Œï¼Œè€Œä¸èƒ½ç›´æ¥è¯»å†™ä¸»å†…å­˜ã€‚ä¸åŒçš„çº¿ç¨‹ä¹‹é—´ä¹Ÿæ— æ³•ç›´æ¥è®¿é—®å¯¹æ–¹å·¥ä½œå†…å­˜ä¸­çš„å˜é‡ï¼Œçº¿ç¨‹é—´å˜é‡çš„ä¼ é€’å‡éœ€è¦è‡ªå·±çš„å·¥ä½œå†…å­˜å’Œä¸»å­˜ä¹‹é—´è¿›è¡Œæ•°æ®åŒæ­¥è¿›è¡Œã€‚æ‰€ä»¥ï¼Œå°±å¯èƒ½å‡ºç°çº¿ç¨‹1æ”¹äº†æŸä¸ªå˜é‡çš„å€¼ï¼Œä½†æ˜¯çº¿ç¨‹2ä¸å¯è§çš„æƒ…å†µã€‚ å‰é¢æˆ‘ä»¬ä»‹ç»è¿‡ï¼Œè¢«synchronizedä¿®é¥°çš„ä»£ç ï¼Œåœ¨å¼€å§‹æ‰§è¡Œæ—¶ä¼šåŠ é”ï¼Œæ‰§è¡Œå®Œæˆåä¼šè¿›è¡Œè§£é”ã€‚è€Œä¸ºäº†ä¿è¯å¯è§æ€§ï¼Œæœ‰ä¸€æ¡è§„åˆ™æ˜¯è¿™æ ·çš„ï¼šå¯¹ä¸€ä¸ªå˜é‡è§£é”ä¹‹å‰ï¼Œå¿…é¡»å…ˆæŠŠæ­¤å˜é‡åŒæ­¥å›ä¸»å­˜ä¸­ã€‚è¿™æ ·è§£é”åï¼Œåç»­çº¿ç¨‹å°±å¯ä»¥è®¿é—®åˆ°è¢«ä¿®æ”¹åçš„å€¼ã€‚ æ‰€ä»¥ï¼Œsynchronizedå…³é”®å­—é”ä½çš„å¯¹è±¡ï¼Œå…¶å€¼æ˜¯å…·æœ‰å¯è§æ€§çš„ã€‚ synchronizedä¸æœ‰åºæ€§æœ‰åºæ€§å³ç¨‹åºæ‰§è¡Œçš„é¡ºåºæŒ‰ç…§ä»£ç çš„å…ˆåé¡ºåºæ‰§è¡Œã€‚ æˆ‘ä»¬åœ¨å†æœ‰äººé—®ä½ Javaå†…å­˜æ¨¡å‹æ˜¯ä»€ä¹ˆï¼Œå°±æŠŠè¿™ç¯‡æ–‡ç« å‘ç»™ä»–ã€‚ä¸­åˆ†æè¿‡ï¼šé™¤äº†å¼•å…¥äº†æ—¶é—´ç‰‡ä»¥å¤–ï¼Œç”±äºå¤„ç†å™¨ä¼˜åŒ–å’ŒæŒ‡ä»¤é‡æ’ç­‰ï¼ŒCPUè¿˜å¯èƒ½å¯¹è¾“å…¥ä»£ç è¿›è¡Œä¹±åºæ‰§è¡Œï¼Œæ¯”å¦‚load-&gt;add-&gt;save æœ‰å¯èƒ½è¢«ä¼˜åŒ–æˆload-&gt;save-&gt;add ã€‚è¿™å°±æ˜¯å¯èƒ½å­˜åœ¨æœ‰åºæ€§é—®é¢˜ã€‚ è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œsynchronizedæ˜¯æ— æ³•ç¦æ­¢æŒ‡ä»¤é‡æ’å’Œå¤„ç†å™¨ä¼˜åŒ–çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œsynchronizedæ— æ³•é¿å…ä¸Šè¿°æåˆ°çš„é—®é¢˜ã€‚ é‚£ä¹ˆï¼Œä¸ºä»€ä¹ˆè¿˜è¯´synchronizedä¹Ÿæä¾›äº†æœ‰åºæ€§ä¿è¯å‘¢ï¼Ÿ è¿™å°±è¦å†æŠŠæœ‰åºæ€§çš„æ¦‚å¿µæ‰©å±•ä¸€ä¸‹äº†ã€‚Javaç¨‹åºä¸­å¤©ç„¶çš„æœ‰åºæ€§å¯ä»¥æ€»ç»“ä¸ºä¸€å¥è¯ï¼šå¦‚æœåœ¨æœ¬çº¿ç¨‹å†…è§‚å¯Ÿï¼Œæ‰€æœ‰æ“ä½œéƒ½æ˜¯å¤©ç„¶æœ‰åºçš„ã€‚å¦‚æœåœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­è§‚å¯Ÿå¦ä¸€ä¸ªçº¿ç¨‹ï¼Œæ‰€æœ‰æ“ä½œéƒ½æ˜¯æ— åºçš„ã€‚ ä»¥ä¸Šè¿™å¥è¯ä¹Ÿæ˜¯ã€Šæ·±å…¥ç†è§£Javaè™šæ‹Ÿæœºã€‹ä¸­çš„åŸå¥ï¼Œä½†æ˜¯æ€ä¹ˆç†è§£å‘¢ï¼Ÿå‘¨å¿—æ˜å¹¶æ²¡æœ‰è¯¦ç»†çš„è§£é‡Šã€‚è¿™é‡Œæˆ‘ç®€å•æ‰©å±•ä¸€ä¸‹ï¼Œè¿™å…¶å®å’Œas-if-serialè¯­ä¹‰æœ‰å…³ã€‚ as-if-serialè¯­ä¹‰çš„æ„æ€æŒ‡ï¼šä¸ç®¡æ€ä¹ˆé‡æ’åºï¼ˆç¼–è¯‘å™¨å’Œå¤„ç†å™¨ä¸ºäº†æé«˜å¹¶è¡Œåº¦ï¼‰ï¼Œå•çº¿ç¨‹ç¨‹åºçš„æ‰§è¡Œç»“æœéƒ½ä¸èƒ½è¢«æ”¹å˜ã€‚ç¼–è¯‘å™¨å’Œå¤„ç†å™¨æ— è®ºå¦‚ä½•ä¼˜åŒ–ï¼Œéƒ½å¿…é¡»éµå®ˆas-if-serialè¯­ä¹‰ã€‚ è¿™é‡Œä¸å¯¹as-if-serialè¯­ä¹‰è¯¦ç»†å±•å¼€äº†ï¼Œç®€å•è¯´å°±æ˜¯ï¼Œas-if-serialè¯­ä¹‰ä¿è¯äº†å•çº¿ç¨‹ä¸­ï¼ŒæŒ‡ä»¤é‡æ’æ˜¯æœ‰ä¸€å®šçš„é™åˆ¶çš„ï¼Œè€Œåªè¦ç¼–è¯‘å™¨å’Œå¤„ç†å™¨éƒ½éµå®ˆäº†è¿™ä¸ªè¯­ä¹‰ï¼Œé‚£ä¹ˆå°±å¯ä»¥è®¤ä¸ºå•çº¿ç¨‹ç¨‹åºæ˜¯æŒ‰ç…§é¡ºåºæ‰§è¡Œçš„ã€‚å½“ç„¶ï¼Œå®é™…ä¸Šè¿˜æ˜¯æœ‰é‡æ’çš„ï¼Œåªä¸è¿‡æˆ‘ä»¬æ— é¡»å…³å¿ƒè¿™ç§é‡æ’çš„å¹²æ‰°ã€‚ æ‰€ä»¥å‘¢ï¼Œç”±äºsynchronizedä¿®é¥°çš„ä»£ç ï¼ŒåŒä¸€æ—¶é—´åªèƒ½è¢«åŒä¸€çº¿ç¨‹è®¿é—®ã€‚é‚£ä¹ˆä¹Ÿå°±æ˜¯å•çº¿ç¨‹æ‰§è¡Œçš„ã€‚æ‰€ä»¥ï¼Œå¯ä»¥ä¿è¯å…¶æœ‰åºæ€§ã€‚ synchronizedä¸é”ä¼˜åŒ–å‰é¢ä»‹ç»äº†synchronizedçš„ç”¨æ³•ã€åŸç†ä»¥åŠå¯¹å¹¶å‘ç¼–ç¨‹çš„ä½œç”¨ã€‚æ˜¯ä¸€ä¸ªå¾ˆå¥½ç”¨çš„å…³é”®å­—ã€‚ synchronizedå…¶å®æ˜¯å€ŸåŠ©Monitorå®ç°çš„ï¼Œåœ¨åŠ é”æ—¶ä¼šè°ƒç”¨objectMonitorçš„enteræ–¹æ³•ï¼Œè§£é”çš„æ—¶å€™ä¼šè°ƒç”¨exitæ–¹æ³•ã€‚äº‹å®ä¸Šï¼Œåªæœ‰åœ¨JDK1.6ä¹‹å‰ï¼Œsynchronizedçš„å®ç°æ‰ä¼šç›´æ¥è°ƒç”¨ObjectMonitorçš„enterå’Œexitï¼Œè¿™ç§é”è¢«ç§°ä¹‹ä¸ºé‡é‡çº§é”ã€‚ æ‰€ä»¥ï¼Œåœ¨JDK1.6ä¸­å‡ºç°å¯¹é”è¿›è¡Œäº†å¾ˆå¤šçš„ä¼˜åŒ–ï¼Œè¿›è€Œå‡ºç°è½»é‡çº§é”ï¼Œåå‘é”ï¼Œé”æ¶ˆé™¤ï¼Œé€‚åº”æ€§è‡ªæ—‹é”ï¼Œé”ç²—åŒ–(è‡ªæ—‹é”åœ¨1.4å°±æœ‰ï¼Œåªä¸è¿‡é»˜è®¤çš„æ˜¯å…³é—­çš„ï¼Œjdk1.6æ˜¯é»˜è®¤å¼€å¯çš„)ï¼Œè¿™äº›æ“ä½œéƒ½æ˜¯ä¸ºäº†åœ¨çº¿ç¨‹ä¹‹é—´æ›´é«˜æ•ˆçš„å…±äº«æ•°æ® ï¼Œè§£å†³ç«äº‰é—®é¢˜ã€‚ å…³äºè‡ªæ—‹é”ã€é”ç²—åŒ–å’Œé”æ¶ˆé™¤å¯ä»¥å‚è€ƒæ·±å…¥ç†è§£å¤šçº¿ç¨‹ï¼ˆäº”ï¼‰â€”â€” Javaè™šæ‹Ÿæœºçš„é”ä¼˜åŒ–æŠ€æœ¯ï¼Œå…³äºè½»é‡çº§é”å’Œåå‘é”ï¼Œå·²ç»åœ¨æ’æœŸè§„åˆ’ä¸­ï¼Œæˆ‘åé¢ä¼šæœ‰æ–‡ç« å•ç‹¬ä»‹ç»ï¼Œå°†ç‹¬å®¶å‘å¸ƒåœ¨æˆ‘çš„åšå®¢(http://www.hollischuang.com)å’Œå…¬ä¼—å·(Hollis)ä¸­ï¼Œæ•¬è¯·æœŸå¾…ã€‚","categories":[{"name":"Java","slug":"Java","permalink":"http://www.octber.xyz/categories/Java/"}],"tags":[{"name":"çº¿ç¨‹","slug":"çº¿ç¨‹","permalink":"http://www.octber.xyz/tags/%E7%BA%BF%E7%A8%8B/"}]},{"title":"2019.8.23æ—¥æŠ¥","slug":"2019-8-23æ—¥æŠ¥","date":"2019-08-23T05:07:42.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/08/23/2019-8-23æ—¥æŠ¥/","link":"","permalink":"http://www.octber.xyz/2019/08/23/2019-8-23%E6%97%A5%E6%8A%A5/","excerpt":"å‰è¨€2019.8.23æ—¥æŠ¥ [TOC]","text":"å‰è¨€2019.8.23æ—¥æŠ¥ [TOC] 1. ä»»åŠ¡ä¸ä»»åŠ¡è¿›åº¦/å·¥æ—¶è¯´æ˜ ä»Šå¤©ä¸»è¦æ´»åŠ¨æ˜¯â€œæµ‹è¯•â€ï¼Œå’Œä¸‹åˆå‚åŠ å‘¨ä¼šï¼Œä¼˜åŒ–å¤„ç†äº†ä¸€ä¸‹ä¹‹å‰å†™çš„ä»£ç ï¼Œæ”¹äº†ä¸€ä¸‹å‘ç°çš„bug 1.1 å¼€æˆ·ç­‰åŠŸèƒ½æµ‹è¯•2. å·²è§£å†³çš„é—®é¢˜3. æœªè§£å†³çš„é—®é¢˜4. è¿›åº¦å»¶è¿ŸåŸå› è¯´æ˜","categories":[{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"http://www.octber.xyz/categories/%E6%97%A5%E8%AE%B0/"}],"tags":[{"name":"æ—¥æŠ¥","slug":"æ—¥æŠ¥","permalink":"http://www.octber.xyz/tags/%E6%97%A5%E6%8A%A5/"}]},{"title":"Javaå†…å­˜æ¨¡å‹-JMM","slug":"Javaå†…å­˜æ¨¡å‹","date":"2019-08-23T05:06:59.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/08/23/Javaå†…å­˜æ¨¡å‹/","link":"","permalink":"http://www.octber.xyz/2019/08/23/Java%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B/","excerpt":"å‰è¨€synchronized/volatileæµ…è°ˆä¸€æ–‡ä¸­è°ˆåˆ°çš„Javaå†…å­˜æ¨¡å‹ï¼Œç®€æ å­¦ä¹ è¿™ä½å¤§ç¥: HollisChuang","text":"å‰è¨€synchronized/volatileæµ…è°ˆä¸€æ–‡ä¸­è°ˆåˆ°çš„Javaå†…å­˜æ¨¡å‹ï¼Œç®€æ å­¦ä¹ è¿™ä½å¤§ç¥: HollisChuang å†…å­˜æ¨¡å‹çš„æ¥æº å†…å­˜æ¨¡å‹ï¼Œè‹±æ–‡åMemory Modelï¼Œä»–æ˜¯ä¸€ä¸ªå¾ˆè€çš„è€å¤è‘£äº†ã€‚ä»–æ˜¯ä¸è®¡ç®—æœºç¡¬ä»¶æœ‰å…³çš„ä¸€ä¸ªæ¦‚å¿µã€‚ä»–çš„å­˜åœ¨å’Œç¡¬ä»¶æ˜¯æ¯æ¯ç›¸å…³çš„ CPUå’Œç¼“å­˜ä¸€è‡´æ€§æˆ‘ä»¬åº”è¯¥éƒ½çŸ¥é“ï¼Œè®¡ç®—æœºåœ¨æ‰§è¡Œç¨‹åºçš„æ—¶å€™ï¼Œæ¯æ¡æŒ‡ä»¤éƒ½æ˜¯åœ¨CPUä¸­æ‰§è¡Œçš„ï¼Œè€Œæ‰§è¡Œçš„æ—¶å€™ï¼Œåˆå…ä¸äº†è¦å’Œæ•°æ®æ‰“äº¤é“ã€‚è€Œè®¡ç®—æœºä¸Šé¢çš„æ•°æ®ï¼Œæ˜¯å­˜æ”¾åœ¨ä¸»å­˜å½“ä¸­çš„ï¼Œä¹Ÿå°±æ˜¯è®¡ç®—æœºçš„ç‰©ç†å†…å­˜ã€‚ åˆšå¼€å§‹ï¼Œè¿˜ç›¸å®‰æ— äº‹çš„ï¼Œä½†æ˜¯éšç€CPUæŠ€æœ¯çš„å‘å±•ï¼ŒCPUçš„æ‰§è¡Œé€Ÿåº¦è¶Šæ¥è¶Šå¿«ã€‚è€Œç”±äºå†…å­˜çš„æŠ€æœ¯å¹¶æ²¡æœ‰å¤ªå¤§çš„å˜åŒ–ï¼Œæ‰€ä»¥ä»å†…å­˜ä¸­è¯»å–å’Œå†™å…¥æ•°æ®çš„è¿‡ç¨‹å’ŒCPUçš„æ‰§è¡Œé€Ÿåº¦æ¯”èµ·æ¥å·®è·å°±ä¼šè¶Šæ¥è¶Šå¤§,è¿™å°±å¯¼è‡´CPUæ¯æ¬¡æ“ä½œå†…å­˜éƒ½è¦è€—è´¹å¾ˆå¤šç­‰å¾…æ—¶é—´ã€‚ å¯æ˜¯ï¼Œä¸èƒ½å› ä¸ºå†…å­˜çš„è¯»å†™é€Ÿåº¦æ…¢ï¼Œå°±ä¸å‘å±•CPUæŠ€æœ¯äº†å§ï¼Œæ€»ä¸èƒ½è®©å†…å­˜æˆä¸ºè®¡ç®—æœºå¤„ç†çš„ç“¶é¢ˆå§ã€‚ æ‰€ä»¥ï¼Œäººä»¬æƒ³å‡ºæ¥äº†ä¸€ä¸ªå¥½çš„åŠæ³•ï¼Œå°±æ˜¯åœ¨CPUå’Œå†…å­˜ä¹‹é—´å¢åŠ é«˜é€Ÿç¼“å­˜ã€‚ç¼“å­˜çš„æ¦‚å¿µå¤§å®¶éƒ½çŸ¥é“ï¼Œå°±æ˜¯ä¿å­˜ä¸€ä»½æ•°æ®æ‹·è´ã€‚ä»–çš„ç‰¹ç‚¹æ˜¯é€Ÿåº¦å¿«ï¼Œå†…å­˜å°ï¼Œå¹¶ä¸”æ˜‚è´µã€‚ é‚£ä¹ˆï¼Œç¨‹åºçš„æ‰§è¡Œè¿‡ç¨‹å°±å˜æˆäº†ï¼š å½“ç¨‹åºåœ¨è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œä¼šå°†è¿ç®—éœ€è¦çš„æ•°æ®ä»ä¸»å­˜å¤åˆ¶ä¸€ä»½åˆ°CPUçš„é«˜é€Ÿç¼“å­˜å½“ä¸­ï¼Œé‚£ä¹ˆCPUè¿›è¡Œè®¡ç®—æ—¶å°±å¯ä»¥ç›´æ¥ä»å®ƒçš„é«˜é€Ÿç¼“å­˜è¯»å–æ•°æ®å’Œå‘å…¶ä¸­å†™å…¥æ•°æ®ï¼Œå½“è¿ç®—ç»“æŸä¹‹åï¼Œå†å°†é«˜é€Ÿç¼“å­˜ä¸­çš„æ•°æ®åˆ·æ–°åˆ°ä¸»å­˜å½“ä¸­ã€‚ è€Œéšç€CPUèƒ½åŠ›çš„ä¸æ–­æå‡ï¼Œä¸€å±‚ç¼“å­˜å°±æ…¢æ…¢çš„æ— æ³•æ»¡è¶³è¦æ±‚äº†ï¼Œå°±é€æ¸çš„è¡ç”Ÿå‡ºå¤šçº§ç¼“å­˜ã€‚ æŒ‰ç…§æ•°æ®è¯»å–é¡ºåºå’Œä¸CPUç»“åˆçš„ç´§å¯†ç¨‹åº¦ï¼ŒCPUç¼“å­˜å¯ä»¥åˆ†ä¸ºä¸€çº§ç¼“å­˜ï¼ˆL1ï¼‰ï¼ŒäºŒçº§ç¼“å­˜ï¼ˆL3ï¼‰ï¼Œéƒ¨åˆ†é«˜ç«¯CPUè¿˜å…·æœ‰ä¸‰çº§ç¼“å­˜ï¼ˆL3ï¼‰ï¼Œæ¯ä¸€çº§ç¼“å­˜ä¸­æ‰€å‚¨å­˜çš„å…¨éƒ¨æ•°æ®éƒ½æ˜¯ä¸‹ä¸€çº§ç¼“å­˜çš„ä¸€éƒ¨åˆ†ã€‚ è¿™ä¸‰ç§ç¼“å­˜çš„æŠ€æœ¯éš¾åº¦å’Œåˆ¶é€ æˆæœ¬æ˜¯ç›¸å¯¹é€’å‡çš„ï¼Œæ‰€ä»¥å…¶å®¹é‡ä¹Ÿæ˜¯ç›¸å¯¹é€’å¢çš„ã€‚ é‚£ä¹ˆï¼Œåœ¨æœ‰äº†å¤šçº§ç¼“å­˜ä¹‹åï¼Œç¨‹åºçš„æ‰§è¡Œå°±å˜æˆäº†ï¼š å½“CPUè¦è¯»å–ä¸€ä¸ªæ•°æ®æ—¶ï¼Œé¦–å…ˆä»ä¸€çº§ç¼“å­˜ä¸­æŸ¥æ‰¾ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°å†ä»äºŒçº§ç¼“å­˜ä¸­æŸ¥æ‰¾ï¼Œå¦‚æœè¿˜æ˜¯æ²¡æœ‰å°±ä»ä¸‰çº§ç¼“å­˜æˆ–å†…å­˜ä¸­æŸ¥æ‰¾ã€‚ å•æ ¸CPUåªå«æœ‰ä¸€å¥—L1ï¼ŒL2ï¼ŒL3ç¼“å­˜ï¼›å¦‚æœCPUå«æœ‰å¤šä¸ªæ ¸å¿ƒï¼Œå³å¤šæ ¸CPUï¼Œåˆ™æ¯ä¸ªæ ¸å¿ƒéƒ½å«æœ‰ä¸€å¥—L1ï¼ˆç”šè‡³å’ŒL2ï¼‰ç¼“å­˜ï¼Œè€Œå…±äº«L3ï¼ˆæˆ–è€…å’ŒL2ï¼‰ç¼“å­˜ã€‚ ä¸‹å›¾ä¸ºä¸€ä¸ªå•CPUåŒæ ¸çš„ç¼“å­˜ç»“æ„ï¼š ï¼ˆå›¾ç‰‡å³è¾¹æ˜¯ä¸€ä¸ªå½¢è±¡åŒ–çš„ç¤ºä¾‹ï¼‰ éšç€è®¡ç®—æœºèƒ½åŠ›ä¸æ–­æå‡ï¼Œå¼€å§‹æ”¯æŒå¤šçº¿ç¨‹ã€‚é‚£ä¹ˆé—®é¢˜å°±æ¥äº†ã€‚æˆ‘ä»¬åˆ†åˆ«æ¥åˆ†æä¸‹å•çº¿ç¨‹ã€å¤šçº¿ç¨‹åœ¨å•æ ¸CPUã€å¤šæ ¸CPUä¸­çš„å½±å“ã€‚ å•çº¿ç¨‹ã€‚cpuæ ¸å¿ƒçš„ç¼“å­˜åªè¢«ä¸€ä¸ªçº¿ç¨‹è®¿é—®ã€‚ç¼“å­˜ç‹¬å ï¼Œä¸ä¼šå‡ºç°è®¿é—®å†²çªç­‰é—®é¢˜ã€‚ å•æ ¸CPUï¼Œå¤šçº¿ç¨‹ã€‚è¿›ç¨‹ä¸­çš„å¤šä¸ªçº¿ç¨‹ä¼šåŒæ—¶è®¿é—®è¿›ç¨‹ä¸­çš„å…±äº«æ•°æ®ï¼ŒCPUå°†æŸå—å†…å­˜åŠ è½½åˆ°ç¼“å­˜åï¼Œä¸åŒçº¿ç¨‹åœ¨è®¿é—®ç›¸åŒçš„ç‰©ç†åœ°å€çš„æ—¶å€™ï¼Œéƒ½ä¼šæ˜ å°„åˆ°ç›¸åŒçš„ç¼“å­˜ä½ç½®ï¼Œè¿™æ ·å³ä½¿å‘ç”Ÿçº¿ç¨‹çš„åˆ‡æ¢ï¼Œç¼“å­˜ä»ç„¶ä¸ä¼šå¤±æ•ˆã€‚ä½†ç”±äºä»»ä½•æ—¶åˆ»åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹åœ¨æ‰§è¡Œï¼Œå› æ­¤ä¸ä¼šå‡ºç°ç¼“å­˜è®¿é—®å†²çªã€‚ å¤šæ ¸CPUï¼Œå¤šçº¿ç¨‹ã€‚æ¯ä¸ªæ ¸éƒ½è‡³å°‘æœ‰ä¸€ä¸ªL1 ç¼“å­˜ã€‚å¤šä¸ªçº¿ç¨‹è®¿é—®è¿›ç¨‹ä¸­çš„æŸä¸ªå…±äº«å†…å­˜ï¼Œä¸”è¿™å¤šä¸ªçº¿ç¨‹åˆ†åˆ«åœ¨ä¸åŒçš„æ ¸å¿ƒä¸Šæ‰§è¡Œï¼Œåˆ™æ¯ä¸ªæ ¸å¿ƒéƒ½ä¼šåœ¨å„è‡ªçš„caeheä¸­ä¿ç•™ä¸€ä»½å…±äº«å†…å­˜çš„ç¼“å†²ã€‚ç”±äºå¤šæ ¸æ˜¯å¯ä»¥å¹¶è¡Œçš„ï¼Œå¯èƒ½ä¼šå‡ºç°å¤šä¸ªçº¿ç¨‹åŒæ—¶å†™å„è‡ªçš„ç¼“å­˜çš„æƒ…å†µï¼Œè€Œå„è‡ªçš„cacheä¹‹é—´çš„æ•°æ®å°±æœ‰å¯èƒ½ä¸åŒã€‚ åœ¨CPUå’Œä¸»å­˜ä¹‹é—´å¢åŠ ç¼“å­˜ï¼Œåœ¨å¤šçº¿ç¨‹åœºæ™¯ä¸‹å°±å¯èƒ½å­˜åœ¨ç¼“å­˜ä¸€è‡´æ€§é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨å¤šæ ¸CPUä¸­ï¼Œæ¯ä¸ªæ ¸çš„è‡ªå·±çš„ç¼“å­˜ä¸­ï¼Œå…³äºåŒä¸€ä¸ªæ•°æ®çš„ç¼“å­˜å†…å®¹å¯èƒ½ä¸ä¸€è‡´ã€‚ å¤„ç†å™¨ä¼˜åŒ–å’ŒæŒ‡ä»¤é‡æ’ä¸Šé¢æåˆ°åœ¨CPUå’Œä¸»å­˜ä¹‹é—´å¢åŠ ç¼“å­˜ï¼Œåœ¨å¤šçº¿ç¨‹åœºæ™¯ä¸‹ä¼šå­˜åœ¨ç¼“å­˜ä¸€è‡´æ€§é—®é¢˜ã€‚é™¤äº†è¿™ç§æƒ…å†µï¼Œè¿˜æœ‰ä¸€ç§ç¡¬ä»¶é—®é¢˜ä¹Ÿæ¯”è¾ƒé‡è¦ã€‚é‚£å°±æ˜¯ä¸ºäº†ä½¿å¤„ç†å™¨å†…éƒ¨çš„è¿ç®—å•å…ƒèƒ½å¤Ÿå°½é‡çš„è¢«å……åˆ†åˆ©ç”¨ï¼Œå¤„ç†å™¨å¯èƒ½ä¼šå¯¹è¾“å…¥ä»£ç è¿›è¡Œä¹±åºæ‰§è¡Œå¤„ç†ã€‚è¿™å°±æ˜¯å¤„ç†å™¨ä¼˜åŒ–ã€‚ é™¤äº†ç°åœ¨å¾ˆå¤šæµè¡Œçš„å¤„ç†å™¨ä¼šå¯¹ä»£ç è¿›è¡Œä¼˜åŒ–ä¹±åºå¤„ç†ï¼Œå¾ˆå¤šç¼–ç¨‹è¯­è¨€çš„ç¼–è¯‘å™¨ä¹Ÿä¼šæœ‰ç±»ä¼¼çš„ä¼˜åŒ–ï¼Œæ¯”å¦‚Javaè™šæ‹Ÿæœºçš„å³æ—¶ç¼–è¯‘å™¨ï¼ˆJITï¼‰ä¹Ÿä¼šåšæŒ‡ä»¤é‡æ’ã€‚ å¯æƒ³è€ŒçŸ¥ï¼Œå¦‚æœä»»ç”±å¤„ç†å™¨ä¼˜åŒ–å’Œç¼–è¯‘å™¨å¯¹æŒ‡ä»¤é‡æ’çš„è¯ï¼Œå°±å¯èƒ½å¯¼è‡´å„ç§å„æ ·çš„é—®é¢˜ã€‚ å¹¶å‘ç¼–ç¨‹çš„é—®é¢˜å‰é¢è¯´çš„å’Œç¡¬ä»¶æœ‰å…³çš„æ¦‚å¿µä½ å¯èƒ½å¬å¾—æœ‰ç‚¹è’™ï¼Œè¿˜ä¸çŸ¥é“ä»–åˆ°åº•å’Œè½¯ä»¶æœ‰å•¥å…³ç³»ã€‚ä½†æ˜¯å…³äºå¹¶å‘ç¼–ç¨‹çš„é—®é¢˜ä½ åº”è¯¥æœ‰æ‰€äº†è§£ï¼Œæ¯”å¦‚åŸå­æ€§é—®é¢˜ï¼Œå¯è§æ€§é—®é¢˜å’Œæœ‰åºæ€§é—®é¢˜ã€‚ å…¶å®ï¼ŒåŸå­æ€§é—®é¢˜ï¼Œå¯è§æ€§é—®é¢˜å’Œæœ‰åºæ€§é—®é¢˜ã€‚æ˜¯äººä»¬æŠ½è±¡å®šä¹‰å‡ºæ¥çš„ã€‚è€Œè¿™ä¸ªæŠ½è±¡çš„åº•å±‚é—®é¢˜å°±æ˜¯å‰é¢æåˆ°çš„ç¼“å­˜ä¸€è‡´æ€§é—®é¢˜ã€å¤„ç†å™¨ä¼˜åŒ–é—®é¢˜å’ŒæŒ‡ä»¤é‡æ’é—®é¢˜ç­‰ã€‚ è¿™é‡Œç®€å•å›é¡¾ä¸‹è¿™ä¸‰ä¸ªé—®é¢˜ï¼Œå¹¶ä¸å‡†å¤‡æ·±å…¥å±•å¼€ï¼Œæ„Ÿå…´è¶£çš„è¯»è€…å¯ä»¥è‡ªè¡Œå­¦ä¹ ã€‚æˆ‘ä»¬è¯´ï¼Œå¹¶å‘ç¼–ç¨‹ï¼Œä¸ºäº†ä¿è¯æ•°æ®çš„å®‰å…¨ï¼Œéœ€è¦æ»¡è¶³ä»¥ä¸‹ä¸‰ä¸ªç‰¹æ€§ï¼š åŸå­æ€§æ˜¯æŒ‡åœ¨ä¸€ä¸ªæ“ä½œä¸­å°±æ˜¯cpuä¸å¯ä»¥åœ¨ä¸­é€”æš‚åœç„¶åå†è°ƒåº¦ï¼Œæ—¢ä¸è¢«ä¸­æ–­æ“ä½œï¼Œè¦ä¸æ‰§è¡Œå®Œæˆï¼Œè¦ä¸å°±ä¸æ‰§è¡Œã€‚ å¯è§æ€§æ˜¯æŒ‡å½“å¤šä¸ªçº¿ç¨‹è®¿é—®åŒä¸€ä¸ªå˜é‡æ—¶ï¼Œä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†è¿™ä¸ªå˜é‡çš„å€¼ï¼Œå…¶ä»–çº¿ç¨‹èƒ½å¤Ÿç«‹å³çœ‹å¾—åˆ°ä¿®æ”¹çš„å€¼ã€‚ æœ‰åºæ€§å³ç¨‹åºæ‰§è¡Œçš„é¡ºåºæŒ‰ç…§ä»£ç çš„å…ˆåé¡ºåºæ‰§è¡Œã€‚ æœ‰æ²¡æœ‰å‘ç°ï¼Œç¼“å­˜ä¸€è‡´æ€§é—®é¢˜å…¶å®å°±æ˜¯å¯è§æ€§é—®é¢˜ã€‚è€Œå¤„ç†å™¨ä¼˜åŒ–æ˜¯å¯ä»¥å¯¼è‡´åŸå­æ€§é—®é¢˜çš„ã€‚æŒ‡ä»¤é‡æ’å³ä¼šå¯¼è‡´æœ‰åºæ€§é—®é¢˜ã€‚æ‰€ä»¥ï¼Œåæ–‡å°†ä¸å†æèµ·ç¡¬ä»¶å±‚é¢çš„é‚£äº›æ¦‚å¿µï¼Œè€Œæ˜¯ç›´æ¥ä½¿ç”¨å¤§å®¶ç†Ÿæ‚‰çš„åŸå­æ€§ã€å¯è§æ€§å’Œæœ‰åºæ€§ã€‚ ä»€ä¹ˆæ˜¯å†…å­˜æ¨¡å‹å‰é¢æåˆ°çš„ï¼Œç¼“å­˜ä¸€è‡´æ€§é—®é¢˜ã€å¤„ç†å™¨ä¼˜åŒ–çš„æŒ‡ä»¤é‡æ’é—®é¢˜æ˜¯ç¡¬ä»¶çš„ä¸æ–­å‡çº§å¯¼è‡´çš„ã€‚é‚£ä¹ˆï¼Œæœ‰æ²¡æœ‰ä»€ä¹ˆæœºåˆ¶å¯ä»¥å¾ˆå¥½çš„è§£å†³ä¸Šé¢çš„è¿™äº›é—®é¢˜å‘¢ï¼Ÿ æœ€ç®€å•ç›´æ¥çš„åšæ³•å°±æ˜¯åºŸé™¤å¤„ç†å™¨å’Œå¤„ç†å™¨çš„ä¼˜åŒ–æŠ€æœ¯ã€åºŸé™¤CPUç¼“å­˜ï¼Œè®©CPUç›´æ¥å’Œä¸»å­˜äº¤äº’ã€‚ä½†æ˜¯ï¼Œè¿™ä¹ˆåšè™½ç„¶å¯ä»¥ä¿è¯å¤šçº¿ç¨‹ä¸‹çš„å¹¶å‘é—®é¢˜ã€‚ä½†æ˜¯ï¼Œè¿™å°±æœ‰ç‚¹å› å™åºŸé£Ÿäº†ã€‚ æ‰€ä»¥ï¼Œä¸ºäº†ä¿è¯å¹¶å‘ç¼–ç¨‹ä¸­å¯ä»¥æ»¡è¶³åŸå­æ€§ã€å¯è§æ€§åŠæœ‰åºæ€§ã€‚æœ‰ä¸€ä¸ªé‡è¦çš„æ¦‚å¿µï¼Œé‚£å°±æ˜¯â€”â€”å†…å­˜æ¨¡å‹ã€‚ ä¸ºäº†ä¿è¯å…±äº«å†…å­˜çš„æ­£ç¡®æ€§ï¼ˆå¯è§æ€§ã€æœ‰åºæ€§ã€åŸå­æ€§ï¼‰ï¼Œå†…å­˜æ¨¡å‹å®šä¹‰äº†å…±äº«å†…å­˜ç³»ç»Ÿä¸­å¤šçº¿ç¨‹ç¨‹åºè¯»å†™æ“ä½œè¡Œä¸ºçš„è§„èŒƒã€‚é€šè¿‡è¿™äº›è§„åˆ™æ¥è§„èŒƒå¯¹å†…å­˜çš„è¯»å†™æ“ä½œï¼Œä»è€Œä¿è¯æŒ‡ä»¤æ‰§è¡Œçš„æ­£ç¡®æ€§ã€‚å®ƒä¸å¤„ç†å™¨æœ‰å…³ã€ä¸ç¼“å­˜æœ‰å…³ã€ä¸å¹¶å‘æœ‰å…³ã€ä¸ç¼–è¯‘å™¨ä¹Ÿæœ‰å…³ã€‚ä»–è§£å†³äº†CPUå¤šçº§ç¼“å­˜ã€å¤„ç†å™¨ä¼˜åŒ–ã€æŒ‡ä»¤é‡æ’ç­‰å¯¼è‡´çš„å†…å­˜è®¿é—®é—®é¢˜ï¼Œä¿è¯äº†å¹¶å‘åœºæ™¯ä¸‹çš„ä¸€è‡´æ€§ã€åŸå­æ€§å’Œæœ‰åºæ€§ã€‚ å†…å­˜æ¨¡å‹è§£å†³å¹¶å‘é—®é¢˜ä¸»è¦é‡‡ç”¨ä¸¤ç§æ–¹å¼ï¼šé™åˆ¶å¤„ç†å™¨ä¼˜åŒ–å’Œä½¿ç”¨å†…å­˜å±éšœã€‚æœ¬æ–‡å°±ä¸æ·±å…¥åº•å±‚åŸç†æ¥å±•å¼€ä»‹ç»äº†ï¼Œæ„Ÿå…´è¶£çš„æœ‹å‹å¯ä»¥è‡ªè¡Œå­¦ä¹ ã€‚ ä»€ä¹ˆæ˜¯Javaå†…å­˜æ¨¡å‹å‰é¢ä»‹ç»è¿‡äº†è®¡ç®—æœºå†…å­˜æ¨¡å‹ï¼Œè¿™æ˜¯è§£å†³å¤šçº¿ç¨‹åœºæ™¯ä¸‹å¹¶å‘é—®é¢˜çš„ä¸€ä¸ªé‡è¦è§„èŒƒã€‚é‚£ä¹ˆå…·ä½“çš„å®ç°æ˜¯å¦‚ä½•çš„å‘¢ï¼Œä¸åŒçš„ç¼–ç¨‹è¯­è¨€ï¼Œåœ¨å®ç°ä¸Šå¯èƒ½æœ‰æ‰€ä¸åŒã€‚ æˆ‘ä»¬çŸ¥é“ï¼ŒJavaç¨‹åºæ˜¯éœ€è¦è¿è¡Œåœ¨Javaè™šæ‹Ÿæœºä¸Šé¢çš„ï¼ŒJavaå†…å­˜æ¨¡å‹ï¼ˆJava Memory Model ,JMMï¼‰å°±æ˜¯ä¸€ç§ç¬¦åˆå†…å­˜æ¨¡å‹è§„èŒƒçš„ï¼Œå±è”½äº†å„ç§ç¡¬ä»¶å’Œæ“ä½œç³»ç»Ÿçš„è®¿é—®å·®å¼‚çš„ï¼Œä¿è¯äº†Javaç¨‹åºåœ¨å„ç§å¹³å°ä¸‹å¯¹å†…å­˜çš„è®¿é—®éƒ½èƒ½ä¿è¯æ•ˆæœä¸€è‡´çš„æœºåˆ¶åŠè§„èŒƒã€‚ æåˆ°Javaå†…å­˜æ¨¡å‹ï¼Œä¸€èˆ¬æŒ‡çš„æ˜¯JDK 5 å¼€å§‹ä½¿ç”¨çš„æ–°çš„å†…å­˜æ¨¡å‹ï¼Œä¸»è¦ç”±JSR-133: JavaTM Memory Model and Thread Specification æè¿°ã€‚æ„Ÿå…´è¶£çš„å¯ä»¥å‚çœ‹ä¸‹è¿™ä»½PDFæ–‡æ¡£ï¼ˆhttp://www.cs.umd.edu/~pugh/java/memoryModel/jsr133.pdfï¼‰ Javaå†…å­˜æ¨¡å‹è§„å®šäº†æ‰€æœ‰çš„å˜é‡éƒ½å­˜å‚¨åœ¨ä¸»å†…å­˜ä¸­ï¼Œæ¯æ¡çº¿ç¨‹è¿˜æœ‰è‡ªå·±çš„å·¥ä½œå†…å­˜ï¼Œçº¿ç¨‹çš„å·¥ä½œå†…å­˜ä¸­ä¿å­˜äº†è¯¥çº¿ç¨‹ä¸­æ˜¯ç”¨åˆ°çš„å˜é‡çš„ä¸»å†…å­˜å‰¯æœ¬æ‹·è´ï¼Œçº¿ç¨‹å¯¹å˜é‡çš„æ‰€æœ‰æ“ä½œéƒ½å¿…é¡»åœ¨å·¥ä½œå†…å­˜ä¸­è¿›è¡Œï¼Œè€Œä¸èƒ½ç›´æ¥è¯»å†™ä¸»å†…å­˜ã€‚ä¸åŒçš„çº¿ç¨‹ä¹‹é—´ä¹Ÿæ— æ³•ç›´æ¥è®¿é—®å¯¹æ–¹å·¥ä½œå†…å­˜ä¸­çš„å˜é‡ï¼Œçº¿ç¨‹é—´å˜é‡çš„ä¼ é€’å‡éœ€è¦è‡ªå·±çš„å·¥ä½œå†…å­˜å’Œä¸»å­˜ä¹‹é—´è¿›è¡Œæ•°æ®åŒæ­¥è¿›è¡Œã€‚ è€ŒJMMå°±ä½œç”¨äºå·¥ä½œå†…å­˜å’Œä¸»å­˜ä¹‹é—´æ•°æ®åŒæ­¥è¿‡ç¨‹ã€‚ä»–è§„å®šäº†å¦‚ä½•åšæ•°æ®åŒæ­¥ä»¥åŠä»€ä¹ˆæ—¶å€™åšæ•°æ®åŒæ­¥ã€‚ è¿™é‡Œé¢æåˆ°çš„ä¸»å†…å­˜å’Œå·¥ä½œå†…å­˜ï¼Œè¯»è€…å¯ä»¥ç®€å•çš„ç±»æ¯”æˆè®¡ç®—æœºå†…å­˜æ¨¡å‹ä¸­çš„ä¸»å­˜å’Œç¼“å­˜çš„æ¦‚å¿µã€‚ç‰¹åˆ«éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸»å†…å­˜å’Œå·¥ä½œå†…å­˜ä¸JVMå†…å­˜ç»“æ„ä¸­çš„Javaå †ã€æ ˆã€æ–¹æ³•åŒºç­‰å¹¶ä¸æ˜¯åŒä¸€ä¸ªå±‚æ¬¡çš„å†…å­˜åˆ’åˆ†ï¼Œæ— æ³•ç›´æ¥ç±»æ¯”ã€‚ã€Šæ·±å…¥ç†è§£Javaè™šæ‹Ÿæœºã€‹ä¸­è®¤ä¸ºï¼Œå¦‚æœä¸€å®šè¦å‹‰å¼ºå¯¹åº”èµ·æ¥çš„è¯ï¼Œä»å˜é‡ã€ä¸»å†…å­˜ã€å·¥ä½œå†…å­˜çš„å®šä¹‰æ¥çœ‹ï¼Œä¸»å†…å­˜ä¸»è¦å¯¹åº”äºJavaå †ä¸­çš„å¯¹è±¡å®ä¾‹æ•°æ®éƒ¨åˆ†ã€‚å·¥ä½œå†…å­˜åˆ™å¯¹åº”äºè™šæ‹Ÿæœºæ ˆä¸­çš„éƒ¨åˆ†åŒºåŸŸã€‚ æ‰€ä»¥ï¼Œå†æ¥æ€»ç»“ä¸‹ï¼ŒJMMæ˜¯ä¸€ç§è§„èŒƒï¼Œç›®çš„æ˜¯è§£å†³ç”±äºå¤šçº¿ç¨‹é€šè¿‡å…±äº«å†…å­˜è¿›è¡Œé€šä¿¡æ—¶ï¼Œå­˜åœ¨çš„æœ¬åœ°å†…å­˜æ•°æ®ä¸ä¸€è‡´ã€ç¼–è¯‘å™¨ä¼šå¯¹ä»£ç æŒ‡ä»¤é‡æ’åºã€å¤„ç†å™¨ä¼šå¯¹ä»£ç ä¹±åºæ‰§è¡Œç­‰å¸¦æ¥çš„é—®é¢˜ã€‚ Javaå†…å­˜æ¨¡å‹çš„å®ç°äº†è§£Javaå¤šçº¿ç¨‹çš„æœ‹å‹éƒ½çŸ¥é“ï¼Œåœ¨Javaä¸­æä¾›äº†ä¸€ç³»åˆ—å’Œå¹¶å‘å¤„ç†ç›¸å…³çš„å…³é”®å­—ï¼Œæ¯”å¦‚volatileã€synchronizedã€finalã€concurrenåŒ…ç­‰ã€‚å…¶å®è¿™äº›å°±æ˜¯Javaå†…å­˜æ¨¡å‹å°è£…äº†åº•å±‚çš„å®ç°åæä¾›ç»™ç¨‹åºå‘˜ä½¿ç”¨çš„ä¸€äº›å…³é”®å­—ã€‚ åœ¨å¼€å‘å¤šçº¿ç¨‹çš„ä»£ç çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨synchronizedç­‰å…³é”®å­—æ¥æ§åˆ¶å¹¶å‘ï¼Œä»æ¥å°±ä¸éœ€è¦å…³å¿ƒåº•å±‚çš„ç¼–è¯‘å™¨ä¼˜åŒ–ã€ç¼“å­˜ä¸€è‡´æ€§ç­‰é—®é¢˜ã€‚æ‰€ä»¥ï¼ŒJavaå†…å­˜æ¨¡å‹ï¼Œé™¤äº†å®šä¹‰äº†ä¸€å¥—è§„èŒƒï¼Œè¿˜æä¾›äº†ä¸€ç³»åˆ—åŸè¯­ï¼Œå°è£…äº†åº•å±‚å®ç°åï¼Œä¾›å¼€å‘è€…ç›´æ¥ä½¿ç”¨ã€‚ æœ¬æ–‡å¹¶ä¸å‡†å¤‡æŠŠæ‰€æœ‰çš„å…³é”®å­—é€ä¸€ä»‹ç»å…¶ç”¨æ³•ï¼Œå› ä¸ºå…³äºå„ä¸ªå…³é”®å­—çš„ç”¨æ³•ï¼Œç½‘ä¸Šæœ‰å¾ˆå¤šèµ„æ–™ã€‚è¯»è€…å¯ä»¥è‡ªè¡Œå­¦ä¹ ã€‚æœ¬æ–‡è¿˜æœ‰ä¸€ä¸ªé‡ç‚¹è¦ä»‹ç»çš„å°±æ˜¯ï¼Œæˆ‘ä»¬å‰é¢æåˆ°ï¼Œå¹¶å‘ç¼–ç¨‹è¦è§£å†³åŸå­æ€§ã€æœ‰åºæ€§å’Œä¸€è‡´æ€§çš„é—®é¢˜ï¼Œæˆ‘ä»¬å°±å†æ¥çœ‹ä¸‹ï¼Œåœ¨Javaä¸­ï¼Œåˆ†åˆ«ä½¿ç”¨ä»€ä¹ˆæ–¹å¼æ¥ä¿è¯ã€‚ åŸå­æ€§åœ¨Javaä¸­ï¼Œä¸ºäº†ä¿è¯åŸå­æ€§ï¼Œæä¾›äº†ä¸¤ä¸ªé«˜çº§çš„å­—èŠ‚ç æŒ‡ä»¤monitorenterå’Œmonitorexitã€‚åœ¨synchronizedçš„å®ç°åŸç†æ–‡ç« ä¸­ï¼Œä»‹ç»è¿‡ï¼Œè¿™ä¸¤ä¸ªå­—èŠ‚ç ï¼Œåœ¨Javaä¸­å¯¹åº”çš„å…³é”®å­—å°±æ˜¯synchronizedã€‚ å› æ­¤ï¼Œåœ¨Javaä¸­å¯ä»¥ä½¿ç”¨synchronizedæ¥ä¿è¯æ–¹æ³•å’Œä»£ç å—å†…çš„æ“ä½œæ˜¯åŸå­æ€§çš„ã€‚ å¯è§æ€§Javaå†…å­˜æ¨¡å‹æ˜¯é€šè¿‡åœ¨å˜é‡ä¿®æ”¹åå°†æ–°å€¼åŒæ­¥å›ä¸»å†…å­˜ï¼Œåœ¨å˜é‡è¯»å–å‰ä»ä¸»å†…å­˜åˆ·æ–°å˜é‡å€¼çš„è¿™ç§ä¾èµ–ä¸»å†…å­˜ä½œä¸ºä¼ é€’åª’ä»‹çš„æ–¹å¼æ¥å®ç°çš„ã€‚ Javaä¸­çš„volatileå…³é”®å­—æä¾›äº†ä¸€ä¸ªåŠŸèƒ½ï¼Œé‚£å°±æ˜¯è¢«å…¶ä¿®é¥°çš„å˜é‡åœ¨è¢«ä¿®æ”¹åå¯ä»¥ç«‹å³åŒæ­¥åˆ°ä¸»å†…å­˜ï¼Œè¢«å…¶ä¿®é¥°çš„å˜é‡åœ¨æ¯æ¬¡æ˜¯ç”¨ä¹‹å‰éƒ½ä»ä¸»å†…å­˜åˆ·æ–°ã€‚å› æ­¤ï¼Œå¯ä»¥ä½¿ç”¨volatileæ¥ä¿è¯å¤šçº¿ç¨‹æ“ä½œæ—¶å˜é‡çš„å¯è§æ€§ã€‚ é™¤äº†volatileï¼ŒJavaä¸­çš„synchronizedå’Œfinalä¸¤ä¸ªå…³é”®å­—ä¹Ÿå¯ä»¥å®ç°å¯è§æ€§ã€‚åªä¸è¿‡å®ç°æ–¹å¼ä¸åŒï¼Œè¿™é‡Œä¸å†å±•å¼€äº†ã€‚ æœ‰åºæ€§åœ¨Javaä¸­ï¼Œå¯ä»¥ä½¿ç”¨synchronizedå’Œvolatileæ¥ä¿è¯å¤šçº¿ç¨‹ä¹‹é—´æ“ä½œçš„æœ‰åºæ€§ã€‚å®ç°æ–¹å¼æœ‰æ‰€åŒºåˆ«ï¼š volatileå…³é”®å­—ä¼šç¦æ­¢æŒ‡ä»¤é‡æ’ã€‚synchronizedå…³é”®å­—ä¿è¯åŒä¸€æ—¶åˆ»åªå…è®¸ä¸€æ¡çº¿ç¨‹æ“ä½œã€‚ å¥½äº†ï¼Œè¿™é‡Œç®€å•çš„ä»‹ç»å®Œäº†Javaå¹¶å‘ç¼–ç¨‹ä¸­è§£å†³åŸå­æ€§ã€å¯è§æ€§ä»¥åŠæœ‰åºæ€§å¯ä»¥ä½¿ç”¨çš„å…³é”®å­—ã€‚è¯»è€…å¯èƒ½å‘ç°äº†ï¼Œå¥½åƒsynchronizedå…³é”®å­—æ˜¯ä¸‡èƒ½çš„ï¼Œä»–å¯ä»¥åŒæ—¶æ»¡è¶³ä»¥ä¸Šä¸‰ç§ç‰¹æ€§ï¼Œè¿™å…¶å®ä¹Ÿæ˜¯å¾ˆå¤šäººæ»¥ç”¨synchronizedçš„åŸå› ã€‚ ä½†æ˜¯synchronizedæ˜¯æ¯”è¾ƒå½±å“æ€§èƒ½çš„ï¼Œè™½ç„¶ç¼–è¯‘å™¨æä¾›äº†å¾ˆå¤šé”ä¼˜åŒ–æŠ€æœ¯ï¼Œä½†æ˜¯ä¹Ÿä¸å»ºè®®è¿‡åº¦ä½¿ç”¨ã€‚ æ€»ç»“åœ¨è¯»å®Œæœ¬æ–‡ä¹‹åï¼Œç›¸ä¿¡ä½ åº”è¯¥äº†è§£äº†ä»€ä¹ˆæ˜¯Javaå†…å­˜æ¨¡å‹ã€Javaå†…å­˜æ¨¡å‹çš„ä½œç”¨ä»¥åŠJavaä¸­å†…å­˜æ¨¡å‹åšäº†ä»€ä¹ˆäº‹æƒ…ç­‰ã€‚å…³äºJavaä¸­è¿™äº›å’Œå†…å­˜æ¨¡å‹æœ‰å…³çš„å…³é”®å­—ï¼Œå¸Œæœ›è¯»è€…è¿˜å¯ä»¥ç»§ç»­æ·±å…¥å­¦ä¹ ï¼Œå¹¶ä¸”è‡ªå·±å†™å‡ ä¸ªä¾‹å­äº²è‡ªä½“ä¼šä¸€ä¸‹ã€‚ å¯ä»¥å‚è€ƒã€Šæ·±å…¥ç†è§£Javaè™šæ‹Ÿæœºã€‹å’Œã€ŠJavaå¹¶å‘ç¼–ç¨‹çš„è‰ºæœ¯ã€‹ä¸¤æœ¬ä¹¦ã€‚ å‚è€ƒèµ„æ–™cpuç¼“å­˜ä¸å¤šçº¿ç¨‹ æµ…æå†…å­˜æ¨¡å‹ å†…å­˜æ¨¡å‹ å’Œ ç¼“å­˜ä¸€è‡´æ€§ å¹¶å‘ç¼–ç¨‹â€”â€”åŸå­æ€§ï¼Œå¯è§æ€§å’Œæœ‰åºæ€§ ã€Šæ·±å…¥ç†è§£Javaè™šæ‹Ÿæœºã€‹","categories":[{"name":"Java","slug":"Java","permalink":"http://www.octber.xyz/categories/Java/"}],"tags":[{"name":"å†…å­˜æ¨¡å‹","slug":"å†…å­˜æ¨¡å‹","permalink":"http://www.octber.xyz/tags/%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B/"}]},{"title":"Java8çš„Lambdaè¡¨è¾¾å¼","slug":"Java8çš„Lambdaè¡¨è¾¾å¼","date":"2019-08-22T12:44:49.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/08/22/Java8çš„Lambdaè¡¨è¾¾å¼/","link":"","permalink":"http://www.octber.xyz/2019/08/22/Java8%E7%9A%84Lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/","excerpt":"å‰è¨€ğŸ‘‰Java8æœ‰ä¸€ä¸ªéå¸¸æ˜¾è‘—çš„ä¼˜åŠ¿å°±æ˜¯Lambdaè¡¨è¾¾å¼,ä¸‹é¢æˆ‘ä»¬ä»åä¸ªä¾‹å­æ¥äº†è§£ä¸€ä¸‹","text":"å‰è¨€ğŸ‘‰Java8æœ‰ä¸€ä¸ªéå¸¸æ˜¾è‘—çš„ä¼˜åŠ¿å°±æ˜¯Lambdaè¡¨è¾¾å¼,ä¸‹é¢æˆ‘ä»¬ä»åä¸ªä¾‹å­æ¥äº†è§£ä¸€ä¸‹ ä¾‹1ã€ç”¨lambdaè¡¨è¾¾å¼å®ç°Runnableæˆ‘å¼€å§‹ä½¿ç”¨Java 8æ—¶ï¼Œé¦–å…ˆåšçš„å°±æ˜¯ä½¿ç”¨lambdaè¡¨è¾¾å¼æ›¿æ¢åŒ¿åç±»ï¼Œè€Œå®ç°Runnableæ¥å£æ˜¯åŒ¿åç±»çš„æœ€å¥½ç¤ºä¾‹ã€‚çœ‹ä¸€ä¸‹Java 8ä¹‹å‰çš„runnableå®ç°æ–¹æ³•ï¼Œéœ€è¦4è¡Œä»£ç ï¼Œè€Œä½¿ç”¨lambdaè¡¨è¾¾å¼åªéœ€è¦ä¸€è¡Œä»£ç ã€‚æˆ‘ä»¬åœ¨è¿™é‡Œåšäº†ä»€ä¹ˆå‘¢ï¼Ÿé‚£å°±æ˜¯ç”¨() -&gt; {}ä»£ç å—æ›¿ä»£äº†æ•´ä¸ªåŒ¿åç±»ã€‚ 12345678910&#x2F;&#x2F; Java 8ä¹‹å‰ï¼šnew Thread(new Runnable() &#123; @Override public void run() &#123; System.out.println(&quot;Before Java8, too much code for too little to do&quot;); &#125;&#125;).start();&#x2F;&#x2F;Java 8æ–¹å¼ï¼šnew Thread( () -&gt; System.out.println(&quot;In Java8, Lambda expression rocks !!&quot;) ).start(); è¾“å‡ºï¼š 12too much code, for too little to doLambda expression rocks !! è¿™ä¸ªä¾‹å­å‘æˆ‘ä»¬å±•ç¤ºäº†Java 8 lambdaè¡¨è¾¾å¼çš„è¯­æ³•ã€‚ä½ å¯ä»¥ä½¿ç”¨lambdaå†™å‡ºå¦‚ä¸‹ä»£ç ï¼š 123(params) -&gt; expression(params) -&gt; statement(params) -&gt; &#123; statements &#125; ä¾‹å¦‚ï¼Œå¦‚æœä½ çš„æ–¹æ³•ä¸å¯¹å‚æ•°è¿›è¡Œä¿®æ”¹ã€é‡å†™ï¼Œåªæ˜¯åœ¨æ§åˆ¶å°æ‰“å°ç‚¹ä¸œè¥¿çš„è¯ï¼Œé‚£ä¹ˆå¯ä»¥è¿™æ ·å†™ï¼š 1() -&gt; System.out.println(&quot;Hello Lambda Expressions&quot;); å¦‚æœä½ çš„æ–¹æ³•æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆå¯ä»¥å†™æˆå¦‚ä¸‹è¿™æ ·ï¼š 1(int even, int odd) -&gt; even + odd é¡ºä¾¿æä¸€å¥ï¼Œé€šå¸¸éƒ½ä¼šæŠŠlambdaè¡¨è¾¾å¼å†…éƒ¨å˜é‡çš„åå­—èµ·å¾—çŸ­ä¸€äº›ã€‚è¿™æ ·èƒ½ä½¿ä»£ç æ›´ç®€çŸ­ï¼Œæ”¾åœ¨åŒä¸€è¡Œã€‚æ‰€ä»¥ï¼Œåœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œå˜é‡åé€‰ç”¨aã€bæˆ–è€…xã€yä¼šæ¯”evenã€oddè¦å¥½ã€‚ ä¾‹2ã€ä½¿ç”¨Java 8 lambdaè¡¨è¾¾å¼è¿›è¡Œäº‹ä»¶å¤„ç†å¦‚æœä½ ç”¨è¿‡Swing APIç¼–ç¨‹ï¼Œä½ å°±ä¼šè®°å¾—æ€æ ·å†™äº‹ä»¶ç›‘å¬ä»£ç ã€‚è¿™åˆæ˜¯ä¸€ä¸ªæ—§ç‰ˆæœ¬ç®€å•åŒ¿åç±»çš„ç»å…¸ç”¨ä¾‹ï¼Œä½†ç°åœ¨å¯ä»¥ä¸è¿™æ ·äº†ã€‚ä½ å¯ä»¥ç”¨lambdaè¡¨è¾¾å¼å†™å‡ºæ›´å¥½çš„äº‹ä»¶ç›‘å¬ä»£ç ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 12345678910111213&#x2F;&#x2F; Java 8ä¹‹å‰ï¼šJButton show &#x3D; new JButton(&quot;Show&quot;);show.addActionListener(new ActionListener() &#123; @Override public void actionPerformed(ActionEvent e) &#123; System.out.println(&quot;Event handling without lambda expression is boring&quot;); &#125;&#125;);&#x2F;&#x2F; Java 8æ–¹å¼ï¼šshow.addActionListener((e) -&gt; &#123; System.out.println(&quot;Light, Camera, Action !! Lambda expressions Rocks&quot;);&#125;); Javaå¼€å‘è€…ç»å¸¸ä½¿ç”¨åŒ¿åç±»çš„å¦ä¸€ä¸ªåœ°æ–¹æ˜¯ä¸º Collections.sort() å®šåˆ¶ Comparatorã€‚åœ¨Java 8ä¸­ï¼Œä½ å¯ä»¥ç”¨æ›´å¯è¯»çš„lambdaè¡¨è¾¾å¼æ¢æ‰ä¸‘é™‹çš„åŒ¿åç±»ã€‚æˆ‘æŠŠè¿™ä¸ªç•™åšç»ƒä¹ ï¼Œåº”è¯¥ä¸éš¾ï¼Œå¯ä»¥æŒ‰ç…§æˆ‘åœ¨ä½¿ç”¨lambdaè¡¨è¾¾å¼å®ç° Runnable å’Œ ActionListener çš„è¿‡ç¨‹ä¸­çš„å¥—è·¯æ¥åšã€‚ ä¾‹3ã€ä½¿ç”¨lambdaè¡¨è¾¾å¼å¯¹åˆ—è¡¨è¿›è¡Œè¿­ä»£å¦‚æœä½ ä½¿è¿‡å‡ å¹´Javaï¼Œä½ å°±çŸ¥é“é’ˆå¯¹é›†åˆç±»ï¼Œæœ€å¸¸è§çš„æ“ä½œå°±æ˜¯è¿›è¡Œè¿­ä»£ï¼Œå¹¶å°†ä¸šåŠ¡é€»è¾‘åº”ç”¨äºå„ä¸ªå…ƒç´ ï¼Œä¾‹å¦‚å¤„ç†è®¢å•ã€äº¤æ˜“å’Œäº‹ä»¶çš„åˆ—è¡¨ã€‚ç”±äºJavaæ˜¯å‘½ä»¤å¼è¯­è¨€ï¼ŒJava 8ä¹‹å‰çš„æ‰€æœ‰å¾ªç¯ä»£ç éƒ½æ˜¯é¡ºåºçš„ï¼Œå³å¯ä»¥å¯¹å…¶å…ƒç´ è¿›è¡Œå¹¶è¡ŒåŒ–å¤„ç†ã€‚å¦‚æœä½ æƒ³åšå¹¶è¡Œè¿‡æ»¤ï¼Œå°±éœ€è¦è‡ªå·±å†™ä»£ç ï¼Œè¿™å¹¶ä¸æ˜¯é‚£ä¹ˆå®¹æ˜“ã€‚é€šè¿‡å¼•å…¥lambdaè¡¨è¾¾å¼å’Œé»˜è®¤æ–¹æ³•ï¼Œå°†åšä»€ä¹ˆå’Œæ€ä¹ˆåšçš„é—®é¢˜åˆ†å¼€äº†ï¼Œè¿™æ„å‘³ç€Javaé›†åˆç°åœ¨çŸ¥é“æ€æ ·åšè¿­ä»£ï¼Œå¹¶å¯ä»¥åœ¨APIå±‚é¢å¯¹é›†åˆå…ƒç´ è¿›è¡Œå¹¶è¡Œå¤„ç†ã€‚ä¸‹é¢çš„ä¾‹å­é‡Œï¼Œæˆ‘å°†ä»‹ç»å¦‚ä½•åœ¨ä½¿ç”¨lambdaæˆ–ä¸ä½¿ç”¨lambdaè¡¨è¾¾å¼çš„æƒ…å†µä¸‹è¿­ä»£åˆ—è¡¨ã€‚ä½ å¯ä»¥çœ‹åˆ°åˆ—è¡¨ç°åœ¨æœ‰äº†ä¸€ä¸ª forEach() æ–¹æ³•ï¼Œå®ƒå¯ä»¥è¿­ä»£æ‰€æœ‰å¯¹è±¡ï¼Œå¹¶å°†ä½ çš„lambdaä»£ç åº”ç”¨åœ¨å…¶ä¸­ã€‚ 12345678910111213&#x2F;&#x2F; Java 8ä¹‹å‰ï¼šList features &#x3D; Arrays.asList(&quot;Lambdas&quot;, &quot;Default Method&quot;, &quot;Stream API&quot;, &quot;Date and Time API&quot;);for (String feature : features) &#123; System.out.println(feature);&#125;&#x2F;&#x2F; Java 8ä¹‹åï¼šList features &#x3D; Arrays.asList(&quot;Lambdas&quot;, &quot;Default Method&quot;, &quot;Stream API&quot;, &quot;Date and Time API&quot;);features.forEach(n -&gt; System.out.println(n)); &#x2F;&#x2F; ä½¿ç”¨Java 8çš„æ–¹æ³•å¼•ç”¨æ›´æ–¹ä¾¿ï¼Œæ–¹æ³•å¼•ç”¨ç”±::åŒå†’å·æ“ä½œç¬¦æ ‡ç¤ºï¼Œ&#x2F;&#x2F; çœ‹èµ·æ¥åƒC++çš„ä½œç”¨åŸŸè§£æè¿ç®—ç¬¦features.forEach(System.out::println); è¾“å‡ºï¼š 1234LambdasDefault MethodStream APIDate and Time API åˆ—è¡¨å¾ªç¯çš„æœ€åä¸€ä¸ªä¾‹å­å±•ç¤ºäº†å¦‚ä½•åœ¨Java 8ä¸­ä½¿ç”¨æ–¹æ³•å¼•ç”¨ï¼ˆmethod referenceï¼‰ã€‚ä½ å¯ä»¥çœ‹åˆ°C++é‡Œé¢çš„åŒå†’å·ã€èŒƒå›´è§£ææ“ä½œç¬¦ç°åœ¨åœ¨Java 8ä¸­ç”¨æ¥è¡¨ç¤ºæ–¹æ³•å¼•ç”¨ã€‚ ä¾‹4ã€ä½¿ç”¨lambdaè¡¨è¾¾å¼å’Œå‡½æ•°å¼æ¥å£Predicateé™¤äº†åœ¨è¯­è¨€å±‚é¢æ”¯æŒå‡½æ•°å¼ç¼–ç¨‹é£æ ¼ï¼ŒJava 8ä¹Ÿæ·»åŠ äº†ä¸€ä¸ªåŒ…ï¼Œå«åš java.util.functionã€‚å®ƒåŒ…å«äº†å¾ˆå¤šç±»ï¼Œç”¨æ¥æ”¯æŒJavaçš„å‡½æ•°å¼ç¼–ç¨‹ã€‚å…¶ä¸­ä¸€ä¸ªä¾¿æ˜¯Predicateï¼Œä½¿ç”¨ java.util.function.Predicate å‡½æ•°å¼æ¥å£ä»¥åŠlambdaè¡¨è¾¾å¼ï¼Œå¯ä»¥å‘APIæ–¹æ³•æ·»åŠ é€»è¾‘ï¼Œç”¨æ›´å°‘çš„ä»£ç æ”¯æŒæ›´å¤šçš„åŠ¨æ€è¡Œä¸ºã€‚ä¸‹é¢æ˜¯Java 8 Predicate çš„ä¾‹å­ï¼Œå±•ç¤ºäº†è¿‡æ»¤é›†åˆæ•°æ®çš„å¤šç§å¸¸ç”¨æ–¹æ³•ã€‚Predicateæ¥å£éå¸¸é€‚ç”¨äºåšè¿‡æ»¤ã€‚ 1234567891011121314151617181920212223242526public static void main(args[])&#123; List languages &#x3D; Arrays.asList(&quot;Java&quot;, &quot;Scala&quot;, &quot;C++&quot;, &quot;Haskell&quot;, &quot;Lisp&quot;); System.out.println(&quot;Languages which starts with J :&quot;); filter(languages, (str)-&gt;str.startsWith(&quot;J&quot;)); System.out.println(&quot;Languages which ends with a &quot;); filter(languages, (str)-&gt;str.endsWith(&quot;a&quot;)); System.out.println(&quot;Print all languages :&quot;); filter(languages, (str)-&gt;true); System.out.println(&quot;Print no language : &quot;); filter(languages, (str)-&gt;false); System.out.println(&quot;Print language whose length greater than 4:&quot;); filter(languages, (str)-&gt;str.length() &gt; 4);&#125; public static void filter(List names, Predicate condition) &#123; for(String name: names) &#123; if(condition.test(name)) &#123; System.out.println(name + &quot; &quot;); &#125; &#125;&#125; è¾“å‡ºï¼š 123456789101112131415Languages which starts with J :JavaLanguages which ends with aJavaScalaPrint all languages :JavaScalaC++HaskellLispPrint no language :Print language whose length greater than 4:ScalaHaskell 123456&#x2F;&#x2F; æ›´å¥½çš„åŠæ³•public static void filter(List names, Predicate condition) &#123; names.stream().filter((name) -&gt; (condition.test(name))).forEach((name) -&gt; &#123; System.out.println(name + &quot; &quot;); &#125;);&#125; å¯ä»¥çœ‹åˆ°ï¼ŒStream APIçš„è¿‡æ»¤æ–¹æ³•ä¹Ÿæ¥å—ä¸€ä¸ªPredicateï¼Œè¿™æ„å‘³ç€å¯ä»¥å°†æˆ‘ä»¬å®šåˆ¶çš„ filter() æ–¹æ³•æ›¿æ¢æˆå†™åœ¨é‡Œé¢çš„å†…è”ä»£ç ï¼Œè¿™å°±æ˜¯lambdaè¡¨è¾¾å¼çš„é­”åŠ›ã€‚å¦å¤–ï¼ŒPredicateæ¥å£ä¹Ÿå…è®¸è¿›è¡Œå¤šé‡æ¡ä»¶çš„æµ‹è¯•ï¼Œä¸‹ä¸ªä¾‹å­å°†è¦è®²åˆ°ã€‚ ä¾‹5ã€å¦‚ä½•åœ¨lambdaè¡¨è¾¾å¼ä¸­åŠ å…¥Predicateä¸Šä¸ªä¾‹å­è¯´åˆ°ï¼Œjava.util.function.Predicate å…è®¸å°†ä¸¤ä¸ªæˆ–æ›´å¤šçš„ Predicate åˆæˆä¸€ä¸ªã€‚å®ƒæä¾›ç±»ä¼¼äºé€»è¾‘æ“ä½œç¬¦ANDå’ŒORçš„æ–¹æ³•ï¼Œåå­—å«åšand()ã€or()å’Œxor()ï¼Œç”¨äºå°†ä¼ å…¥ filter() æ–¹æ³•çš„æ¡ä»¶åˆå¹¶èµ·æ¥ã€‚ä¾‹å¦‚ï¼Œè¦å¾—åˆ°æ‰€æœ‰ä»¥Jå¼€å§‹ï¼Œé•¿åº¦ä¸ºå››ä¸ªå­—æ¯çš„è¯­è¨€ï¼Œå¯ä»¥å®šä¹‰ä¸¤ä¸ªç‹¬ç«‹çš„ Predicate ç¤ºä¾‹åˆ†åˆ«è¡¨ç¤ºæ¯ä¸€ä¸ªæ¡ä»¶ï¼Œç„¶åç”¨ Predicate.and() æ–¹æ³•å°†å®ƒä»¬åˆå¹¶èµ·æ¥ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 1234567&#x2F;&#x2F; ç”šè‡³å¯ä»¥ç”¨and()ã€or()å’Œxor()é€»è¾‘å‡½æ•°æ¥åˆå¹¶Predicateï¼Œ&#x2F;&#x2F; ä¾‹å¦‚è¦æ‰¾åˆ°æ‰€æœ‰ä»¥Jå¼€å§‹ï¼Œé•¿åº¦ä¸ºå››ä¸ªå­—æ¯çš„åå­—ï¼Œä½ å¯ä»¥åˆå¹¶ä¸¤ä¸ªPredicateå¹¶ä¼ å…¥Predicate&lt;String&gt; startsWithJ &#x3D; (n) -&gt; n.startsWith(&quot;J&quot;);Predicate&lt;String&gt; fourLetterLong &#x3D; (n) -&gt; n.length() &#x3D;&#x3D; 4;names.stream() .filter(startsWithJ.and(fourLetterLong)) .forEach((n) -&gt; System.out.print(&quot;nName, which starts with &#39;J&#39; and four letter long is : &quot; + n)); ç±»ä¼¼åœ°ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ or() å’Œ xor() æ–¹æ³•ã€‚æœ¬ä¾‹ç€é‡ä»‹ç»äº†å¦‚ä¸‹è¦ç‚¹ï¼šå¯æŒ‰éœ€è¦å°† Predicate ä½œä¸ºå•ç‹¬æ¡ä»¶ç„¶åå°†å…¶åˆå¹¶èµ·æ¥ä½¿ç”¨ã€‚ç®€è€Œè¨€ä¹‹ï¼Œä½ å¯ä»¥ä»¥ä¼ ç»ŸJavaå‘½ä»¤æ–¹å¼ä½¿ç”¨ Predicate æ¥å£ï¼Œä¹Ÿå¯ä»¥å……åˆ†åˆ©ç”¨lambdaè¡¨è¾¾å¼è¾¾åˆ°äº‹åŠåŠŸå€çš„æ•ˆæœã€‚ ä¾‹6ã€Java 8ä¸­ä½¿ç”¨lambdaè¡¨è¾¾å¼çš„Mapå’ŒReduceç¤ºä¾‹æœ¬ä¾‹ä»‹ç»æœ€å¹¿ä¸ºäººçŸ¥çš„å‡½æ•°å¼ç¼–ç¨‹æ¦‚å¿µmapã€‚å®ƒå…è®¸ä½ å°†å¯¹è±¡è¿›è¡Œè½¬æ¢ã€‚ä¾‹å¦‚åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬å°† costBeforeTax åˆ—è¡¨çš„æ¯ä¸ªå…ƒç´ è½¬æ¢æˆä¸ºç¨åçš„å€¼ã€‚æˆ‘ä»¬å°† x -&gt; x*x lambdaè¡¨è¾¾å¼ä¼ åˆ° map() æ–¹æ³•ï¼Œåè€…å°†å…¶åº”ç”¨åˆ°æµä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ã€‚ç„¶åç”¨ forEach() å°†åˆ—è¡¨å…ƒç´ æ‰“å°å‡ºæ¥ã€‚ä½¿ç”¨æµAPIçš„æ”¶é›†å™¨ç±»ï¼Œå¯ä»¥å¾—åˆ°æ‰€æœ‰å«ç¨çš„å¼€é”€ã€‚æœ‰ toList() è¿™æ ·çš„æ–¹æ³•å°† map æˆ–ä»»ä½•å…¶ä»–æ“ä½œçš„ç»“æœåˆå¹¶èµ·æ¥ã€‚ç”±äºæ”¶é›†å™¨åœ¨æµä¸Šåšç»ˆç«¯æ“ä½œï¼Œå› æ­¤ä¹‹åä¾¿ä¸èƒ½é‡ç”¨æµäº†ã€‚ä½ ç”šè‡³å¯ä»¥ç”¨æµAPIçš„ reduce() æ–¹æ³•å°†æ‰€æœ‰æ•°å­—åˆæˆä¸€ä¸ªï¼Œä¸‹ä¸€ä¸ªä¾‹å­å°†ä¼šè®²åˆ°ã€‚ 12345678910&#x2F;&#x2F; ä¸ä½¿ç”¨lambdaè¡¨è¾¾å¼ä¸ºæ¯ä¸ªè®¢å•åŠ ä¸Š12%çš„ç¨List costBeforeTax &#x3D; Arrays.asList(100, 200, 300, 400, 500);for (Integer cost : costBeforeTax) &#123; double price &#x3D; cost + .12*cost; System.out.println(price);&#125; &#x2F;&#x2F; ä½¿ç”¨lambdaè¡¨è¾¾å¼List costBeforeTax &#x3D; Arrays.asList(100, 200, 300, 400, 500);costBeforeTax.stream().map((cost) -&gt; cost + .12*cost).forEach(System.out::println); è¾“å‡ºï¼š 12345678910112.0224.0336.0448.0560.0112.0224.0336.0448.0560.0 ä¾‹6.2ã€Java 8ä¸­ä½¿ç”¨lambdaè¡¨è¾¾å¼çš„Mapå’ŒReduceç¤ºä¾‹åœ¨ä¸Šä¸ªä¾‹å­ä¸­ï¼Œå¯ä»¥çœ‹åˆ°mapå°†é›†åˆç±»ï¼ˆä¾‹å¦‚åˆ—è¡¨ï¼‰å…ƒç´ è¿›è¡Œè½¬æ¢çš„ã€‚è¿˜æœ‰ä¸€ä¸ª reduce() å‡½æ•°å¯ä»¥å°†æ‰€æœ‰å€¼åˆå¹¶æˆä¸€ä¸ªã€‚Mapå’ŒReduceæ“ä½œæ˜¯å‡½æ•°å¼ç¼–ç¨‹çš„æ ¸å¿ƒæ“ä½œï¼Œå› ä¸ºå…¶åŠŸèƒ½ï¼Œreduce åˆè¢«ç§°ä¸ºæŠ˜å æ“ä½œã€‚å¦å¤–ï¼Œreduce å¹¶ä¸æ˜¯ä¸€ä¸ªæ–°çš„æ“ä½œï¼Œä½ æœ‰å¯èƒ½å·²ç»åœ¨ä½¿ç”¨å®ƒã€‚SQLä¸­ç±»ä¼¼ sum()ã€avg() æˆ–è€… count() çš„èšé›†å‡½æ•°ï¼Œå®é™…ä¸Šå°±æ˜¯ reduce æ“ä½œï¼Œå› ä¸ºå®ƒä»¬æ¥æ”¶å¤šä¸ªå€¼å¹¶è¿”å›ä¸€ä¸ªå€¼ã€‚æµAPIå®šä¹‰çš„ reduceh() å‡½æ•°å¯ä»¥æ¥å—lambdaè¡¨è¾¾å¼ï¼Œå¹¶å¯¹æ‰€æœ‰å€¼è¿›è¡Œåˆå¹¶ã€‚IntStreamè¿™æ ·çš„ç±»æœ‰ç±»ä¼¼ average()ã€count()ã€sum() çš„å†…å»ºæ–¹æ³•æ¥åš reduce æ“ä½œï¼Œä¹Ÿæœ‰mapToLong()ã€mapToDouble() æ–¹æ³•æ¥åšè½¬æ¢ã€‚è¿™å¹¶ä¸ä¼šé™åˆ¶ä½ ï¼Œä½ å¯ä»¥ç”¨å†…å»ºæ–¹æ³•ï¼Œä¹Ÿå¯ä»¥è‡ªå·±å®šä¹‰ã€‚åœ¨è¿™ä¸ªJava 8çš„Map Reduceç¤ºä¾‹é‡Œï¼Œæˆ‘ä»¬é¦–å…ˆå¯¹æ‰€æœ‰ä»·æ ¼åº”ç”¨ 12% çš„VATï¼Œç„¶åç”¨ reduce() æ–¹æ³•è®¡ç®—æ€»å’Œã€‚ 1234567891011121314&#x2F;&#x2F; ä¸ºæ¯ä¸ªè®¢å•åŠ ä¸Š12%çš„ç¨&#x2F;&#x2F; è€æ–¹æ³•ï¼šList costBeforeTax &#x3D; Arrays.asList(100, 200, 300, 400, 500);double total &#x3D; 0;for (Integer cost : costBeforeTax) &#123; double price &#x3D; cost + .12*cost; total &#x3D; total + price;&#125;System.out.println(&quot;Total : &quot; + total); &#x2F;&#x2F; æ–°æ–¹æ³•ï¼šList costBeforeTax &#x3D; Arrays.asList(100, 200, 300, 400, 500);double bill &#x3D; costBeforeTax.stream().map((cost) -&gt; cost + .12*cost).reduce((sum, cost) -&gt; sum + cost).get();System.out.println(&quot;Total : &quot; + bill); è¾“å‡ºï¼š 12Total : 1680.0Total : 1680.0 ä¾‹7ã€é€šè¿‡è¿‡æ»¤åˆ›å»ºä¸€ä¸ªStringåˆ—è¡¨è¿‡æ»¤æ˜¯Javaå¼€å‘è€…åœ¨å¤§è§„æ¨¡é›†åˆä¸Šçš„ä¸€ä¸ªå¸¸ç”¨æ“ä½œï¼Œè€Œç°åœ¨ä½¿ç”¨lambdaè¡¨è¾¾å¼å’ŒæµAPIè¿‡æ»¤å¤§è§„æ¨¡æ•°æ®é›†åˆæ˜¯æƒŠäººçš„ç®€å•ã€‚æµæä¾›äº†ä¸€ä¸ª filter() æ–¹æ³•ï¼Œæ¥å—ä¸€ä¸ª Predicate å¯¹è±¡ï¼Œå³å¯ä»¥ä¼ å…¥ä¸€ä¸ªlambdaè¡¨è¾¾å¼ä½œä¸ºè¿‡æ»¤é€»è¾‘ã€‚ä¸‹é¢çš„ä¾‹å­æ˜¯ç”¨lambdaè¡¨è¾¾å¼è¿‡æ»¤Javaé›†åˆï¼Œå°†å¸®åŠ©ç†è§£ã€‚ 123&#x2F;&#x2F; åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²åˆ—è¡¨ï¼Œæ¯ä¸ªå­—ç¬¦ä¸²é•¿åº¦å¤§äº2List&lt;String&gt; filtered &#x3D; strList.stream().filter(x -&gt; x.length()&gt; 2).collect(Collectors.toList());System.out.printf(&quot;Original List : %s, filtered list : %s %n&quot;, strList, filtered); è¾“å‡ºï¼š 1Original List : [abc, , bcd, , defg, jk], filtered list : [abc, bcd, defg] å¦å¤–ï¼Œå…³äº filter() æ–¹æ³•æœ‰ä¸ªå¸¸è§è¯¯è§£ã€‚åœ¨ç°å®ç”Ÿæ´»ä¸­ï¼Œåšè¿‡æ»¤çš„æ—¶å€™ï¼Œé€šå¸¸ä¼šä¸¢å¼ƒéƒ¨åˆ†ï¼Œä½†ä½¿ç”¨filter()æ–¹æ³•åˆ™æ˜¯è·å¾—ä¸€ä¸ªæ–°çš„åˆ—è¡¨ï¼Œä¸”å…¶æ¯ä¸ªå…ƒç´ ç¬¦åˆè¿‡æ»¤åŸåˆ™ã€‚ ä¾‹8ã€å¯¹åˆ—è¡¨çš„æ¯ä¸ªå…ƒç´ åº”ç”¨å‡½æ•°æˆ‘ä»¬é€šå¸¸éœ€è¦å¯¹åˆ—è¡¨çš„æ¯ä¸ªå…ƒç´ ä½¿ç”¨æŸä¸ªå‡½æ•°ï¼Œä¾‹å¦‚é€ä¸€ä¹˜ä»¥æŸä¸ªæ•°ã€é™¤ä»¥æŸä¸ªæ•°æˆ–è€…åšå…¶å®ƒæ“ä½œã€‚è¿™äº›æ“ä½œéƒ½å¾ˆé€‚åˆç”¨ map() æ–¹æ³•ï¼Œå¯ä»¥å°†è½¬æ¢é€»è¾‘ä»¥lambdaè¡¨è¾¾å¼çš„å½¢å¼æ”¾åœ¨ map() æ–¹æ³•é‡Œï¼Œå°±å¯ä»¥å¯¹é›†åˆçš„å„ä¸ªå…ƒç´ è¿›è¡Œè½¬æ¢äº†ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚ 1234&#x2F;&#x2F; å°†å­—ç¬¦ä¸²æ¢æˆå¤§å†™å¹¶ç”¨é€—å·é“¾æ¥èµ·æ¥List&lt;String&gt; G7 &#x3D; Arrays.asList(&quot;USA&quot;, &quot;Japan&quot;, &quot;France&quot;, &quot;Germany&quot;, &quot;Italy&quot;, &quot;U.K.&quot;,&quot;Canada&quot;);String G7Countries &#x3D; G7.stream().map(x -&gt; x.toUpperCase()).collect(Collectors.joining(&quot;, &quot;));System.out.println(G7Countries); è¾“å‡ºï¼š 1USA, JAPAN, FRANCE, GERMANY, ITALY, U.K., CANADA ä¾‹9ã€å¤åˆ¶ä¸åŒçš„å€¼ï¼Œåˆ›å»ºä¸€ä¸ªå­åˆ—è¡¨æœ¬ä¾‹å±•ç¤ºäº†å¦‚ä½•åˆ©ç”¨æµçš„ distinct() æ–¹æ³•æ¥å¯¹é›†åˆè¿›è¡Œå»é‡ã€‚ 1234&#x2F;&#x2F; ç”¨æ‰€æœ‰ä¸åŒçš„æ•°å­—åˆ›å»ºä¸€ä¸ªæ­£æ–¹å½¢åˆ—è¡¨List&lt;Integer&gt; numbers &#x3D; Arrays.asList(9, 10, 3, 4, 7, 3, 4);List&lt;Integer&gt; distinct &#x3D; numbers.stream().map( i -&gt; i*i).distinct().collect(Collectors.toList());System.out.printf(&quot;Original List : %s, Square Without duplicates : %s %n&quot;, numbers, distinct); è¾“å‡ºï¼š 1Original List : [9, 10, 3, 4, 7, 3, 4], Square Without duplicates : [81, 100, 9, 16, 49] ä¾‹10ã€è®¡ç®—é›†åˆå…ƒç´ çš„æœ€å¤§å€¼ã€æœ€å°å€¼ã€æ€»å’Œä»¥åŠå¹³å‡å€¼IntStreamã€LongStream å’Œ DoubleStream ç­‰æµçš„ç±»ä¸­ï¼Œæœ‰ä¸ªéå¸¸æœ‰ç”¨çš„æ–¹æ³•å«åš summaryStatistics() ã€‚å¯ä»¥è¿”å› IntSummaryStatisticsã€LongSummaryStatistics æˆ–è€… DoubleSummaryStatistic sï¼Œæè¿°æµä¸­å…ƒç´ çš„å„ç§æ‘˜è¦æ•°æ®ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬ç”¨è¿™ä¸ªæ–¹æ³•æ¥è®¡ç®—åˆ—è¡¨çš„æœ€å¤§å€¼å’Œæœ€å°å€¼ã€‚å®ƒä¹Ÿæœ‰ getSum() å’Œ getAverage() æ–¹æ³•æ¥è·å¾—åˆ—è¡¨çš„æ‰€æœ‰å…ƒç´ çš„æ€»å’ŒåŠå¹³å‡å€¼ã€‚ 1234567&#x2F;&#x2F;è·å–æ•°å­—çš„ä¸ªæ•°ã€æœ€å°å€¼ã€æœ€å¤§å€¼ã€æ€»å’Œä»¥åŠå¹³å‡å€¼List&lt;Integer&gt; primes &#x3D; Arrays.asList(2, 3, 5, 7, 11, 13, 17, 19, 23, 29);IntSummaryStatistics stats &#x3D; primes.stream().mapToInt((x) -&gt; x).summaryStatistics();System.out.println(&quot;Highest prime number in List : &quot; + stats.getMax());System.out.println(&quot;Lowest prime number in List : &quot; + stats.getMin());System.out.println(&quot;Sum of all prime numbers : &quot; + stats.getSum());System.out.println(&quot;Average of all prime numbers : &quot; + stats.getAverage()); è¾“å‡ºï¼š 1234Highest prime number in List : 29Lowest prime number in List : 2Sum of all prime numbers : 129Average of all prime numbers : 12.9 Lambdaè¡¨è¾¾å¼ vs åŒ¿åç±»æ—¢ç„¶lambdaè¡¨è¾¾å¼å³å°†æ­£å¼å–ä»£Javaä»£ç ä¸­çš„åŒ¿åå†…éƒ¨ç±»ï¼Œé‚£ä¹ˆæœ‰å¿…è¦å¯¹äºŒè€…åšä¸€ä¸ªæ¯”è¾ƒåˆ†æã€‚ä¸€ä¸ªå…³é”®çš„ä¸åŒç‚¹å°±æ˜¯å…³é”®å­— thisã€‚åŒ¿åç±»çš„ this å…³é”®å­—æŒ‡å‘åŒ¿åç±»ï¼Œè€Œlambdaè¡¨è¾¾å¼çš„ this å…³é”®å­—æŒ‡å‘åŒ…å›´lambdaè¡¨è¾¾å¼çš„ç±»ã€‚å¦ä¸€ä¸ªä¸åŒç‚¹æ˜¯äºŒè€…çš„ç¼–è¯‘æ–¹å¼ã€‚Javaç¼–è¯‘å™¨å°†lambdaè¡¨è¾¾å¼ç¼–è¯‘æˆç±»çš„ç§æœ‰æ–¹æ³•ã€‚ä½¿ç”¨äº†Java 7çš„ invokedynamic å­—èŠ‚ç æŒ‡ä»¤æ¥åŠ¨æ€ç»‘å®šè¿™ä¸ªæ–¹æ³•ã€‚ Java 8 Lambdaè¡¨è¾¾å¼è¦ç‚¹10ä¸ªJava lambdaè¡¨è¾¾å¼ã€æµAPIç¤ºä¾‹åˆ°ç›®å‰ä¸ºæ­¢æˆ‘ä»¬çœ‹åˆ°äº†Java 8çš„10ä¸ªlambdaè¡¨è¾¾å¼ï¼Œè¿™å¯¹äºæ–°æ‰‹æ¥è¯´æ˜¯ä¸ªåˆé€‚çš„ä»»åŠ¡é‡ï¼Œä½ å¯èƒ½éœ€è¦äº²è‡ªè¿è¡Œç¤ºä¾‹ç¨‹åºä»¥ä¾¿æŒæ¡ã€‚è¯•ç€ä¿®æ”¹è¦æ±‚åˆ›å»ºè‡ªå·±çš„ä¾‹å­ï¼Œè¾¾åˆ°å¿«é€Ÿå­¦ä¹ çš„ç›®çš„ã€‚æˆ‘è¿˜æƒ³å»ºè®®å¤§å®¶ä½¿ç”¨Netbeans IDEæ¥ç»ƒä¹ lambdaè¡¨è¾¾å¼ï¼Œå®ƒå¯¹Java 8æ”¯æŒè‰¯å¥½ã€‚å½“æŠŠä»£ç è½¬æ¢æˆå‡½æ•°å¼çš„æ—¶å€™ï¼ŒNetbeansä¼šåŠæ—¶ç»™ä½ æç¤ºã€‚åªéœ€è·Ÿç€Netbeansçš„æç¤ºï¼Œå°±èƒ½å¾ˆå®¹æ˜“åœ°æŠŠåŒ¿åç±»è½¬æ¢æˆlambdaè¡¨è¾¾å¼ã€‚æ­¤å¤–ï¼Œå¦‚æœä½ å–œæ¬¢é˜…è¯»ï¼Œé‚£ä¹ˆè®°å¾—çœ‹ä¸€ä¸‹Java 8çš„lambdasï¼Œå®ç”¨å‡½æ•°å¼ç¼–ç¨‹è¿™æœ¬ä¹¦ï¼ˆJava 8 Lambdas, pragmatic functional programmingï¼‰ï¼Œä½œè€…æ˜¯Richard Warburtonï¼Œæˆ–è€…ä¹Ÿå¯ä»¥çœ‹çœ‹Manningçš„Java 8å®æˆ˜ï¼ˆJava 8 in Actionï¼‰ï¼Œè¿™æœ¬ä¹¦è™½ç„¶è¿˜æ²¡å‡ºç‰ˆï¼Œä½†æˆ‘çŒœçº¿ä¸Šæœ‰ç¬¬ä¸€ç« çš„å…è´¹pdfã€‚ä¸è¿‡ï¼Œåœ¨ä½ å¼€å§‹å¿™å…¶å®ƒäº‹æƒ…ä¹‹å‰ï¼Œå…ˆå›é¡¾ä¸€ä¸‹Java 8çš„lambdaè¡¨è¾¾å¼ã€é»˜è®¤æ–¹æ³•å’Œå‡½æ•°å¼æ¥å£çš„é‡ç‚¹çŸ¥è¯†ã€‚ 1ï¼‰lambdaè¡¨è¾¾å¼ä»…èƒ½æ”¾å…¥å¦‚ä¸‹ä»£ç ï¼šé¢„å®šä¹‰ä½¿ç”¨äº† @Functional æ³¨é‡Šçš„å‡½æ•°å¼æ¥å£ï¼Œè‡ªå¸¦ä¸€ä¸ªæŠ½è±¡å‡½æ•°çš„æ–¹æ³•ï¼Œæˆ–è€…SAMï¼ˆSingle Abstract Method å•ä¸ªæŠ½è±¡æ–¹æ³•ï¼‰ç±»å‹ã€‚è¿™äº›ç§°ä¸ºlambdaè¡¨è¾¾å¼çš„ç›®æ ‡ç±»å‹ï¼Œå¯ä»¥ç”¨ä½œè¿”å›ç±»å‹ï¼Œæˆ–lambdaç›®æ ‡ä»£ç çš„å‚æ•°ã€‚ä¾‹å¦‚ï¼Œè‹¥ä¸€ä¸ªæ–¹æ³•æ¥æ”¶Runnableã€Comparableæˆ–è€… Callable æ¥å£ï¼Œéƒ½æœ‰å•ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œå¯ä»¥ä¼ å…¥lambdaè¡¨è¾¾å¼ã€‚ç±»ä¼¼çš„ï¼Œå¦‚æœä¸€ä¸ªæ–¹æ³•æ¥å—å£°æ˜äº java.util.function åŒ…å†…çš„æ¥å£ï¼Œä¾‹å¦‚ Predicateã€Functionã€Consumer æˆ– Supplierï¼Œé‚£ä¹ˆå¯ä»¥å‘å…¶ä¼ lambdaè¡¨è¾¾å¼ã€‚ 2ï¼‰lambdaè¡¨è¾¾å¼å†…å¯ä»¥ä½¿ç”¨æ–¹æ³•å¼•ç”¨ï¼Œä»…å½“è¯¥æ–¹æ³•ä¸ä¿®æ”¹lambdaè¡¨è¾¾å¼æä¾›çš„å‚æ•°ã€‚æœ¬ä¾‹ä¸­çš„lambdaè¡¨è¾¾å¼å¯ä»¥æ¢ä¸ºæ–¹æ³•å¼•ç”¨ï¼Œå› ä¸ºè¿™ä»…æ˜¯ä¸€ä¸ªå‚æ•°ç›¸åŒçš„ç®€å•æ–¹æ³•è°ƒç”¨ã€‚ 12list.forEach(n -&gt; System.out.println(n)); list.forEach(System.out::println); &#x2F;&#x2F; ä½¿ç”¨æ–¹æ³•å¼•ç”¨ ç„¶è€Œï¼Œè‹¥å¯¹å‚æ•°æœ‰ä»»ä½•ä¿®æ”¹ï¼Œåˆ™ä¸èƒ½ä½¿ç”¨æ–¹æ³•å¼•ç”¨ï¼Œè€Œéœ€é”®å…¥å®Œæ•´åœ°lambdaè¡¨è¾¾å¼ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 1list.forEach((String s) -&gt; System.out.println(&quot;*&quot; + s + &quot;*&quot;)); äº‹å®ä¸Šï¼Œå¯ä»¥çœç•¥è¿™é‡Œçš„lambdaå‚æ•°çš„ç±»å‹å£°æ˜ï¼Œç¼–è¯‘å™¨å¯ä»¥ä»åˆ—è¡¨çš„ç±»å±æ€§æ¨æµ‹å‡ºæ¥ã€‚ 3ï¼‰lambdaå†…éƒ¨å¯ä»¥ä½¿ç”¨é™æ€ã€éé™æ€å’Œå±€éƒ¨å˜é‡ï¼Œè¿™ç§°ä¸ºlambdaå†…çš„å˜é‡æ•è·ã€‚ 4ï¼‰Lambdaè¡¨è¾¾å¼åœ¨Javaä¸­åˆç§°ä¸ºé—­åŒ…æˆ–åŒ¿åå‡½æ•°ï¼Œæ‰€ä»¥å¦‚æœæœ‰åŒäº‹æŠŠå®ƒå«é—­åŒ…çš„æ—¶å€™ï¼Œä¸ç”¨æƒŠè®¶ã€‚ 5ï¼‰Lambdaæ–¹æ³•åœ¨ç¼–è¯‘å™¨å†…éƒ¨è¢«ç¿»è¯‘æˆç§æœ‰æ–¹æ³•ï¼Œå¹¶æ´¾å‘ invokedynamic å­—èŠ‚ç æŒ‡ä»¤æ¥è¿›è¡Œè°ƒç”¨ã€‚å¯ä»¥ä½¿ç”¨JDKä¸­çš„ javap å·¥å…·æ¥åç¼–è¯‘classæ–‡ä»¶ã€‚ä½¿ç”¨ javap -p æˆ– javap -c -v å‘½ä»¤æ¥çœ‹ä¸€çœ‹lambdaè¡¨è¾¾å¼ç”Ÿæˆçš„å­—èŠ‚ç ã€‚å¤§è‡´åº”è¯¥é•¿è¿™æ ·ï¼š 1private static java.lang.Object lambda$0(java.lang.String); 6ï¼‰lambdaè¡¨è¾¾å¼æœ‰ä¸ªé™åˆ¶ï¼Œé‚£å°±æ˜¯åªèƒ½å¼•ç”¨ final æˆ– final å±€éƒ¨å˜é‡ï¼Œè¿™å°±æ˜¯è¯´ä¸èƒ½åœ¨lambdaå†…éƒ¨ä¿®æ”¹å®šä¹‰åœ¨åŸŸå¤–çš„å˜é‡ã€‚ 1234List&lt;Integer&gt; primes &#x3D; Arrays.asList(new Integer[]&#123;2, 3,5,7&#125;);int factor &#x3D; 2;primes.forEach(element -&gt; &#123; factor++; &#125;);Compile time error : &quot;local variables referenced from a lambda expression must be final or effectively final&quot; å¦å¤–ï¼Œåªæ˜¯è®¿é—®å®ƒè€Œä¸ä½œä¿®æ”¹æ˜¯å¯ä»¥çš„ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 123List&lt;Integer&gt; primes &#x3D; Arrays.asList(new Integer[]&#123;2, 3,5,7&#125;);int factor &#x3D; 2;primes.forEach(element -&gt; &#123; System.out.println(factor*element); &#125;); è¾“å‡ºï¼š 1234461014 å› æ­¤ï¼Œå®ƒçœ‹èµ·æ¥æ›´åƒä¸å¯å˜é—­åŒ…ï¼Œç±»ä¼¼äºPythonã€‚ ä»¥ä¸Šå°±æ˜¯Java 8çš„lambdaè¡¨è¾¾å¼çš„å…¨éƒ¨10ä¸ªä¾‹å­ã€‚æ­¤æ¬¡ä¿®æ”¹å°†æˆä¸ºJavaå²ä¸Šæœ€å¤§çš„ä¸€æ¬¡ï¼Œå°†æ·±è¿œå½±å“æœªæ¥Javaå¼€å‘è€…ä½¿ç”¨é›†åˆæ¡†æ¶çš„æ–¹å¼ã€‚æˆ‘æƒ³è§„æ¨¡æœ€ç›¸ä¼¼çš„ä¸€æ¬¡ä¿®æ”¹å°±æ˜¯Java 5çš„å‘å¸ƒäº†ï¼Œå®ƒå¸¦æ¥äº†å¾ˆå¤šä¼˜ç‚¹ï¼Œæå‡äº†ä»£ç è´¨é‡ï¼Œä¾‹å¦‚ï¼šæ³›å‹ã€æšä¸¾ã€è‡ªåŠ¨è£…ç®±ï¼ˆAutoboxingï¼‰ã€é™æ€å¯¼å…¥ã€å¹¶å‘APIå’Œå˜é‡å‚æ•°ã€‚ä¸Šè¿°ç‰¹æ€§ä½¿å¾—Javaä»£ç æ›´åŠ æ¸…æ™°ï¼Œæˆ‘æƒ³lambdaè¡¨è¾¾å¼ä¹Ÿå°†è¿›ä¸€æ­¥æ”¹è¿›å®ƒã€‚æˆ‘åœ¨æœŸå¾…ç€å¼€å‘å¹¶è¡Œç¬¬ä¸‰æ–¹åº“ï¼Œè¿™å¯ä»¥ä½¿é«˜æ€§èƒ½åº”ç”¨å˜å¾—æ›´å®¹æ˜“å†™ã€‚ æ›´å¤šé˜…è¯»ï¼šhttp://javarevisited.blogspot.com/2014/02/10-example-of-lambda-expressions-in-java8.html#ixzz3gCMp6Vhc åŸæ–‡é“¾æ¥ï¼š javarevisited ç¿»è¯‘ï¼š ImportNew.com - lemeilleurè¯‘æ–‡é“¾æ¥ï¼š http://www.importnew.com/16436.html[ è½¬è½½è¯·ä¿ç•™åŸæ–‡å‡ºå¤„ã€è¯‘è€…å’Œè¯‘æ–‡é“¾æ¥ã€‚]","categories":[{"name":"Java","slug":"Java","permalink":"http://www.octber.xyz/categories/Java/"}],"tags":[{"name":"Lambda","slug":"Lambda","permalink":"http://www.octber.xyz/tags/Lambda/"}]},{"title":"synchronized/volatileæµ…è°ˆ","slug":"synchronized-volatileæµ…è°ˆ","date":"2019-08-22T07:31:57.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/08/22/synchronized-volatileæµ…è°ˆ/","link":"","permalink":"http://www.octber.xyz/2019/08/22/synchronized-volatile%E6%B5%85%E8%B0%88/","excerpt":"å‰è¨€ å­¦ä¹ è¿™ä½å¤§ç¥: HollisChuang","text":"å‰è¨€ å­¦ä¹ è¿™ä½å¤§ç¥: HollisChuang çŸ¥è¯†ç‚¹ Javaè¯­è¨€ä¸ºäº†è§£å†³å¹¶å‘ç¼–ç¨‹ä¸­å­˜åœ¨çš„åŸå­æ€§ã€å¯è§æ€§å’Œæœ‰åºæ€§é—®é¢˜ï¼Œæä¾›äº†ä¸€ç³»åˆ—å’Œå¹¶å‘å¤„ç†ç›¸å…³çš„å…³é”®å­—ï¼Œæ¯”å¦‚synchronizedã€volatileã€finalã€concurrenåŒ…ç­‰ã€‚(å†æœ‰äººé—®ä½ Javaå†…å­˜æ¨¡å‹æ˜¯ä»€ä¹ˆï¼Œå°±æŠŠè¿™ç¯‡æ–‡ç« å‘ç»™ä»–) synchronizedé€šè¿‡åŠ é”çš„æ–¹å¼ï¼Œä½¿å¾—å…¶åœ¨éœ€è¦åŸå­æ€§ã€å¯è§æ€§å’Œæœ‰åºæ€§è¿™ä¸‰ç§ç‰¹æ€§çš„æ—¶å€™éƒ½å¯ä»¥ä½œä¸ºå…¶ä¸­ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œçœ‹èµ·æ¥æ˜¯â€œä¸‡èƒ½â€çš„ã€‚çš„ç¡®ï¼Œå¤§éƒ¨åˆ†å¹¶å‘æ§åˆ¶æ“ä½œéƒ½èƒ½ä½¿ç”¨synchronizedæ¥å®Œæˆã€‚å†æœ‰äººé—®ä½ synchronizedæ˜¯ä»€ä¹ˆï¼Œå°±æŠŠè¿™ç¯‡æ–‡ç« å‘ç»™ä»–ã€‚ volatileé€šè¿‡åœ¨volatileå˜é‡çš„æ“ä½œå‰åæ’å…¥å†…å­˜å±éšœçš„æ–¹å¼ï¼Œä¿è¯äº†å˜é‡åœ¨å¹¶å‘åœºæ™¯ä¸‹çš„å¯è§æ€§å’Œæœ‰åºæ€§ã€‚å†æœ‰äººé—®ä½ volatileæ˜¯ä»€ä¹ˆï¼ŒæŠŠè¿™ç¯‡æ–‡ç« ä¹Ÿå‘ç»™ä»– volatileå…³é”®å­—æ˜¯æ— æ³•ä¿è¯åŸå­æ€§çš„ï¼Œè€Œsynchronizedé€šè¿‡monitorenterå’Œmonitorexitä¸¤ä¸ªæŒ‡ä»¤ï¼Œå¯ä»¥ä¿è¯è¢«synchronizedä¿®é¥°çš„ä»£ç åœ¨åŒä¸€æ—¶é—´åªèƒ½è¢«ä¸€ä¸ªçº¿ç¨‹è®¿é—®ï¼Œå³å¯ä¿è¯ä¸ä¼šå‡ºç°CPUæ—¶é—´ç‰‡åœ¨å¤šä¸ªçº¿ç¨‹é—´åˆ‡æ¢ï¼Œå³å¯ä¿è¯åŸå­æ€§ã€‚Javaçš„å¹¶å‘ç¼–ç¨‹ä¸­çš„å¤šçº¿ç¨‹é—®é¢˜åˆ°åº•æ˜¯æ€ä¹ˆå›äº‹å„¿ï¼Ÿ synchronizedçš„é—®é¢˜æˆ‘ä»¬éƒ½çŸ¥é“synchronizedå…¶å®æ˜¯ä¸€ç§åŠ é”æœºåˆ¶ï¼Œé‚£ä¹ˆæ—¢ç„¶æ˜¯é”ï¼Œå¤©ç„¶å°±å…·å¤‡ä»¥ä¸‹å‡ ä¸ªç¼ºç‚¹ï¼š 1ã€æœ‰æ€§èƒ½æŸè€—è™½ç„¶åœ¨JDK 1.6ä¸­å¯¹synchronizedåšäº†å¾ˆå¤šä¼˜åŒ–ï¼Œå¦‚å¦‚é€‚åº”æ€§è‡ªæ—‹ã€é”æ¶ˆé™¤ã€é”ç²—åŒ–ã€è½»é‡çº§é”å’Œåå‘é”ç­‰ï¼ˆæ·±å…¥ç†è§£å¤šçº¿ç¨‹ï¼ˆäº”ï¼‰â€”â€” Javaè™šæ‹Ÿæœºçš„é”ä¼˜åŒ–æŠ€æœ¯ï¼‰ï¼Œä½†æ˜¯ä»–æ¯•ç«Ÿè¿˜æ˜¯ä¸€ç§é”ã€‚ ä»¥ä¸Šè¿™å‡ ç§ä¼˜åŒ–ï¼Œéƒ½æ˜¯å°½é‡æƒ³åŠæ³•é¿å…å¯¹Monitorï¼ˆæ·±å…¥ç†è§£å¤šçº¿ç¨‹ï¼ˆå››ï¼‰â€”â€” Moniterçš„å®ç°åŸç†ï¼‰è¿›è¡ŒåŠ é”ï¼Œä½†æ˜¯ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰æƒ…å†µéƒ½å¯ä»¥ä¼˜åŒ–çš„ï¼Œå†µä¸”å°±ç®—æ˜¯ç»è¿‡ä¼˜åŒ–ï¼Œä¼˜åŒ–çš„è¿‡ç¨‹ä¹Ÿæ˜¯æœ‰ä¸€å®šçš„è€—æ—¶çš„ã€‚ æ‰€ä»¥ï¼Œæ— è®ºæ˜¯ä½¿ç”¨åŒæ­¥æ–¹æ³•è¿˜æ˜¯åŒæ­¥ä»£ç å—ï¼Œåœ¨åŒæ­¥æ“ä½œä¹‹å‰è¿˜æ˜¯è¦è¿›è¡ŒåŠ é”ï¼ŒåŒæ­¥æ“ä½œä¹‹åéœ€è¦è¿›è¡Œè§£é”ï¼Œè¿™ä¸ªåŠ é”ã€è§£é”çš„è¿‡ç¨‹æ˜¯è¦æœ‰æ€§èƒ½æŸè€—çš„ã€‚ å…³äºäºŒè€…çš„æ€§èƒ½å¯¹æ¯”ï¼Œç”±äºè™šæ‹Ÿæœºå¯¹é”å®è¡Œçš„è®¸å¤šæ¶ˆé™¤å’Œä¼˜åŒ–ï¼Œä½¿å¾—æˆ‘ä»¬å¾ˆéš¾é‡åŒ–è¿™ä¸¤è€…ä¹‹é—´çš„æ€§èƒ½å·®è·ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥ç¡®å®šçš„ä¸€ä¸ªåŸºæœ¬åŸåˆ™æ˜¯ï¼švolatileå˜é‡çš„è¯»æ“ä½œçš„æ€§èƒ½å°å·æ™®é€šå˜é‡å‡ ä¹æ— å·®åˆ«ï¼Œä½†æ˜¯å†™æ“ä½œç”±äºéœ€è¦æ’å…¥å†…å­˜å±éšœæ‰€ä»¥ä¼šæ…¢ä¸€äº›ï¼Œå³ä¾¿å¦‚æ­¤ï¼Œvolatileåœ¨å¤§å¤šæ•°åœºæ™¯ä¸‹ä¹Ÿæ¯”é”çš„å¼€é”€è¦ä½ã€‚ 2ã€äº§ç”Ÿé˜»å¡æˆ‘ä»¬åœ¨æ·±å…¥ç†è§£å¤šçº¿ç¨‹ï¼ˆä¸€ï¼‰â€”â€”Synchronizedçš„å®ç°åŸç†ä¸­ä»‹ç»è¿‡å…³äºsynchronizeçš„å®ç°åŸç†ï¼Œæ— è®ºæ˜¯åŒæ­¥æ–¹æ³•è¿˜æ˜¯åŒæ­¥ä»£ç å—ï¼Œæ— è®ºæ˜¯ACC_SYNCHRONIZEDè¿˜æ˜¯monitorenterã€monitorexitéƒ½æ˜¯åŸºäºMonitorå®ç°çš„ã€‚ åŸºäºMonitorå¯¹è±¡ï¼Œå½“å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®ä¸€æ®µåŒæ­¥ä»£ç æ—¶ï¼Œé¦–å…ˆä¼šè¿›å…¥Entry Setï¼Œå½“æœ‰ä¸€ä¸ªçº¿ç¨‹è·å–åˆ°å¯¹è±¡çš„é”ä¹‹åï¼Œæ‰èƒ½è¿›è¡ŒThe OwneråŒºåŸŸï¼Œå…¶ä»–çº¿ç¨‹è¿˜ä¼šç»§ç»­åœ¨Entry Setç­‰å¾…ã€‚å¹¶ä¸”å½“æŸä¸ªçº¿ç¨‹è°ƒç”¨äº†waitæ–¹æ³•åï¼Œä¼šé‡Šæ”¾é”å¹¶è¿›å…¥Wait Setç­‰å¾…ã€‚ æ‰€ä»¥ï¼Œsynchronizeå®ç°çš„é”æœ¬è´¨ä¸Šæ˜¯ä¸€ç§é˜»å¡é”ï¼Œä¹Ÿå°±æ˜¯è¯´å¤šä¸ªçº¿ç¨‹è¦æ’é˜Ÿè®¿é—®åŒä¸€ä¸ªå…±äº«å¯¹è±¡ã€‚ è€Œvolatileæ˜¯Javaè™šæ‹Ÿæœºæä¾›çš„ä¸€ç§è½»é‡çº§åŒæ­¥æœºåˆ¶ï¼Œä»–æ˜¯åŸºäºå†…å­˜å±éšœå®ç°çš„ã€‚è¯´åˆ°åº•ï¼Œä»–å¹¶ä¸æ˜¯é”ï¼Œæ‰€ä»¥ä»–ä¸ä¼šæœ‰synchronizedå¸¦æ¥çš„é˜»å¡å’Œæ€§èƒ½æŸè€—çš„é—®é¢˜ã€‚ volatileçš„é™„åŠ åŠŸèƒ½é™¤äº†å‰é¢æˆ‘ä»¬æåˆ°çš„volatileæ¯”synchronizedæ€§èƒ½å¥½ä»¥å¤–ï¼Œvolatileå…¶å®è¿˜æœ‰ä¸€ä¸ªå¾ˆå¥½çš„é™„åŠ åŠŸèƒ½ï¼Œé‚£å°±æ˜¯ç¦æ­¢æŒ‡ä»¤é‡æ’ã€‚ æˆ‘ä»¬å…ˆæ¥ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œçœ‹ä¸€ä¸‹å¦‚æœåªä½¿ç”¨synchronizedè€Œä¸ä½¿ç”¨volatileä¼šå‘ç”Ÿä»€ä¹ˆé—®é¢˜ï¼Œå°±æ‹¿æˆ‘ä»¬æ¯”è¾ƒç†Ÿæ‚‰çš„å•ä¾‹æ¨¡å¼æ¥çœ‹ã€‚ æˆ‘ä»¬é€šè¿‡åŒé‡æ ¡éªŒé”çš„æ–¹å¼å®ç°ä¸€ä¸ªå•ä¾‹ï¼Œè¿™é‡Œä¸ä½¿ç”¨volatileå…³é”®å­—ï¼š 1234567891011121314public class Singleton &#123; private static Singleton singleton; private Singleton ()&#123;&#125; public static Singleton getSingleton() &#123; if (singleton == null) &#123; synchronized (Singleton.class) &#123; if (singleton == null) &#123; singleton = new Singleton(); &#125; &#125; &#125; return singleton; &#125; &#125; ä»¥ä¸Šä»£ç ï¼Œæˆ‘ä»¬é€šè¿‡ä½¿ç”¨synchronizedå¯¹Singleton.classè¿›è¡ŒåŠ é”ï¼Œå¯ä»¥ä¿è¯åŒä¸€æ—¶é—´åªæœ‰ä¸€ä¸ªçº¿ç¨‹å¯ä»¥æ‰§è¡Œåˆ°åŒæ­¥ä»£ç å—ä¸­çš„å†…å®¹ï¼Œä¹Ÿå°±æ˜¯è¯´singleton = new Singleton()è¿™ä¸ªæ“ä½œåªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œè¿™å°±æ˜¯å®ç°äº†ä¸€ä¸ªå•ä¾‹ã€‚ ä½†æ˜¯ï¼Œå½“æˆ‘ä»¬åœ¨ä»£ç ä¸­ä½¿ç”¨ä¸Šè¿°å•ä¾‹å¯¹è±¡çš„æ—¶å€™æœ‰å¯èƒ½å‘ç”Ÿç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚è¿™æ˜¯ä¸€ä¸ªæ¯”è¾ƒè¯¡å¼‚çš„æƒ…å†µã€‚ æˆ‘ä»¬å‡è®¾Thread1 å’Œ Thread2ä¸¤ä¸ªçº¿ç¨‹åŒæ—¶è¯·æ±‚Singleton.getSingletonæ–¹æ³•çš„æ—¶å€™ï¼š Step1 ,Thread1æ‰§è¡Œåˆ°ç¬¬8è¡Œï¼Œå¼€å§‹è¿›è¡Œå¯¹è±¡çš„åˆå§‹åŒ–ã€‚ Step2 ,Thread2æ‰§è¡Œåˆ°ç¬¬5è¡Œï¼Œåˆ¤æ–­singleton == nullã€‚ Step3 ,Thread2ç»è¿‡åˆ¤æ–­å‘ç°singleton ï¼= nullï¼Œæ‰€ä»¥æ‰§è¡Œç¬¬12è¡Œï¼Œè¿”å›singletonã€‚ Step4 ,Thread2æ‹¿åˆ°singletonå¯¹è±¡ä¹‹åï¼Œå¼€å§‹æ‰§è¡Œåç»­çš„æ“ä½œï¼Œæ¯”å¦‚è°ƒç”¨singleton.call()ã€‚ ä»¥ä¸Šè¿‡ç¨‹ï¼Œçœ‹ä¸Šå»å¹¶æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯ï¼Œå…¶å®ï¼Œåœ¨Step4ï¼ŒThread2åœ¨è°ƒç”¨singleton.call()çš„æ—¶å€™ï¼Œæ˜¯æœ‰å¯èƒ½æŠ›å‡ºç©ºæŒ‡é’ˆå¼‚å¸¸çš„ã€‚ ä¹‹æ‰€æœ‰ä¼šæœ‰NPEæŠ›å‡ºï¼Œæ˜¯å› ä¸ºåœ¨Step3ï¼ŒThread2æ‹¿åˆ°çš„singletonå¯¹è±¡å¹¶ä¸æ˜¯ä¸€ä¸ªå®Œæ•´çš„å¯¹è±¡ã€‚ æˆ‘ä»¬è¿™é‡Œæ¥åˆ†æä¸€ä¸‹ï¼Œsingleton = new Singleton();è¿™è¡Œä»£ç åˆ°åº•åšäº†ä»€ä¹ˆäº‹æƒ…ï¼Œå¤§è‡´è¿‡ç¨‹å¦‚ä¸‹ï¼š 1ã€è™šæ‹Ÿæœºé‡åˆ°newæŒ‡ä»¤ï¼Œåˆ°å¸¸é‡æ± å®šä½åˆ°è¿™ä¸ªç±»çš„ç¬¦å·å¼•ç”¨ã€‚ 2ã€æ£€æŸ¥ç¬¦å·å¼•ç”¨ä»£è¡¨çš„ç±»æ˜¯å¦è¢«åŠ è½½ã€è§£æã€åˆå§‹åŒ–è¿‡ã€‚ 3ã€è™šæ‹Ÿæœºä¸ºå¯¹è±¡åˆ†é…å†…å­˜ã€‚ 4ã€è™šæ‹Ÿæœºå°†åˆ†é…åˆ°çš„å†…å­˜ç©ºé—´éƒ½åˆå§‹åŒ–ä¸ºé›¶å€¼ã€‚ 5ã€è™šæ‹Ÿæœºå¯¹å¯¹è±¡è¿›è¡Œå¿…è¦çš„è®¾ç½®ã€‚ 6ã€æ‰§è¡Œæ–¹æ³•ï¼Œæˆå‘˜å˜é‡è¿›è¡Œåˆå§‹åŒ–ã€‚ 7ã€å°†å¯¹è±¡çš„å¼•ç”¨æŒ‡å‘è¿™ä¸ªå†…å­˜åŒºåŸŸã€‚ æˆ‘ä»¬æŠŠè¿™ä¸ªè¿‡ç¨‹ç®€åŒ–ä¸€ä¸‹ï¼Œç®€åŒ–æˆ3ä¸ªæ­¥éª¤ï¼š aã€JVMä¸ºå¯¹è±¡åˆ†é…ä¸€å—å†…å­˜M bã€åœ¨å†…å­˜Mä¸Šä¸ºå¯¹è±¡è¿›è¡Œåˆå§‹åŒ– cã€å°†å†…å­˜Mçš„åœ°å€å¤åˆ¶ç»™singletonå˜é‡ å› ä¸ºå°†å†…å­˜çš„åœ°å€èµ‹å€¼ç»™singletonå˜é‡æ˜¯æœ€åä¸€æ­¥ï¼Œæ‰€ä»¥Thread1åœ¨è¿™ä¸€æ­¥éª¤æ‰§è¡Œä¹‹å‰ï¼ŒThread2åœ¨å¯¹singleton==nullè¿›è¡Œåˆ¤æ–­ä¸€ç›´éƒ½æ˜¯trueçš„ï¼Œé‚£ä¹ˆä»–ä¼šä¸€ç›´é˜»å¡ï¼Œç›´åˆ°Thread1å°†è¿™ä¸€æ­¥éª¤æ‰§è¡Œå®Œã€‚ ä½†æ˜¯ï¼Œä»¥ä¸Šè¿‡ç¨‹å¹¶ä¸æ˜¯ä¸€ä¸ªåŸå­æ“ä½œï¼Œå¹¶ä¸”ç¼–è¯‘å™¨å¯èƒ½ä¼šè¿›è¡Œé‡æ’åºï¼Œå¦‚æœä»¥ä¸Šæ­¥éª¤è¢«é‡æ’æˆï¼š aã€JVMä¸ºå¯¹è±¡åˆ†é…ä¸€å—å†…å­˜M cã€å°†å†…å­˜çš„åœ°å€å¤åˆ¶ç»™singletonå˜é‡ bã€åœ¨å†…å­˜Mä¸Šä¸ºå¯¹è±¡è¿›è¡Œåˆå§‹åŒ– è¿™æ ·çš„è¯ï¼ŒThread1ä¼šå…ˆæ‰§è¡Œå†…å­˜åˆ†é…ï¼Œåœ¨æ‰§è¡Œå˜é‡èµ‹å€¼ï¼Œæœ€åæ‰§è¡Œå¯¹è±¡çš„åˆå§‹åŒ–ï¼Œé‚£ä¹ˆï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨Thread1è¿˜æ²¡æœ‰ä¸ºå¯¹è±¡è¿›è¡Œåˆå§‹åŒ–çš„æ—¶å€™ï¼ŒThread2è¿›æ¥åˆ¤æ–­singleton==nullå°±å¯èƒ½æå‰å¾—åˆ°ä¸€ä¸ªfalseï¼Œåˆ™ä¼šè¿”å›ä¸€ä¸ªä¸å®Œæ•´çš„sigletonå¯¹è±¡ï¼Œå› ä¸ºä»–è¿˜æœªå®Œæˆåˆå§‹åŒ–æ“ä½œã€‚ è¿™ç§æƒ…å†µä¸€æ—¦å‘ç”Ÿï¼Œæˆ‘ä»¬æ‹¿åˆ°äº†ä¸€ä¸ªä¸å®Œæ•´çš„singletonå¯¹è±¡ï¼Œå½“å°è¯•ä½¿ç”¨è¿™ä¸ªå¯¹è±¡çš„æ—¶å€™å°±ææœ‰å¯èƒ½å‘ç”ŸNPEå¼‚å¸¸ã€‚ é‚£ä¹ˆï¼Œæ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿå› ä¸ºæŒ‡ä»¤é‡æ’å¯¼è‡´äº†è¿™ä¸ªé—®é¢˜ï¼Œé‚£å°±é¿å…æŒ‡ä»¤é‡æ’å°±è¡Œäº†ã€‚ æ‰€ä»¥ï¼Œvolatileå°±æ´¾ä¸Šç”¨åœºäº†ï¼Œå› ä¸ºvolatileå¯ä»¥é¿å…æŒ‡ä»¤é‡æ’ã€‚åªè¦å°†ä»£ç æ”¹æˆä»¥ä¸‹ä»£ç ï¼Œå°±å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼š 1234567891011121314public class Singleton &#123; private volatile static Singleton singleton; private Singleton ()&#123;&#125; public static Singleton getSingleton() &#123; if (singleton == null) &#123; synchronized (Singleton.class) &#123; if (singleton == null) &#123; singleton = new Singleton(); &#125; &#125; &#125; return singleton; &#125; &#125; å¯¹singletonä½¿ç”¨volatileçº¦æŸï¼Œä¿è¯ä»–çš„åˆå§‹åŒ–è¿‡ç¨‹ä¸ä¼šè¢«æŒ‡ä»¤é‡æ’ã€‚synchronizedçš„æœ‰åºæ€§ä¿è¯å‘¢ï¼Ÿ çœ‹åˆ°è¿™é‡Œå¯èƒ½æœ‰æœ‹å‹ä¼šé—®äº†ï¼Œè¯´åˆ°åº•ä¸Šé¢é—®é¢˜è¿˜æ˜¯ä¸ªæœ‰åºæ€§çš„é—®é¢˜ï¼Œä¸æ˜¯è¯´synchronizedæ˜¯å¯ä»¥ä¿è¯æœ‰åºæ€§çš„ä¹ˆï¼Œè¿™é‡Œä¸ºä»€ä¹ˆå°±ä¸è¡Œäº†å‘¢ï¼Ÿ é¦–å…ˆï¼Œå¯ä»¥æ˜ç¡®çš„ä¸€ç‚¹æ˜¯ï¼šsynchronizedæ˜¯æ— æ³•ç¦æ­¢æŒ‡ä»¤é‡æ’å’Œå¤„ç†å™¨ä¼˜åŒ–çš„ã€‚é‚£ä¹ˆä»–æ˜¯å¦‚ä½•ä¿è¯çš„æœ‰åºæ€§å‘¢ï¼Ÿ è¿™å°±è¦å†æŠŠæœ‰åºæ€§çš„æ¦‚å¿µæ‰©å±•ä¸€ä¸‹äº†ã€‚Javaç¨‹åºä¸­å¤©ç„¶çš„æœ‰åºæ€§å¯ä»¥æ€»ç»“ä¸ºä¸€å¥è¯ï¼šå¦‚æœåœ¨æœ¬çº¿ç¨‹å†…è§‚å¯Ÿï¼Œæ‰€æœ‰æ“ä½œéƒ½æ˜¯å¤©ç„¶æœ‰åºçš„ã€‚å¦‚æœåœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­è§‚å¯Ÿå¦ä¸€ä¸ªçº¿ç¨‹ï¼Œæ‰€æœ‰æ“ä½œéƒ½æ˜¯æ— åºçš„ã€‚ ä»¥ä¸Šè¿™å¥è¯ä¹Ÿæ˜¯ã€Šæ·±å…¥ç†è§£Javaè™šæ‹Ÿæœºã€‹ä¸­çš„åŸå¥ï¼Œä½†æ˜¯æ€ä¹ˆç†è§£å‘¢ï¼Ÿå‘¨å¿—æ˜å¹¶æ²¡æœ‰è¯¦ç»†çš„è§£é‡Šã€‚è¿™é‡Œæˆ‘ç®€å•æ‰©å±•ä¸€ä¸‹ï¼Œè¿™å…¶å®å’Œas-if-serialè¯­ä¹‰æœ‰å…³ã€‚ as-if-serialè¯­ä¹‰çš„æ„æ€æŒ‡ï¼šä¸ç®¡æ€ä¹ˆé‡æ’åºï¼Œå•çº¿ç¨‹ç¨‹åºçš„æ‰§è¡Œç»“æœéƒ½ä¸èƒ½è¢«æ”¹å˜ã€‚ç¼–è¯‘å™¨å’Œå¤„ç†å™¨æ— è®ºå¦‚ä½•ä¼˜åŒ–ï¼Œéƒ½å¿…é¡»éµå®ˆas-if-serialè¯­ä¹‰ã€‚ è¿™é‡Œä¸å¯¹as-if-serialè¯­ä¹‰è¯¦ç»†å±•å¼€äº†ï¼Œç®€å•è¯´å°±æ˜¯ï¼Œas-if-serialè¯­ä¹‰ä¿è¯äº†å•çº¿ç¨‹ä¸­ï¼Œä¸ç®¡æŒ‡ä»¤æ€ä¹ˆé‡æ’ï¼Œæœ€ç»ˆçš„æ‰§è¡Œç»“æœæ˜¯ä¸èƒ½è¢«æ”¹å˜çš„ã€‚ é‚£ä¹ˆï¼Œæˆ‘ä»¬å›åˆ°åˆšåˆšé‚£ä¸ªåŒé‡æ ¡éªŒé”çš„ä¾‹å­ï¼Œç«™åœ¨å•çº¿ç¨‹çš„è§’åº¦ï¼Œä¹Ÿå°±æ˜¯åªçœ‹Thread1çš„è¯ï¼Œå› ä¸ºç¼–è¯‘å™¨ä¼šéµå®ˆas-if-serialè¯­ä¹‰ï¼Œæ‰€ä»¥è¿™ç§ä¼˜åŒ–ä¸ä¼šæœ‰ä»»ä½•é—®é¢˜ï¼Œå¯¹äºè¿™ä¸ªçº¿ç¨‹çš„æ‰§è¡Œç»“æœä¹Ÿä¸ä¼šæœ‰ä»»ä½•å½±å“ã€‚ ä½†æ˜¯ï¼ŒThread1å†…éƒ¨çš„æŒ‡ä»¤é‡æ’å´å¯¹Thread2äº§ç”Ÿäº†å½±å“ã€‚ é‚£ä¹ˆï¼Œæˆ‘ä»¬å¯ä»¥è¯´ï¼Œsynchronizedä¿è¯çš„æœ‰åºæ€§æ˜¯å¤šä¸ªçº¿ç¨‹ä¹‹é—´çš„æœ‰åºæ€§ï¼Œå³è¢«åŠ é”çš„å†…å®¹è¦æŒ‰ç…§é¡ºåºè¢«å¤šä¸ªçº¿ç¨‹æ‰§è¡Œã€‚ä½†æ˜¯å…¶å†…éƒ¨çš„åŒæ­¥ä»£ç è¿˜æ˜¯ä¼šå‘ç”Ÿé‡æ’åºï¼Œåªä¸è¿‡ç”±äºç¼–è¯‘å™¨å’Œå¤„ç†å™¨éƒ½éµå¾ªas-if-serialè¯­ä¹‰ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥è®¤ä¸ºè¿™äº›é‡æ’åºåœ¨å•çº¿ç¨‹å†…éƒ¨å¯å¿½ç•¥ã€‚ æ€»ç»“æœ¬æ–‡ä»ä¸¤æ–¹é¢è®ºè¿°äº†volatileçš„é‡è¦æ€§ä»¥åŠä¸å¯æ›¿ä»£æ€§ï¼š ä¸€æ–¹é¢æ˜¯å› ä¸ºsynchronizedæ˜¯ä¸€ç§é”æœºåˆ¶ï¼Œå­˜åœ¨é˜»å¡é—®é¢˜å’Œæ€§èƒ½é—®é¢˜ï¼Œè€Œvolatileå¹¶ä¸æ˜¯é”ï¼Œæ‰€ä»¥ä¸å­˜åœ¨é˜»å¡å’Œæ€§èƒ½é—®é¢˜ã€‚ å¦å¤–ä¸€æ–¹é¢ï¼Œå› ä¸ºvolatileå€ŸåŠ©äº†å†…å­˜å±éšœæ¥å¸®åŠ©å…¶è§£å†³å¯è§æ€§å’Œæœ‰åºæ€§é—®é¢˜ï¼Œè€Œå†…å­˜å±éšœçš„ä½¿ç”¨è¿˜ä¸ºå…¶å¸¦æ¥äº†ä¸€ä¸ªç¦æ­¢æŒ‡ä»¤é‡æ’çš„é™„ä»¶åŠŸèƒ½ï¼Œæ‰€ä»¥åœ¨æœ‰äº›åœºæ™¯ä¸­æ˜¯å¯ä»¥é¿å…å‘ç”ŸæŒ‡ä»¤é‡æ’çš„é—®é¢˜çš„ã€‚","categories":[{"name":"Java","slug":"Java","permalink":"http://www.octber.xyz/categories/Java/"}],"tags":[{"name":"çº¿ç¨‹","slug":"çº¿ç¨‹","permalink":"http://www.octber.xyz/tags/%E7%BA%BF%E7%A8%8B/"}]},{"title":"Java8ä¸­ConcurrentHashMapå˜åŠ¨","slug":"Java8ä¸­ConcurrentHashMapå˜åŠ¨","date":"2019-08-22T07:05:39.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/08/22/Java8ä¸­ConcurrentHashMapå˜åŠ¨/","link":"","permalink":"http://www.octber.xyz/2019/08/22/Java8%E4%B8%ADConcurrentHashMap%E5%8F%98%E5%8A%A8/","excerpt":"","text":"æ¦‚è¿° è½¬è½½è‡ª ğŸ”—é“¾æ¥ æˆ‘ä»¬çŸ¥é“ï¼Œ åœ¨ Java 5 ä¹‹åï¼ŒJDK å¼•å…¥äº† java.util.concurrent å¹¶å‘åŒ… ï¼Œå…¶ä¸­æœ€å¸¸ç”¨çš„å°±æ˜¯ ConcurrentHashMap äº†ï¼Œ å®ƒçš„åŸç†æ˜¯å¼•ç”¨äº†å†…éƒ¨çš„ Segment ( ReentrantLock ) åˆ†æ®µé”ï¼Œä¿è¯åœ¨æ“ä½œä¸åŒæ®µ map çš„æ—¶å€™ï¼Œ å¯ä»¥å¹¶å‘æ‰§è¡Œï¼Œ æ“ä½œåŒæ®µ map çš„æ—¶å€™ï¼Œè¿›è¡Œé”çš„ç«äº‰å’Œç­‰å¾…ã€‚ä»è€Œè¾¾åˆ°çº¿ç¨‹å®‰å…¨ï¼Œ ä¸”æ•ˆç‡å¤§äº synchronizedã€‚ ä½†æ˜¯åœ¨ Java 8 ä¹‹åï¼Œ JDK å´å¼ƒç”¨äº†è¿™ä¸ªç­–ç•¥ï¼Œé‡æ–°ä½¿ç”¨äº† synchronizedã€‚ å¼ƒç”¨åŸå› é€šè¿‡ JDK çš„æºç å’Œå®˜æ–¹æ–‡æ¡£çœ‹æ¥ï¼Œ ä»–ä»¬è®¤ä¸ºçš„å¼ƒç”¨åˆ†æ®µé”çš„åŸå› ç”±ä»¥ä¸‹å‡ ç‚¹ï¼š åŠ å…¥å¤šä¸ªåˆ†æ®µé”æµªè´¹å†…å­˜ç©ºé—´ã€‚ ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œ map åœ¨æ”¾å…¥æ—¶ç«äº‰åŒä¸€ä¸ªé”çš„æ¦‚ç‡éå¸¸å°ï¼Œåˆ†æ®µé”åè€Œä¼šé€ æˆæ›´æ–°ç­‰æ“ä½œçš„é•¿æ—¶é—´ç­‰å¾…ã€‚ ä¸ºäº†æé«˜ GC çš„æ•ˆç‡ æ–°çš„åŒæ­¥æ–¹æ¡ˆæ—¢ç„¶å¼ƒç”¨äº†åˆ†æ®µé”ï¼Œ é‚£ä¹ˆä¸€å®šç”±æ–°çš„çº¿ç¨‹å®‰å…¨æ–¹æ¡ˆï¼Œ æˆ‘ä»¬æ¥çœ‹çœ‹æºç æ˜¯æ€ä¹ˆè§£å†³çº¿ç¨‹å®‰å…¨çš„å‘¢ï¼Ÿï¼ˆæºç ä¿ç•™äº†segment ä»£ç ï¼Œ ä½†å¹¶æ²¡æœ‰ä½¿ç”¨ï¼‰ put é¦–å…ˆé€šè¿‡ hash æ‰¾åˆ°å¯¹åº”é“¾è¡¨è¿‡åï¼Œ æŸ¥çœ‹æ˜¯å¦æ˜¯ç¬¬ä¸€ä¸ªobjectï¼Œ å¦‚æœæ˜¯ï¼Œ ç›´æ¥ç”¨casåŸåˆ™æ’å…¥ï¼Œæ— éœ€åŠ é”ã€‚ 12345678Node&lt;K,V&gt; f; int n, i, fh; K fk; V fv;if (tab == null || (n = tab.length) == 0) tab = initTable(); // è¿™é‡Œåœ¨æ•´ä¸ªmapç¬¬ä¸€æ¬¡æ“ä½œæ—¶ï¼Œåˆå§‹åŒ–hashæ¡¶ï¼Œ ä¹Ÿå°±æ˜¯ä¸€ä¸ªtableelse if ((f = tabAt(tab, i = (n - 1) &amp; hash)) == null) &#123;//å¦‚æœæ˜¯ç¬¬ä¸€ä¸ªobjectï¼Œ åˆ™ç›´æ¥casæ”¾å…¥ï¼Œ ä¸ç”¨é” if (casTabAt(tab, i, null, new Node&lt;K,V&gt;(hash, key, value))) break; &#125; ç„¶åï¼Œ å¦‚æœä¸æ˜¯é“¾è¡¨ç¬¬ä¸€ä¸ªobjectï¼Œ åˆ™ç›´æ¥ç”¨é“¾è¡¨ç¬¬ä¸€ä¸ªobjectåŠ é”ï¼Œè¿™é‡ŒåŠ çš„é”æ˜¯synchronizedï¼Œè™½ç„¶æ•ˆç‡ä¸å¦‚ReentrantLockï¼Œ ä½†èŠ‚çº¦äº†ç©ºé—´ï¼Œè¿™é‡Œä¼šä¸€ç›´ç”¨ç¬¬ä¸€ä¸ªobjectä¸ºé”ï¼Œ ç›´åˆ°é‡æ–°è®¡ç®—mapå¤§å°ï¼Œæ¯”å¦‚æ‰©å®¹æˆ–è€…æ“ä½œäº†ç¬¬ä¸€ä¸ªobjectä¸ºæ­¢ã€‚ 1234567891011121314151617181920212223242526272829303132333435synchronized (f) &#123;// è¿™é‡Œçš„få³ä¸ºç¬¬ä¸€ä¸ªé“¾è¡¨çš„object if (tabAt(tab, i) == f) &#123; if (fh &gt;= 0) &#123; binCount = 1; for (Node&lt;K,V&gt; e = f;; ++binCount) &#123; K ek; if (e.hash == hash &amp;&amp; ((ek = e.key) == key || (ek != null &amp;&amp; key.equals(ek)))) &#123; oldVal = e.val; if (!onlyIfAbsent) e.val = value; break; &#125; Node&lt;K,V&gt; pred = e; if ((e = e.next) == null) &#123; pred.next = new Node&lt;K,V&gt;(hash, key, value); break; &#125; &#125; &#125; else if (f instanceof TreeBin) &#123; // å¤ªé•¿ä¼šç”¨çº¢é»‘æ ‘ Node&lt;K,V&gt; p; binCount = 2; if ((p = ((TreeBin&lt;K,V&gt;)f).putTreeVal(hash, key, value)) != null) &#123; oldVal = p.val; if (!onlyIfAbsent) p.val = value; &#125; &#125; else if (f instanceof ReservationNode) throw new IllegalStateException(&quot;Recursive update&quot;); &#125;&#125;","categories":[{"name":"Java","slug":"Java","permalink":"http://www.octber.xyz/categories/Java/"}],"tags":[{"name":"é›†åˆæ¡†æ¶","slug":"é›†åˆæ¡†æ¶","permalink":"http://www.octber.xyz/tags/%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6/"}]},{"title":"2019.8.22æ—¥æŠ¥","slug":"2019-8-22æ—¥æŠ¥","date":"2019-08-22T06:53:46.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/08/22/2019-8-22æ—¥æŠ¥/","link":"","permalink":"http://www.octber.xyz/2019/08/22/2019-8-22%E6%97%A5%E6%8A%A5/","excerpt":"å‰è¨€2019.8.22æ—¥æŠ¥ [TOC]","text":"å‰è¨€2019.8.22æ—¥æŠ¥ [TOC] 1. ä»»åŠ¡ä¸ä»»åŠ¡è¿›åº¦/å·¥æ—¶è¯´æ˜1.1 ä»½é¢è°ƒæ•´åŠå¤æ ¸ è¿›åº¦: 100% å·¥æ—¶: 4h 1.2 è¡Œæƒ…è½¬æ¢æœº&amp;&amp;ååŠ©æ¨é‘«ç­‰2. å·²è§£å†³çš„é—®é¢˜2.1 ä»½é¢è°ƒæ•´åŠå¤æ ¸2.2 è¡Œæƒ…è½¬æ¢æœº&amp;&amp;ååŠ©æ¨é‘«ç­‰3. æœªè§£å†³çš„é—®é¢˜4. è¿›åº¦å»¶è¿ŸåŸå› è¯´æ˜","categories":[{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"http://www.octber.xyz/categories/%E6%97%A5%E8%AE%B0/"}],"tags":[{"name":"æ—¥æŠ¥","slug":"æ—¥æŠ¥","permalink":"http://www.octber.xyz/tags/%E6%97%A5%E6%8A%A5/"}]},{"title":"2019.8.21æ—¥æŠ¥","slug":"2019-8-21æ—¥æŠ¥","date":"2019-08-21T06:58:43.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/08/21/2019-8-21æ—¥æŠ¥/","link":"","permalink":"http://www.octber.xyz/2019/08/21/2019-8-21%E6%97%A5%E6%8A%A5/","excerpt":"å‰è¨€2019.8.19æ—¥æŠ¥ [TOC]","text":"å‰è¨€2019.8.19æ—¥æŠ¥ [TOC] 1. ä»»åŠ¡ä¸ä»»åŠ¡è¿›åº¦/å·¥æ—¶è¯´æ˜1.1 ä»½é¢è°ƒæ•´åŠå¤æ ¸ è¿›åº¦: 90% å·¥æ—¶: ä¸€å¤© å¤‡æ³¨: å‰©ä¸‹åˆ†é é€™å€‹éœ€è¦å’Œåˆ¥äººå•†é‡ä¸€ä¸‹ 1.2 [æ”¹Bug]å¢å¼€åŸºé‡‘è´¦æˆ· è¿›åº¦: 100% å·¥æ—¶: 2 1.3 [HUI]å‘ç°å¹¶è§£å†³HUIä¸­tableçš„ä¸¤ä¸ªå¤§é—®é¢˜ è¿›åº¦: 100% å·¥æ—¶: 3 2. å·²è§£å†³çš„é—®é¢˜2.1 ä»½é¢è°ƒæ•´åŠå¤æ ¸ é¡µé¢æ˜¾ç¤ºtable(å‰åç«¯) é¡µé¢ä¸‹æ‹‰å¤šé€‰æŸ¥è¯¢(å‰åç«¯) ä»½é¢è°ƒæ•´å¼¹çª—(å‰ç«¯) 2.2 å¢å¼€åŸºé‡‘è´¦æˆ· ä¿®æ”¹å®Œå‘ç°çš„Bug 2.3 HUIä¸­tableçš„ä¸¤å¤§é—®é¢˜ tableå›ºå®šæ ç›®å¤šè¡¨å¤´æ ·å¼å¼‚å¸¸çš„é—®é¢˜,å·²è§£å†³ âˆš tableçš„columnséšè—å¿…é¡»è®¾ç½®styleå…¨å±€,å½±å“å…¶ä»–tableæ˜¾ç¤ºçš„é—®é¢˜,å·²è§£å†³ âˆš 3. æœªè§£å†³çš„é—®é¢˜3.1 ä»½é¢è°ƒæ•´å¼¹çª—åå°å¤„ç†æ•°æ® æ¥å£å†™äº†åŠäº†,å‰©ä¸‹ä¸å¤š 4. è¿›åº¦å»¶è¿ŸåŸå› è¯´æ˜ HUIçš„å‘æœ‰ç‚¹å¤š 5. [å¤‡æ³¨]ä»½é¢è°ƒæ•´åŠå¤æ ¸5.1 è¡¨æ ¼å­—æ®µå¯¹åº” äº§å“ç¼–ç  fund_code bgb_tfundä¸­çš„fund_code æ ¹æ®otc_tunitstockçš„fund_idæŸ¥è¯¢ äº§å“åç§° bgb_tfundä¸­çš„fund_name æ ¹æ®otc_tunitstockçš„fund_idæŸ¥è¯¢ æŠ•èµ„ç»„åˆ basecombi_id(æŠ•èµ„ç»„åˆåºå·) otc_tunitstockä¸­çš„basecombi_id é”€å”®æ¸ é“ agency_code äº¤æ˜“è´¦æˆ· fund_trade_account(åŸºé‡‘äº¤æ˜“è´¦å·) otc_tunitstockä¸­çš„fund_trade_account åŸºé‡‘ä»£ç (è¯åˆ¸ä»£ç ) report_code æ ¹æ®otc_tunitstockçš„inter_code(è¯åˆ¸å†…ç )åˆ°bgb_tinvestfundinfo(æŠ•èµ„åŸºé‡‘ä¿¡æ¯è¡¨(æŠ•èµ„æ ‡çš„))ä¸­æ‹¿åˆ°report_code åŸºé‡‘åç§°(è¯åˆ¸åç§°) stock_name æ ¹æ®otc_tunitstockçš„inter_code(è¯åˆ¸å†…ç )åˆ°bgb_tinvestfundinfo(æŠ•èµ„åŸºé‡‘ä¿¡æ¯è¡¨(æŠ•èµ„æ ‡çš„))ä¸­æ‹¿åˆ°stock_name ç³»ç»Ÿå½“å‰æŒä»“ å¯ç”¨: current_amount+unfrozamount(è§£å†»æ•°é‡)-frozamount(å†»ç»“æ•°é‡) å†»ç»“: frozamount(å†»ç»“æ•°é‡)-unfrozamount(è§£å†»æ•°é‡) æ€»ä»½é¢: current_amount 5.2 ä¸‹æ‹‰å¤šé€‰å®ç°5.3 ä»½é¢è°ƒæ•´å¼¹çª—5.4 åå°å®ç°","categories":[{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"http://www.octber.xyz/categories/%E6%97%A5%E8%AE%B0/"}],"tags":[{"name":"æ—¥æŠ¥","slug":"æ—¥æŠ¥","permalink":"http://www.octber.xyz/tags/%E6%97%A5%E6%8A%A5/"}]},{"title":"2019.8.20æ—¥æŠ¥","slug":"2019-8-20æ—¥æŠ¥","date":"2019-08-20T09:18:08.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/08/20/2019-8-20æ—¥æŠ¥/","link":"","permalink":"http://www.octber.xyz/2019/08/20/2019-8-20%E6%97%A5%E6%8A%A5/","excerpt":"å‰è¨€2019.8.19æ—¥æŠ¥ [TOC]","text":"å‰è¨€2019.8.19æ—¥æŠ¥ [TOC] 1. ä»»åŠ¡ä¸ä»»åŠ¡è¿›åº¦/å·¥æ—¶è¯´æ˜1.1 æŒä»“ä¿¡æ¯æŸ¥è¯¢ è¿›åº¦: 90% å·¥æ—¶: ä¸€å¤© å¤‡æ³¨: å‰©ä¸‹åˆ†é é€™å€‹éœ€è¦å’Œåˆ¥äººå•†é‡ä¸€ä¸‹ 1.2 å­—å…¸è¡¨æ›´æ–° è¿›åº¦: 100% 2. å·²è§£å†³çš„é—®é¢˜2. å·²è§£å†³çš„é—®é¢˜ æŒä»“ä¿¡æ¯æŸ¥è¯¢ å­—å…¸è¡¨æ›´æ–° 3. æœªè§£å†³çš„é—®é¢˜ åˆ†é¡µ 4. è¿›åº¦å»¶è¿ŸåŸå› è¯´æ˜ æ²¡ä½¿ç”¨å°è£…å¥½çš„h-query-grid,è‡ªå·±å†™çš„è¡¨æ ¼å’ŒæŸ¥è¯¢,ä¼šç¨æ…¢ä¸€ç‚¹ otcé¡¹ç›®è¿è¡Œå¼‚å¸¸,æœ€åé‡æ–°æ‹‰é¡¹ç›®æ‰è§£å†³,ç„å­¦é—®é¢˜,è‡³ä»Šä¸çŸ¥é“ä¸ºå•¥ å‰ç«¯jsonä¼ é€’æ•°ç»„æ—¶å€™æ ¼å¼è½¬æ¢å¼‚å¸¸é—®é¢˜,å›°æ‰°äº†å¥½ä¹…","categories":[{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"http://www.octber.xyz/categories/%E6%97%A5%E8%AE%B0/"}],"tags":[{"name":"æ—¥æŠ¥","slug":"æ—¥æŠ¥","permalink":"http://www.octber.xyz/tags/%E6%97%A5%E6%8A%A5/"}]},{"title":"2019.8.19æ—¥æŠ¥","slug":"2019-8-19æ—¥æŠ¥","date":"2019-08-19T05:50:33.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/08/19/2019-8-19æ—¥æŠ¥/","link":"","permalink":"http://www.octber.xyz/2019/08/19/2019-8-19%E6%97%A5%E6%8A%A5/","excerpt":"å‰è¨€2019.8.19æ—¥æŠ¥ [TOC]","text":"å‰è¨€2019.8.19æ—¥æŠ¥ [TOC] 1. ä»»åŠ¡ä¸ä»»åŠ¡è¿›åº¦/å·¥æ—¶è¯´æ˜1.1 è¡Œæƒ…è½¬æ¢æœºå®šæ—¶ä»»åŠ¡ è¿›åº¦: 100% å·¥æ—¶: 2.5h 1.2 æŒä»“ä¿¡æ¯æŸ¥è¯¢ è¿›åº¦: æ€»ä½“: 50% å‰ç«¯: 70% åç«¯: 30% å·¥æ—¶: ä¸‹åˆ+æ™šä¸Š 1.3 æŒä»“ä»½é¢è°ƒæ•´åŠå¤æ ¸ å¤‡æ³¨: è¿™æ˜¯é‚“æ–¯çš„ä»»åŠ¡,ä¸€å¼€å§‹çœ‹é”™äº†,åšäº†å‰ç«¯çš„é¡µé¢(ä¸åŒ…æ‹¬å‰ç«¯é€»è¾‘åŠŸèƒ½) 2. å·²è§£å†³çš„é—®é¢˜ è¡Œæƒ…è½¬æ¢æœºå®šæ—¶ä»»åŠ¡ æŒä»“ä¿¡æ¯æŸ¥è¯¢(å‰ç«¯é¡µé¢+åç«¯éƒ¨åˆ†æ¥å£) æŒä»“ä»½é¢è°ƒæ•´åŠå¤æ ¸(éƒ¨åˆ†å‰ç«¯) 3. æœªè§£å†³çš„é—®é¢˜ æŒä»“ä¿¡æ¯æŸ¥è¯¢ å‰ç«¯å¤šè¡¨å¤´é—®é¢˜éœ€è¦ç»§ç»­ç¡®è®¤ 4. è¿›åº¦å»¶è¿ŸåŸå› è¯´æ˜ ç†è§£ä¸šåŠ¡é€»è¾‘ä¸Šè´¹æ—¶é—´,éœ€è¦è€å¿ƒåšç¬”è®°æ€è€ƒ å‰ç«¯å¤šè¡¨å¤´çš„é—®é¢˜è€—è´¹äº†æ—¶é—´ 5. [å¤‡æ³¨]æŒä»“ä¿¡æ¯æŸ¥è¯¢ é‡ç‚¹: é¡µé¢æ•°æ®éœ€è¦æ§åˆ¶æƒé™ï¼Œè‡ªæœ‰æ€»å…¬å¸ï¼Œæ‰èƒ½çœ‹æ‰€æœ‰å­å…¬å¸çš„æŒä»“ä¿¡æ¯ã€‚å­å…¬å¸åªèƒ½çœ‹è‡ªå·±çš„æŒä»“æ•°æ®ï¼ˆå¹¶ä¸”æ— æœ¬é¡µé¢è¿›å…¥æƒé™ï¼‰ã€‚ å¤‡æ³¨: æ¥å£ä¼ å…¥è‡ªå¸¦äº†å½“å‰company_id æ ¹æ®å…³è”å­å…¬å¸è¡¨dev_tcompanyrightå¯ä»¥å¯¹åº”çš„å­å…¬å¸,å¦‚æœæ²¡æœ‰å­å…¬å¸,è‡ªå·±åªèƒ½çœ‹è‡ªå·±çš„ 5.1 å‰ç«¯å¯¹åº”å­—æ®µ éƒ¨é—¨ç¼–å· company_id ä¼ å…¥è‡ªå¸¦ éƒ¨é—¨åç§° company_name bg_tcompanyä¸­æ ¹æ®company_idæ‹¿åˆ°company_name é”€å”®æ¸ é“ agency_code otc_tunitstock(æŠ•èµ„å•å…ƒè¯åˆ¸è¡¨)ä¸­çš„agency_code äº¤æ˜“è´¦æˆ·(åŸºé‡‘äº¤æ˜“è´¦å·) fund_trade_account otc_tunitstockä¸­çš„fund_trade_account äº§å“ç¼–å· fund_code bgb_tfundä¸­çš„fund_code æ ¹æ®otc_tunitstockçš„fund_idæŸ¥è¯¢ äº§å“åç§° fund_name bgb_tfundä¸­çš„fund_name æ ¹æ®otc_tunitstockçš„fund_idæŸ¥è¯¢ åŸºé‡‘ä»£ç (è¯åˆ¸ä»£ç ) report_code æ ¹æ®otc_tunitstockçš„inter_code(è¯åˆ¸å†…ç )åˆ°bgb_tinvestfundinfo(æŠ•èµ„åŸºé‡‘ä¿¡æ¯è¡¨(æŠ•èµ„æ ‡çš„))ä¸­æ‹¿åˆ°report_code åŸºé‡‘åç§°(è¯åˆ¸åç§°) stock_name æ ¹æ®otc_tunitstockçš„inter_code(è¯åˆ¸å†…ç )åˆ°bgb_tinvestfundinfo(æŠ•èµ„åŸºé‡‘ä¿¡æ¯è¡¨(æŠ•èµ„æ ‡çš„))ä¸­æ‹¿åˆ°stock_name ç³»ç»Ÿå½“å‰æŒä»“ ä¸€è§ˆçš„ä¸»ä½“æ•°æ®æ¥æºäºotc_tagentfundshareè¡¨,ç³»ç»Ÿå½“å‰æŒä»“çš„æ•°æ®æ¥ä¸otc_tunitstock,(ç³»ç»Ÿå†»ç»“=frozamount(å†»ç»“æ•°é‡)-unfrozamount(è§£å†»æ•°é‡)ï¼‰ å¯ç”¨: current_amount+unfrozamount(è§£å†»æ•°é‡)-frozamount(å†»ç»“æ•°é‡) å†»ç»“: frozamount(å†»ç»“æ•°é‡)-unfrozamount(è§£å†»æ•°é‡) æ€»ä»½é¢: current_amount 5.2 å‰ç«¯æŸ¥è¯¢5.3 åç«¯é€»è¾‘ æƒé™åˆ¤æ–­ æœ¬å…¬å¸ (æ˜¯å¦æœ‰)å­å…¬å¸ å¤šè¡¨æŸ¥è¯¢ ä¼˜å…ˆä½¿ç”¨SQLè¯­å¥æŸ¥è¯¢? ä¼˜å…ˆä½¿ç”¨ä¸šåŠ¡é€»è¾‘Javaä»£ç å¤„ç†(å¤ç”¨å…¶ä»–å¾®æœåŠ¡çš„æ¥å£,ä»¥åŠå•è¡¨æŸ¥è¯¢ç»§æ‰¿çš„æ¥å£)? è¿™ä¸¤è€…å¦‚ä½•å–èˆ?","categories":[{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"http://www.octber.xyz/categories/%E6%97%A5%E8%AE%B0/"}],"tags":[{"name":"æ—¥æŠ¥","slug":"æ—¥æŠ¥","permalink":"http://www.octber.xyz/tags/%E6%97%A5%E6%8A%A5/"}]},{"title":"2019.8.17æ—¥æŠ¥","slug":"2019-8-17æ—¥æŠ¥","date":"2019-08-17T02:17:49.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/08/17/2019-8-17æ—¥æŠ¥/","link":"","permalink":"http://www.octber.xyz/2019/08/17/2019-8-17%E6%97%A5%E6%8A%A5/","excerpt":"å‰è¨€2019.8.17æ—¥æŠ¥","text":"å‰è¨€2019.8.17æ—¥æŠ¥ 1. ä»»åŠ¡ä¸ä»»åŠ¡è¿›åº¦/å·¥æ—¶è¯´æ˜1.1 è¡Œæƒ…è½¬æ¢æœºå®šæ—¶ä»»åŠ¡ è¿›åº¦: 95% å·¥æ—¶: ä¸€å¤© 2. å·²è§£å†³çš„é—®é¢˜ è¡Œæƒ…è½¬æ¢æœºå®šæ—¶ä»»åŠ¡å­—æ®µå¯¹åº”é—®é¢˜ 3. æœªè§£å†³çš„é—®é¢˜ intercodeç­‰æ’å…¥/æ›´æ–°è§„åˆ™å°šæœªå®Œæˆ 4. è¿›åº¦å»¶è¿ŸåŸå› è¯´æ˜ otcè½¬ç§»åˆ°bgbä»¥åŠotcè½¬ç§»åˆ°devè¿™ä¸¤ä¸ªå¤§å—å¤ªéº»çƒ¦äº†ï¼Œæä¸å®Œä»£ç è·‘ä¸èµ·æ¥æ²¡æ³•ç»§ç»­å†™ ä¸Šè¿°é—®é¢˜ä»Šå¤©å·²ç»éƒ½è§£å†³äº† æ ¼å¼æ ¡éªŒé”™è¯¯,æ”¹äº†å¾ˆå¤šå¤§å®¶çš„ä»£ç ","categories":[{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"http://www.octber.xyz/categories/%E6%97%A5%E8%AE%B0/"}],"tags":[{"name":"æ—¥æŠ¥","slug":"æ—¥æŠ¥","permalink":"http://www.octber.xyz/tags/%E6%97%A5%E6%8A%A5/"}]},{"title":"2019.8.16æ—¥æŠ¥","slug":"2019-8-16æ—¥æŠ¥","date":"2019-08-16T01:09:16.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/08/16/2019-8-16æ—¥æŠ¥/","link":"","permalink":"http://www.octber.xyz/2019/08/16/2019-8-16%E6%97%A5%E6%8A%A5/","excerpt":"å‰è¨€2019.8.16æ—¥æŠ¥","text":"å‰è¨€2019.8.16æ—¥æŠ¥ 1. ä»»åŠ¡ä¸ä»»åŠ¡è¿›åº¦/å·¥æ—¶è¯´æ˜1.1 è¡Œæƒ…è½¬æ¢æœºå®šæ—¶ä»»åŠ¡ è¿›åº¦: 80% å·¥æ—¶: ä¸€å¤© å¤‡æ³¨: å¯¹åº”å­—æ®µå¡«å…¥,å¤„ç†å¥½otc-&gt;bgbçš„è½¬ç§»,å°±èƒ½å¾ˆå¿«æå®Œçš„ 2. å·²è§£å†³çš„é—®é¢˜è¡Œæƒ…è½¬æ¢æœºå®šæ—¶ä»»åŠ¡ 3. æœªè§£å†³çš„é—®é¢˜ å¯¹åº”å­—æ®µå¡«å…¥ 4. è¿›åº¦å»¶è¿ŸåŸå› è¯´æ˜ otcè½¬ç§»åˆ°bgbé—®é¢˜ æ ¼å¼æ ¡éªŒé”™è¯¯,æ”¹äº†å¾ˆå¤šå¤§å®¶çš„ä»£ç  ç¬¬ä¸€æ¬¡Debugè®°å½• å‘ç°é—®é¢˜: URL é”™è¯¯ â€œæœºæ„æ ‡è¯†â€ é”™è¯¯ Header Body Url ProcessCode Exception ç¬¬äºŒæ¬¡Debugè®°å½• é—®é¢˜ â€œæœºæ„æ ‡è¯†â€ è¿˜æ˜¯é”™è¯¯ Header Url Body Exception ç¬¬ä¸‰æ¬¡Debugè®°å½• å®Œå…¨ä½¿ç”¨æ­£ç¡® 123456789101112 headers.put(&quot;Content-type&quot;, &quot;application/json&quot;); headers.put(&quot;Version&quot;, &quot;æœºå¯†&quot;); headers.put(&quot;InstitutionCode&quot;, &quot;æœºå¯†&quot;); //æœºæ„æ ‡è¯†æš‚æ—¶å…ˆå†™æ­»ä¸ºæ±‡æ—ä¿å¤§ åŠ å¯†ä¸²ã€åç»­è°ƒç”¨æ¥å£è·å–è¯¥å€¼ headers.put(&quot;InstitutionMarking&quot;, &quot;æœºå¯†&quot;); headers.put(&quot;SendTime&quot;, &quot;æœºå¯†&quot;); headers.put(&quot;ProcessCode&quot;, &quot;æœºå¯†&quot;); headers.put(&quot;PageIndex&quot;, &quot;æœºå¯†&quot;); headers.put(&quot;RowSize&quot;, &quot;æœºå¯†&quot;);headers.put(&quot;æœºå¯†&quot;); è·å¾—çœŸå®æ•°æ®","categories":[{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"http://www.octber.xyz/categories/%E6%97%A5%E8%AE%B0/"}],"tags":[{"name":"æ—¥æŠ¥","slug":"æ—¥æŠ¥","permalink":"http://www.octber.xyz/tags/%E6%97%A5%E6%8A%A5/"}]},{"title":"è‡­è‡­åšé¥­æ—¥è®°","slug":"è‡­è‡­åšé¥­æ—¥è®°","date":"2019-08-15T11:30:53.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/08/15/è‡­è‡­åšé¥­æ—¥è®°/","link":"","permalink":"http://www.octber.xyz/2019/08/15/%E8%87%AD%E8%87%AD%E5%81%9A%E9%A5%AD%E6%97%A5%E8%AE%B0/","excerpt":"å‰è¨€è‡­è‡­åšé¥­æ—¥è®°","text":"å‰è¨€è‡­è‡­åšé¥­æ—¥è®° 2019-08-02 å¯ä¹é¸¡ç¿… 2019-08-02 å’–å–±é¸¡å— 2019-08-16 ç‚’èŠ±è›¤ 2019-08-16 é’æ¤’ç‚’è‚‰ 2019-08-16 ç…å¸¦é±¼ 2019-08-24 éº»æ¤’è‚‰é…±","categories":[{"name":"è‡­è‡­ä¸“æ ","slug":"è‡­è‡­ä¸“æ ","permalink":"http://www.octber.xyz/categories/%E8%87%AD%E8%87%AD%E4%B8%93%E6%A0%8F/"}],"tags":[{"name":"é¥­é¥­","slug":"é¥­é¥­","permalink":"http://www.octber.xyz/tags/%E9%A5%AD%E9%A5%AD/"}]},{"title":"2019.8.15æ—¥æŠ¥","slug":"2019-8-15æ—¥æŠ¥","date":"2019-08-15T03:46:37.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/08/15/2019-8-15æ—¥æŠ¥/","link":"","permalink":"http://www.octber.xyz/2019/08/15/2019-8-15%E6%97%A5%E6%8A%A5/","excerpt":"å‰è¨€ 2019.8.15æ—¥æŠ¥ [TOC]","text":"å‰è¨€ 2019.8.15æ—¥æŠ¥ [TOC] 1. ä»»åŠ¡ä¸ä»»åŠ¡è¿›åº¦/å·¥æ—¶è¯´æ˜1.1 è¡Œæƒ…è½¬æ¢æœºå®šæ—¶ä»»åŠ¡ è¿›åº¦: 100% å·¥æ—¶: ä¸€å¤© å¤‡æ³¨: æ¥å£è¯·æ±‚ä¸åˆ°,æ— æ³•æµ‹è¯•,å¦‚æœå­˜åœ¨å’Œç¬¬ä¸‰æ–¹æ¥å£å¯¹æ¥çš„é—®é¢˜ç›®å‰æ— æ³•å¤„ç†,ç›®å‰åªèƒ½å‡è£…æ‹¿åˆ°äº†æ•°æ®çš„æ“ä½œ 2. å·²è§£å†³çš„é—®é¢˜è¡Œæƒ…è½¬æ¢æœºå®šæ—¶ä»»åŠ¡ 3. æœªè§£å†³çš„é—®é¢˜æ—  4. è¿›åº¦å»¶è¿ŸåŸå› è¯´æ˜æ—  5. [è®°å½•]è¡Œæƒ…è½¬æ¢æœºå®šæ—¶ä»»åŠ¡5.1 æ¥å£å‚æ•° æè¿° å­—æ®µ æ˜¯å¦å¿…é¡» å¤‡æ³¨ æ¥å£ç‰ˆæœ¬å· Version Y åŠŸèƒ½ä»£ç  ProcessCode Y 3001 æœºæ„æ ‡è¯† InstitutionMarking Y é‡‡ç”¨O3licä¸­çš„å®¢æˆ·åç§° æ—¥æœŸ Fdate Y TAä»£ç  Tacode N åŸºé‡‘ä»£ç  Fundcode N é¡µç ç¼–å· PageIndex N ä¸å¡«å†™é»˜è®¤ç¬¬ä¸€é¡µ æ¯é¡µæ•°é‡ RowSize Y å‘é€æ—¶é—´ SendTime Y yyyyMMddHHmmssfff ç­¾å SingText Y ç­¾åæ–‡æœ¬æ¶ˆæ¯æµæ°´å·+å‘é€æ—¶é—´ï¼Œè¿›è¡Œç­¾åï¼Œæ¥æ”¶æ¶ˆæ¯åè¿›è¡ŒéªŒç­¾ï¼Œè‹¥éªŒç­¾æœªé€šè¿‡åˆ™æ‹’ç»ã€‚ æ¥å£ç¤ºä¾‹ 12Request Bodyéƒ¨:&#123;&quot;Fdate&quot;:&quot;20180820&quot;&#125; å³æ¥å£å…¥å‚è¡¨ä¸­é™¤äº† Version/SingText/SendTime/InstitutionCode/ProcessCode/PageIndex/RowSize/InstitutionMarkingå‚æ•°ä¹‹å¤–çš„å‚æ•°ï¼Œé€šé€šæ”¾ç½®bodyéƒ¨jsonä¸²ä¸­ã€‚ 5.2 æ¥å£æ•°æ®123456789101112131415161718192021222324252627282930313233343536373839[&#123; &quot;Fdate&quot;:&quot;20180820&quot;, &quot;Fundcode&quot;:&quot;000009&quot;, &quot;FundStatus&quot;:&quot;0&quot;, // åŸºé‡‘çŠ¶æ€ &quot;NetValueType&quot;:&quot;0&quot;, &quot;ConvertStatus&quot;:&quot;0&quot;, // åŸºé‡‘è½¬æ¢çŠ¶æ€ &quot;PeriodicStatus&quot;:&quot;0&quot;, &quot;TransferAgencyStatus&quot;:&quot;0&quot;, &quot;CurrencyType&quot;:&quot;156&quot;, &quot;DefDividendMethod&quot;:&quot;1&quot;, &quot;RegistrarCode&quot;:&quot;01&quot;, &quot;FundIncome&quot;:&quot;00093613&quot;, &quot;FundIncomeFlag&quot;:&quot;0&quot;, &quot;Yield&quot;:&quot;00003132&quot;, &quot;YieldFlag&quot;:&quot;0&quot;, &quot;AllowBreachRedempt&quot;:&quot;0&quot;, &quot;FundType&quot;:&quot;04&quot;, &quot;FundTypeName&quot;:&quot;è´§å¸å‹&quot;, &quot;RegistrarName&quot;:&quot;å—æ–¹åŸºé‡‘ç®¡ç†è‚¡ä»½æœ‰é™å…¬å¸&quot;, &quot;InstAppSubsAmnt&quot;:&quot;160000000&quot;, &quot;InstAppSubsVol&quot;:&quot;160000000&quot;, &quot;MinAmountByInst&quot;:&quot;160000000&quot;, &quot;MinVolByInst&quot;:&quot;160000000&quot;, &quot;MaxRedemptionVol&quot;:&quot;160000000&quot;, &quot;MinAccountBalance&quot;:&quot;160000000&quot;, &quot;MaxSubsVolByInst&quot;:&quot;160000000&quot;, &quot;MaxSubsAmountByInst&quot;:&quot;160000000&quot;, &quot;UnitSubsVolByInst&quot;:&quot;160000000&quot;, &quot;UnitSubsAmountByInst&quot;:&quot;160000000&quot;, &quot;MinBidsAmountByInst&quot;:&quot;160000000&quot;, &quot;MinAppBidsAmountByInst&quot;:&quot;160000000&quot;, &quot;MinRedemptionVol&quot;:&quot;160000000&quot;, &quot;MinInterconvertVol&quot;:&quot;160000000&quot;, &quot;InstMaxPurchase&quot;:&quot;160000000&quot;, &quot;InstDayMaxSumBuy&quot;:&quot;160000000&quot;, &quot;InstDayMaxSumRedeem&quot;:&quot;160000000&quot;, &quot;InstMaxRedeem&quot;:&quot;160000000&quot;, &quot;HuilinDayMaxSumBuy&quot;:&quot;160000000&quot;&#125;] éœ€è¦å°†è¿™äº›å’Œbgb_tinvestfundinfoè¿›è¡Œå¯¹åº”,(æœ‰å¯èƒ½èµ°çš„æ˜¯æ›´æ–°å¤„ç†ï¼Œä¸šåŠ¡ä¸»é”®: report_code+é”€å”®æœºæ„ç¼–å·+ business_date)ã€‚å¤–éƒ¨æ¥å£æŸ¥è¯¢ç»“æœä¸DBå­—æ®µçš„æ˜ å°„å…³ç³»ï¼Œå‚è€ƒæ•°æ®åº“çš„PDMæ–‡ä»¶ Fundcodeå°±æ˜¯ReportCode com.hundsun.am4.bgb.service.business.marketinfo.impl.StockInfoServiceImpl#getInterCodeæ ¹æ®String companyId, String reportCode, Integer marketNoæ‹¿åˆ°InterCode companyIdæ ¹æ®CompanyService.listCompany()æ‹¿åˆ°æ‰€æœ‰companyæ•°æ® reportCodeå°±æ˜¯æ¥å£å›å¤ä¸­çš„FundCode marketNoå›ºå®šæ˜¯6 æœ€ç»ˆå¤„ç†æˆbgb_tinvestfundinfoçš„ä¸‰ä¸ªä¸»é”®: 12345678interCode:9006,companyId:1001,agencyCode:12interCode:9006,companyId:1002,agencyCode:12interCode:9006,companyId:9998,agencyCode:12interCode:9006,companyId:9999,agencyCode:12interCode:9006,companyId:1001,agencyCode:150interCode:9006,companyId:1002,agencyCode:150interCode:9006,companyId:9998,agencyCode:150interCode:9006,companyId:9999,agencyCode:150 5.3 æ•°æ®å¯¹åº” ä¸»é”®ä¸‰ä¸ªéƒ½å·²ç»æå®š purchase_limit-&gt;å¤–éƒ¨æ¥å£ã€æ³•äººæœ€å¤§ç”³è´­é‡‘é¢InstMaxPurchaseã€‘ fund_fee_type-&gt;å¤–éƒ¨æ¥å£ã€æ”¶è´¹æ–¹å¼ShareClassã€‘ applyredeem_status ç”³è´­çŠ¶æ€ é»˜è®¤ä½¿ç”¨é€—å·è¿›è¡Œåˆ†å‰² 123451 æš‚åœç”³è´­2 æš‚åœè½¬å…¥3 æš‚åœèµå›4 æš‚åœè½¬å‡º5 æš‚åœè®¤è´­ å¯å¤šé€‰ï¼Œä¸å¤–éƒ¨æ¥å£çŠ¶æ€å¯¹åº”çš„å…³ç³»ï¼ˆéœ€è¦å¤–éƒ¨çš„ã€åŸºé‡‘çŠ¶æ€ã€‘+ã€åŸºé‡‘è½¬æ¢çŠ¶æ€ã€‘è¿›è¡Œç´¯åŠ å‹¾é€‰ï¼‰ å¤–éƒ¨æ¥å£å­—æ®µã€åŸºé‡‘çŠ¶æ€ã€‘çš„ã€1-å‘è¡Œï¼ˆè®¤è´­ï¼‰ã€‘ å‹¾é€‰ã€1æš‚åœç”³è´­ã€‘ã€ã€2æš‚åœè½¬å…¥ã€‘ã€å‹¾ã€3æš‚åœèµå›ã€‘ã€ã€4æš‚åœè½¬å‡ºã€‘ å¤–éƒ¨æ¥å£å­—æ®µã€åŸºé‡‘çŠ¶æ€ã€‘çš„ã€4åœæ­¢ç”³è´­èµå›ã€‘ å‹¾é€‰ã€1æš‚åœç”³è´­ã€‘ä¸ã€3æš‚åœèµå›ã€‘ã€å‹¾é€‰ã€5æš‚åœè®¤è´­ã€‘ å¤–éƒ¨æ¥å£å­—æ®µã€åŸºé‡‘çŠ¶æ€ã€‘çš„ã€5-åœæ­¢ç”³è´­ã€‘ å‹¾é€‰ã€1æš‚åœç”³è´­ã€‘ã€å‹¾é€‰ã€5æš‚åœè®¤è´­ã€‘ å¤–éƒ¨æ¥å£å­—æ®µã€åŸºé‡‘çŠ¶æ€ã€‘çš„ã€6-åœæ­¢èµå›ã€‘ å‹¾é€‰ã€3æš‚åœèµå›ã€‘ã€å‹¾é€‰ã€5æš‚åœè®¤è´­ã€‘ å¤–éƒ¨æ¥å£å­—æ®µã€åŸºé‡‘çŠ¶æ€ã€‘çš„ã€8-åŸºé‡‘ç»ˆæ­¢ã€‘ å‹¾é€‰ã€1æš‚åœç”³è´­ã€‘ã€ã€2æš‚åœè½¬å…¥ã€‘ã€å‹¾ã€3æš‚åœèµå›ã€‘ã€ã€4æš‚åœè½¬å‡ºã€‘ã€å‹¾é€‰ã€5æš‚åœè®¤è´­ã€‘ å¤–éƒ¨æ¥å£å­—æ®µã€åŸºé‡‘è½¬æ¢çŠ¶æ€ã€‘çš„ã€1-åªå¯è½¬å…¥ã€‘ å‹¾é€‰ã€4æš‚åœè½¬å‡ºã€‘ å¤–éƒ¨æ¥å£å­—æ®µã€åŸºé‡‘è½¬æ¢çŠ¶æ€ã€‘çš„ã€2-åªå¯è½¬å‡ºã€‘ å‹¾é€‰ã€2æš‚åœè½¬å…¥ã€‘ å¤–éƒ¨æ¥å£å­—æ®µã€åŸºé‡‘è½¬æ¢çŠ¶æ€ã€‘çš„ã€3-ä¸å¯è½¬æ¢ã€‘ å‹¾é€‰ã€2æš‚åœè½¬å…¥ã€‘ã€ã€4æš‚åœè½¬å‡ºã€‘ yesterday_nav-&gt;å¤–éƒ¨æ¥å£ã€åŸºé‡‘å•ä½å‡€å€¼NAVã€‘ ta_code-&gt;å¤–éƒ¨æ¥å£ã€RegistrarCodeã€‘ default_auto_buy-&gt;å¤–éƒ¨æ¥å£ã€é»˜è®¤åˆ†çº¢æ–¹å¼DefDividendMethodã€‘ å¤‡æ³¨:å€¼åŸŸä¸å­—å…¸è¡¨é¡¹ä¸ä¸€æ · 0-çº¢åˆ©è½¬æŠ•ï¼Œ1-ç°é‡‘åˆ†çº¢ å­—æ®µé¡¹40356 1. ç°é‡‘åˆ†çº¢ 2. åˆ†çº¢å†æŠ•èµ„ max redeem-&gt;å¤–éƒ¨æ¥å£ã€æ³•äººæœ€å¤§èµå›ä»½é¢InstMaxRedeemã€‘ day_max_sum_redeem-&gt;å¤–éƒ¨æ¥å£ã€æ³•äººå½“æ—¥ç´¯è®¡èµå›æœ€å¤§ä»½é¢InstDayMaxSumRedeemã€‘ day_max_sum_purchase_limit-&gt;å¤–éƒ¨æ¥å£å­—æ®µã€æ±‡æ—å½“æ—¥ç´¯è®¡è´­ä¹°é™é¢2HuilinDayMaxSumBuyã€‘ registrar_name-&gt;å¤–éƒ¨æ¥å£å­—æ®µã€RegistrarNameã€‘ 5.4 æ•°æ®æ–°å¢/æ›´æ–° é€šè¿‡Mapperå­˜æ”¾/æ›´æ–° 5.5 æµç¨‹æ€»ç»“ é€šè¿‡otc_tagencyæ‹¿åˆ°æ‰€æœ‰çš„agency æ ¹æ®æ¯ä¸€ä¸ªagencyçš„agency_codeæ‰¾åˆ°otc_tagencyExternalInterfaceä¸­å¯¹åº”çš„æ•°æ® æ ¹æ®å¯¹åº”çš„agencyExternalInterfaceå’Œdev_httpconfigä¸­çš„æ•°æ®,è¿›è¡Œæ¥å£è¯·æ±‚ æŸ¥åˆ°æ‰€æœ‰çš„companyçš„company_id,å¯¹æ‰€æœ‰çš„companyè·å¾—ä»–ä»¬çš„inter_code æ ¹æ®company_id+inter_code+agency_code(å›ºå®šä¸º6)ä¸ºä¸€ç»„ä¸»é”®,åŠ ä¸Šå…¶ä»–å¯¹åº”å­—æ®µæ•°æ®,æ’å…¥æˆ–æ›´æ–°bgb_tinvestfundinfoè¡¨ å¤‡æ³¨: (ä¸¾ä¾‹è¯´æ˜) otc_tagencyæŸ¥åˆ°2æ¡æ•°æ®,å¯¹åº”2æ¡otc_tagencyExternalInterfaceæ•°æ® æŸ¥åˆ°ä¸‰æ¡companyä¿¡æ¯,å¯¹åº”3ç»„bgb_tinvestfundinfoä¸»é”®ä¿¡æ¯ ç»¼ä¸Š,ä¸€å…±å…­æ¡æ•°æ®æ’å…¥/æ›´æ–°åˆ°äº†bgb_tinvestfundinfoä¸­","categories":[{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"http://www.octber.xyz/categories/%E6%97%A5%E8%AE%B0/"}],"tags":[{"name":"æ—¥æŠ¥","slug":"æ—¥æŠ¥","permalink":"http://www.octber.xyz/tags/%E6%97%A5%E6%8A%A5/"}]},{"title":"JUCç®€æ","slug":"JUCç®€æ","date":"2019-08-14T13:14:40.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/08/14/JUCç®€æ/","link":"","permalink":"http://www.octber.xyz/2019/08/14/JUC%E7%AE%80%E6%9E%90/","excerpt":"å‰è¨€ä¸€ç›´ä»¥æ¥å¯¹JUCéƒ½äº†è§£ä¸æ·±å…¥,ä»Šå¤©åšä¸€ä¸ªäº†è§£å’Œåˆ†æ","text":"å‰è¨€ä¸€ç›´ä»¥æ¥å¯¹JUCéƒ½äº†è§£ä¸æ·±å…¥,ä»Šå¤©åšä¸€ä¸ªäº†è§£å’Œåˆ†æ 1. JUCç®€ä»‹ åœ¨Java 5.0æä¾›äº† java.util.concurrent(ç®€ç§°JUC)åŒ…,åœ¨æ­¤åŒ…ä¸­å¢åŠ äº†åœ¨å¹¶å‘ç¼–ç¨‹ä¸­å¾ˆå¸¸ç”¨çš„å·¥å…·ç±», ç”¨äºå®šä¹‰ç±»ä¼¼äºçº¿ç¨‹çš„è‡ªå®šä¹‰å­ç³»ç»Ÿ,åŒ…æ‹¬çº¿ç¨‹æ± ,å¼‚æ­¥ IO å’Œè½»é‡çº§ä»»åŠ¡æ¡†æ¶;è¿˜æä¾›äº†è®¾è®¡ç”¨äºå¤šçº¿ç¨‹ä¸Šä¸‹æ–‡ä¸­ çš„ Collection å®ç°ç­‰;","categories":[{"name":"çº¿ç¨‹","slug":"çº¿ç¨‹","permalink":"http://www.octber.xyz/categories/%E7%BA%BF%E7%A8%8B/"}],"tags":[{"name":"JUC","slug":"JUC","permalink":"http://www.octber.xyz/tags/JUC/"}]},{"title":"2019.8.14æ—¥æŠ¥","slug":"2019-8-14æ—¥æŠ¥","date":"2019-08-14T08:37:34.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/08/14/2019-8-14æ—¥æŠ¥/","link":"","permalink":"http://www.octber.xyz/2019/08/14/2019-8-14%E6%97%A5%E6%8A%A5/","excerpt":"å‰è¨€ 2019.8.13æ—¥æŠ¥ ç›®å½• [TOC]","text":"å‰è¨€ 2019.8.13æ—¥æŠ¥ ç›®å½• [TOC] 1. ä»»åŠ¡ä¸ä»»åŠ¡è¿›åº¦/å·¥æ—¶è¯´æ˜1.1 èµ„é‡‘è°ƒæ•´åŠå¤æ ¸ è¿›åº¦: 100% å·¥æ—¶: 6.5h 1.2 è¡Œæƒ…è½¬æ¢æœºå®šæ—¶ä»»åŠ¡ è¿›åº¦: ? (åˆšå¼€ä¸ªå¤´å§,æ²¡äº†è§£è¿‡è¿™å—) å·¥æ—¶: 4h 2. å·²è§£å†³çš„é—®é¢˜2.1 èµ„é‡‘è°ƒæ•´åŠå¤æ ¸3. æœªè§£å†³çš„é—®é¢˜3.1è¡Œæƒ…è½¬æ¢æœºå®šæ—¶ä»»åŠ¡4. è¿›åº¦å»¶è¿ŸåŸå› è¯´æ˜å¯¹è½¬æ¢æœºä»»åŠ¡ä»¥åŠå…¶æµç¨‹ä¸äº†è§£,é‡‘è/é“¶è¡Œä¸šåŠ¡çŸ¥è¯†å¤ªè–„å¼± 5. [è®°å½•]è¡Œæƒ…è½¬æ¢æœºå®šæ—¶ä»»åŠ¡5.1 ä»»åŠ¡ç®€è¿°è¿™æ˜¯ä¸€ä¸ªçº¯åç«¯çš„è½¬æ¢æœºå®šæ—¶ä»»åŠ¡,éœ€è¦é€šè¿‡å®šæ—¶ä»»åŠ¡,å®šæ—¶ä»ç¬¬ä¸‰æ–¹æ¥å£è·å–æ•°æ®å¹¶è½åº“ 5.2 æ•°æ®åº“ç›¸å…³è¡¨ otc_tagentaccountapp(éœ€è¦æ›´æ–°çŠ¶æ€) å·²ç»æ”¹åä¸ºbgb_tagentaccountapp(åœºå¤–ä»£é”€è´¦æˆ·ç±»ç”³æŠ¥è¡¨) é—®é¢˜: æ›´æ–°ä»€ä¹ˆçŠ¶æ€? otc_tjobsetting(åºŸå¼ƒï¼Œæ”¹æˆdev_httpconfig) otc_tjobsetting-&gt;å·²ç»åºŸå¼ƒ,ä½¿ç”¨dev_httpconfig æ­¤è¡¨ç”¨äºåœºå¤–å®šæ—¶ä»»åŠ¡,ä¸šåŠ¡ç›¸å…³çš„é…ç½® æˆ‘ä½¿ç”¨çš„ä»»åŠ¡ä¸º400: åœºå¤–è¡Œæƒ…æŸ¥è¯¢ä»»åŠ¡ dev_httpconfig config_code varchar(32) NOT NULL DEFAULT &#39; &#39; PRIMARY KEY, config_name varchar(128) NOT NULL DEFAULT &#39; &#39;, function_id varchar(32) NOT NULL DEFAULT &#39; &#39;, time_out int(11) DEFAULT 0, retry_times int(11) DEFAULT 0, params varchar(255) DEFAULT &#39; &#39;, onetime_declare_size int(11) DEFAULT 0, query_page_size int(11) DEFAULT 0, thread_num int(11) DEFAULT 0, otc_tjobexecuteinfo åœºå¤–å®šæ—¶ä»»åŠ¡æ‰§è¡Œä¿¡æ¯è¡¨ æˆ‘ä½¿ç”¨çš„ä»»åŠ¡ä¸º400: åœºå¤–è¡Œæƒ…æŸ¥è¯¢ä»»åŠ¡ otc_tagency é”€å”®æ¸ é“è¡¨ é”€å”®æœºæ„ç¼–ç  agency_code varchar(16)ä»£é”€æœºæ„åç§° agency_name varchar(128) otc_tagencyexternalinterface é”€å”®æ¸ é“å¤–éƒ¨æ¥å£å¯¹æ¥ä¿¡æ¯è¡¨ company_id=0 è¡Œæƒ…åŠå…¶ä»–æŸ¥è¯¢æ¥å£: quotation_other_query_url bgb_tinvestfundinfo è½åº“è¡¨ 5.3 å¤–éƒ¨æ¥å£ ä½ç½®: D:\\Program Files\\HundSun\\AM4æ–‡æ¡£\\å…¶ä»–\\xxåŸºé‡‘ä»£é”€å¯¹æ¥O3æ¥å£è§„èŒƒV3.9.1.doc å‚è€ƒæ ‡å‡†ç‰ˆå‰ç½®æœºæ¥å£æ–‡æ¡£3.9.1ç‰ˆçš„[3.1è¡Œæƒ…ä¿¡æ¯æŸ¥è¯¢]æ¥å£ è¡Œæƒ…ä¿¡æ¯æŸ¥è¯¢ åŠŸèƒ½æè¿° æœ¬åŸºé‡‘ä¸ºå•åŸºé‡‘è¡Œæƒ…ä¿¡æ¯æŸ¥è¯¢ï¼ŒO32è°ƒç”¨XXXä»£é”€ã€‚ æ¥å£è¾“å…¥ æ¥å£è¿”å› 5.4 è½¬æ¢æœºå¤„ç† æŸ¥è¯¢ä»»åŠ¡IDä¸ºã€400:åœºå¤–è¡Œæƒ…æŸ¥è¯¢ä»»åŠ¡ã€‘ æ¯å¤©å•æ¬¡æ‰§è¡Œä»»åŠ¡(9:00æ‰§è¡Œ)ã€‚ @Scheduled(cron = &quot;0 0 9 * * ?&quot;) è½¬æ¢æœºçš„é…ç½®ä¿¡æ¯éœ€è¦ä»dev_httpconfigä¸otc_tagencyexternalinterface(é”€å”®æ¸ é“å¤–éƒ¨æ¥å£å¯¹æ¥ä¿¡æ¯è¡¨)ä¸­è¯»å–ï¼Œæ‰§è¡Œæ—¥å¿—è®°å½•åˆ°otc_tjobexecuteinfoä¸­(é‡‡ç”¨å¼‚æ­¥çš„æ¶ˆæ¯æœºåˆ¶å¤„ç†ï¼Œç»Ÿä¸€æäº¤ç»™æ—¥å¿—è½¬æ¢æœºæ—¥å¿—æœåŠ¡)ã€‚ å¤–éƒ¨æ¥å£è¿”å›çš„æ•°æ®æ’å…¥åˆ°bgb_tinvestfundinfoè¡¨(æœ‰å¯èƒ½èµ°çš„æ˜¯æ›´æ–°å¤„ç†ï¼Œä¸šåŠ¡ä¸»é”®: report_code+é”€å”®æœºæ„ç¼–å·+ business_date)ã€‚å¤–éƒ¨æ¥å£æŸ¥è¯¢ç»“æœä¸DBå­—æ®µçš„æ˜ å°„å…³ç³»ï¼Œå‚è€ƒæ•°æ®åº“çš„PDMæ–‡ä»¶ 5.5 å…·ä½“æµç¨‹ é¦–å…ˆä»otc_tagency(é”€å”®æ¸ é“è¡¨)ä¸­æ‹¿åˆ°æ‰€æœ‰çš„ä¿¡æ¯Â· company_id å…¬å¸ç¼–å· agency_code æ¸ é“å· agency_name æ¸ é“å å¾ªç¯ç¬¬ä¸€æ­¥æ‹¿åˆ°çš„æ•°æ®,æ ¹æ®agency_codeå’Œcompany_idå»otc_tagencyexternalinterface(é”€å”®æ¸ é“å¤–éƒ¨æ¥å£å¯¹æ¥ä¿¡æ¯è¡¨)ä¸­æ‹¿åˆ°å¯¹åº”çš„å¤–éƒ¨æ¥å£(quotation_other_query_url)çš„æ‰€æœ‰é…ç½® æˆ‘ä»¬çš„ä»»åŠ¡ä¸º:[400:åœºå¤–è¡Œæƒ…æŸ¥è¯¢ä»»åŠ¡],å¯ä»¥åœ¨dev_httpconfigä¸­æ‹¿åˆ°å¯¹åº”çš„é…ç½® ä»¥ä¸Šå°±æ˜¯è½¬æ¢æœºçš„é…ç½®ä¿¡æ¯éœ€è¦ä»dev_httpconfigä¸otc_tagencyexternalinterfaceä¸­è¯»å–çš„æ„æ€","categories":[{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"http://www.octber.xyz/categories/%E6%97%A5%E8%AE%B0/"}],"tags":[{"name":"æ—¥æŠ¥","slug":"æ—¥æŠ¥","permalink":"http://www.octber.xyz/tags/%E6%97%A5%E6%8A%A5/"}]},{"title":"Javaä¸­çš„é›†åˆå’Œçº¿ç¨‹å®‰å…¨","slug":"Javaä¸­çš„é›†åˆå’Œçº¿ç¨‹å®‰å…¨","date":"2019-08-13T13:17:03.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/08/13/Javaä¸­çš„é›†åˆå’Œçº¿ç¨‹å®‰å…¨/","link":"","permalink":"http://www.octber.xyz/2019/08/13/Java%E4%B8%AD%E7%9A%84%E9%9B%86%E5%90%88%E5%92%8C%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/","excerpt":"å‰è¨€Javaä¸­çš„é›†åˆå’Œçº¿ç¨‹å®‰å…¨","text":"å‰è¨€Javaä¸­çš„é›†åˆå’Œçº¿ç¨‹å®‰å…¨ é›†åˆæ¡†æ¶Javaé›†åˆæ¡†æ¶ (Java Collections Framework, JCF) ä¹Ÿç§°å®¹å™¨ï¼Œè¿™é‡Œå¯ä»¥ç±»æ¯” C++ ä¸­çš„ STL Javaé›†åˆæ¡†æ¶æä¾›äº†æ•°æ®æŒæœ‰å¯¹è±¡çš„æ–¹å¼ï¼Œæä¾›äº†å¯¹æ•°æ®é›†åˆçš„æ“ä½œã€‚Java é›†åˆæ¡†æ¶ä½äº java.util åŒ…ä¸‹ï¼Œä¸»è¦æœ‰ä¸‰ä¸ªå¤§ç±»ï¼šCollection(æ¥å£)**ã€Map(æ¥å£)ã€é›†åˆå·¥å…·ç±»**ã€‚ Collection ArrayListï¼šçº¿ç¨‹ä¸åŒæ­¥ã€‚é»˜è®¤åˆå§‹å®¹é‡ä¸º 10ï¼Œå½“æ•°ç»„å¤§å°ä¸è¶³æ—¶å®¹é‡æ‰©å¤§ä¸º 1.5 å€ã€‚ä¸ºè¿½æ±‚æ•ˆç‡ï¼ŒArrayList æ²¡æœ‰å®ç°åŒæ­¥ï¼ˆsynchronizedï¼‰ï¼Œå¦‚æœéœ€è¦å¤šä¸ªçº¿ç¨‹å¹¶å‘è®¿é—®ï¼Œç”¨æˆ·å¯ä»¥æ‰‹åŠ¨åŒæ­¥ï¼Œä¹Ÿå¯ä½¿ç”¨ Vector æ›¿ä»£ã€‚ LinkedListï¼šçº¿ç¨‹ä¸åŒæ­¥ã€‚åŒå‘é“¾æ¥å®ç°ã€‚LinkedList åŒæ—¶å®ç°äº† List æ¥å£å’Œ Deque æ¥å£ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒæ—¢å¯ä»¥çœ‹ä½œä¸€ä¸ªé¡ºåºå®¹å™¨ï¼Œåˆå¯ä»¥çœ‹ä½œä¸€ä¸ªé˜Ÿåˆ—ï¼ˆQueueï¼‰ï¼ŒåŒæ—¶åˆå¯ä»¥çœ‹ä½œä¸€ä¸ªæ ˆï¼ˆStackï¼‰ã€‚è¿™æ ·çœ‹æ¥ï¼ŒLinkedList ç®€ç›´å°±æ˜¯ä¸ªå…¨èƒ½å† å†›ã€‚å½“ä½ éœ€è¦ä½¿ç”¨æ ˆæˆ–è€…é˜Ÿåˆ—æ—¶ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ LinkedListï¼Œä¸€æ–¹é¢æ˜¯å› ä¸º Java å®˜æ–¹å·²ç»å£°æ˜ä¸å»ºè®®ä½¿ç”¨ Stack ç±»ï¼Œæ›´é—æ†¾çš„æ˜¯ï¼ŒJava é‡Œæ ¹æœ¬æ²¡æœ‰ä¸€ä¸ªå«åš Queue çš„ç±»ï¼ˆå®ƒæ˜¯ä¸ªæ¥å£åå­—ï¼‰ã€‚å…³äºæ ˆæˆ–é˜Ÿåˆ—ï¼Œç°åœ¨çš„é¦–é€‰æ˜¯ ArrayDequeï¼Œå®ƒæœ‰ç€æ¯” LinkedListï¼ˆå½“ä½œæ ˆæˆ–é˜Ÿåˆ—ä½¿ç”¨æ—¶ï¼‰æœ‰ç€æ›´å¥½çš„æ€§èƒ½ã€‚ Stack and Queueï¼šJava é‡Œæœ‰ä¸€ä¸ªå«åš Stack çš„ç±»ï¼Œå´æ²¡æœ‰å«åš Queue çš„ç±»ï¼ˆå®ƒæ˜¯ä¸ªæ¥å£åå­—ï¼‰ã€‚å½“éœ€è¦ä½¿ç”¨æ ˆæ—¶ï¼ŒJava å·²ä¸æ¨èä½¿ç”¨ Stackï¼Œè€Œæ˜¯æ¨èä½¿ç”¨æ›´é«˜æ•ˆçš„ ArrayDequeï¼›æ—¢ç„¶ Queue åªæ˜¯ä¸€ä¸ªæ¥å£ï¼Œå½“éœ€è¦ä½¿ç”¨é˜Ÿåˆ—æ—¶ä¹Ÿå°±é¦–é€‰ ArrayDeque äº†ï¼ˆæ¬¡é€‰æ˜¯ LinkedList ï¼‰ã€‚ Vectorï¼šçº¿ç¨‹åŒæ­¥ã€‚é»˜è®¤åˆå§‹å®¹é‡ä¸º 10ï¼Œå½“æ•°ç»„å¤§å°ä¸è¶³æ—¶å®¹é‡æ‰©å¤§ä¸º 2 å€ã€‚å®ƒçš„åŒæ­¥æ˜¯é€šè¿‡ Iterator æ–¹æ³•åŠ  synchronized å®ç°çš„ã€‚ Stackï¼šçº¿ç¨‹åŒæ­¥ã€‚ç»§æ‰¿è‡ª Vectorï¼Œæ·»åŠ äº†å‡ ä¸ªæ–¹æ³•æ¥å®Œæˆæ ˆçš„åŠŸèƒ½ã€‚ç°åœ¨å·²ç»ä¸æ¨èä½¿ç”¨ Stackï¼Œåœ¨æ ˆå’Œé˜Ÿåˆ—ä¸­æœ‰é™ä½¿ç”¨ ArrayDequeï¼Œå…¶æ¬¡æ˜¯ LinkedListã€‚ TreeSetï¼šçº¿ç¨‹ä¸åŒæ­¥ï¼Œå†…éƒ¨ä½¿ç”¨ NavigableMap æ“ä½œã€‚é»˜è®¤å…ƒç´  â€œè‡ªç„¶é¡ºåºâ€ æ’åˆ—ï¼Œå¯ä»¥é€šè¿‡ Comparator æ”¹å˜æ’åºã€‚TreeSet é‡Œé¢æœ‰ä¸€ä¸ª TreeMapï¼ˆé€‚é…å™¨æ¨¡å¼ï¼‰ HashSetï¼šçº¿ç¨‹ä¸åŒæ­¥ï¼Œå†…éƒ¨ä½¿ç”¨ HashMap è¿›è¡Œæ•°æ®å­˜å‚¨ï¼Œæä¾›çš„æ–¹æ³•åŸºæœ¬éƒ½æ˜¯è°ƒç”¨ HashMap çš„æ–¹æ³•ï¼Œæ‰€ä»¥ä¸¤è€…æœ¬è´¨æ˜¯ä¸€æ ·çš„ã€‚é›†åˆå…ƒç´ å¯ä»¥ä¸º NULLã€‚ Setï¼šSet æ˜¯ä¸€ç§ä¸åŒ…å«é‡å¤å…ƒç´ çš„ Collectionï¼ŒSet æœ€å¤šåªæœ‰ä¸€ä¸ª null å…ƒç´ ã€‚Set é›†åˆé€šå¸¸å¯ä»¥é€šè¿‡ Map é›†åˆé€šè¿‡é€‚é…å™¨æ¨¡å¼å¾—åˆ°ã€‚ PriorityQueueï¼šJava ä¸­ PriorityQueue å®ç°äº† Queue æ¥å£ï¼Œä¸å…è®¸æ”¾å…¥ null å…ƒç´ ï¼›å…¶é€šè¿‡å †å®ç°ï¼Œå…·ä½“è¯´æ˜¯é€šè¿‡å®Œå…¨äºŒå‰æ ‘ï¼ˆcomplete binary treeï¼‰å®ç°çš„å°é¡¶å †ï¼ˆä»»æ„ä¸€ä¸ªéå¶å­èŠ‚ç‚¹çš„æƒå€¼ï¼Œéƒ½ä¸å¤§äºå…¶å·¦å³å­èŠ‚ç‚¹çš„æƒå€¼ï¼‰ï¼Œä¹Ÿå°±æ„å‘³ç€å¯ä»¥é€šè¿‡æ•°ç»„æ¥ä½œä¸º PriorityQueue çš„åº•å±‚å®ç°ã€‚ ä¼˜å…ˆé˜Ÿåˆ—çš„ä½œç”¨æ˜¯èƒ½ä¿è¯æ¯æ¬¡å–å‡ºçš„å…ƒç´ éƒ½æ˜¯é˜Ÿåˆ—ä¸­æƒå€¼æœ€å°çš„ï¼ˆJava çš„ä¼˜å…ˆé˜Ÿåˆ—æ¯æ¬¡å–æœ€å°å…ƒç´ ï¼ŒC++ çš„ä¼˜å…ˆé˜Ÿåˆ—æ¯æ¬¡å–æœ€å¤§å…ƒç´ ï¼‰ã€‚è¿™é‡Œç‰µæ¶‰åˆ°äº†å¤§å°å…³ç³»ï¼Œå…ƒç´ å¤§å°çš„è¯„åˆ¤å¯ä»¥é€šè¿‡å…ƒç´ æœ¬èº«çš„è‡ªç„¶é¡ºåºï¼ˆnatural orderingï¼‰ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æ„é€ æ—¶ä¼ å…¥çš„æ¯”è¾ƒå™¨ï¼ˆComparatorï¼Œç±»ä¼¼äº C++ çš„ä»¿å‡½æ•°ï¼‰ã€‚ NavigableSetï¼šæ·»åŠ äº†æœç´¢åŠŸèƒ½ï¼Œå¯ä»¥å¯¹ç»™å®šå…ƒç´ è¿›è¡Œæœç´¢ï¼šå°äºã€å°äºç­‰äºã€å¤§äºã€å¤§äºç­‰äºï¼Œæ”¾å›ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„æœ€æ¥è¿‘ç»™å®šå…ƒç´ çš„ keyã€‚ EnumSetï¼šçº¿ç¨‹ä¸åŒæ­¥ã€‚å†…éƒ¨ä½¿ç”¨ Enum æ•°ç»„å®ç°ï¼Œé€Ÿåº¦æ¯” HashSet å¿«ã€‚åªèƒ½å­˜å‚¨åœ¨æ„é€ å‡½æ•°ä¼ å…¥çš„æšä¸¾ç±»çš„æšä¸¾å€¼ã€‚ Map å…³äºçº¢é»‘æ ‘å¯å‚è€ƒ: https://www.jianshu.com/p/e136ec79235c TreeMapï¼šçº¿ç¨‹ä¸åŒæ­¥ï¼ŒåŸºäº çº¢é»‘æ ‘ ï¼ˆRed-Black treeï¼‰çš„ NavigableMap å®ç°ï¼Œèƒ½å¤ŸæŠŠå®ƒä¿å­˜çš„è®°å½•æ ¹æ®é”®æ’åºï¼Œé»˜è®¤æ˜¯æŒ‰é”®å€¼çš„å‡åºæ’åºï¼Œä¹Ÿå¯ä»¥æŒ‡å®šæ’åºçš„æ¯”è¾ƒå™¨ï¼Œå½“ç”¨ Iterator éå† TreeMap æ—¶ï¼Œå¾—åˆ°çš„è®°å½•æ˜¯æ’è¿‡åºçš„ã€‚ TreeMap åº•å±‚é€šè¿‡çº¢é»‘æ ‘ï¼ˆRed-Black treeï¼‰å®ç°ï¼Œä¹Ÿå°±æ„å‘³ç€ containsKey(), get(), put(), remove() éƒ½æœ‰ç€ log(n) çš„æ—¶é—´å¤æ‚åº¦ã€‚å…¶å…·ä½“ç®—æ³•å®ç°å‚ç…§äº†ã€Šç®—æ³•å¯¼è®ºã€‹ã€‚ HashTableï¼šçº¿ç¨‹å®‰å…¨ï¼ŒHashMap çš„è¿­ä»£å™¨ (Iterator) æ˜¯ fail-fast è¿­ä»£å™¨ã€‚HashTable ä¸èƒ½å­˜å‚¨ NULL çš„ key å’Œ valueã€‚ HashMapï¼šçº¿ç¨‹ä¸åŒæ­¥ã€‚æ ¹æ® key çš„ hashcode è¿›è¡Œå­˜å‚¨ï¼Œå†…éƒ¨ä½¿ç”¨é™æ€å†…éƒ¨ç±» Node çš„æ•°ç»„è¿›è¡Œå­˜å‚¨ï¼Œé»˜è®¤åˆå§‹å¤§å°ä¸º 16ï¼Œæ¯æ¬¡æ‰©å¤§ä¸€å€ã€‚å½“å‘ç”Ÿ Hash å†²çªæ—¶ï¼Œé‡‡ç”¨æ‹‰é“¾æ³•ï¼ˆé“¾è¡¨ï¼‰ã€‚JDK 1.8ä¸­ï¼šå½“å•ä¸ªæ¡¶ä¸­å…ƒç´ ä¸ªæ•°å¤§äºç­‰äº8æ—¶ï¼Œé“¾è¡¨å®ç°æ”¹ä¸ºçº¢é»‘æ ‘å®ç°ï¼›å½“å…ƒç´ ä¸ªæ•°å°äº6æ—¶ï¼Œå˜å›é“¾è¡¨å®ç°ã€‚ç”±æ­¤æ¥é˜²æ­¢hashCodeæ”»å‡»ã€‚ Java HashMap é‡‡ç”¨çš„æ˜¯å†²çªé“¾è¡¨æ–¹å¼ã€‚ HashMap æ˜¯ Hashtable çš„è½»é‡çº§å®ç°ï¼Œå¯ä»¥æ¥å—ä¸º null çš„é”®å€¼ (key) å’Œå€¼ (value)ï¼Œè€Œ Hashtable ä¸å…è®¸ã€‚ LinkedHashMapï¼šä¿å­˜äº†è®°å½•çš„æ’å…¥é¡ºåºï¼Œåœ¨ç”¨ Iterator éå† LinkedHashMap æ—¶ï¼Œå…ˆå¾—åˆ°çš„è®°å½•è‚¯å®šæ˜¯å…ˆæ’å…¥çš„ã€‚ä¹Ÿå¯ä»¥åœ¨æ„é€ æ—¶ç”¨å¸¦å‚æ•°ï¼ŒæŒ‰ç…§åº”ç”¨æ¬¡æ•°æ’åºã€‚åœ¨éå†çš„æ—¶å€™ä¼šæ¯” HashMap æ…¢ï¼Œä¸è¿‡æœ‰ç§æƒ…å†µä¾‹å¤–ï¼Œå½“ HashMap å®¹é‡å¾ˆå¤§ï¼Œå®é™…æ•°æ®è¾ƒå°‘æ—¶ï¼Œéå†èµ·æ¥å¯èƒ½ä¼šæ¯” LinkedHashMap æ…¢ï¼Œå› ä¸º LinkedHashMap çš„éå†é€Ÿåº¦åªå’Œå®é™…æ•°æ®æœ‰å…³ï¼Œå’Œå®¹é‡æ— å…³ï¼Œè€Œ HashMap çš„éå†é€Ÿåº¦å’Œä»–çš„å®¹é‡æœ‰å…³ã€‚ WeakHashMapï¼šä»åå­—å¯ä»¥çœ‹å‡ºå®ƒæ˜¯æŸç§ Mapã€‚å®ƒçš„ç‰¹æ®Šä¹‹å¤„åœ¨äº WeakHashMap é‡Œçš„ entry å¯èƒ½ä¼šè¢« GC è‡ªåŠ¨åˆ é™¤ï¼Œå³ä½¿ç¨‹åºå‘˜æ²¡æœ‰è°ƒç”¨ remove() æˆ–è€… clear() æ–¹æ³•ã€‚ WeakHashMap çš„å­˜å‚¨ç»“æ„ç±»ä¼¼äºHashMap æ—¢ç„¶æœ‰ WeekHashMapï¼Œæ˜¯å¦æœ‰ WeekHashSet å‘¢ï¼Ÿç­”æ¡ˆæ˜¯æ²¡æœ‰ï¼ä¸è¿‡ Java Collections å·¥å…·ç±»ç»™å‡ºäº†è§£å†³æ–¹æ¡ˆï¼ŒCollections.newSetFromMap(Map&lt;E,Boolean&gt; map) æ–¹æ³•å¯ä»¥å°†ä»»ä½• MapåŒ…è£…æˆä¸€ä¸ªSetã€‚ å·¥å…·ç±» Collectionsã€Arraysï¼šé›†åˆç±»çš„ä¸€ä¸ªå·¥å…·ç±»å¸®åŠ©ç±»ï¼Œå…¶ä¸­æä¾›äº†ä¸€ç³»åˆ—é™æ€æ–¹æ³•ï¼Œç”¨äºå¯¹é›†åˆä¸­å…ƒç´ è¿›è¡Œæ’åºã€æœç´¢ä»¥åŠçº¿ç¨‹å®‰å…¨ç­‰å„ç§æ“ä½œã€‚ Comparableã€Comparatorï¼šä¸€èˆ¬æ˜¯ç”¨äºå¯¹è±¡çš„æ¯”è¾ƒæ¥å®ç°æ’åºï¼Œä¸¤è€…ç•¥æœ‰åŒºåˆ«ã€‚ ç±»è®¾è®¡è€…æ²¡æœ‰è€ƒè™‘åˆ°æ¯”è¾ƒé—®é¢˜è€Œæ²¡æœ‰å®ç° Comparable æ¥å£ã€‚è¿™æ˜¯æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ä½¿ç”¨ Comparatorï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ˜¯ä¸éœ€è¦æ”¹å˜å¯¹è±¡çš„ã€‚ ä¸€ä¸ªé›†åˆä¸­ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦æœ‰å¤šé‡çš„æ’åºæ ‡å‡†ï¼Œè¿™æ—¶å€™å¦‚æœä½¿ç”¨ Comparable å°±æœ‰äº›æ‰è¥Ÿè§è‚˜äº†ï¼Œå¯ä»¥è‡ªå·±ç»§æ‰¿ Comparator æä¾›å¤šç§æ ‡å‡†çš„æ¯”è¾ƒå™¨è¿›è¡Œæ’åºã€‚ è¯´æ˜ï¼šçº¿ç¨‹ä¸åŒæ­¥çš„æ—¶å€™å¯ä»¥é€šè¿‡ï¼ŒCollections.synchronizedList() æ–¹æ³•æ¥åŒ…è£…ä¸€ä¸ªçº¿ç¨‹åŒæ­¥æ–¹æ³• çº¿ç¨‹å®‰å…¨ å¤ªå–œæ¬¢è¿™ä¸ªå¤§å“¥çš„æ–‡ç« äº†: https://www.cnblogs.com/deky97/p/11024527.html 1. ä¸ºä»€ä¹ˆå¤§å¤šæ•°çš„é›†åˆç±»ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼ŸArrayList, LinkedList, HashMap, HashSet, TreeMap, TreeSetç­‰ç­‰éƒ½ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„,äº‹å®ä¸Š,æ‰€æœ‰çš„é›†åˆç±»ï¼ˆé™¤äº†Vectorå’ŒHashTableä»¥å¤–ï¼‰åœ¨java.utilåŒ…ä¸­éƒ½ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œåªé—ç•™äº†ä¸¤ä¸ªå®ç°ç±»ï¼ˆVectorå’ŒHashTableï¼‰æ˜¯çº¿ç¨‹å®‰å…¨çš„ çº¿ç¨‹å®‰å…¨çš„æœ‰: ConcurrentHashMap/Vector/HashTable/Stack åœ¨ä½¿ç”¨1000ä¸‡ä¸ªå…ƒç´ è¿›è¡Œæµ‹è¯•Vectorå’ŒArrayListå‘ç°ArrayListçš„æ—¶é—´æ˜¯Vectorçš„ä¸€èˆ¬,æ•ˆç‡æ˜¯å…¶çš„ä¸¤å€,ç”šè‡³æ›´å¤š 2. å¿«é€Ÿå¤±è´¥è¿­ä»£å™¨(Fail-Fast Iterators)åœ¨ä½¿ç”¨é›†åˆçš„æ—¶å€™ï¼Œä½ ä¹Ÿè¦äº†è§£åˆ°è¿­ä»£å™¨çš„å¹¶å‘ç­–ç•¥ï¼šFail-Fast Iterators çœ‹ä¸‹ä»¥åä»£ç ç‰‡æ®µï¼Œéå†ä¸€ä¸ªStringç±»å‹çš„é›†åˆï¼š 12345678List&lt;String&gt; listNames = Arrays.asList(&quot;Tom&quot;, &quot;Joe&quot;, &quot;Bill&quot;, &quot;Dave&quot;, &quot;John&quot;); Iterator&lt;String&gt; iterator = listNames.iterator(); while (iterator.hasNext()) &#123; String nextName = iterator.next(); System.out.println(nextName);&#125; è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨äº†Iteratoræ¥éå†listä¸­çš„å…ƒç´ ï¼Œè¯•æƒ³ä¸‹listNamesè¢«ä¸¤ä¸ªçº¿ç¨‹å…±äº«ï¼šä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œéå†æ“ä½œï¼Œåœ¨è¿˜æ²¡æœ‰éå†å®Œæˆçš„æ—¶å€™ï¼Œç¬¬äºŒçº¿ç¨‹è¿›è¡Œä¿®æ”¹é›†åˆæ“ä½œï¼ˆæ·»åŠ æˆ–è€…åˆ é™¤å…ƒç´ ï¼‰ï¼Œä½ çŒœæµ‹ä¸‹è¿™æ—¶å€™ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ éå†é›†åˆçš„çº¿ç¨‹ä¼šç«‹åˆ»æŠ›å‡ºå¼‚å¸¸â€œConcurrentModificationExceptionâ€ï¼Œæ‰€ä»¥ç§°ä¹‹ä¸ºï¼šå¿«é€Ÿå¤±è´¥è¿­ä»£å™¨ï¼ˆéšä¾¿ç¿»çš„å“ˆï¼Œæ²¡é‚£ä¹ˆé‡è¦ï¼Œç†è§£å°±OKï¼‰ ä¸ºä»€ä¹ˆè¿­ä»£å™¨ä¼šå¦‚æ­¤è¿…é€Ÿçš„æŠ›å‡ºå¼‚å¸¸ï¼Ÿ å› ä¸ºå½“ä¸€ä¸ªçº¿ç¨‹åœ¨éå†é›†åˆçš„æ—¶å€™ï¼Œå¦ä¸€ä¸ªåœ¨ä¿®æ”¹éå†é›†åˆçš„æ•°æ®ä¼šéå¸¸çš„å±é™©ï¼šé›†åˆå¯èƒ½åœ¨ä¿®æ”¹åï¼Œæœ‰æ›´å¤šå…ƒç´ äº†ï¼Œæˆ–è€…å‡å°‘äº†å…ƒç´ åˆæˆ–è€…ä¸€ä¸ªå…ƒç´ éƒ½æ²¡æœ‰äº†ã€‚æ‰€ä»¥åœ¨è€ƒè™‘ç»“æœçš„æ—¶å€™ï¼Œé€‰æ‹©æŠ›å‡ºå¼‚å¸¸ã€‚è€Œä¸”è¿™åº”è¯¥å°½å¯èƒ½æ—©çš„è¢«å‘ç°ï¼Œè¿™å°±æ˜¯åŸå› ã€‚ï¼ˆåæ­£è¿™ä¸ªç­”æ¡ˆä¸æ˜¯æˆ‘æƒ³è¦çš„~ï¼‰ ä¸‹é¢è¿™æ®µä»£ç æ¼”ç¤ºäº†æŠ›å‡ºï¼šConcurrentModificationException 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354import java.util.*; /** * This test program illustrates how a collection&#x27;s iterator fails fast * and throw ConcurrentModificationException * @author www.codejava.net * */public class IteratorFailFastTest &#123; private List&lt;Integer&gt; list = new ArrayList&lt;&gt;(); public IteratorFailFastTest() &#123; for (int i = 0; i &lt; 10_000; i++) &#123; list.add(i); &#125; &#125; public void runUpdateThread() &#123; Thread thread1 = new Thread(new Runnable() &#123; public void run() &#123; for (int i = 10_000; i &lt; 20_000; i++) &#123; list.add(i); &#125; &#125; &#125;); thread1.start(); &#125; public void runIteratorThread() &#123; Thread thread2 = new Thread(new Runnable() &#123; public void run() &#123; ListIterator&lt;Integer&gt; iterator = list.listIterator(); while (iterator.hasNext()) &#123; Integer number = iterator.next(); System.out.println(number); &#125; &#125; &#125;); thread2.start(); &#125; public static void main(String[] args) &#123; IteratorFailFastTest tester = new IteratorFailFastTest(); tester.runIteratorThread(); tester.runUpdateThread(); &#125;&#125; å¦‚ä½ æ‰€è§ï¼Œåœ¨thread1éå†listçš„æ—¶å€™ï¼Œthread2æ‰§è¡Œäº†æ·»åŠ å…ƒç´ çš„æ“ä½œï¼Œè¿™æ—¶å€™å¼‚å¸¸è¢«æŠ›å‡ºã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½¿ç”¨iteratoréå†listï¼Œå¿«é€Ÿå¤±è´¥çš„è¡Œä¸ºæ˜¯ä¸ºäº†è®©æˆ‘æ›´æ—©çš„å®šä½é—®é¢˜æ‰€åœ¨ã€‚æˆ‘ä»¬ä¸åº”è¯¥ä¾èµ–è¿™ä¸ªæ¥æ•è·å¼‚å¸¸ï¼Œå› ä¸ºå¿«é€Ÿå¤±è´¥çš„è¡Œä¸ºæ˜¯æ²¡æœ‰ä¿éšœçš„ã€‚è¿™æ„å‘³ç€å¦‚æœæŠ›å‡ºå¼‚å¸¸äº†ï¼Œç¨‹åºåº”è¯¥ç«‹åˆ»ç»ˆæ­¢è¡Œä¸ºè€Œä¸æ˜¯ç»§ç»­æ‰§è¡Œã€‚ ç°åœ¨ä½ åº”è¯¥äº†è§£åˆ°äº†ConcurrentModificationExceptionæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œè€Œä¸”æœ€å¥½æ˜¯é¿å…å®ƒã€‚ 3. åŒæ­¥å°è£…å™¨å½“ç„¶æˆ‘ä»¬ä¸èƒ½ä½¿ç”¨çº¿ç¨‹ä¸å®‰å…¨çš„é›†åˆåœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ï¼Œè¿™æ ·åšä¼šå¯¼è‡´å‡ºç°æˆ‘ä»¬æœŸæœ›çš„ç»“æœã€‚æˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨è‡ªå·±æ·»åŠ synchronizedä»£ç å—æ¥ç¡®ä¿å®‰å…¨ï¼Œä½†æ˜¯ä½¿ç”¨è‡ªåŠ¨çº¿ç¨‹å®‰å…¨çš„çº¿ç¨‹æ¯”æˆ‘ä»¬æ‰‹åŠ¨æ›´ä¸ºæ˜æ™ºã€‚ ä½ åº”è¯¥å·²ç»çŸ¥é“ï¼ŒJavaé›†åˆæ¡†æ¶æä¾›äº†å·¥å‚æ–¹æ³•åˆ›å»ºçº¿ç¨‹å®‰å…¨çš„é›†åˆï¼Œè¿™äº›æ–¹æ³•çš„æ ¼å¼å¦‚ä¸‹ï¼š 1Collections.synchronizedXXX(collection) è¿™ä¸ªå·¥å‚æ–¹æ³•å°è£…äº†æŒ‡å®šçš„é›†åˆå¹¶è¿”å›äº†ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„é›†åˆã€‚XXXå¯ä»¥æ˜¯Collectionã€Listã€Mapã€Setã€SortedMapå’ŒSortedSetçš„å®ç°ç±»ã€‚æ¯”å¦‚ä¸‹é¢è¿™æ®µä»£ç åˆ›å»ºäº†ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„åˆ—è¡¨ï¼š 1List&lt;String&gt; safeList = Collections.synchronizedList(new ArrayList&lt;&gt;()); å¦‚æœæˆ‘ä»¬å·²ç»æ‹¥æœ‰äº†ä¸€ä¸ªçº¿ç¨‹ä¸å®‰å…¨çš„é›†åˆï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹æ³•æ¥å°è£…æˆçº¿ç¨‹å®‰å…¨çš„é›†åˆï¼š 12Map&lt;Integer, String&gt; unsafeMap = new HashMap&lt;&gt;();Map&lt;Integer, String&gt; safeMap = Collections.synchronizedMap(unsafeMap); å¦‚ä½ é”çœ‹åˆ°çš„ï¼Œå·¥å‚æ–¹æ³•å°è£…æŒ‡å®šçš„é›†åˆï¼Œè¿”å›ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„ç»“åˆã€‚äº‹å®ä¸Šæ¥å£åŸºæœ¬éƒ½ä¸€ç›´ï¼Œåªæ˜¯å®ç°ä¸Šæ·»åŠ äº†synchronizedæ¥å®ç°ã€‚æ‰€ä»¥è¢«ç§°ä¹‹ä¸ºï¼šåŒæ­¥å°è£…å™¨ã€‚åé¢é›†åˆçš„å·¥ä½œéƒ½æ˜¯ç”±è¿™ä¸ªå°è£…ç±»æ¥å®ç°ã€‚ æç¤ºï¼š åœ¨æˆ‘ä»¬ä½¿ç”¨iteratoræ¥éå†çº¿ç¨‹å®‰å…¨çš„é›†åˆå¯¹è±¡çš„æ—¶å€™ï¼Œæˆ‘ä»¬è¿˜æ˜¯éœ€è¦æ·»åŠ synchronizedå­—æ®µæ¥ç¡®ä¿çº¿ç¨‹å®‰å…¨ï¼Œå› ä¸ºIteratoræœ¬èº«å¹¶ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œè¯·çœ‹ä»£ç å¦‚ä¸‹ï¼š 12345678910List&lt;String&gt; safeList = Collections.synchronizedList(new ArrayList&lt;&gt;()); // adds some elements to the list Iterator&lt;String&gt; iterator = safeList.iterator(); while (iterator.hasNext()) &#123; String next = iterator.next(); System.out.println(next);&#125; äº‹å®ä¸Šæˆ‘ä»¬åº”è¯¥è¿™æ ·æ¥æ“ä½œï¼š 123456synchronized (safeList) &#123; while (iterator.hasNext()) &#123; String next = iterator.next(); System.out.println(next); &#125;&#125; åŒæ—¶æé†’ä¸‹ï¼ŒIteratorsä¹Ÿæ˜¯æ”¯æŒå¿«é€Ÿå¤±è´¥çš„ã€‚å°½ç®¡ç»è¿‡ç±»çš„å°è£…å¯ä¿è¯çº¿ç¨‹å®‰å…¨ï¼Œä½†æ˜¯ä»–ä»¬ä¾ç„¶æœ‰ç€è‡ªå·±çš„ç¼ºç‚¹ï¼Œå…·ä½“è§ä¸‹é¢éƒ¨åˆ†ã€‚ 4. å¹¶å‘é›†åˆä¸€ä¸ªå…³äºåŒæ­¥é›†åˆçš„ç¼ºç‚¹æ˜¯ï¼Œç”¨é›†åˆçš„æœ¬èº«ä½œä¸ºé”çš„å¯¹è±¡ã€‚è¿™æ„å‘³ç€ï¼Œåœ¨ä½ éå†å¯¹è±¡çš„æ—¶å€™ï¼Œè¿™ä¸ªå¯¹è±¡çš„å…¶ä»–æ–¹æ³•å·²ç»è¢«é”ä½ï¼Œå¯¼è‡´å…¶ä»–çš„çº¿ç¨‹å¿…é¡»ç­‰å¾…ã€‚å…¶ä»–çš„çº¿ç¨‹æ— æ³•æ“ä½œå½“å‰è¿™ä¸ªè¢«é”çš„é›†åˆï¼Œåªæœ‰å½“æ‰§è¡Œçš„çº¿ç¨‹é‡Šæ”¾äº†é”ã€‚è¿™ä¼šå¯¼è‡´å¼€é”€å’Œæ€§èƒ½è¾ƒä½ã€‚ è¿™å°±æ˜¯ä¸ºä»€ä¹ˆjdk1.5+ä»¥åæä¾›äº†å¹¶å‘é›†åˆçš„åŸå› ï¼Œå› ä¸ºè¿™æ ·çš„é›†åˆæ€§èƒ½æ›´é«˜ã€‚å¹¶å‘é›†åˆç±»å¹¶æ”¾åœ¨java.util.concurrentåŒ…ä¸‹ï¼Œæ ¹æ®ä¸‰ç§å®‰å…¨æœºåˆ¶è¢«æ”¾åœ¨ä¸‰ä¸ªç»„ä¸­ã€‚ ç¬¬ä¸€ç§ä¸ºï¼šå†™æ—¶å¤åˆ¶é›†åˆï¼šè¿™ç§é›†åˆå°†æ•°æ®æ”¾åœ¨ä¸€æˆä¸å˜çš„æ•°ç»„ä¸­ï¼›ä»»ä½•æ•°æ®çš„æ”¹å˜ï¼Œéƒ½ä¼šé‡æ–°åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°ç»„æ¥è®°å½•å€¼ã€‚è¿™ç§é›†åˆè¢«è®¾è®¡ç”¨åœ¨ï¼Œè¯»çš„æ“ä½œè¿œè¿œå¤§äºå†™æ“ä½œçš„æƒ…æ™¯ä¸‹ã€‚æœ‰ä¸¤ä¸ªå¦‚ä¸‹çš„å®ç°ç±»ï¼šCopyOnWriteArrayList å’Œ CopyOnWriteArraySet. éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå†™æ—¶å¤åˆ¶é›†åˆä¸ä¼šæŠ›å‡ºConcurrentModificationExceptionå¼‚å¸¸ã€‚å› ä¸ºè¿™äº›é›†åˆæ˜¯ç”±ä¸å¯å˜æ•°ç»„æ”¯æŒçš„ï¼ŒIteratoréå†å€¼æ˜¯ä»ä¸å¯å˜æ•°ç»„ä¸­å‡ºæ¥çš„ï¼Œä¸ç”¨æ‹…å¿ƒè¢«å…¶ä»–çº¿ç¨‹ä¿®æ”¹äº†æ•°æ®ã€‚ ç¬¬äºŒç§ä¸ºï¼šæ¯”å¯¹äº¤æ¢é›†åˆä¹Ÿç§°ä¹‹ä¸ºCASï¼ˆCompare-And-Swapï¼‰é›†åˆï¼šè¿™ç»„çº¿ç¨‹å®‰å…¨çš„é›†åˆæ˜¯é€šè¿‡CASç®—æ³•å®ç°çš„ã€‚CASçš„ç®—æ³•å¯ä»¥è¿™æ ·ç†è§£ï¼š ä¸ºäº†æ‰§è¡Œè®¡ç®—å’Œæ›´æ–°å˜é‡ï¼Œåœ¨æœ¬åœ°æ‹·è´ä¸€ä»½å˜é‡ï¼Œç„¶åä¸é€šè¿‡è·å–è®¿é—®æ¥æ‰§è¡Œè®¡ç®—ã€‚å½“å‡†å¤‡å¥½å»æ›´æ–°å˜é‡çš„æ—¶å€™ï¼Œä»–ä¼šè·Ÿä»–ä¹‹å‰çš„å¼€å§‹çš„å€¼è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœä¸€æ ·ï¼Œåˆ™æ›´æ–°å€¼ã€‚ å¦‚æœä¸ä¸€æ ·ï¼Œåˆ™è¯´æ˜åº”è¯¥æœ‰å…¶ä»–çš„çº¿ç¨‹å·²ç»ä¿®æ”¹äº†æ•°æ®ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒCASçº¿ç¨‹å¯ä»¥é‡æ–°æ‰§è¡Œä¸‹è®¡ç®—çš„å€¼ï¼Œæ›´æ–°æˆ–è€…æ”¾å¼ƒã€‚ä½¿ç”¨CASç®—æ³•çš„é›†åˆæœ‰ï¼šConcurrentLinkedQueue and ConcurrentSkipListMap. éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒCASé›†åˆå…·æœ‰ä¸è¿è´¯çš„iteratorsï¼Œè¿™æ„å‘³ç€è‡ªä»–ä»¬åˆ›å»ºä¹‹åå¹¶ä¸æ˜¯æ‰€æœ‰çš„æ”¹å˜éƒ½æ˜¯ä»æ–°çš„æ•°ç»„ä¸­æ¥ã€‚åŒæ—¶ä»–ä¹Ÿä¸ä¼šæŠ›å‡ºConcurrentModificationExceptionå¼‚å¸¸ã€‚ ç¬¬ä¸‰ç§ä¸ºï¼šè¿™ç§é›†åˆé‡‡ç”¨äº†ç‰¹æ®Šçš„å¯¹è±¡é”ï¼ˆjava.util.concurrent.lock.Lockï¼‰ï¼šè¿™ç§æœºåˆ¶ç›¸å¯¹äºä¼ ç»Ÿçš„æ¥è¯´æ›´ä¸ºçµæ´»ï¼Œå¯ä»¥å¦‚ä¸‹ç†è§£ï¼š è¿™ç§é”å’Œç»å…¸é”ä¸€æ ·å…·æœ‰åŸºæœ¬çš„åŠŸèƒ½ï¼Œä½†è¿˜å¯ä»¥å†ç‰¹æ®Šçš„æƒ…å†µä¸‹è·å–ï¼šå¦‚æœå½“å‰æ²¡æœ‰è¢«é”ã€è¶…æ—¶ã€çº¿ç¨‹æ²¡æœ‰è¢«æ‰“æ–­ã€‚ ä¸åŒäºsynchronizationçš„ä»£ç ,å½“æ–¹æ³•åœ¨æ‰§è¡Œï¼ŒLocké”ä¸€ç›´ä¼šè¢«æŒæœ‰ï¼Œç›´åˆ°è°ƒç”¨unlockæ–¹æ³•ã€‚æœ‰äº›å®ç°é€šè¿‡è¿™ç§æœºåˆ¶æŠŠé›†åˆåˆ†ä¸ºå¥½å‡ ä¸ªéƒ¨åˆ†æ¥æä¾›å¹¶å‘æ€§èƒ½ã€‚æ¯”å¦‚ï¼šLinkedBlockingQueueï¼Œåœ¨é˜Ÿåˆ—çš„å¼€åå’Œç»“å°¾ï¼Œæ‰€ä»¥åœ¨æ·»åŠ å’Œåˆ é™¤çš„æ—¶å€™å¯ä»¥åŒæ—¶è¿›è¡Œã€‚ å…¶ä»–ä½¿ç”¨äº†è¿™ç§æœºåˆ¶çš„é›†åˆæœ‰ï¼šConcurrentHashMap å’Œç»å¤šæ•°å®ç°äº†BlockingQueueçš„å®ç°ç±» åŒæ ·çš„è¿™ä¸€ç±»çš„é›†åˆä¹Ÿå…·æœ‰ä¸è¿è´¯çš„iteratorsï¼Œä¹Ÿä¸ä¼šæŠ›å‡ºConcurrentModificationExceptionå¼‚å¸¸ã€‚ ConcurrentHashMap: https://www.cnblogs.com/shan1393/p/9020564.html æ€»ç»“æˆ‘ä»¬æ¥æ€»ç»“ä¸‹ä»Šå¤©æˆ‘ä»¬æ‰€å­¦åˆ°çš„å‡ ä¸ªç‚¹ï¼š å¤§éƒ¨åˆ†åœ¨java.utilåŒ…ä¸‹çš„å®ç°ç±»éƒ½æ²¡æœ‰ä¿è¯çº¿ç¨‹å®‰å…¨ä¸ºäº†ä¿è¯æ€§èƒ½çš„ä¼˜è¶Šï¼Œé™¤äº†Vectorå’ŒHashtableä»¥å¤–ã€‚ é€šè¿‡Collectionå¯ä»¥åˆ›å»ºçº¿ç¨‹å®‰å…¨ç±»ï¼Œä½†æ˜¯ä»–ä»¬çš„æ€§èƒ½éƒ½æ¯”è¾ƒå·®ã€‚ åŒæ­¥é›†åˆæ—¢ä¿è¯çº¿ç¨‹å®‰å…¨ä¹Ÿåœ¨ç»™äºˆä¸åŒçš„ç®—æ³•ä¸Šä¿è¯äº†æ€§èƒ½ï¼Œä»–ä»¬éƒ½åœ¨java.util.concurrentåŒ…ä¸­ã€‚","categories":[{"name":"Java","slug":"Java","permalink":"http://www.octber.xyz/categories/Java/"}],"tags":[{"name":"Javaé›†åˆæ¡†æ¶","slug":"Javaé›†åˆæ¡†æ¶","permalink":"http://www.octber.xyz/tags/Java%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6/"}]},{"title":"2019.8.13æ—¥æŠ¥","slug":"2019-8-13æ—¥æŠ¥","date":"2019-08-13T01:49:54.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/08/13/2019-8-13æ—¥æŠ¥/","link":"","permalink":"http://www.octber.xyz/2019/08/13/2019-8-13%E6%97%A5%E6%8A%A5/","excerpt":"å‰è¨€ 2019.8.13æ—¥æŠ¥ ç›®å½• [TOC]","text":"å‰è¨€ 2019.8.13æ—¥æŠ¥ ç›®å½• [TOC] 1. ä»»åŠ¡ä¸ä»»åŠ¡è¿›åº¦/å·¥æ—¶è¯´æ˜1.1 å¼€æˆ·ä»£ç æµ‹è¯•ä¸è°ƒè¯• è¿›åº¦: 100% å·¥æ—¶: 1.5h ä»£ç ä¸ç¬¦åˆvalidateä¿®æ”¹/ä»£ç æµ‹è¯•ä¸å‘ç°é—®é¢˜ 1.2 [æ˜¨æ—¥é—ç•™]èµ„é‡‘è°ƒæ•´åŠå¤åˆ(å‰ç«¯) è¿›åº¦: 100% å·¥æ—¶: 3.5h ä¸»è¦æ˜¯otcéœ€è¦bgbæ›´æ–°ä»£ç ,æŒ‰ç…§ä»£ç è§„èŒƒæ”¹äº†ä¸€äº›ä»£ç ,å†installèŠ±æ—¶é—´å¤š 1.3 èµ„é‡‘è°ƒæ•´åŠç¬¦åˆ(åç«¯) è¿›åº¦: 70% å·¥æ—¶: 4.5h å‰ç«¯é¡µé¢æ˜¾ç¤ºå¤šè¡¨æŸ¥è¯¢/æŒ‰æ¡ä»¶æŸ¥è¯¢/å‰ç«¯æ•°æ®æäº¤åå¤„ç† 2. å·²è§£å†³çš„é—®é¢˜2.1 èµ„é‡‘è°ƒæ•´åŠç¬¦åˆå‰ç«¯(å…¨éƒ¨å®Œæˆ) ä»¥åŠæ“ä½œå¼¹çª—: 2.2 èµ„é‡‘è°ƒæ•´åŠç¬¦åˆåç«¯(å®Œæˆéƒ¨åˆ†) å®Œæˆå‰ç«¯æ˜¾ç¤ºè¡¨æ ¼æ•°æ®æ”¯æŒæ¥å£ å®Œæˆéƒ¨åˆ†æäº¤èµ„é‡‘è°ƒæ•´åæ¥å£ 3. æœªè§£å†³çš„é—®é¢˜åç«¯:èµ„é‡‘è°ƒæ•´ç¡®è®¤æäº¤åå¤„ç† 4. è¿›åº¦å»¶è¿ŸåŸå› è¯´æ˜ æœ‰äº›å‘å’ŒbugåºŸäº†ç‚¹æ—¶é—´,æ¯”å¦‚å‰ç«¯ä¸­æ–‡ä¹±ç ,å‰ç«¯èœå•ç”Ÿæˆ(ç¬¬äºŒæ¬¡æä¸ç†Ÿç»ƒ),otcåå°æ­£å¸¸è¿è¡Œèµ·æ¥ç­‰ç­‰ä¸é‡è¦å´å¾ˆèŠ±è´¹æ—¶é—´çš„å·¥ä½œ é¡¹ç›®é‡æ–°è¿è¡Œ/ç¼–è¯‘ç­‰å¤ªè´¹æ—¶é—´äº†,å¤ªæ…¢äº† ä¿®æ”¹è‡ªå·±å’Œåˆ«äººä»£ç ä¸­validateçš„ä»£ç ä¸è§„èŒƒçš„åœ°æ–¹æ¯”è¾ƒå¿™,ä»£ç ä¸è§„èŒƒçš„åœ°æ–¹å¤ªå¤šäº† ä¸šåŠ¡ä¸ç†Ÿæ‚‰,éœ€è¦åšç¬”è®°æ¶ˆåŒ–å†ä¸Šæ‰‹ 5. [è®°å½•]èµ„é‡‘è°ƒæ•´åŠå¤æ ¸(åç«¯)5.1 å‰ç«¯æ˜¾ç¤ºè¡¨æ ¼æ•°æ®æ”¯æŒ è¡¨æ ¼å¯¹åº”å­—æ®µ äº§å“ç¼–ç  otc_tassetday(èµ„äº§å•å…ƒæ—¥ä¿¡æ¯è¡¨)çš„fund_id äº§å“åç§° æ ¹æ®otc_tassetday(èµ„äº§å•å…ƒæ—¥ä¿¡æ¯è¡¨)çš„fund_idå»bgb_tfund(äº§å“ä¿¡æ¯è¡¨)ä¸­æ‹¿åˆ°fund_name èµ„äº§å•å…ƒ æ ¹æ®otc_tassetday(èµ„äº§å•å…ƒæ—¥ä¿¡æ¯è¡¨)çš„asset_idå»bgb_tassetunit(èµ„äº§å•å…ƒè¡¨)ä¸­æ‹¿åˆ°asset_name æœŸåˆç°é‡‘ä½™é¢ otc_tassetday(èµ„äº§å•å…ƒæ—¥ä¿¡æ¯è¡¨)çš„begin_cash å½“å‰ç°é‡‘ä½™é¢ otc_tassetday(èµ„äº§å•å…ƒæ—¥ä¿¡æ¯è¡¨)çš„current_cash æœŸåˆå¯ç”¨ æœŸåˆå¯ç”¨=æœŸåˆç°é‡‘ä½™é¢(begin_cash)ï¼å†»ç»“(frozen_balance)ï¼‹è§£å†»(unfrozen_balance) å½“å‰å¯ç”¨ å½“å‰å¯ç”¨=å½“å‰ç°é‡‘ä½™é¢(current_cash)ï¼å†»ç»“(frozen_balance)ï¼‹è§£å†»(unfrozen_balance) 5.2 æäº¤ä¿®æ”¹ æŒ‰ç…§æ²¡æœ‰å¤æ ¸æ—¶çš„æƒ…å†µå¤„ç† é¦–å…ˆæ’å…¥otc_tcashbusiness(èµ„é‡‘ä¸šåŠ¡è¡¨),æ ‡è®°å·²å¤„ç†çŠ¶æ€ æ›´æ–°èµ„äº§å•å…ƒæ—¥ä¿¡æ¯è¡¨çš„å½“å‰èµ„é‡‘ä½™é¢ æ’å…¥åˆ°è¯åˆ¸èµ„é‡‘æµæ°´è¡¨","categories":[{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"http://www.octber.xyz/categories/%E6%97%A5%E8%AE%B0/"}],"tags":[{"name":"æ—¥æŠ¥","slug":"æ—¥æŠ¥","permalink":"http://www.octber.xyz/tags/%E6%97%A5%E6%8A%A5/"}]},{"title":"MySQL-InnoDBçš„ç»“æ„å’Œç‰¹æ€§","slug":"MySQL-InnoDBçš„ç»“æ„å’Œç‰¹æ€§","date":"2019-08-12T13:41:57.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/08/12/MySQL-InnoDBçš„ç»“æ„å’Œç‰¹æ€§/","link":"","permalink":"http://www.octber.xyz/2019/08/12/MySQL-InnoDB%E7%9A%84%E7%BB%93%E6%9E%84%E5%92%8C%E7%89%B9%E6%80%A7/","excerpt":"å‰è¨€æ•°æ®åº“ä¸­InnoDBå¼•æ“çš„ç®€æä»¥åŠä»–å’ŒMyISAMçš„åŒºåˆ« [TOC]","text":"å‰è¨€æ•°æ®åº“ä¸­InnoDBå¼•æ“çš„ç®€æä»¥åŠä»–å’ŒMyISAMçš„åŒºåˆ« [TOC] InnoDBå’ŒMyISAMçš„åŒºåˆ« ç‰¹åˆ«æ„Ÿè°¢: https://blog.csdn.net/perfectsorrow/article/details/80150672 æ˜¾è‘—åŒºåˆ«: InnoDBæ”¯æŒäº†ACIDå…¼å®¹çš„äº‹åŠ¡ï¼ˆTransactionï¼‰åŠŸèƒ½äº‹åŠ¡,è€ŒMyISAMä¸æ”¯æŒ,ä½†æ˜¯MyISAMå…·æœ‰åŸå­æ€§ åŸå­æ€§ï¼ˆAtomicityï¼‰ ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰ éš”ç¦»æ€§ï¼ˆIsolationï¼‰ æŒä¹…æ€§ï¼ˆDurabilityï¼‰ åŒºåˆ«ä¸€: äº‹åŠ¡MyISAMæ˜¯MySQLçš„é»˜è®¤æ•°æ®åº“å¼•æ“ï¼ˆ5.5ç‰ˆä¹‹å‰ï¼‰ï¼Œç”±æ—©æœŸçš„ISAMï¼ˆIndexed Sequential AccessMethodï¼šæœ‰ç´¢å¼•çš„é¡ºåºè®¿é—®æ–¹æ³•ï¼‰æ‰€æ”¹è‰¯ã€‚è™½ç„¶æ€§èƒ½æä½³ï¼Œä½†å´æœ‰ä¸€ä¸ªç¼ºç‚¹ï¼šä¸æ”¯æŒäº‹åŠ¡å¤„ç†ï¼ˆtransactionï¼‰ã€‚ä¸è¿‡ï¼Œåœ¨è¿™å‡ å¹´çš„å‘å±•ä¸‹ï¼ŒMySQLä¹Ÿå¯¼å…¥äº†InnoDBï¼ˆå¦ä¸€ç§æ•°æ®åº“å¼•æ“ï¼‰ï¼Œä»¥å¼ºåŒ–å‚è€ƒå®Œæ•´æ€§ä¸å¹¶å‘è¿è§„å¤„ç†æœºåˆ¶ï¼Œåæ¥å°±é€æ¸å–ä»£MyISAMã€‚ åŒºåˆ«äºŒ: å­˜å‚¨ç»“æ„ MyISAM æ¯ä¸ªMyISAMåœ¨ç£ç›˜ä¸Šå­˜å‚¨æˆä¸‰ä¸ªæ–‡ä»¶ã€‚ç¬¬ä¸€ä¸ªæ–‡ä»¶çš„åå­—ä»¥è¡¨çš„åå­—å¼€å§‹ï¼Œæ‰©å±•åæŒ‡å‡ºæ–‡ä»¶ç±»å‹ã€‚.frmæ–‡ä»¶å­˜å‚¨è¡¨å®šä¹‰ã€‚æ•°æ®æ–‡ä»¶çš„æ‰©å±•åä¸º.MYD (MYData)ã€‚ç´¢å¼•æ–‡ä»¶çš„æ‰©å±•åæ˜¯.MYI (MYIndex)ã€‚ InnoDB æ‰€æœ‰çš„è¡¨éƒ½ä¿å­˜åœ¨åŒä¸€ä¸ªæ•°æ®æ–‡ä»¶ä¸­ï¼ˆä¹Ÿå¯èƒ½æ˜¯å¤šä¸ªæ–‡ä»¶ï¼Œæˆ–è€…æ˜¯ç‹¬ç«‹çš„è¡¨ç©ºé—´æ–‡ä»¶ï¼‰ï¼ŒInnoDBè¡¨çš„å¤§å°åªå—é™äºæ“ä½œç³»ç»Ÿæ–‡ä»¶çš„å¤§å°ï¼Œä¸€èˆ¬ä¸º2GBã€‚ åŒºåˆ«ä¸‰: å‚¨å­˜ç©ºé—´ MyISAM å¯è¢«å‹ç¼©ï¼Œå­˜å‚¨ç©ºé—´è¾ƒå°ã€‚æ”¯æŒä¸‰ç§ä¸åŒçš„å­˜å‚¨æ ¼å¼ï¼šé™æ€è¡¨(é»˜è®¤ï¼Œä½†æ˜¯æ³¨æ„æ•°æ®æœ«å°¾ä¸èƒ½æœ‰ç©ºæ ¼ï¼Œä¼šè¢«å»æ‰)ã€åŠ¨æ€è¡¨ã€å‹ç¼©è¡¨ã€‚ InnoDB éœ€è¦æ›´å¤šçš„å†…å­˜å’Œå­˜å‚¨ï¼Œå®ƒä¼šåœ¨ä¸»å†…å­˜ä¸­å»ºç«‹å…¶ä¸“ç”¨çš„ç¼“å†²æ± ç”¨äºé«˜é€Ÿç¼“å†²æ•°æ®å’Œç´¢å¼•ã€‚ åŒºåˆ«å››: å¯ç§»æ¤æ€§ã€å¤‡ä»½åŠæ¢å¤ MyISAM æ•°æ®æ˜¯ä»¥æ–‡ä»¶çš„å½¢å¼å­˜å‚¨ï¼Œæ‰€ä»¥åœ¨è·¨å¹³å°çš„æ•°æ®è½¬ç§»ä¸­ä¼šå¾ˆæ–¹ä¾¿ã€‚åœ¨å¤‡ä»½å’Œæ¢å¤æ—¶å¯å•ç‹¬é’ˆå¯¹æŸä¸ªè¡¨è¿›è¡Œæ“ä½œã€‚ InnoDB å…è´¹çš„æ–¹æ¡ˆå¯ä»¥æ˜¯æ‹·è´æ•°æ®æ–‡ä»¶ã€å¤‡ä»½ binlogï¼Œæˆ–è€…ç”¨ mysqldumpï¼Œåœ¨æ•°æ®é‡è¾¾åˆ°å‡ åGçš„æ—¶å€™å°±ç›¸å¯¹ç—›è‹¦äº†ã€‚ åŒºåˆ«äº”: AUTO_INCREMENT MyISAM å¯ä»¥å’Œå…¶ä»–å­—æ®µä¸€èµ·å»ºç«‹è”åˆç´¢å¼•ã€‚å¼•æ“çš„è‡ªåŠ¨å¢é•¿åˆ—å¿…é¡»æ˜¯ç´¢å¼•ï¼Œå¦‚æœæ˜¯ç»„åˆç´¢å¼•ï¼Œè‡ªåŠ¨å¢é•¿å¯ä»¥ä¸æ˜¯ç¬¬ä¸€åˆ—ï¼Œä»–å¯ä»¥æ ¹æ®å‰é¢å‡ åˆ—è¿›è¡Œæ’åºåé€’å¢ã€‚ InnoDB InnoDBä¸­å¿…é¡»åŒ…å«åªæœ‰è¯¥å­—æ®µçš„ç´¢å¼•ã€‚å¼•æ“çš„è‡ªåŠ¨å¢é•¿åˆ—å¿…é¡»æ˜¯ç´¢å¼•ï¼Œå¦‚æœæ˜¯ç»„åˆç´¢å¼•ä¹Ÿå¿…é¡»æ˜¯ç»„åˆç´¢å¼•çš„ç¬¬ä¸€åˆ—ã€‚ åŒºåˆ«å…­: è¡¨é”å·®å¼‚ MyISAM åªæ”¯æŒè¡¨çº§é”ï¼Œç”¨æˆ·åœ¨æ“ä½œmyisamè¡¨æ—¶ï¼Œselectï¼Œupdateï¼Œdeleteï¼Œinsertè¯­å¥éƒ½ä¼šç»™è¡¨è‡ªåŠ¨åŠ é”ï¼Œå¦‚æœåŠ é”ä»¥åçš„è¡¨æ»¡è¶³insertå¹¶å‘çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥åœ¨è¡¨çš„å°¾éƒ¨æ’å…¥æ–°çš„æ•°æ®ã€‚ InnoDB æ”¯æŒäº‹åŠ¡å’Œè¡Œçº§é”ï¼Œæ˜¯innodbçš„æœ€å¤§ç‰¹è‰²ã€‚è¡Œé”å¤§å¹…åº¦æé«˜äº†å¤šç”¨æˆ·å¹¶å‘æ“ä½œçš„æ–°èƒ½ã€‚ä½†æ˜¯InnoDBçš„è¡Œé”ï¼Œåªæ˜¯åœ¨WHEREçš„ä¸»é”®æ˜¯æœ‰æ•ˆçš„ï¼Œéä¸»é”®çš„WHEREéƒ½ä¼šé”å…¨è¡¨çš„ã€‚ åŒºåˆ«ä¸ƒ: å…¨æ–‡ç´¢å¼• MyISAM æ”¯æŒ FULLTEXTç±»å‹çš„å…¨æ–‡ç´¢å¼• InnoDB ä¸æ”¯æŒFULLTEXTç±»å‹çš„å…¨æ–‡ç´¢å¼•ï¼Œä½†æ˜¯innodbå¯ä»¥ä½¿ç”¨sphinxæ’ä»¶æ”¯æŒå…¨æ–‡ç´¢å¼•ï¼Œå¹¶ä¸”æ•ˆæœæ›´å¥½ã€‚ åŒºåˆ«å…«: è¡¨ä¸»é”® MyISAM å…è®¸æ²¡æœ‰ä»»ä½•ç´¢å¼•å’Œä¸»é”®çš„è¡¨å­˜åœ¨ï¼Œç´¢å¼•éƒ½æ˜¯ä¿å­˜è¡Œçš„åœ°å€ã€‚ InnoDB å¦‚æœæ²¡æœ‰è®¾å®šä¸»é”®æˆ–è€…éç©ºå”¯ä¸€ç´¢å¼•ï¼Œå°±ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª6å­—èŠ‚çš„ä¸»é”®(ç”¨æˆ·ä¸å¯è§)ï¼Œæ•°æ®æ˜¯ä¸»ç´¢å¼•çš„ä¸€éƒ¨åˆ†ï¼Œé™„åŠ ç´¢å¼•ä¿å­˜çš„æ˜¯ä¸»ç´¢å¼•çš„å€¼ã€‚ åŒºåˆ«ä¹: è¡¨çš„å…·ä½“è¡Œæ•° MyISAM ä¿å­˜æœ‰è¡¨çš„æ€»è¡Œæ•°ï¼Œå¦‚æœselect count() from table;ä¼šç›´æ¥å–å‡ºå‡ºè¯¥å€¼ã€‚ InnoDB æ²¡æœ‰ä¿å­˜è¡¨çš„æ€»è¡Œæ•°ï¼Œå¦‚æœä½¿ç”¨select count(*) from tableï¼›å°±ä¼šéå†æ•´ä¸ªè¡¨ï¼Œæ¶ˆè€—ç›¸å½“å¤§ï¼Œä½†æ˜¯åœ¨åŠ äº†wehreæ¡ä»¶åï¼Œmyisamå’Œinnodbå¤„ç†çš„æ–¹å¼éƒ½ä¸€æ ·ã€‚ åŒºåˆ«å: CURDæ“ä½œ MyISAM å¦‚æœæ‰§è¡Œå¤§é‡çš„SELECTï¼ŒMyISAMæ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚ InnoDB å¦‚æœä½ çš„æ•°æ®æ‰§è¡Œå¤§é‡çš„INSERTæˆ–UPDATEï¼Œå‡ºäºæ€§èƒ½æ–¹é¢çš„è€ƒè™‘ï¼Œåº”è¯¥ä½¿ç”¨InnoDBè¡¨ã€‚DELETE ä»æ€§èƒ½ä¸ŠInnoDBæ›´ä¼˜ï¼Œä½†DELETE FROM tableæ—¶ï¼ŒInnoDBä¸ä¼šé‡æ–°å»ºç«‹è¡¨ï¼Œè€Œæ˜¯ä¸€è¡Œä¸€è¡Œçš„åˆ é™¤ï¼Œåœ¨innodbä¸Šå¦‚æœè¦æ¸…ç©ºä¿å­˜æœ‰å¤§é‡æ•°æ®çš„è¡¨ï¼Œæœ€å¥½ä½¿ç”¨truncate tableè¿™ä¸ªå‘½ä»¤ã€‚ åŒºåˆ«åä¸€: å¤–é”® MyISAM ä¸æ”¯æŒ InnoDB æ”¯æŒ é€šè¿‡ä¸Šè¿°çš„åˆ†æï¼ŒåŸºæœ¬ä¸Šå¯ä»¥è€ƒè™‘ä½¿ç”¨InnoDBæ¥æ›¿ä»£MyISAMå¼•æ“äº†ï¼ŒåŸå› æ˜¯InnoDBè‡ªèº«å¾ˆå¤šè‰¯å¥½çš„ç‰¹ç‚¹ï¼Œæ¯”å¦‚äº‹åŠ¡æ”¯æŒã€å­˜å‚¨è¿‡ç¨‹ã€è§†å›¾ã€è¡Œçº§é”å®šç­‰ç­‰ï¼Œåœ¨å¹¶å‘å¾ˆå¤šçš„æƒ…å†µä¸‹ï¼Œç›¸ä¿¡InnoDBçš„è¡¨ç°è‚¯å®šè¦æ¯”MyISAMå¼ºå¾ˆå¤šã€‚å¦å¤–ï¼Œä»»ä½•ä¸€ç§è¡¨éƒ½ä¸æ˜¯ä¸‡èƒ½çš„ï¼Œåªç”¨æ°å½“çš„é’ˆå¯¹ä¸šåŠ¡ç±»å‹æ¥é€‰æ‹©åˆé€‚çš„è¡¨ç±»å‹ï¼Œæ‰èƒ½æœ€å¤§çš„å‘æŒ¥MySQLçš„æ€§èƒ½ä¼˜åŠ¿ã€‚å¦‚æœä¸æ˜¯å¾ˆå¤æ‚çš„Webåº”ç”¨ï¼Œéå…³é”®åº”ç”¨ï¼Œè¿˜æ˜¯å¯ä»¥ç»§ç»­è€ƒè™‘MyISAMçš„ï¼Œè¿™ä¸ªå…·ä½“æƒ…å†µå¯ä»¥è‡ªå·±æ–Ÿé…Œã€‚","categories":[{"name":"æ•°æ®åº“","slug":"æ•°æ®åº“","permalink":"http://www.octber.xyz/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"}],"tags":[{"name":"MySQL","slug":"MySQL","permalink":"http://www.octber.xyz/tags/MySQL/"}]},{"title":"2019.8.12æ—¥æŠ¥-Re","slug":"2019-8-12æ—¥æŠ¥-Re","date":"2019-08-12T11:11:12.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/08/12/2019-8-12æ—¥æŠ¥-Re/","link":"","permalink":"http://www.octber.xyz/2019/08/12/2019-8-12%E6%97%A5%E6%8A%A5-Re/","excerpt":"å‰è¨€ ç›®å½• [TOC]","text":"å‰è¨€ ç›®å½• [TOC] 1. ä»»åŠ¡ä¸ä»»åŠ¡è¿›åº¦/å·¥æ—¶è¯´æ˜1.1 å­—å…¸è¡¨ç»´æŠ¤ ä»»åŠ¡æè¿°: å°†å¾…ç”³æŠ¥å­—å…¸è¡¨æ·»åŠ åˆ°æ•°æ®åº“å¯¹åº”è¡¨ä¸­ è¿›åº¦è¯´æ˜: 100% æŠ•å…¥å·¥æ—¶: 2.5å·¥æ—¶ 1.2 å¼€æˆ·æ–‡ä»¶ä¸Šä¼  è¿›åº¦è¯´æ˜: 100% æŠ•å…¥å·¥æ—¶: 6å·¥æ—¶ 1.3 èµ„é‡‘è°ƒæ•´åŠå¤æ ¸(å‰ç«¯) è¿›åº¦è¯´æ˜: 70% æŠ•å…¥å·¥æ—¶: 1å·¥æ—¶ 2. å·²è§£å†³çš„é—®é¢˜2.1 å­—å…¸è¡¨ç»´æŠ¤ æ–°å¢882æ¡å­—å…¸é¡¹ è‡ªä¸»è®¾è®¡ç¨‹åºè¿è¡Œ,ä¹‹åæ–°å¢çš„å­—å…¸é¡¹å¯ä»¥å¤ç”¨æ­¤ç¨‹åº 2.2 å¼€æˆ·æ–‡ä»¶ä¸Šä¼  å‰ç«¯ä½¿ç”¨HUIç»„ä»¶ä¸Šä¼ æ–‡ä»¶ å‰ç«¯ä½¿ç”¨BGçš„upload()æ¥å£ä¸Šä¼ åˆ°ä¸´æ—¶æ–‡ä»¶å¤¹ æäº¤æ—¶å¯¹æ–‡ä»¶è¿›è¡Œè§„èŒƒçš„é‡å‘½ååè½¬å­˜åˆ°å®¢æˆ·çš„FTPæœåŠ¡å™¨ 2.3 èµ„é‡‘è°ƒæ•´åŠå¤æ ¸(å‰ç«¯) å‰ç«¯ä»£ç å·²ç»å®Œæˆ ä»…é™äºæ˜¾ç¤ºæ•ˆæœ,å¯¹åº”å­—æ®µçš„å¯¹åº”å…³ç³»å’Œå…·ä½“åŠŸèƒ½è¿˜æ²¡æœ‰å®Œæˆ ç”Ÿæˆèœå•æ çš„JSONå®Œæˆ åç«¯è¿è¡Œä¸èµ·æ¥,å…·ä½“æ•ˆæœéœ€è¦æµ‹è¯• 3. æœªè§£å†³çš„é—®é¢˜3.1 èµ„é‡‘è°ƒæ•´åŠå¤æ ¸(å‰ç«¯) èœå•æ æ²¡æ·»åŠ æˆåŠŸ,å¯¼è‡´å‰ç«¯é¡µé¢æ•ˆæœè¿˜æ²¡èƒ½æµ‹è¯• 4. è¿›åº¦å»¶è¿ŸåŸå› è¯´æ˜4.1 èµ„é‡‘è°ƒæ•´åŠå¤æ ¸(å‰ç«¯) æ€€ç–‘æ˜¯ä¾èµ–çš„ç‰ˆæœ¬æ›´æ–°å,åç«¯ä»£ç æ²¡æœ‰åŠæ—¶æ›´æ–°,å¯¼è‡´åç«¯è·‘ä¸èµ·æ¥ éœ€è¦æ˜å¤©é—®ä¸€ä¸‹æ¶›å“¥~","categories":[{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"http://www.octber.xyz/categories/%E6%97%A5%E8%AE%B0/"}],"tags":[{"name":"æ—¥æŠ¥","slug":"æ—¥æŠ¥","permalink":"http://www.octber.xyz/tags/%E6%97%A5%E6%8A%A5/"}]},{"title":"2019.8.12æ—¥æŠ¥","slug":"2019-8-12æ—¥æŠ¥","date":"2019-08-12T02:32:11.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/08/12/2019-8-12æ—¥æŠ¥/","link":"","permalink":"http://www.octber.xyz/2019/08/12/2019-8-12%E6%97%A5%E6%8A%A5/","excerpt":"å‰è¨€2019.9.12æ—¥æŠ¥ ç»è¿‡å››å¤©åœ¨èŠœæ¹–çš„æ¯”èµ›,ä»Šå¤©å‘¨ä¸€å›åˆ°æ­å·,æ­£å¥½é¿è¿‡äº†å°é£,å¼€å§‹æ–°çš„ä¸€å‘¨çš„å·¥ä½œ","text":"å‰è¨€2019.9.12æ—¥æŠ¥ ç»è¿‡å››å¤©åœ¨èŠœæ¹–çš„æ¯”èµ›,ä»Šå¤©å‘¨ä¸€å›åˆ°æ­å·,æ­£å¥½é¿è¿‡äº†å°é£,å¼€å§‹æ–°çš„ä¸€å‘¨çš„å·¥ä½œ ä»Šæ—¥1. æ–°å¢å­—å…¸é¡¹ ä¹‹å‰æ·»åŠ çš„å­—å…¸é¡¹,è¿˜æœ‰éšåæ–°å¢çš„å­—å…¸é¡¹,ç»Ÿä¸€æ›´æ–°åˆ°æ•°æ®åº“ä¸­ 1.1 æ ¼å¼åŒ–å­—å…¸é¡¹æ•°æ®å°†æ‰€æœ‰è¦æ·»åŠ çš„å­—å…¸é¡¹Excelè¡¨æ ¼ä¸­çš„æ•°æ®,è½¬åŒ–ä¸ºCSVçš„æ ¼å¼,è¿™ç§æ ¼å¼é€šè¿‡é€—å·åˆ†éš”,åˆ©äºå¤„ç† 1.2 ç¼–å†™ç¨‹åºç¼–å†™è¯»å…¥CSVçš„ç¨‹åº,å¹¶ä¸”è®¾è®¡ç®—æ³•å°†å…¶å¤„ç†æˆè§„èŒƒæ ¼å¼çš„æ•°æ® æ ¼å¼å‚è€ƒ: 123456789101112131415&#123; &quot;company_id&quot;: 0, &quot;use_flag&quot;: &quot;1&quot;, &quot;dict_key&quot;: &quot;60055&quot;, &quot;dict_value&quot;: &quot;!&quot;, &quot;dict_caption&quot;: &quot;ä»£é”€è´¦æˆ·ç±»åˆ«&quot;, &quot;dict_caption_eng&quot;: &quot;&quot;, &quot;hide_flag&quot;: &quot;&quot;, &quot;dict_order&quot;: 0, &quot;dict_version&quot;: &quot;0&quot;, &quot;authorise_code&quot;: &quot;&quot;, &quot;dict_operator_mode_list&quot;: &quot;&quot;, &quot;custom_industry_code&quot;: &quot;&quot;, &quot;custom_id&quot;: &quot;&quot; &#125; 1.3 å¯¼å‡ºä¸ºJSON ä½¿ç”¨GSONå¯¼å‡ºä¸ºJSON,å†™å…¥bg-cloud-manageçš„BG_TDICTIONARYæ–‡ä»¶ä¸­ åˆ é™¤bg_tsystemversionçš„å†…å®¹ è¿è¡Œç¨‹åºæ›´æ–°åˆ°æ•°æ®åº“ä¸­ 1.4 æœ¬æ¬¡æ›´æ–°å†…å®¹æ›´æ–°äº†å¾…ç”³æŠ¥å­—å…¸è¡¨ä¸­çš„æ‰€æœ‰æ•°æ®,æä¾›å…¶ä»–äººæ–¹ä¾¿ä½¿ç”¨ 2. æäº¤æ–‡ä»¶ ç¬¬ä¸€æ­¥å°†ä¸Šä¼ çš„æ–‡ä»¶ç»§ç»­å¤„ç†,å†æäº¤åˆ°æŒ‡å®šä½ç½® 2.1 ä»ä¸Šä¼ æ¥å£æ‹¿åˆ°å¯¹åº”æ–‡ä»¶çš„ä¿¡æ¯123456789101112errorCode: &quot;0&quot;errorInfo: nullerrorNo: 0result: &#123;â€¦&#125;classifyNo: nullcompanyId: 1001createUser: &quot;10018888&quot;fileId: 22fileName: &quot;nginxconfig.txt&quot;filePath: &quot;/home/file_tmp/20190812&quot;fileSize: 2122fileStoreName: &quot;903fc4d2a5fb47bb88d4a983899f3fcd&quot; 2.2 å‰ç«¯å¯¹ä¸€ç³»åˆ—æ–‡ä»¶çš„fileIdè¿›è¡Œå‚¨å­˜,ç»Ÿä¸€æäº¤2.3 åç«¯æ ¹æ®fileIdè·å¾—æ–‡ä»¶åˆ—è¡¨2.4 åç«¯è¿›è¡Œå‘½åè§„èŒƒè§„åˆ™ï¼š zipæ–‡ä»¶å‘½åä¿®æ”¹è§„åˆ™: æ–‡ä»¶ä¸Šä¼ ï¼Œéœ€è¦è‡ªåŠ¨ä¿®æ”¹æ–‡ä»¶åï¼Œä»¥æ”¯æŒä»£é”€ç«¯å’Œå¼€æˆ·ç”³è¯·å¯¹åº”ï¼› å‘½åä¿®æ”¹å»ºè®®è§„åˆ™ï¼šå®¢æˆ·åŸæ–‡ä»¶åæœºæ„æ ‡è¯† O3åŸºé‡‘ç®€ç§°_3ä½ä¸šåŠ¡ä»£ç _8ä½æ—¥æœŸ.ZIP ï¼ˆå¼€æˆ·æŠ¥æ–‡ä¸­æœ‰ï¼šæœºæ„æ ‡è¯†ã€O3åŸºé‡‘ç®€ç§°ã€3ä½ä¸šåŠ¡ä»£ç ã€8ä½æ—¥æœŸï¼‰ å››ä¸ªï¼ˆæˆ–å¤šä¸ªï¼‰æ–‡ä»¶æ ¼å¼åŠå‘½åè§„åˆ™ ä¸Šä¼ çš„æ–‡ä»¶æ‰¹æ¬¡ç¼–å·ä¸€ä¸ªï¼Œéœ€åŠ åœ¨å››ä¸ªï¼ˆæˆ–å¤šä¸ªï¼‰æ–‡ä»¶å‰ç¼€ï¼› å››ä¸ªï¼ˆæˆ–å¤šä¸ªï¼‰æ–‡ä»¶åå¾—æ”¹ä¸ºå­—æ¯ï¼Œç®—ä¸Šæ–‡ä»¶ç¼–å·å‰ç¼€åï¼Œæ ¼å¼ä¸ºxxxxYYYYMMDDzzz-aï¼ŒxxxxYYYYMMDDzzz-bï¼ŒxxxxYYYYMMDDzzz-c/d/e/......; æ–‡ä»¶æ ¼å¼ï¼š æ–‡ä»¶ç¼–å·è§„åˆ™ï¼š æ–‡ä»¶ç¼–å·å¿…é¡»é»˜è®¤ä¼ é€’ï¼Œå³ä½¿â€œå››ä¸ªï¼ˆæˆ–å¤šä¸ªï¼‰æ–‡ä»¶â€æ²¡æœ‰ä¸Šä¼ ä¸ºç©ºï¼› æ–‡ä»¶ç¼–å·æ ¼å¼ï¼šxxxxYYYYMMDDzzzï¼Œå…¶ä¸­xxxxéœ€è¦æ¯å¥—â€œæœºæ„é€šâ€ï¼ˆæˆ–æŠ•èµ„è€…ï¼Œéœ€è€ƒè™‘å¤šç®¡ç†äººç‰ˆæœ¬ï¼‰ä¸åŒï¼Œzzzè¡¨ç¤ºå½“å‰ç”³è¯·æ‰¹æ¬¡å·ï¼Œæ¯ç¬”ç”³è¯·çš„æ‰¹æ¬¡å·å½“å‰ç³»ç»Ÿå½“å‰æ—¥æœŸå”¯ä¸€ ä»¥ä¸Šä¸ºæ–‡æ¡£é‡Œè§„å®šçš„,é€šè¿‡å’Œé¾™å“¥è¿›ä¸€æ­¥ç¡®è®¤å‘½åè§„èŒƒå,ç¡®å®šä¸º 2.4.1 è´¦æˆ·ç”µå­æ–‡ä»¶ä¸Šä¼  æ–‡ä»¶ç±»å‹: å‹ç¼©æ–‡ä»¶ Zip å‘½åè§„èŒƒ: å®¢æˆ·åŸæ–‡ä»¶å_æœºæ„æ ‡è¯†_O3åŸºé‡‘ç®€ç§°_3ä½ä¸šåŠ¡ä»£ç _8ä½æ—¥æœŸ.ZIP è¯´æ˜: æœºæ„è¡¨ç¤ºä¿®æ”¹ä¸º: å…¬å¸ç¼–å·company_id O3åŸºé‡‘ç®€ç§°: æ¥æºäºOpenAccountFormDTOä¸­çš„fundName(äº§å“ç®€ç§°) 3ä½ä¸šåŠ¡ä»£ç : Busin_type(ä¸šåŠ¡ç±»å‹) 8ä½æ—¥æœŸï¼šå¦‚20190808 2.4.2 å››ä¸ªæ–‡ä»¶ æŠ•èµ„äººè¥ä¸šæ‰§ç…§ (ç›–å…¬ç« ) æŠ•èµ„äººæ³•äººèº«ä»½è¯å¤å°ä»¶ (ç›–å…¬ç« ) é‡‘èè®¸å¯è¯å¤å°ä»¶ (ç›–å…¬ç« ) æŠ•èµ„äº¤æ˜“å¹³å°ç¬¬ä¸‰æ–¹æœºæ„åˆä½œåè®® (ç›–å…¬ç« ) è¯´æ˜: æ–‡ä»¶åç»„æˆ: æ–‡ä»¶ç¼–å·å‰ç¼€ + â€œ-aâ€: æŠ•èµ„äººè¥ä¸šæ‰§ç…§ (ç›–å…¬ç« ) â€œ-bâ€: æŠ•èµ„äººæ³•äººèº«ä»½è¯å¤å°ä»¶ (ç›–å…¬ç« ) â€œ-câ€: é‡‘èè®¸å¯è¯å¤å°ä»¶ (ç›–å…¬ç« ) â€œ-dâ€: æŠ•èµ„äº¤æ˜“å¹³å°ç¬¬ä¸‰æ–¹æœºæ„åˆä½œåè®® (ç›–å…¬ç« ) æ–‡ä»¶ç¼–å·è¯´æ˜xxxxYYYYMMDDzzz: xxxx: company_id YYYYMMDD: å¹´æœˆæ—¥ zzz: å”¯ä¸€æ ‡è¯† 2.5 åç«¯æ–‡ä»¶ä¸Šä¼ åˆ°FTPæœåŠ¡å™¨1234567891011#================================================================# File#================================================================#localï¼šæœ¬åœ°ï¼Œsftpï¼šä½¿ç”¨sftpæ–¹å¼ä¸Šä¼ am4.bg.upload.mode=sftpam4.bg.upload.sftp.address=10.20.29.235am4.bg.upload.sftp.port=22am4.bg.upload.sftp.user=rootam4.bg.upload.sftp.password=Yy@zgy2019_cwjytam4.bg.upload.path=/home/trade_account_files/am4.bg.upload.whitelist=txt,doc,docx,xls,jpg,png,zip å°†æ¥åªéœ€è¦ä¿®æ”¹am4.bg.upload.path=/home/trade_account_files/å°±å¯ä»¥äº† æµç¨‹æœ‰é—®é¢˜,æ”¹å§!","categories":[{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"http://www.octber.xyz/categories/%E6%97%A5%E8%AE%B0/"}],"tags":[{"name":"æ—¥æŠ¥","slug":"æ—¥æŠ¥","permalink":"http://www.octber.xyz/tags/%E6%97%A5%E6%8A%A5/"}]},{"title":"Javaçº¿ç¨‹æ± ","slug":"Javaçº¿ç¨‹æ± ","date":"2019-08-10T13:17:20.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/08/10/Javaçº¿ç¨‹æ± /","link":"","permalink":"http://www.octber.xyz/2019/08/10/Java%E7%BA%BF%E7%A8%8B%E6%B1%A0/","excerpt":"å‰è¨€çº¿ç¨‹æ± çš„å¸¸è§é—®é¢˜å’Œåˆ›å»ºæ–¹å¼","text":"å‰è¨€çº¿ç¨‹æ± çš„å¸¸è§é—®é¢˜å’Œåˆ›å»ºæ–¹å¼ ä»€ä¹ˆæ˜¯çº¿ç¨‹æ± ï¼Ÿçº¿ç¨‹æ± æ˜¯ä¸€ç§å¤šçº¿ç¨‹å¤„ç†å½¢å¼ï¼Œå¤„ç†è¿‡ç¨‹ä¸­å°†ä»»åŠ¡æäº¤åˆ°çº¿ç¨‹æ± ï¼Œä»»åŠ¡çš„æ‰§è¡Œäº¤ç”±çº¿ç¨‹æ± æ¥ç®¡ç†ã€‚ å¦‚æœæ¯ä¸ªè¯·æ±‚éƒ½åˆ›å»ºä¸€ä¸ªçº¿ç¨‹å»å¤„ç†ï¼Œé‚£ä¹ˆæœåŠ¡å™¨çš„èµ„æºå¾ˆå¿«å°±ä¼šè¢«è€—å°½ï¼Œä½¿ç”¨çº¿ç¨‹æ± å¯ä»¥å‡å°‘åˆ›å»ºå’Œé”€æ¯çº¿ç¨‹çš„æ¬¡æ•°ï¼Œæ¯ä¸ªå·¥ä½œçº¿ç¨‹éƒ½å¯ä»¥è¢«é‡å¤åˆ©ç”¨ï¼Œå¯æ‰§è¡Œå¤šä¸ªä»»åŠ¡ã€‚ ä¸ºä»€ä¹ˆè¦ä½¿ç”¨çº¿ç¨‹æ± ï¼Ÿåˆ›å»ºçº¿ç¨‹å’Œé”€æ¯çº¿ç¨‹çš„èŠ±é”€æ˜¯æ¯”è¾ƒå¤§çš„ï¼Œè¿™äº›æ—¶é—´æœ‰å¯èƒ½æ¯”å¤„ç†ä¸šåŠ¡çš„æ—¶é—´è¿˜è¦é•¿ã€‚è¿™æ ·é¢‘ç¹çš„åˆ›å»ºçº¿ç¨‹å’Œé”€æ¯çº¿ç¨‹ï¼Œå†åŠ ä¸Šä¸šåŠ¡å·¥ä½œçº¿ç¨‹ï¼Œæ¶ˆè€—ç³»ç»Ÿèµ„æºçš„æ—¶é—´ï¼Œå¯èƒ½å¯¼è‡´ç³»ç»Ÿèµ„æºä¸è¶³ã€‚ï¼ˆæˆ‘ä»¬å¯ä»¥æŠŠåˆ›å»ºå’Œé”€æ¯çš„çº¿ç¨‹çš„è¿‡ç¨‹å»æ‰ï¼‰ çº¿ç¨‹æ± æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿçº¿ç¨‹æ± ä½œç”¨å°±æ˜¯é™åˆ¶ç³»ç»Ÿä¸­æ‰§è¡Œçº¿ç¨‹çš„æ•°é‡ã€‚ æé«˜æ•ˆç‡ åˆ›å»ºå¥½ä¸€å®šæ•°é‡çš„çº¿ç¨‹æ”¾åœ¨æ± ä¸­ï¼Œç­‰éœ€è¦ä½¿ç”¨çš„æ—¶å€™å°±ä»æ± ä¸­æ‹¿ä¸€ä¸ªï¼Œè¿™è¦æ¯”éœ€è¦çš„æ—¶å€™åˆ›å»ºä¸€ä¸ªçº¿ç¨‹å¯¹è±¡è¦å¿«çš„å¤šã€‚ æ–¹ä¾¿ç®¡ç† å¯ä»¥ç¼–å†™çº¿ç¨‹æ± ç®¡ç†ä»£ç å¯¹æ± ä¸­çš„çº¿ç¨‹åŒä¸€è¿›è¡Œç®¡ç†ï¼Œæ¯”å¦‚è¯´å¯åŠ¨æ—¶æœ‰è¯¥ç¨‹åºåˆ›å»º100ä¸ªçº¿ç¨‹ï¼Œæ¯å½“æœ‰è¯·æ±‚çš„æ—¶å€™ï¼Œå°±åˆ†é…ä¸€ä¸ªçº¿ç¨‹å»å·¥ä½œï¼Œå¦‚æœåˆšå¥½å¹¶å‘æœ‰101ä¸ªè¯·æ±‚ï¼Œé‚£å¤šå‡ºçš„è¿™ä¸€ä¸ªè¯·æ±‚å¯ä»¥æ’é˜Ÿç­‰å€™ï¼Œé¿å…å› æ— ä¼‘æ­¢çš„åˆ›å»ºçº¿ç¨‹å¯¼è‡´ç³»ç»Ÿå´©æºƒã€‚ è¯´è¯´å‡ ç§å¸¸è§çš„çº¿ç¨‹æ± åŠä½¿ç”¨åœºæ™¯1. newSingleThreadExecutoråˆ›å»ºä¸€ä¸ªå•çº¿ç¨‹åŒ–çš„çº¿ç¨‹æ± ï¼Œå®ƒåªä¼šç”¨å”¯ä¸€çš„å·¥ä½œçº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ï¼Œä¿è¯æ‰€æœ‰ä»»åŠ¡æŒ‰ç…§æŒ‡å®šé¡ºåº(FIFO, LIFO, ä¼˜å…ˆçº§)æ‰§è¡Œã€‚ 2. newFixedThreadPoolåˆ›å»ºä¸€ä¸ªå®šé•¿çº¿ç¨‹æ± ï¼Œå¯æ§åˆ¶çº¿ç¨‹æœ€å¤§å¹¶å‘æ•°ï¼Œè¶…å‡ºçš„çº¿ç¨‹ä¼šåœ¨é˜Ÿåˆ—ä¸­ç­‰å¾…ã€‚ ç¼ºç‚¹:newFixedThreadPool()åœ¨ä¸¥æ ¼ä¸Šè¯´å¹¶ä¸ä¼šå¤ç”¨çº¿ç¨‹ï¼Œæ¯è¿è¡Œä¸€ä¸ªRunnableéƒ½ä¼šé€šè¿‡ThreadFactoryåˆ›å»ºä¸€ä¸ªçº¿ç¨‹ 3. newCachedThreadPoolåˆ›å»ºä¸€ä¸ªå¯ç¼“å­˜çº¿ç¨‹æ± ï¼Œå¦‚æœçº¿ç¨‹æ± é•¿åº¦è¶…è¿‡å¤„ç†éœ€è¦ï¼Œå¯çµæ´»å›æ”¶ç©ºé—²çº¿ç¨‹ï¼Œè‹¥æ— å¯å›æ”¶ï¼Œåˆ™æ–°å»ºçº¿ç¨‹ã€‚ ç¼ºç‚¹ï¼šExecutors.newCachedThreadPool()ç¼ºç‚¹ï¼šå¤§å®¶ä¸€èˆ¬ä¸ç”¨æ˜¯å› ä¸ºnewCachedThreadPool å¯ä»¥æ— çº¿çš„æ–°å»ºçº¿ç¨‹ï¼Œå®¹æ˜“é€ æˆå †å¤–å†…å­˜æº¢å‡ºï¼Œå› ä¸ºå®ƒçš„æœ€å¤§å€¼æ˜¯åœ¨åˆå§‹åŒ–çš„æ—¶å€™è®¾ç½®ä¸º Integer.MAX_VALUEï¼Œä¸€èˆ¬æ¥è¯´æœºå™¨éƒ½æ²¡é‚£ä¹ˆå¤§å†…å­˜ç»™å®ƒä¸æ–­ä½¿ç”¨ã€‚å½“ç„¶çŸ¥é“å¯èƒ½å‡ºé—®é¢˜çš„ç‚¹ï¼Œå°±å¯ä»¥å»é‡å†™ä¸€ä¸ªæ–¹æ³•é™åˆ¶ä¸€ä¸‹è¿™ä¸ªæœ€å¤§å€¼ 4. newScheduledThreadPoolåˆ›å»ºä¸€ä¸ªå®šé•¿çº¿ç¨‹æ± ï¼Œæ”¯æŒå®šæ—¶åŠå‘¨æœŸæ€§ä»»åŠ¡æ‰§è¡Œã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåªæœ‰å½“ä»»åŠ¡çš„æ‰§è¡Œæ—¶é—´åˆ°æ¥æ—¶ï¼ŒScheduedExecutor æ‰ä¼šçœŸæ­£å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹ï¼Œå…¶ä½™æ—¶é—´ ScheduledExecutor éƒ½æ˜¯åœ¨è½®è¯¢ä»»åŠ¡çš„çŠ¶æ€ã€‚ 5. newWorkStealingPoolä¸€ä¸ªæ‹¥æœ‰å¤šä¸ªä»»åŠ¡é˜Ÿåˆ—çš„çº¿ç¨‹æ± ï¼Œå¯ä»¥å‡å°‘è¿æ¥æ•°ï¼Œåˆ›å»ºå½“å‰å¯ç”¨cpuæ•°é‡çš„çº¿ç¨‹æ¥å¹¶è¡Œæ‰§è¡Œã€‚ å¼€å¯çº¿ç¨‹çš„ä¸‰ç§æ–¹å¼ï¼Ÿrun()å’Œstart()æ–¹æ³•åŒºåˆ«ï¼ŸJavaä½¿ç”¨Threadç±»ä»£è¡¨çº¿ç¨‹ï¼Œæ‰€æœ‰çš„çº¿ç¨‹å¯¹è±¡éƒ½å¿…é¡»æ˜¯Threadç±»æˆ–å…¶å­ç±»çš„å®ä¾‹ã€‚Javaå¯ä»¥ç”¨ä¸‰ç§æ–¹å¼æ¥åˆ›å»ºçº¿ç¨‹1ï¼‰ç»§æ‰¿Threadç±»åˆ›å»ºçº¿ç¨‹2ï¼‰å®ç°Runnableæ¥å£åˆ›å»ºçº¿ç¨‹3ï¼‰ä½¿ç”¨Callableå’ŒFutureåˆ›å»ºçº¿ç¨‹ new Threadçš„å¼Šç«¯ï¼Ÿ æ¯æ¬¡new Threadæ–°å»ºå¯¹è±¡æ€§èƒ½å·®ã€‚ çº¿ç¨‹ç¼ºä¹ç»Ÿä¸€ç®¡ç†ï¼Œå¯èƒ½æ— é™åˆ¶æ–°å»ºçº¿ç¨‹ï¼Œç›¸äº’ä¹‹é—´ç«äº‰ï¼ŒåŠå¯èƒ½å ç”¨è¿‡å¤šç³»ç»Ÿèµ„æºå¯¼è‡´æ­»æœºã€‚ ç¼ºä¹æ›´å¤šåŠŸèƒ½ï¼Œå¦‚å®šæ—¶æ‰§è¡Œã€å®šæœŸæ‰§è¡Œã€çº¿ç¨‹ä¸­æ–­ã€‚ ç›¸æ¯”new Threadï¼ŒJavaæä¾›çš„å››ç§çº¿ç¨‹æ± çš„å¥½å¤„åœ¨äºï¼š é‡ç”¨å­˜åœ¨çš„çº¿ç¨‹ï¼Œå‡å°‘å¯¹è±¡åˆ›å»ºã€æ¶ˆäº¡çš„å¼€é”€ï¼Œæ€§èƒ½ä½³ã€‚ å¯æœ‰æ•ˆæ§åˆ¶æœ€å¤§å¹¶å‘çº¿ç¨‹æ•°ï¼Œæé«˜ç³»ç»Ÿèµ„æºçš„ä½¿ç”¨ç‡ï¼ŒåŒæ—¶é¿å…è¿‡å¤šèµ„æºç«äº‰ï¼Œé¿å…å µå¡ã€‚ æä¾›å®šæ—¶æ‰§è¡Œã€å®šæœŸæ‰§è¡Œã€å•çº¿ç¨‹ã€å¹¶å‘æ•°æ§åˆ¶ç­‰åŠŸèƒ½ã€‚ çº¿ç¨‹æ± ä¸­çš„å‡ ç§é‡è¦çš„å‚æ•° corePoolSize: å°±æ˜¯çº¿ç¨‹æ± ä¸­çš„æ ¸å¿ƒçº¿ç¨‹æ•°é‡ï¼Œè¿™å‡ ä¸ªæ ¸å¿ƒçº¿ç¨‹ï¼Œåªæ˜¯åœ¨æ²¡æœ‰ç”¨çš„æ—¶å€™ï¼Œä¹Ÿä¸ä¼šè¢«å›æ”¶ maximumPoolSize: å°±æ˜¯çº¿ç¨‹æ± ä¸­å¯ä»¥å®¹çº³çš„æœ€å¤§çº¿ç¨‹çš„æ•°é‡ keepAliveTime: å°±æ˜¯çº¿ç¨‹æ± ä¸­é™¤äº†æ ¸å¿ƒçº¿ç¨‹ä¹‹å¤–çš„å…¶ä»–çš„æœ€é•¿å¯ä»¥ä¿ç•™çš„æ—¶é—´ï¼Œå› ä¸ºåœ¨çº¿ç¨‹æ± ä¸­ï¼Œé™¤äº†æ ¸å¿ƒçº¿ç¨‹å³ä½¿åœ¨æ— ä»»åŠ¡çš„æƒ…å†µä¸‹ä¹Ÿä¸èƒ½è¢«æ¸…é™¤ï¼Œå…¶ä½™çš„éƒ½æ˜¯æœ‰å­˜æ´»æ—¶é—´çš„ï¼Œæ„æ€å°±æ˜¯éæ ¸å¿ƒçº¿ç¨‹å¯ä»¥ä¿ç•™çš„æœ€é•¿çš„ç©ºé—²æ—¶é—´ï¼Œ util: å°±æ˜¯è®¡ç®—è¿™ä¸ªæ—¶é—´çš„ä¸€ä¸ªå•ä½ã€‚ workQueue: å°±æ˜¯ç­‰å¾…é˜Ÿåˆ—ï¼Œä»»åŠ¡å¯ä»¥å‚¨å­˜åœ¨ä»»åŠ¡é˜Ÿåˆ—ä¸­ç­‰å¾…è¢«æ‰§è¡Œï¼Œæ‰§è¡Œçš„æ˜¯FIFIOåŸåˆ™ï¼ˆå…ˆè¿›å…ˆå‡ºï¼‰ã€‚ threadFactory: å°±æ˜¯åˆ›å»ºçº¿ç¨‹çš„çº¿ç¨‹å·¥å‚ã€‚ handler: æ˜¯ä¸€ç§æ‹’ç»ç­–ç•¥ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä»»åŠ¡æ»¡äº†ä¹‹åï¼Œæ‹’ç»æ‰§è¡ŒæŸäº›ä»»åŠ¡ã€‚ è¯´è¯´çº¿ç¨‹æ± çš„æ‹’ç»ç­–ç•¥â€‹ å½“è¯·æ±‚ä»»åŠ¡ä¸æ–­çš„è¿‡æ¥ï¼Œè€Œç³»ç»Ÿæ­¤æ—¶åˆå¤„ç†ä¸è¿‡æ¥çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦é‡‡å–çš„ç­–ç•¥æ˜¯æ‹’ç»æœåŠ¡ã€‚RejectedExecutionHandleræ¥å£æä¾›äº†æ‹’ç»ä»»åŠ¡å¤„ç†çš„è‡ªå®šä¹‰æ–¹æ³•çš„æœºä¼šã€‚åœ¨ThreadPoolExecutorä¸­å·²ç»åŒ…å«å››ç§å¤„ç†ç­–ç•¥ã€‚ AbortPolicyç­–ç•¥ï¼šè¯¥ç­–ç•¥ä¼šç›´æ¥æŠ›å‡ºå¼‚å¸¸ï¼Œé˜»æ­¢ç³»ç»Ÿæ­£å¸¸å·¥ä½œã€‚ CallerRunsPolicyç­–ç•¥ï¼šåªè¦çº¿ç¨‹æ± æœªå…³é—­ï¼Œè¯¥ç­–ç•¥ç›´æ¥åœ¨è°ƒç”¨è€…çº¿ç¨‹ä¸­ï¼Œè¿è¡Œå½“å‰çš„è¢«ä¸¢å¼ƒçš„ä»»åŠ¡ã€‚ DiscardOleddestPolicyç­–ç•¥ï¼š è¯¥ç­–ç•¥å°†ä¸¢å¼ƒæœ€è€çš„ä¸€ä¸ªè¯·æ±‚ï¼Œä¹Ÿå°±æ˜¯å³å°†è¢«æ‰§è¡Œçš„ä»»åŠ¡ï¼Œå¹¶å°è¯•å†æ¬¡æäº¤å½“å‰ä»»åŠ¡ã€‚ DiscardPolicyç­–ç•¥ï¼šè¯¥ç­–ç•¥é»˜é»˜çš„ä¸¢å¼ƒæ— æ³•å¤„ç†çš„ä»»åŠ¡ï¼Œä¸äºˆä»»ä½•å¤„ç†ã€‚ â€‹ é™¤äº†JDKé»˜è®¤æä¾›çš„å››ç§æ‹’ç»ç­–ç•¥ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®è‡ªå·±çš„ä¸šåŠ¡éœ€æ±‚å»è‡ªå®šä¹‰æ‹’ç»ç­–ç•¥ï¼Œè‡ªå®šä¹‰çš„æ–¹å¼å¾ˆç®€å•ï¼Œç›´æ¥å®ç°RejectedExecutionHandleræ¥å£å³å¯ã€‚ executeå’Œsubmitçš„åŒºåˆ«ï¼Ÿâ€‹ åœ¨å‰é¢çš„è®²è§£ä¸­ï¼Œæˆ‘ä»¬æ‰§è¡Œä»»åŠ¡æ˜¯ç”¨çš„executeæ–¹æ³•ï¼Œé™¤äº†executeæ–¹æ³•ï¼Œè¿˜æœ‰ä¸€ä¸ªsubmitæ–¹æ³•ä¹Ÿå¯ä»¥æ‰§è¡Œæˆ‘ä»¬æäº¤çš„ä»»åŠ¡ã€‚ è¿™ä¸¤ä¸ªæ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿåˆ†åˆ«é€‚ç”¨äºåœ¨ä»€ä¹ˆåœºæ™¯ä¸‹å‘¢ï¼Ÿæˆ‘ä»¬æ¥åšä¸€ä¸ªç®€å•çš„åˆ†æã€‚ executeé€‚ç”¨äºä¸éœ€è¦å…³æ³¨è¿”å›å€¼çš„åœºæ™¯ï¼Œåªéœ€è¦å°†çº¿ç¨‹ä¸¢åˆ°çº¿ç¨‹æ± ä¸­å»æ‰§è¡Œå°±å¯ä»¥äº†ã€‚ submitæ–¹æ³•é€‚ç”¨äºéœ€è¦å…³æ³¨è¿”å›å€¼çš„åœºæ™¯ çº¿ç¨‹æ± çš„å…³é—­å…³é—­çº¿ç¨‹æ± å¯ä»¥è°ƒç”¨shutdownNowå’Œshutdownä¸¤ä¸ªæ–¹æ³•æ¥å®ç° shutdownNowï¼šå¯¹æ­£åœ¨æ‰§è¡Œçš„ä»»åŠ¡å…¨éƒ¨å‘å‡ºinterrupt()ï¼Œåœæ­¢æ‰§è¡Œï¼Œå¯¹è¿˜æœªå¼€å§‹æ‰§è¡Œçš„ä»»åŠ¡å…¨éƒ¨å–æ¶ˆï¼Œå¹¶ä¸”è¿”å›è¿˜æ²¡å¼€å§‹çš„ä»»åŠ¡åˆ—è¡¨ã€‚ shutdownï¼šå½“æˆ‘ä»¬è°ƒç”¨shutdownåï¼Œçº¿ç¨‹æ± å°†ä¸å†æ¥å—æ–°çš„ä»»åŠ¡ï¼Œä½†ä¹Ÿä¸ä¼šå»å¼ºåˆ¶ç»ˆæ­¢å·²ç»æäº¤æˆ–è€…æ­£åœ¨æ‰§è¡Œä¸­çš„ä»»åŠ¡ã€‚ åˆå§‹åŒ–çº¿ç¨‹æ± æ—¶çº¿ç¨‹æ•°çš„é€‰æ‹© å¦‚æœä»»åŠ¡æ˜¯IOå¯†é›†å‹ï¼Œä¸€èˆ¬çº¿ç¨‹æ•°éœ€è¦è®¾ç½®2å€CPUæ•°ä»¥ä¸Šï¼Œä»¥æ­¤æ¥å°½é‡åˆ©ç”¨CPUèµ„æºã€‚ å¦‚æœä»»åŠ¡æ˜¯CPUå¯†é›†å‹ï¼Œä¸€èˆ¬çº¿ç¨‹æ•°é‡åªéœ€è¦è®¾ç½®CPUæ•°åŠ 1å³å¯ï¼Œæ›´å¤šçš„çº¿ç¨‹æ•°ä¹Ÿåªèƒ½å¢åŠ ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œä¸èƒ½å¢åŠ CPUåˆ©ç”¨ç‡ã€‚ ä¸Šè¿°åªæ˜¯ä¸€ä¸ªåŸºæœ¬æ€æƒ³ï¼Œå¦‚æœçœŸçš„éœ€è¦ç²¾ç¡®çš„æ§åˆ¶ï¼Œè¿˜æ˜¯éœ€è¦ä¸Šçº¿ä»¥åè§‚å¯Ÿçº¿ç¨‹æ± ä¸­çº¿ç¨‹æ•°é‡è·Ÿé˜Ÿåˆ—çš„æƒ…å†µæ¥å®šã€‚ çº¿ç¨‹æ± éƒ½æœ‰å“ªå‡ ç§å·¥ä½œé˜Ÿåˆ—ArrayBlockingQueueæ˜¯ä¸€ä¸ªåŸºäºæ•°ç»„ç»“æ„çš„æœ‰ç•Œé˜»å¡é˜Ÿåˆ—ï¼Œæ­¤é˜Ÿåˆ—æŒ‰ FIFOï¼ˆå…ˆè¿›å…ˆå‡ºï¼‰åŸåˆ™å¯¹å…ƒç´ è¿›è¡Œæ’åºã€‚ LinkedBlockingQueueä¸€ä¸ªåŸºäºé“¾è¡¨ç»“æ„çš„é˜»å¡é˜Ÿåˆ—ï¼Œæ­¤é˜Ÿåˆ—æŒ‰FIFO ï¼ˆå…ˆè¿›å…ˆå‡ºï¼‰ æ’åºå…ƒç´ ï¼Œååé‡é€šå¸¸è¦é«˜äºArrayBlockingQueueã€‚é™æ€å·¥å‚æ–¹æ³•Executors.newFixedThreadPool()ä½¿ç”¨äº†è¿™ä¸ªé˜Ÿåˆ— SynchronousQueueä¸€ä¸ªä¸å­˜å‚¨å…ƒç´ çš„é˜»å¡é˜Ÿåˆ—ã€‚æ¯ä¸ªæ’å…¥æ“ä½œå¿…é¡»ç­‰åˆ°å¦ä¸€ä¸ªçº¿ç¨‹è°ƒç”¨ç§»é™¤æ“ä½œï¼Œå¦åˆ™æ’å…¥æ“ä½œä¸€ç›´å¤„äºé˜»å¡çŠ¶æ€ï¼Œååé‡é€šå¸¸è¦é«˜äºLinkedBlockingQueueï¼Œé™æ€å·¥å‚æ–¹æ³•Executors.newCachedThreadPoolä½¿ç”¨äº†è¿™ä¸ªé˜Ÿåˆ—ã€‚ PriorityBlockingQueueä¸€ä¸ªå…·æœ‰ä¼˜å…ˆçº§çš„æ— é™é˜»å¡é˜Ÿåˆ—ã€‚","categories":[{"name":"çº¿ç¨‹","slug":"çº¿ç¨‹","permalink":"http://www.octber.xyz/categories/%E7%BA%BF%E7%A8%8B/"}],"tags":[{"name":"çº¿ç¨‹æ± ","slug":"çº¿ç¨‹æ± ","permalink":"http://www.octber.xyz/tags/%E7%BA%BF%E7%A8%8B%E6%B1%A0/"}]},{"title":"BIOå’ŒNIOç®€è¿°","slug":"BIOå’ŒNIOiç®€è¿°","date":"2019-08-10T11:46:59.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/08/10/BIOå’ŒNIOiç®€è¿°/","link":"","permalink":"http://www.octber.xyz/2019/08/10/BIO%E5%92%8CNIOi%E7%AE%80%E8%BF%B0/","excerpt":"å‰è¨€çº¿ç¨‹ä¸­å¾ˆåŸºç¡€çš„å…³äºBIOå’ŒNIOçš„æ¦‚å¿µï¼Œéœ€è¦æˆ‘ä»¬è¿›è¡Œä¸€ä¸ªç®€å•çš„äº†è§£","text":"å‰è¨€çº¿ç¨‹ä¸­å¾ˆåŸºç¡€çš„å…³äºBIOå’ŒNIOçš„æ¦‚å¿µï¼Œéœ€è¦æˆ‘ä»¬è¿›è¡Œä¸€ä¸ªç®€å•çš„äº†è§£ æ¦‚å¿µ BIO: Blocking IO é˜»å¡çº¿ç¨‹ NIO: Non-Blocking IO éé˜»å¡çº¿ç¨‹ æ‰€è°“çš„ BIO ï¼Œ å°±æ˜¯å½“çº¿ç¨‹æ‰§è¡Œäº†æŸä¸ªè€—æ—¶æ“ä½œæ—¶ï¼Œéœ€è¦ç­‰å¾…è€—æ—¶æ“ä½œç»“æŸï¼Œå†è¿›è¡Œåç»­æ“ä½œã€‚ NIO, å°±æ˜¯å½“çº¿ç¨‹æ‰§è¡Œäº†è€—æ—¶æ“ä½œæ—¶ï¼Œè¯¥çº¿ç¨‹ä¸éœ€è¦ç­‰å¾…è€—æ—¶æ“ä½œç»“æŸï¼Œå¯ç”¨æ¥æ‰§è¡Œå…¶ä»–æ“ä½œã€‚ Java NIOæœ‰ä¸‰å¤§ç»„æˆéƒ¨åˆ†ï¼šBuffer,Channel,Selectorï¼Œé€šè¿‡äº‹ä»¶é©±åŠ¨æ¨¡å¼å®ç°äº†ä»€ä¹ˆæ—¶å€™æœ‰æ•°æ®å¯è¯»çš„é—®é¢˜ã€‚ Channel: ç›¸å½“äºIOæ“ä½œçš„è½½ä½“ï¼Œç›¸å½“äºä¸€ä¸ªç¡¬ä»¶è®¾å¤‡ï¼Œä¸€ä¸ªæ–‡ä»¶ï¼Œä¸€ä¸ªsocketæˆ–æ˜¯åŒºåˆ«ç¨‹åºä¸­çš„ä¸åŒIOæ“ä½œï¼Œå¦‚readï¼Œwriteã€‚channelç±»ä¼¼æµï¼Œä½†åˆæœ‰äº›ä¸åŒï¼šæ—¢å¯ä»¥ä»é€šé“ä¸­è¯»å–æ•°æ®ï¼Œåˆå¯ä»¥å†™æ•°æ®åˆ°é€šé“ã€‚ä½†æµçš„è¯»å†™é€šå¸¸æ˜¯å•å‘çš„ã€‚é€šé“å¯ä»¥å¼‚æ­¥åœ°è¯»å†™ã€‚é€šé“ä¸­çš„æ•°æ®æ€»æ˜¯è¦å…ˆè¯»åˆ°ä¸€ä¸ªBufferï¼Œæˆ–è€…æ€»æ˜¯è¦ä»ä¸€ä¸ªBufferä¸­å†™å…¥ã€‚ Buffer: ç”¨äºå’ŒNIOé€šé“è¿›è¡Œäº¤äº’ã€‚å¦‚ä½ æ‰€çŸ¥ï¼Œæ•°æ®æ˜¯ä»é€šé“è¯»å…¥ç¼“å†²åŒºï¼Œä»ç¼“å†²åŒºå†™å…¥åˆ°é€šé“ä¸­çš„ã€‚ç¼“å†²åŒºæœ¬è´¨ä¸Šæ˜¯ä¸€å—å¯ä»¥å†™å…¥æ•°æ®ï¼Œç„¶åå¯ä»¥ä»ä¸­è¯»å–æ•°æ®çš„å†…å­˜ã€‚è¿™å—å†…å­˜è¢«åŒ…è£…æˆNIO Bufferå¯¹è±¡ï¼Œå¹¶æä¾›äº†ä¸€ç»„æ–¹æ³•ï¼Œç”¨æ¥æ–¹ä¾¿çš„è®¿é—®è¯¥å—å†…å­˜ã€‚ Selector: Selectorï¼ˆé€‰æ‹©å™¨ï¼‰æ˜¯Java NIOä¸­èƒ½å¤Ÿæ£€æµ‹ä¸€åˆ°å¤šä¸ªNIOé€šé“ï¼Œé€šé“å°†å…³å¿ƒçš„äº‹ä»¶æ³¨å†Œåˆ°selector ä¸Šï¼Œselectorèƒ½å¤ŸçŸ¥æ™“é€šé“æ˜¯å¦ä¸ºè¿™äº›äº‹ä»¶è¯¸å¦‚è¯»å†™äº‹ä»¶åšå¥½æ•°æ®å‡†å¤‡ã€‚è¿™æ ·ï¼Œä¸€ä¸ªå•ç‹¬çš„çº¿ç¨‹å¯ä»¥ç®¡ç†å¤šä¸ªchannelï¼Œä»è€Œç®¡ç†å¤šä¸ªç½‘ç»œè¿æ¥ã€‚ Java NIOå’ŒIOçš„ä¸»è¦åŒºåˆ« **IO NIO** é¢å‘æµ é¢å‘ç¼“å†² é˜»å¡IO éé˜»å¡IO æ—  é€‰æ‹©å™¨ çº¿ç¨‹æ˜¯è¾ƒä¸ºé‡é‡çº§çš„èµ„æºã€‚bioå½“å¹¶å‘é‡å¤§ï¼Œè€Œåç«¯æœåŠ¡æˆ–å®¢æˆ·ç«¯å¤„ç†æ•°æ®æ…¢æ—¶å°±ä¼šäº§ç”Ÿäº§ç”Ÿå¤§é‡çº¿ç¨‹å¤„äºç­‰å¾…ä¸­ï¼Œå³ä¸Šè¿°çš„é˜»å¡ï¼Œæ˜¯éå¸¸ä¸¥é‡çš„èµ„æºæµªè´¹ã€‚æ­¤å¤–ï¼Œçº¿ç¨‹çš„åˆ‡æ¢ä¹Ÿä¼šå¯¼è‡´cpuèµ„æºçš„æµªè´¹ï¼Œå•æœºå†…å­˜é™åˆ¶ä¹Ÿæ— æ³•è¿‡å¤šçš„çº¿ç¨‹ï¼Œåªèƒ½å•å‘ä»¥æµçš„å½¢å¼è¯»å–æ•°æ®ã€‚ nioä½¿ç”¨å•çº¿ç¨‹æˆ–è€…åªä½¿ç”¨å°‘é‡çš„å¤šçº¿ç¨‹ï¼Œå¤šä¸ªè¿æ¥å…±ç”¨ä¸€ä¸ªçº¿ç¨‹ï¼Œæ¶ˆè€—çš„çº¿ç¨‹èµ„æºä¼šå¤§å¹…å‡å°ã€‚å¹¶ä¸”å½“å¤„äºç­‰å¾…ï¼ˆæ²¡æœ‰äº‹ä»¶ï¼‰çš„æ—¶å€™çº¿ç¨‹èµ„æºå¯ä»¥é‡Šæ”¾å‡ºæ¥å¤„ç†åˆ«çš„è¯·æ±‚ï¼Œé€šè¿‡äº‹ä»¶é©±åŠ¨æ¨¡å‹å½“æœ‰accept/read/writeç­‰äº‹ä»¶å‘ç”Ÿåé€šçŸ¥ï¼ˆå”¤é†’ï¼‰ä¸»çº¿ç¨‹åˆ†é…èµ„æºæ¥å¤„ç†ç›¸å…³äº‹ä»¶ã€‚ä»¥bufferç¼“å†²åŒºçš„å½¢å¼å¤„ç†æ•°æ®ï¼Œå¤„ç†æ›´ä¸ºæ–¹ä¾¿ã€‚ é¢å‘æµä¸é¢å‘ç¼“å†²Java NIOå’ŒIOä¹‹é—´ç¬¬ä¸€ä¸ªæœ€å¤§çš„åŒºåˆ«æ˜¯ï¼ŒIOæ˜¯é¢å‘æµçš„ï¼ŒNIOæ˜¯é¢å‘ç¼“å†²åŒºçš„ã€‚ Java IOé¢å‘æµæ„å‘³ç€æ¯æ¬¡ä»æµä¸­è¯»ä¸€ä¸ªæˆ–å¤šä¸ªå­—èŠ‚ï¼Œç›´è‡³è¯»å–æ‰€æœ‰å­—èŠ‚ï¼Œå®ƒä»¬æ²¡æœ‰è¢«ç¼“å­˜åœ¨ä»»ä½•åœ°æ–¹ã€‚æ­¤å¤–ï¼Œå®ƒä¸èƒ½å‰åç§»åŠ¨æµä¸­çš„æ•°æ®ã€‚å¦‚æœéœ€è¦å‰åç§»åŠ¨ä»æµä¸­è¯»å–çš„æ•°æ®ï¼Œéœ€è¦å…ˆå°†å®ƒç¼“å­˜åˆ°ä¸€ä¸ªç¼“å†²åŒºã€‚ Java NIOæ˜¯å°†æ•°æ®è¯»å–åˆ°ä¸€ä¸ªå®ƒç¨åå¤„ç†çš„ç¼“å†²åŒºï¼Œéœ€è¦æ—¶å¯åœ¨ç¼“å†²åŒºä¸­å‰åç§»åŠ¨ã€‚è¿™å°±å¢åŠ äº†å¤„ç†è¿‡ç¨‹ä¸­çš„çµæ´»æ€§ã€‚ä½†æ˜¯ï¼Œè¿˜éœ€è¦æ£€æŸ¥è¯¥ç¼“å†²åŒºä¸­æ˜¯å¦åŒ…å«æ‰€æœ‰æ‚¨éœ€è¦å¤„ç†çš„æ•°æ®ã€‚è€Œä¸”ï¼Œéœ€ç¡®ä¿å½“æ›´å¤šçš„æ•°æ®è¯»å…¥ç¼“å†²åŒºæ—¶ï¼Œä¸è¦è¦†ç›–ç¼“å†²åŒºé‡Œå°šæœªå¤„ç†çš„æ•°æ®ã€‚ é˜»å¡ä¸éé˜»å¡IOJava IOçš„å„ç§æµæ˜¯é˜»å¡çš„ã€‚è¿™æ„å‘³ç€ï¼Œå½“ä¸€ä¸ªçº¿ç¨‹è°ƒç”¨read()æˆ–write()æ—¶ï¼Œè¯¥çº¿ç¨‹è¢«é˜»å¡ï¼Œç›´åˆ°æœ‰ä¸€äº›æ•°æ®è¢«è¯»å–ï¼Œæˆ–æ•°æ®å®Œå…¨å†™å…¥ã€‚è¯¥çº¿ç¨‹åœ¨æ­¤æœŸé—´ä¸èƒ½å†å¹²ä»»ä½•äº‹æƒ…äº†ã€‚ Java NIOçš„éé˜»å¡æ¨¡å¼ï¼Œä½¿ä¸€ä¸ªçº¿ç¨‹ä»æŸé€šé“å‘é€è¯·æ±‚è¯»å–æ•°æ®ï¼Œä½†æ˜¯å®ƒä»…èƒ½å¾—åˆ°ç›®å‰å¯ç”¨çš„æ•°æ®ï¼Œå¦‚æœç›®å‰æ²¡æœ‰æ•°æ®å¯ç”¨æ—¶ï¼Œå°±ä»€ä¹ˆéƒ½ä¸ä¼šè·å–ã€‚è€Œä¸æ˜¯ä¿æŒçº¿ç¨‹é˜»å¡ï¼Œæ‰€ä»¥ç›´è‡³æ•°æ®å˜å¾—å¯ä»¥è¯»å–ä¹‹å‰ï¼Œè¯¥çº¿ç¨‹å¯ä»¥ç»§ç»­åšå…¶ä»–çš„äº‹æƒ…ã€‚ éé˜»å¡å†™ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ä¸€ä¸ªçº¿ç¨‹è¯·æ±‚å†™å…¥ä¸€äº›æ•°æ®åˆ°æŸé€šé“ï¼Œä½†ä¸éœ€è¦ç­‰å¾…å®ƒå®Œå…¨å†™å…¥ï¼Œè¿™ä¸ªçº¿ç¨‹åŒæ—¶å¯ä»¥å»åšåˆ«çš„äº‹æƒ…ã€‚ çº¿ç¨‹é€šå¸¸å°†éé˜»å¡IOçš„ç©ºé—²æ—¶é—´ç”¨äºåœ¨å…¶å®ƒé€šé“ä¸Šæ‰§è¡ŒIOæ“ä½œï¼Œæ‰€ä»¥ä¸€ä¸ªå•ç‹¬çš„çº¿ç¨‹ç°åœ¨å¯ä»¥ç®¡ç†å¤šä¸ªè¾“å…¥å’Œè¾“å‡ºé€šé“ï¼ˆchannelï¼‰ã€‚ AIOï¼ˆå…¶å®å°±æ˜¯NIO.2ï¼‰: AIOä¸»è¦æœ‰ä¸¤éƒ¨åˆ†ç»„æˆï¼ŒFilesç”¨äºè§£å†³æ–‡ä»¶çš„ä¸€éƒ¨å¤„ç†é—®é¢˜ï¼ŒSocketsç”¨äºè§£å†³Socketçš„ä¸€éƒ¨å¤„ç†é—®é¢˜ï¼Œåœ¨Linuxä¸Šï¼Œä¸»è¦æœ‰ä¸¤ç§å®ç°ï¼Œä¸€ç§æ˜¯Posix AIOï¼Œå³ç”¨æˆ·æ€å®ç°ï¼Œå¦ä¸€ç§æ˜¯Kernel Native AIOå†…æ ¸æ€å®ç°ï¼Œæ€§èƒ½æ¯”è¾ƒé«˜ï¼Œnginxã€mysqlç­‰çš„æ–°ç‰ˆæœ¬éƒ½æ”¯æŒkernel Natice AIOã€‚","categories":[{"name":"çº¿ç¨‹","slug":"çº¿ç¨‹","permalink":"http://www.octber.xyz/categories/%E7%BA%BF%E7%A8%8B/"}],"tags":[{"name":"çº¿ç¨‹","slug":"çº¿ç¨‹","permalink":"http://www.octber.xyz/tags/%E7%BA%BF%E7%A8%8B/"}]},{"title":"ã€å´©å3ã€‘å®˜æ–¹å£çº¸01","slug":"ã€å´©å3ã€‘å®˜æ–¹å£çº¸01","date":"2019-08-10T09:33:23.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/08/10/ã€å´©å3ã€‘å®˜æ–¹å£çº¸01/","link":"","permalink":"http://www.octber.xyz/2019/08/10/%E3%80%90%E5%B4%A9%E5%9D%8F3%E3%80%91%E5%AE%98%E6%96%B9%E5%A3%81%E7%BA%B801/","excerpt":"å‰è¨€å®˜æ–¹å£çº¸,å¤šå›¾è­¦å‘Š","text":"å‰è¨€å®˜æ–¹å£çº¸,å¤šå›¾è­¦å‘Š","categories":[{"name":"æ¸¸æˆä¸“æ ","slug":"æ¸¸æˆä¸“æ ","permalink":"http://www.octber.xyz/categories/%E6%B8%B8%E6%88%8F%E4%B8%93%E6%A0%8F/"}],"tags":[{"name":"å´©å3","slug":"å´©å3","permalink":"http://www.octber.xyz/tags/%E5%B4%A9%E5%9D%8F3/"}]},{"title":"ã€å´©å3ã€‘æ‰‹æœºå£çº¸01","slug":"ã€å´©å3ã€‘æ‰‹æœºå£çº¸01","date":"2019-08-10T09:32:41.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/08/10/ã€å´©å3ã€‘æ‰‹æœºå£çº¸01/","link":"","permalink":"http://www.octber.xyz/2019/08/10/%E3%80%90%E5%B4%A9%E5%9D%8F3%E3%80%91%E6%89%8B%E6%9C%BA%E5%A3%81%E7%BA%B801/","excerpt":"å‰è¨€å¤šå›¾è­¦å‘Š","text":"å‰è¨€å¤šå›¾è­¦å‘Š","categories":[{"name":"æ¸¸æˆä¸“æ ","slug":"æ¸¸æˆä¸“æ ","permalink":"http://www.octber.xyz/categories/%E6%B8%B8%E6%88%8F%E4%B8%93%E6%A0%8F/"}],"tags":[{"name":"å´©å3","slug":"å´©å3","permalink":"http://www.octber.xyz/tags/%E5%B4%A9%E5%9D%8F3/"}]},{"title":"2019.8.7æ—¥æŠ¥","slug":"2019-8-7æ—¥æŠ¥","date":"2019-08-09T07:30:52.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/08/09/2019-8-7æ—¥æŠ¥/","link":"","permalink":"http://www.octber.xyz/2019/08/09/2019-8-7%E6%97%A5%E6%8A%A5/","excerpt":"å‰è¨€2019.8.7æ—¥æŠ¥","text":"å‰è¨€2019.8.7æ—¥æŠ¥ ä»Šæ—¥ ç”±äºä¸ªäººç”µè„‘é—®é¢˜(æœ€ç»ˆæ¨æ–­æ˜¯å› ä¸ºç”µæºé—®é¢˜,å¯¼è‡´CPUé€Ÿåº¦å¤ªä½),å¤ªå¡äº†,é‡è£…äº†ç³»ç»Ÿ,æµªè´¹äº†å¾ˆå¤šæ—¶é—´,è™½ç„¶é€šè¿‡åŠ ç­å®Œæˆäº†éƒ¨åˆ†ä½œæ£’ç»™çš„ä»»åŠ¡,ä¸Šç­æœŸé—´ä¸èƒ½å¥½å¥½æ‰“ç è¿˜æ˜¯éœ€è¦åæ€ å¦å¤–: æ˜åå¤©éœ€è¦è¯·å‡,åŠªåŠ›æŒ¤å‡ºæ—¶é—´åœ¨å¤–è¾¹å†æ‰“æ‰“ç ,æŠŠå‰©ä½™çš„é—®é¢˜è§£å†³ æ§åˆ¶äººä¿¡æ¯å’Œçº³ç¨äººä¿¡æ¯å½•å…¥ éš¾ç‚¹ ä¸»ä¿¡æ¯å¯¹åº”å¤šä¸ªæ§åˆ¶äººå’Œçº³ç¨äººä¿¡æ¯ æ§åˆ¶äººå¯¹åº”å¤šä¸ªçº³ç¨äººä¿¡æ¯ è§£å†³æ–¹æ¡ˆ è¡¨å•çš„DTOä¸­æœ‰æ§åˆ¶äººçš„List,æ§åˆ¶äººçš„Listä¸­åˆæœ‰çº³ç¨äººçš„List è¡¨å•çš„DTOä¸­æœ‰çº³ç¨äººçš„DTO å¼€æˆ·ä¿¡æ¯æŸ¥è¯¢ç•¥ å¼€æˆ·ä¿¡æ¯ä¿®æ”¹ç•¥","categories":[{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"http://www.octber.xyz/categories/%E6%97%A5%E8%AE%B0/"}],"tags":[{"name":"æ—¥æŠ¥","slug":"æ—¥æŠ¥","permalink":"http://www.octber.xyz/tags/%E6%97%A5%E6%8A%A5/"}]},{"title":"MySQLåº•å±‚åŸç†ç®€æ","slug":"MySQLåº•å±‚åŸç†ç®€æ","date":"2019-08-06T12:09:06.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/08/06/MySQLåº•å±‚åŸç†ç®€æ/","link":"","permalink":"http://www.octber.xyz/2019/08/06/MySQL%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E7%AE%80%E6%9E%90/","excerpt":"å‰è¨€ç®€å•åˆ†æäº†è§£MySQLåº•å±‚åŸç†","text":"å‰è¨€ç®€å•åˆ†æäº†è§£MySQLåº•å±‚åŸç† æ„Ÿè°¢ç åˆ°åŸæ”»æ–‡ç« å¯¹æˆ‘çš„æŒ‡å¯¼ æ„Ÿè°¢ç§‹é£é†‰äº†æ–‡ç« å¯¹æˆ‘çš„æŒ‡å¯¼ 1.MySQLé€»è¾‘æ¶æ„ MySQLçš„é€»è¾‘ç»“æ„åˆ†ä¸ºä¸‰å±‚ï¼Œåˆ†åˆ«ä¸ºï¼šå®¢æˆ·ç«¯å±‚ã€æ ¸å¿ƒæœåŠ¡å±‚ã€å­˜å‚¨å¼•æ“å±‚ï¼š 1.1 å®¢æˆ·å±‚è¿æ¥å¤„ç†ã€æˆæƒè®¤è¯ã€å®‰å…¨ç­‰åŠŸèƒ½å‡åœ¨è¿™ä¸€å±‚å¤„ç†ï¼› 1.2 æ ¸å¿ƒæœåŠ¡å±‚åŒ…æ‹¬æŸ¥è¯¢è§£æã€åˆ†æã€ä¼˜åŒ–ã€ç¼“å­˜ã€å†…ç½®å‡½æ•°(æ¯”å¦‚ï¼šæ—¶é—´ã€æ•°å­¦ã€åŠ å¯†ç­‰å‡½æ•°)ã€‚æ‰€æœ‰çš„è·¨å­˜å‚¨å¼•æ“çš„åŠŸèƒ½ä¹Ÿåœ¨è¿™ä¸€å±‚å®ç°ï¼Œå¦‚ï¼šå­˜å‚¨è¿‡ç¨‹ã€è§¦å‘å™¨ã€è§†å›¾ç­‰ï¼› 1.3 å­˜å‚¨å¼•æ“å±‚å…¶è´Ÿè´£MySQLä¸­çš„æ•°æ®å­˜å‚¨å’Œæå–ã€‚å’ŒLinuxä¸‹çš„æ–‡ä»¶ç³»ç»Ÿç±»ä¼¼ï¼Œæ¯ç§å­˜å‚¨å¼•æ“éƒ½æœ‰å…¶ä¼˜åŠ¿å’ŒåŠ£åŠ¿ã€‚ä¸­é—´çš„æœåŠ¡å±‚é€šè¿‡APIä¸å­˜å‚¨å¼•æ“é€šä¿¡ï¼Œè¿™äº›APIæ¥å£å±è”½äº†ä¸åŒå­˜å‚¨å¼•æ“é—´çš„å·®å¼‚ï¼› 2.MySQLé€»è¾‘æµç¨‹ ä¸€æ¡SQLè¯­å¥çš„æ‰§è¡Œæµç¨‹æ˜¯ä»€ä¹ˆæ ·çš„å‘¢? 2.1 å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„é€šä¿¡åè®®â€‹ mysqlå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨çš„é€šä¿¡åè®®æ˜¯åŠåŒå·¥çš„ï¼Œè¿™æ„å‘³ç€åœ¨ä»»ä½•æ—¶åˆ»ï¼Œè¦ä¹ˆç”±æœåŠ¡å™¨å‘å®¢æˆ·ç«¯å‘é€æ•°æ®ï¼Œè¦ä¹ˆç”±å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€æ•°æ®ï¼Œè¿™ä¸¤ä¸ªåŠ¨ä½œä¸èƒ½åŒæ—¶å‘ç”Ÿã€‚æ‰€ä»¥æˆ‘ä»¬æ— æ³•ä¹Ÿæ— é¡»å°†ä¸€ä¸ªæ¶ˆæ¯åˆ‡æˆå°å—ç‹¬ç«‹æ¥å‘é€ã€‚ â€‹ è¿™ç§åè®®è®©mysqlé€šä¿¡ç®€å•å¿«é€Ÿï¼Œä½†ä¹Ÿä»å¾ˆå¤šåœ°æ–¹é™åˆ¶äº†mysqlã€‚ä¸€ä¸ªæ˜æ˜¾çš„é™åˆ¶æ˜¯æ²¡æ³•è¿›è¡Œæµé‡æ§åˆ¶ã€‚ä¸€æ—¦ä¸€ç«¯å¼€å§‹å‘é€æ¶ˆæ¯ï¼Œå¦ä¸€ç«¯è¦æ¥æ”¶å®Œæ•´ä¸ªæ¶ˆæ¯æ‰èƒ½å“åº”å®ƒã€‚ â€‹ å®¢æˆ·ç«¯ç”¨ä¸€ä¸ªå•ç‹¬çš„æ•°æ®åŒ…å°†æŸ¥è¯¢ä¼ ç»™æœåŠ¡å™¨ã€‚ä¸€æ—¦å®¢æˆ·ç«¯å‘é€äº†è¯·æ±‚ï¼Œä»–èƒ½åšçš„äº‹æƒ…å°±åªæ˜¯ç­‰å¾…ç»“æœäº†ã€‚ â€‹ ç›¸åçš„ï¼Œä¸€èˆ¬æœåŠ¡å™¨å“åº”ç»™ç”¨æˆ·çš„æ•°æ®é€šå¸¸å¾ˆå¤šï¼Œç”±å¤šä¸ªæ•°æ®åŒ…ç»„æˆã€‚å½“æœåŠ¡å™¨å¼€å§‹å“åº”å®¢æˆ·ç«¯è¯·æ±‚æ—¶ï¼Œå®¢æˆ·ç«¯å¿…é¡»å®Œæ•´çš„æ¥æ”¶æ•´ä¸ªè¿”å›ç»“æœï¼Œè€Œä¸èƒ½ç®€å•çš„åªå–å‰é¢å‡ æ¡ç»“æœï¼Œæˆ–è€…æ¥æ”¶å®Œå‡ æ¡ç»“æœåå°±ç²—æš´åœ°æ–­å¼€è¿æ¥ã€‚è¿™ä¹Ÿæ˜¯åœ¨å¿…è¦çš„æ—¶å€™ä¸€å®šè¦åœ¨æŸ¥è¯¢ä¸­åŠ ä¸Šlimité™åˆ¶çš„åŸå› ã€‚ â€‹ å¤šæ•°è¿æ¥mysql çš„åº“å‡½æ•°éƒ½å¯ä»¥è·å¾—å…¨éƒ¨ç»“æœé›†å¹¶ç¼“å­˜åˆ°å†…å­˜ä¸­ï¼Œè¿˜å¯ä»¥é€è¡Œè·å–éœ€è¦çš„æ•°æ®ï¼Œé»˜è®¤ä¸€èˆ¬æ˜¯è·å–å…¨éƒ¨ç»“æœé›†å¹¶ç¼“å­˜åˆ°å†…å­˜ä¸­ã€‚mysqlé€šå¸¸è¦ç­‰å¾…æ‰€æœ‰çš„æ•°æ®éƒ½å·²ç»å‘é€ç»™å®¢æˆ·ç«¯æ‰èƒ½é‡Šæ”¾è¿™æ¡æŸ¥è¯¢æ‰€å ç”¨çš„èµ„æºï¼Œæ‰€ä»¥æ¥æ”¶å…¨éƒ¨ç»“æœå¹¶ç¼“å­˜é€šå¸¸å¯ä»¥å‡å°‘æœåŠ¡å™¨çš„å‹åŠ›ï¼Œè®©æŸ¥è¯¢èƒ½å¤Ÿæ—©ç‚¹ç»“æŸï¼Œæ—©ç‚¹é‡Šæ”¾ç›¸åº”çš„èµ„æºã€‚ â€‹ å½“ä½¿ç”¨å¤šæ•°è¿æ¥mysqlçš„åº“å‡½æ•°ä»mysqlè·å–æ•°æ®æ—¶ï¼Œå…¶ç»“æœçœ‹èµ·æ¥éƒ½åƒæ˜¯ä»mysqlæœåŠ¡å™¨è·å–æ•°æ®ï¼Œè€Œå®é™…ä¸Šéƒ½æ˜¯ä»è¿™ä¸ªåº“å‡½æ•°çš„ç¼“å­˜è·å–æ•°æ®ã€‚å¤šæ•°æƒ…å†µä¸‹è¿™æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯å¦‚æœéœ€è¦è¿”å›ä¸€ä¸ªå¾ˆå¤§çš„ç»“æœé›†çš„æ—¶å€™ï¼Œè¿™æ ·åšå¹¶ä¸å¥½ï¼Œå› ä¸ºåº“å‡½æ•°ä¼šèŠ±å¾ˆå¤šæ—¶é—´å’Œå†…å­˜æ¥å­˜å‚¨æ‰€æœ‰çš„ç»“æœé›†ã€‚å¦‚æœèƒ½å¤Ÿå°½æ—©å¼€å§‹å¤„ç†è¿™äº›ç»“æœé›†ï¼Œå°±èƒ½å¤§å¤§å‡å°‘å†…å­˜çš„æ¶ˆè€—ï¼Œè¿™ç§æƒ…å†µä¸‹å¯ä»¥ä¸ä½¿ç”¨ç¼“å­˜æ¥è®°å½•ç»“æœè€Œæ˜¯ç›´æ¥å¤„ç†ã€‚è¿™æ ·åšçš„ç¼ºç‚¹æ˜¯ï¼Œå¯¹äºæœåŠ¡å™¨æ¥è¯´ï¼Œéœ€è¦æŸ¥è¯¢å®Œæˆåæ‰èƒ½é‡Šæ”¾èµ„æºï¼Œæ‰€ä»¥åœ¨å’Œå®¢æˆ·ç«¯äº¤äº’çš„æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼ŒæœåŠ¡å™¨çš„èµ„æºéƒ½æ˜¯è¢«è¿™ä¸ªæŸ¥è¯¢æ‰€å ç”¨çš„ã€‚ 2.2 æŸ¥è¯¢ç¼“å­˜2.2.1 ä»€ä¹ˆæƒ…å†µä¼šä½¿ç”¨ç¼“å­˜â€‹ åœ¨è§£æä¸€ä¸ªæŸ¥è¯¢è¯­å¥å‰ï¼Œå¦‚æœæŸ¥è¯¢ç¼“å­˜æ˜¯æ‰“å¼€çš„ï¼Œé‚£ä¹ˆMySQLä¼šæ£€æŸ¥è¿™ä¸ªæŸ¥è¯¢è¯­å¥æ˜¯å¦å‘½ä¸­æŸ¥è¯¢ç¼“å­˜ä¸­çš„æ•°æ®ã€‚å¦‚æœå½“å‰æŸ¥è¯¢æ°å¥½å‘½ä¸­æŸ¥è¯¢ç¼“å­˜ï¼Œåœ¨æ£€æŸ¥ä¸€æ¬¡ç”¨æˆ·æƒé™åç›´æ¥è¿”å›ç¼“å­˜ä¸­çš„ç»“æœã€‚è¿™ç§æƒ…å†µä¸‹ï¼ŒæŸ¥è¯¢ä¸ä¼šè¢«è§£æï¼Œä¹Ÿä¸ä¼šç”Ÿæˆæ‰§è¡Œè®¡åˆ’ï¼Œæ›´ä¸ä¼šæ‰§è¡Œã€‚ 2.2.2 ç¼“å­˜åŸç†MySQLå°†ç¼“å­˜å­˜æ”¾åœ¨ä¸€ä¸ªå¼•ç”¨è¡¨ï¼ˆä¸è¦ç†è§£æˆtableï¼Œå¯ä»¥è®¤ä¸ºæ˜¯ç±»ä¼¼äºHashMapçš„æ•°æ®ç»“æ„ï¼‰ï¼Œé€šè¿‡ä¸€ä¸ªå“ˆå¸Œå€¼ç´¢å¼•ï¼Œè¿™ä¸ªå“ˆå¸Œå€¼é€šè¿‡æŸ¥è¯¢æœ¬èº«ã€å½“å‰è¦æŸ¥è¯¢çš„æ•°æ®åº“ã€å®¢æˆ·ç«¯åè®®ç‰ˆæœ¬å·ç­‰ä¸€äº›å¯èƒ½å½±å“ç»“æœçš„ä¿¡æ¯è®¡ç®—å¾—æ¥ã€‚æ‰€ä»¥ä¸¤ä¸ªæŸ¥è¯¢åœ¨ä»»ä½•å­—ç¬¦ä¸Šçš„ä¸åŒï¼ˆä¾‹å¦‚ï¼šç©ºæ ¼ã€æ³¨é‡Šï¼‰ï¼Œéƒ½ä¼šå¯¼è‡´ç¼“å­˜ä¸ä¼šå‘½ä¸­ã€‚ 2.2.3 ä»€ä¹ˆæƒ…å†µä¸‹è¿›è¡Œç¼“å­˜å¦‚æœæŸ¥è¯¢ä¸­åŒ…å«ä»»ä½•ç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°ã€å­˜å‚¨å‡½æ•°ã€ç”¨æˆ·å˜é‡ã€ä¸´æ—¶è¡¨ã€MySQLåº“ä¸­çš„ç³»ç»Ÿè¡¨ï¼Œå…¶æŸ¥è¯¢ç»“æœéƒ½ä¸ä¼šè¢«ç¼“å­˜ã€‚æ¯”å¦‚å‡½æ•°NOW()æˆ–è€…CURRENT_DATE()ä¼šå› ä¸ºä¸åŒçš„æŸ¥è¯¢æ—¶é—´ï¼Œè¿”å›ä¸åŒçš„æŸ¥è¯¢ç»“æœï¼Œå†æ¯”å¦‚åŒ…å«CURRENT_USERæˆ–è€…CONNECION_ID()çš„æŸ¥è¯¢è¯­å¥ä¼šå› ä¸ºä¸åŒçš„ç”¨æˆ·è€Œè¿”å›ä¸åŒçš„ç»“æœï¼Œå°†è¿™æ ·çš„æŸ¥è¯¢ç»“æœç¼“å­˜èµ·æ¥æ²¡æœ‰ä»»ä½•çš„æ„ä¹‰ã€‚ 2.2.4 ç¼“å­˜å¤±æ•ˆæ—¢ç„¶æ˜¯ç¼“å­˜ï¼Œå°±ä¼šå¤±æ•ˆï¼Œé‚£æŸ¥è¯¢ç¼“å­˜ä½•æ—¶å¤±æ•ˆå‘¢ï¼ŸMySQLçš„æŸ¥è¯¢ç¼“å­˜ç³»ç»Ÿä¼šè·Ÿè¸ªæŸ¥è¯¢ä¸­æ¶‰åŠçš„æ¯ä¸ªè¡¨ï¼Œå¦‚æœè¿™äº›è¡¨ï¼ˆæ•°æ®æˆ–ç»“æ„ï¼‰å‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆå’Œè¿™å¼ è¡¨ç›¸å…³çš„æ‰€æœ‰ç¼“å­˜æ•°æ®éƒ½å°†å¤±æ•ˆã€‚æ­£å› ä¸ºå¦‚æ­¤ï¼Œåœ¨ä»»ä½•çš„å†™æ“ä½œæ—¶ï¼ŒMySQLå¿…é¡»å°†å¯¹åº”è¡¨çš„æ‰€æœ‰ç¼“å­˜éƒ½è®¾ç½®ä¸ºå¤±æ•ˆã€‚å¦‚æœæŸ¥è¯¢ç¼“å­˜éå¸¸å¤§æˆ–è€…ç¢ç‰‡å¾ˆå¤šï¼Œè¿™ä¸ªæ“ä½œå°±å¯èƒ½å¸¦æ¥å¾ˆå¤§çš„ç³»ç»Ÿæ¶ˆè€—ï¼Œç”šè‡³å¯¼è‡´ç³»ç»Ÿåƒµæ­»ä¸€ä¼šå„¿ã€‚è€Œä¸”æŸ¥è¯¢ç¼“å­˜å¯¹ç³»ç»Ÿçš„é¢å¤–æ¶ˆè€—ä¹Ÿä¸ä»…ä»…åœ¨å†™æ“ä½œï¼Œè¯»æ“ä½œä¹Ÿä¸ä¾‹å¤–ã€‚ 2.2.5 ç¼“å­˜çš„ä¼˜ç¼ºç‚¹ ä»»ä½•çš„æŸ¥è¯¢è¯­å¥åœ¨å¼€å§‹ä¹‹å‰éƒ½å¿…é¡»ç»è¿‡æ£€æŸ¥ï¼Œå³ä½¿è¿™æ¡SQLè¯­å¥æ°¸è¿œä¸ä¼šå‘½ä¸­ç¼“å­˜ å¦‚æœæŸ¥è¯¢ç»“æœå¯ä»¥è¢«ç¼“å­˜ï¼Œé‚£ä¹ˆæ‰§è¡Œå®Œæˆåï¼Œä¼šå°†ç»“æœå­˜å…¥ç¼“å­˜ï¼Œä¹Ÿä¼šå¸¦æ¥é¢å¤–çš„ç³»ç»Ÿæ¶ˆè€— æ‰€ä»¥ï¼Œæˆ‘ä»¬è¦çŸ¥é“å¹¶ä¸æ˜¯ä»€ä¹ˆæƒ…å†µä¸‹æŸ¥è¯¢ç¼“å­˜éƒ½ä¼šæé«˜ç³»ç»Ÿæ€§èƒ½ï¼Œç¼“å­˜å’Œå¤±æ•ˆéƒ½ä¼šå¸¦æ¥é¢å¤–æ¶ˆè€—ï¼Œåªæœ‰å½“ç¼“å­˜å¸¦æ¥çš„èµ„æºèŠ‚çº¦å¤§äºå…¶æœ¬èº«æ¶ˆè€—çš„èµ„æºæ—¶ï¼Œæ‰ä¼šç»™ç³»ç»Ÿå¸¦æ¥æ€§èƒ½æå‡ã€‚ä½†è¦å¦‚ä½•è¯„ä¼°æ‰“å¼€ç¼“å­˜æ˜¯å¦èƒ½å¤Ÿå¸¦æ¥æ€§èƒ½æå‡æ˜¯ä¸€ä»¶éå¸¸å›°éš¾çš„äº‹æƒ…ï¼Œä¹Ÿä¸åœ¨æœ¬æ–‡è®¨è®ºçš„èŒƒç•´å†…ã€‚å¦‚æœç³»ç»Ÿç¡®å®å­˜åœ¨ä¸€äº›æ€§èƒ½é—®é¢˜ï¼Œå¯ä»¥å°è¯•æ‰“å¼€æŸ¥è¯¢ç¼“å­˜ï¼Œå¹¶åœ¨æ•°æ®åº“è®¾è®¡ä¸Šåšä¸€äº›ä¼˜åŒ–ã€‚ ä¾‹å¦‚ï¼š ç”¨å¤šä¸ªå°è¡¨ä»£æ›¿ä¸€ä¸ªå¤§è¡¨ï¼Œæ³¨æ„ä¸è¦è¿‡åº¦è®¾è®¡ æ‰¹é‡æ’å…¥ä»£æ›¿å¾ªç¯å•æ¡æ’å…¥ åˆç†æ§åˆ¶ç¼“å­˜ç©ºé—´å¤§å°ï¼Œä¸€èˆ¬æ¥è¯´å…¶å¤§å°è®¾ç½®ä¸ºå‡ åå…†æ¯”è¾ƒåˆé€‚ å¯ä»¥é€šè¿‡SQL_CACHEå’ŒSQL_NO_CACHEæ¥æ§åˆ¶æŸä¸ªæŸ¥è¯¢è¯­å¥æ˜¯å¦éœ€è¦è¿›è¡Œç¼“å­˜ æœ€åçš„å¿ å‘Šæ˜¯ä¸è¦è½»æ˜“æ‰“å¼€æŸ¥è¯¢ç¼“å­˜ï¼Œç‰¹åˆ«æ˜¯å†™å¯†é›†å‹åº”ç”¨ã€‚å¦‚æœä½ å®åœ¨æ˜¯å¿ä¸ä½ï¼Œå¯ä»¥å°†query_cache_typeè®¾ç½®ä¸ºDEMANDï¼Œè¿™æ—¶åªæœ‰åŠ å…¥SQL_CACHEçš„æŸ¥è¯¢æ‰ä¼šèµ°ç¼“å­˜ï¼Œå…¶ä»–æŸ¥è¯¢åˆ™ä¸ä¼šï¼Œè¿™æ ·å¯ä»¥éå¸¸è‡ªç”±åœ°æ§åˆ¶å“ªäº›æŸ¥è¯¢éœ€è¦è¢«ç¼“å­˜ã€‚ 2.3 è¯­æ³•è§£æå’Œé¢„å¤„ç† è¯­æ³•è§£æ MySQLé€šè¿‡å…³é”®å­—å°†SQLè¯­å¥è¿›è¡Œè§£æï¼Œå¹¶ç”Ÿæˆä¸€é¢—å¯¹åº”çš„è§£ææ ‘ã€‚è¿™ä¸ªè¿‡ç¨‹è§£æå™¨ä¸»è¦é€šè¿‡è¯­æ³•è§„åˆ™æ¥éªŒè¯å’Œè§£æã€‚æ¯”å¦‚SQLä¸­æ˜¯å¦ä½¿ç”¨äº†é”™è¯¯çš„å…³é”®å­—æˆ–è€…å…³é”®å­—çš„é¡ºåºæ˜¯å¦æ­£ç¡®ç­‰ç­‰ã€‚ é¢„å¤„ç† é¢„å¤„ç†åˆ™ä¼šæ ¹æ®MySQLè§„åˆ™è¿›ä¸€æ­¥æ£€æŸ¥è§£ææ ‘æ˜¯å¦åˆæ³•ã€‚æ¯”å¦‚æ£€æŸ¥è¦æŸ¥è¯¢çš„æ•°æ®è¡¨å’Œæ•°æ®åˆ—æ˜¯å¦å­˜åœ¨ç­‰ã€‚ 2.4 æŸ¥è¯¢ä¼˜åŒ–ç»è¿‡å‰é¢çš„æ­¥éª¤ç”Ÿæˆçš„è¯­æ³•æ ‘è¢«è®¤ä¸ºæ˜¯åˆæ³•çš„äº†ï¼Œå¹¶ä¸”ç”±ä¼˜åŒ–å™¨å°†å…¶è½¬åŒ–æˆæŸ¥è¯¢è®¡åˆ’ã€‚å¤šæ•°æƒ…å†µä¸‹ï¼Œä¸€æ¡æŸ¥è¯¢å¯ä»¥æœ‰å¾ˆå¤šç§æ‰§è¡Œæ–¹å¼ï¼Œæœ€åéƒ½è¿”å›ç›¸åº”çš„ç»“æœã€‚ä¼˜åŒ–å™¨çš„ä½œç”¨å°±æ˜¯æ‰¾åˆ°è¿™å…¶ä¸­æœ€å¥½çš„æ‰§è¡Œè®¡åˆ’ã€‚ MySQLä½¿ç”¨åŸºäºæˆæœ¬çš„ä¼˜åŒ–å™¨ï¼Œå®ƒå°è¯•é¢„æµ‹ä¸€ä¸ªæŸ¥è¯¢ä½¿ç”¨æŸç§æ‰§è¡Œè®¡åˆ’æ—¶çš„æˆæœ¬ï¼Œå¹¶é€‰æ‹©å…¶ä¸­æˆæœ¬æœ€å°çš„ä¸€ä¸ªã€‚åœ¨MySQLå¯ä»¥é€šè¿‡æŸ¥è¯¢å½“å‰ä¼šè¯çš„last_query_costçš„å€¼æ¥å¾—åˆ°å…¶è®¡ç®—å½“å‰æŸ¥è¯¢çš„æˆæœ¬ã€‚ 2.5 æŸ¥è¯¢æ‰§è¡Œå¼•æ“åœ¨å®Œæˆè§£æå’Œä¼˜åŒ–é˜¶æ®µä»¥åï¼ŒMySQLä¼šç”Ÿæˆå¯¹åº”çš„æ‰§è¡Œè®¡åˆ’ï¼ŒæŸ¥è¯¢æ‰§è¡Œå¼•æ“æ ¹æ®æ‰§è¡Œè®¡åˆ’ç»™å‡ºçš„æŒ‡ä»¤é€æ­¥æ‰§è¡Œå¾—å‡ºç»“æœã€‚æ•´ä¸ªæ‰§è¡Œè¿‡ç¨‹çš„å¤§éƒ¨åˆ†æ“ä½œå‡æ˜¯é€šè¿‡è°ƒç”¨å­˜å‚¨å¼•æ“å®ç°çš„æ¥å£æ¥å®Œæˆï¼Œè¿™äº›æ¥å£è¢«ç§°ä¸ºhandler APIã€‚æŸ¥è¯¢è¿‡ç¨‹ä¸­çš„æ¯ä¸€å¼ è¡¨ç”±ä¸€ä¸ªhandlerå®ä¾‹è¡¨ç¤ºã€‚å®é™…ä¸Šï¼ŒMySQLåœ¨æŸ¥è¯¢ä¼˜åŒ–é˜¶æ®µå°±ä¸ºæ¯ä¸€å¼ è¡¨åˆ›å»ºäº†ä¸€ä¸ªhandlerå®ä¾‹ï¼Œä¼˜åŒ–å™¨å¯ä»¥æ ¹æ®è¿™äº›å®ä¾‹çš„æ¥å£æ¥è·å–è¡¨çš„ç›¸å…³ä¿¡æ¯ï¼ŒåŒ…æ‹¬è¡¨çš„æ‰€æœ‰åˆ—åã€ç´¢å¼•ç»Ÿè®¡ä¿¡æ¯ç­‰ã€‚å­˜å‚¨å¼•æ“æ¥å£æä¾›äº†éå¸¸ä¸°å¯Œçš„åŠŸèƒ½ï¼Œä½†å…¶åº•å±‚ä»…æœ‰å‡ åä¸ªæ¥å£ï¼Œè¿™äº›æ¥å£åƒæ­ç§¯æœ¨ä¸€æ ·å®Œæˆäº†ä¸€æ¬¡æŸ¥è¯¢çš„å¤§éƒ¨åˆ†æ“ä½œã€‚ 2.6ç»“æœæ•°æ®è¿”å›æŸ¥è¯¢æ‰§è¡Œçš„æœ€åä¸€ä¸ªé˜¶æ®µå°±æ˜¯å°†ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ã€‚å³ä½¿æŸ¥è¯¢ä¸åˆ°æ•°æ®ï¼ŒMySQLä»ç„¶ä¼šè¿”å›è¿™ä¸ªæŸ¥è¯¢çš„ç›¸å…³ä¿¡æ¯ï¼Œæ¯”å¦‚è¯¥æŸ¥è¯¢å½±å“åˆ°çš„è¡Œæ•°ä»¥åŠæ‰§è¡Œæ—¶é—´ç­‰ã€‚ å¦‚æœæŸ¥è¯¢ç¼“å­˜è¢«æ‰“å¼€ä¸”è¿™ä¸ªæŸ¥è¯¢å¯ä»¥è¢«ç¼“å­˜ï¼ŒMySQLä¹Ÿä¼šå°†ç»“æœå­˜æ”¾åˆ°ç¼“å­˜ä¸­ã€‚ ç»“æœé›†è¿”å›å®¢æˆ·ç«¯æ˜¯ä¸€ä¸ªå¢é‡ä¸”é€æ­¥è¿”å›çš„è¿‡ç¨‹ã€‚æœ‰å¯èƒ½MySQLåœ¨ç”Ÿæˆç¬¬ä¸€æ¡ç»“æœæ—¶ï¼Œå°±å¼€å§‹å‘å®¢æˆ·ç«¯é€æ­¥è¿”å›ç»“æœé›†äº†ã€‚è¿™æ ·æœåŠ¡ç«¯å°±æ— é¡»å­˜å‚¨å¤ªå¤šç»“æœè€Œæ¶ˆè€—è¿‡å¤šå†…å­˜ï¼Œä¹Ÿå¯ä»¥è®©å®¢æˆ·ç«¯ç¬¬ä¸€æ—¶é—´è·å¾—è¿”å›ç»“æœã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç»“æœé›†ä¸­çš„æ¯ä¸€è¡Œéƒ½ä¼šä»¥ä¸€ä¸ªæ»¡è¶³â‘ ä¸­æ‰€æè¿°çš„é€šä¿¡åè®®çš„æ•°æ®åŒ…å‘é€ï¼Œå†é€šè¿‡TCPåè®®è¿›è¡Œä¼ è¾“ï¼Œåœ¨ä¼ è¾“è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½å¯¹MySQLçš„æ•°æ®åŒ…è¿›è¡Œç¼“å­˜ç„¶åæ‰¹é‡å‘é€ã€‚ 2.7 ä¸€ä¸ªæŸ¥è¯¢è¿‡ç¨‹çš„æ€»ç»“ å®¢æˆ·ç«¯å‘MySQLæœåŠ¡å™¨å‘é€ä¸€æ¡æŸ¥è¯¢è¯·æ±‚ æœåŠ¡å™¨é¦–å…ˆæ£€æŸ¥æŸ¥è¯¢ç¼“å­˜ï¼Œå¦‚æœå‘½ä¸­ç¼“å­˜ï¼Œåˆ™ç«‹åˆ»è¿”å›å­˜å‚¨åœ¨ç¼“å­˜ä¸­çš„ç»“æœã€‚å¦åˆ™è¿›å…¥ä¸‹ä¸€é˜¶æ®µ æœåŠ¡å™¨è¿›è¡ŒSQLè§£æã€é¢„å¤„ç†ã€å†ç”±ä¼˜åŒ–å™¨ç”Ÿæˆå¯¹åº”çš„æ‰§è¡Œè®¡åˆ’ MySQLæ ¹æ®æ‰§è¡Œè®¡åˆ’ï¼Œè°ƒç”¨å­˜å‚¨å¼•æ“çš„APIæ¥æ‰§è¡ŒæŸ¥è¯¢ å°†ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ï¼ŒåŒæ—¶ç¼“å­˜æŸ¥è¯¢ç»“æœ 2.8 äº‹åŠ¡æ”¯æŒInnoDBçš„æœ¬åœ°äº‹åŠ¡ç”±èµ„æºç®¡ç†å™¨è¿›è¡Œç®¡ç†: äº‹åŠ¡çš„ ACID æ˜¯é€šè¿‡ InnoDB æ—¥å¿—å’Œé”æ¥ä¿è¯ï¼› äº‹åŠ¡çš„éš”ç¦»æ€§æ˜¯é€šè¿‡æ•°æ®åº“é”çš„æœºåˆ¶å®ç°çš„ï¼› æŒä¹…æ€§é€šè¿‡ Redo Logï¼ˆé‡åšæ—¥å¿—ï¼‰æ¥å®ç°ï¼› åŸå­æ€§å’Œä¸€è‡´æ€§é€šè¿‡Undo Log æ¥å®ç°ï¼› 123456789101112äº‹åŠ¡ç®¡ç†ï¼ˆACIDï¼‰è°ˆåˆ°äº‹åŠ¡ä¸€èˆ¬éƒ½æ˜¯ä»¥ä¸‹å››ç‚¹1. åŸå­æ€§ï¼ˆAtomicityï¼‰åŸå­æ€§æ˜¯æŒ‡äº‹åŠ¡æ˜¯ä¸€ä¸ªä¸å¯åˆ†å‰²çš„å·¥ä½œå•ä½ï¼Œäº‹åŠ¡ä¸­çš„æ“ä½œè¦ä¹ˆéƒ½å‘ç”Ÿï¼Œè¦ä¹ˆéƒ½ä¸å‘ç”Ÿã€‚2. ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰äº‹åŠ¡å‰åæ•°æ®çš„å®Œæ•´æ€§å¿…é¡»ä¿æŒä¸€è‡´ã€‚3. éš”ç¦»æ€§ï¼ˆIsolationï¼‰äº‹åŠ¡çš„éš”ç¦»æ€§æ˜¯å¤šä¸ªç”¨æˆ·å¹¶å‘è®¿é—®æ•°æ®åº“æ—¶ï¼Œæ•°æ®åº“ä¸ºæ¯ä¸€ä¸ªç”¨æˆ·å¼€å¯çš„äº‹åŠ¡ï¼Œä¸èƒ½è¢«å…¶ä»–äº‹åŠ¡çš„æ“ä½œæ•°æ®æ‰€å¹²æ‰°ï¼Œå¤šä¸ªå¹¶å‘äº‹åŠ¡ä¹‹é—´è¦ç›¸äº’éš”ç¦»ã€‚4. æŒä¹…æ€§ï¼ˆDurabilityï¼‰æŒä¹…æ€§æ˜¯æŒ‡ä¸€ä¸ªäº‹åŠ¡ä¸€æ—¦è¢«æäº¤ï¼Œå®ƒå¯¹æ•°æ®åº“ä¸­æ•°æ®çš„æ”¹å˜å°±æ˜¯æ°¸ä¹…æ€§çš„ï¼Œæ¥ä¸‹æ¥å³ä½¿æ•°æ®åº“å‘ç”Ÿæ•…éšœä¹Ÿä¸åº”è¯¥å¯¹å…¶æœ‰ä»»ä½•å½±å“&#x2F;&#x2F; ä¼˜ç§€åšæ–‡: https:&#x2F;&#x2F;blog.csdn.net&#x2F;dengjili&#x2F;article&#x2F;details&#x2F;82468576 2.8.1 Undo LogUndo Log çš„åŸç†æ˜¯ï¼Œä¸ºäº†æ»¡è¶³äº‹åŠ¡çš„åŸå­æ€§ï¼Œåœ¨æ“ä½œæ•°æ®ä¹‹å‰ï¼Œé¦–å…ˆå°†è¿™ä¸ªæ•°æ®å¤‡ä»½åˆ°ä¸€ä¸ªåœ°æ–¹ï¼ˆè¿™ä¸ªå­˜å‚¨æ•°æ®å¤‡ä»½çš„åœ°æ–¹ç§°ä¸º Undo Logï¼‰ã€‚ç„¶åè¿›è¡Œæ•°æ®çš„ä¿®æ”¹ã€‚ å¦‚æœäº‹åŠ¡èŒƒå›´å†…å‡ºç°äº†é”™è¯¯æˆ–è€…ç”¨æˆ·æ‰§è¡Œäº† Rollback è¯­å¥ï¼Œç³»ç»Ÿå°±ä¼šåˆ©ç”¨Undo Logä¸­çš„å¤‡ä»½ï¼Œå°†æ•°æ®æ¢å¤åˆ°äº‹åŠ¡å¼€å§‹ä¹‹å‰çš„çŠ¶æ€ã€‚ 2.8.2 Redo Logå’Œ Undo Log ç›¸åï¼ŒRedo Log è®°å½•çš„æ˜¯æ–°æ•°æ®çš„å¤‡ä»½ã€‚åœ¨äº‹åŠ¡æäº¤å‰ï¼Œåªè¦å°†Redo Log æŒä¹…åŒ–å³å¯ï¼Œä¸éœ€è¦å°†æ•°æ®æŒä¹…åŒ–ã€‚ å½“ç³»ç»Ÿå´©æºƒæ—¶ï¼Œè™½ç„¶æ•°æ®æ²¡æœ‰æŒä¹…åŒ–ï¼Œä½†æ˜¯ Redo Logå·²ç»æŒä¹…åŒ–ã€‚ç³»ç»Ÿä¼šæ ¹æ® Redo Log çš„å†…å®¹ï¼Œå°†æ‰€æœ‰æ•°æ®æ¢å¤åˆ°æœ€æ–°çš„çŠ¶æ€ã€‚ 3. æ€§èƒ½ä¼˜åŒ–3.1 Schemeè®¾è®¡ä¸æ•°æ®ç±»å‹ä¼˜åŒ–é€‰æ‹©æ•°æ®ç±»å‹åªè¦éµå¾ªå°è€Œç®€å•çš„åŸåˆ™å°±å¥½ï¼Œè¶Šå°çš„æ•°æ®ç±»å‹é€šå¸¸ä¼šæ›´å¿«ï¼Œå ç”¨æ›´å°‘çš„ç£ç›˜ã€å†…å­˜ï¼Œå¤„ç†æ—¶éœ€è¦çš„CPUå‘¨æœŸä¹Ÿæ›´å°‘ã€‚è¶Šç®€å•çš„æ•°æ®ç±»å‹åœ¨è®¡ç®—æ—¶éœ€è¦æ›´å°‘çš„CPUå‘¨æœŸï¼Œæ¯”å¦‚ï¼Œæ•´å‹å°±æ¯”å­—ç¬¦æ“ä½œä»£ä»·ä½ï¼Œå› è€Œä¼šä½¿ç”¨æ•´å‹æ¥å­˜å‚¨ipåœ°å€ï¼Œä½¿ç”¨DATETIMEæ¥å­˜å‚¨æ—¶é—´ï¼Œè€Œä¸æ˜¯ä½¿ç”¨å­—ç¬¦ä¸²ã€‚ é€šå¸¸æ¥è¯´æŠŠå¯ä¸ºNULLçš„åˆ—æ”¹ä¸ºNOT NULLä¸ä¼šå¯¹æ€§èƒ½æå‡æœ‰å¤šå°‘å¸®åŠ©ï¼Œåªæ˜¯å¦‚æœè®¡åˆ’åœ¨åˆ—ä¸Šåˆ›å»ºç´¢å¼•ï¼Œå°±åº”è¯¥å°†è¯¥åˆ—è®¾ç½®ä¸ºNOT NULLã€‚ æ•´æ•°ç±»å‹æŒ‡å®šå®½åº¦ï¼Œæ¯”å¦‚INT(11)ï¼Œæ²¡æœ‰ä»»ä½•åµç”¨ã€‚INTä½¿ç”¨32ä½ï¼ˆ4ä¸ªå­—èŠ‚ï¼‰å­˜å‚¨ç©ºé—´ï¼Œé‚£ä¹ˆå®ƒçš„è¡¨ç¤ºèŒƒå›´å·²ç»ç¡®å®šï¼Œæ‰€ä»¥INT(1)å’ŒINT(20)å¯¹äºå­˜å‚¨å’Œè®¡ç®—æ˜¯ç›¸åŒçš„ã€‚ UNSIGNEDè¡¨ç¤ºä¸å…è®¸è´Ÿå€¼ï¼Œå¤§è‡´å¯ä»¥ä½¿æ­£æ•°çš„ä¸Šé™æé«˜ä¸€å€ã€‚æ¯”å¦‚TINYINTå­˜å‚¨èŒƒå›´æ˜¯-128 ~ 127ï¼Œè€ŒUNSIGNED TINYINTå­˜å‚¨çš„èŒƒå›´å´æ˜¯0 - 255ã€‚ é€šå¸¸æ¥è®²ï¼Œæ²¡æœ‰å¤ªå¤§çš„å¿…è¦ä½¿ç”¨DECIMALæ•°æ®ç±»å‹ã€‚å³ä½¿æ˜¯åœ¨éœ€è¦å­˜å‚¨è´¢åŠ¡æ•°æ®æ—¶ï¼Œä»ç„¶å¯ä»¥ä½¿ç”¨BIGINTã€‚æ¯”å¦‚éœ€è¦ç²¾ç¡®åˆ°ä¸‡åˆ†ä¹‹ä¸€ï¼Œé‚£ä¹ˆå¯ä»¥å°†æ•°æ®ä¹˜ä»¥ä¸€ç™¾ä¸‡ç„¶åä½¿ç”¨BIGINTå­˜å‚¨ã€‚è¿™æ ·å¯ä»¥é¿å…æµ®ç‚¹æ•°è®¡ç®—ä¸å‡†ç¡®å’ŒDECIMALç²¾ç¡®è®¡ç®—ä»£ä»·é«˜çš„é—®é¢˜ã€‚ TIMESTAMPä½¿ç”¨4ä¸ªå­—èŠ‚å­˜å‚¨ç©ºé—´ï¼ŒDATETIMEä½¿ç”¨8ä¸ªå­—èŠ‚å­˜å‚¨ç©ºé—´ã€‚å› è€Œï¼ŒTIMESTAMPåªèƒ½è¡¨ç¤º1970 - 2038å¹´ï¼Œæ¯”DATETIMEè¡¨ç¤ºçš„èŒƒå›´å°å¾—å¤šï¼Œè€Œä¸”TIMESTAMPçš„å€¼å› æ—¶åŒºä¸åŒè€Œä¸åŒã€‚ å¤§å¤šæ•°æƒ…å†µä¸‹æ²¡æœ‰ä½¿ç”¨æšä¸¾ç±»å‹çš„å¿…è¦ï¼Œå…¶ä¸­ä¸€ä¸ªç¼ºç‚¹æ˜¯æšä¸¾çš„å­—ç¬¦ä¸²åˆ—è¡¨æ˜¯å›ºå®šçš„ï¼Œæ·»åŠ å’Œåˆ é™¤å­—ç¬¦ä¸²ï¼ˆæšä¸¾é€‰é¡¹ï¼‰å¿…é¡»ä½¿ç”¨ALTER TABLEï¼ˆå¦‚æœåªåªæ˜¯åœ¨åˆ—è¡¨æœ«å°¾è¿½åŠ å…ƒç´ ï¼Œä¸éœ€è¦é‡å»ºè¡¨ï¼‰ã€‚ schemaçš„åˆ—ä¸è¦å¤ªå¤šã€‚åŸå› æ˜¯å­˜å‚¨å¼•æ“çš„APIå·¥ä½œæ—¶éœ€è¦åœ¨æœåŠ¡å™¨å±‚å’Œå­˜å‚¨å¼•æ“å±‚ä¹‹é—´é€šè¿‡è¡Œç¼“å†²æ ¼å¼æ‹·è´æ•°æ®ï¼Œç„¶ååœ¨æœåŠ¡å™¨å±‚å°†ç¼“å†²å†…å®¹è§£ç æˆå„ä¸ªåˆ—ï¼Œè¿™ä¸ªè½¬æ¢è¿‡ç¨‹çš„ä»£ä»·æ˜¯éå¸¸é«˜çš„ã€‚å¦‚æœåˆ—å¤ªå¤šè€Œå®é™…ä½¿ç”¨çš„åˆ—åˆå¾ˆå°‘çš„è¯ï¼Œæœ‰å¯èƒ½ä¼šå¯¼è‡´CPUå ç”¨è¿‡é«˜ã€‚ å¤§è¡¨ALTER TABLEéå¸¸è€—æ—¶ï¼ŒMySQLæ‰§è¡Œå¤§éƒ¨åˆ†ä¿®æ”¹è¡¨ç»“æœæ“ä½œçš„æ–¹æ³•æ˜¯ç”¨æ–°çš„ç»“æ„åˆ›å»ºä¸€ä¸ªå¼ ç©ºè¡¨ï¼Œä»æ—§è¡¨ä¸­æŸ¥å‡ºæ‰€æœ‰çš„æ•°æ®æ’å…¥æ–°è¡¨ï¼Œç„¶åå†åˆ é™¤æ—§è¡¨ã€‚å°¤å…¶å½“å†…å­˜ä¸è¶³è€Œè¡¨åˆå¾ˆå¤§ï¼Œè€Œä¸”è¿˜æœ‰å¾ˆå¤§ç´¢å¼•çš„æƒ…å†µä¸‹ï¼Œè€—æ—¶æ›´ä¹…ã€‚å½“ç„¶æœ‰ä¸€äº›å¥‡æŠ€æ·«å·§å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæœ‰å…´è¶£å¯è‡ªè¡ŒæŸ¥é˜…ã€‚ 3.2 åˆ›å»ºé«˜æ€§èƒ½ç´¢å¼•ç´¢å¼•æ˜¯æé«˜MySQLæŸ¥è¯¢æ€§èƒ½çš„ä¸€ä¸ªé‡è¦é€”å¾„ï¼Œä½†è¿‡å¤šçš„ç´¢å¼•å¯èƒ½ä¼šå¯¼è‡´è¿‡é«˜çš„ç£ç›˜ä½¿ç”¨ç‡ä»¥åŠè¿‡é«˜çš„å†…å­˜å ç”¨ï¼Œä»è€Œå½±å“åº”ç”¨ç¨‹åºçš„æ•´ä½“æ€§èƒ½ã€‚ é€šå¸¸æˆ‘ä»¬æ‰€è¯´çš„ç´¢å¼•æ˜¯æŒ‡B-Treeç´¢å¼•ï¼Œå®ƒæ˜¯ç›®å‰å…³ç³»å‹æ•°æ®åº“ä¸­æŸ¥æ‰¾æ•°æ®æœ€ä¸ºå¸¸ç”¨å’Œæœ‰æ•ˆçš„ç´¢å¼•ï¼Œå¤§å¤šæ•°å­˜å‚¨å¼•æ“éƒ½æ”¯æŒè¿™ç§ç´¢å¼•ã€‚ä½¿ç”¨B-Treeè¿™ä¸ªæœ¯è¯­ï¼Œæ˜¯å› ä¸ºMySQLåœ¨CREATE TABLEæˆ–å…¶å®ƒè¯­å¥ä¸­ä½¿ç”¨äº†è¿™ä¸ªå…³é”®å­—ï¼Œä½†å®é™…ä¸Šä¸åŒçš„å­˜å‚¨å¼•æ“å¯èƒ½ä½¿ç”¨ä¸åŒçš„æ•°æ®ç»“æ„ï¼Œæ¯”å¦‚InnoDBå°±æ˜¯ä½¿ç”¨çš„B+Treeã€‚ å…³äºBTreeå’ŒB+Treeå¯ä»¥é€šè¿‡è¿™ç¯‡åšæ–‡äº†è§£: https://www.cnblogs.com/vianzhang/p/7922426.html B+Treeä¸­çš„Bæ˜¯æŒ‡balanceï¼Œæ„ä¸ºå¹³è¡¡ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒB+æ ‘ç´¢å¼•å¹¶ä¸èƒ½æ‰¾åˆ°ä¸€ä¸ªç»™å®šé”®å€¼çš„å…·ä½“è¡Œï¼Œå®ƒæ‰¾åˆ°çš„åªæ˜¯è¢«æŸ¥æ‰¾æ•°æ®è¡Œæ‰€åœ¨çš„é¡µï¼Œæ¥ç€æ•°æ®åº“ä¼šæŠŠé¡µè¯»å…¥åˆ°å†…å­˜ï¼Œå†åœ¨å†…å­˜ä¸­è¿›è¡ŒæŸ¥æ‰¾ï¼Œæœ€åå¾—åˆ°è¦æŸ¥æ‰¾çš„æ•°æ®ã€‚ 3.3 ä¼˜åŒ–çš„å»ºè®® é€šå¸¸æ¥è¯´æŠŠå¯ä¸ºNULLçš„åˆ—æ”¹ä¸ºNOT NULLä¸ä¼šå¯¹æ€§èƒ½æå‡æœ‰å¤šå°‘å¸®åŠ©ï¼Œåªæ˜¯å¦‚æœè®¡åˆ’åœ¨åˆ—ä¸Šåˆ›å»ºç´¢å¼•ï¼Œå°±åº”è¯¥å°†è¯¥åˆ—è®¾ç½®ä¸ºNOT NULL å¯¹æ•´æ•°ç±»å‹æŒ‡å®šå®½åº¦ï¼Œæ¯”å¦‚INT(11)ï¼Œæ²¡æœ‰ä»»ä½•åµç”¨ INTä½¿ç”¨32ä½ï¼ˆ4ä¸ªå­—èŠ‚ï¼‰å­˜å‚¨ç©ºé—´ï¼Œé‚£ä¹ˆå®ƒçš„è¡¨ç¤ºèŒƒå›´å·²ç»ç¡®å®šï¼Œæ‰€ä»¥INT(1)å’ŒINT(20)å¯¹äºå­˜å‚¨å’Œè®¡ç®—æ˜¯ç›¸åŒçš„ æ²¡æœ‰å¤ªå¤§çš„å¿…è¦ä½¿ç”¨DECIMALæ•°æ®ç±»å‹ å³ä½¿æ˜¯åœ¨éœ€è¦å­˜å‚¨è´¢åŠ¡æ•°æ®æ—¶ï¼Œä»ç„¶å¯ä»¥ä½¿ç”¨BIGINTã€‚æ¯”å¦‚éœ€è¦ç²¾ç¡®åˆ°ä¸‡åˆ†ä¹‹ä¸€ï¼Œé‚£ä¹ˆå¯ä»¥å°†æ•°æ®ä¹˜ä»¥ä¸€ç™¾ä¸‡ç„¶åä½¿ç”¨BIGINTå­˜å‚¨ã€‚è¿™æ ·å¯ä»¥é¿å…æµ®ç‚¹æ•°è®¡ç®—ä¸å‡†ç¡®å’ŒDECIMALç²¾ç¡®è®¡ç®—ä»£ä»·é«˜çš„é—®é¢˜ DATETIMEä¼˜äºTIMESTAMP TIMESTAMPä½¿ç”¨4ä¸ªå­—èŠ‚å­˜å‚¨ç©ºé—´ï¼ŒDATETIMEä½¿ç”¨8ä¸ªå­—èŠ‚å­˜å‚¨ç©ºé—´ã€‚å› è€Œï¼ŒTIMESTAMPåªèƒ½è¡¨ç¤º1970 - 2038å¹´ï¼Œæ¯”DATETIMEè¡¨ç¤ºçš„èŒƒå›´å°å¾—å¤šï¼Œè€Œä¸”TIMESTAMPçš„å€¼å› æ—¶åŒºä¸åŒè€Œä¸åŒ å¤§å¤šæ•°æƒ…å†µä¸‹æ²¡æœ‰ä½¿ç”¨æšä¸¾ç±»å‹çš„å¿…è¦ å…¶ä¸­ä¸€ä¸ªç¼ºç‚¹æ˜¯æšä¸¾çš„å­—ç¬¦ä¸²åˆ—è¡¨æ˜¯å›ºå®šçš„ï¼Œæ·»åŠ å’Œåˆ é™¤å­—ç¬¦ä¸²ï¼ˆæšä¸¾é€‰é¡¹ï¼‰å¿…é¡»ä½¿ç”¨ALTER TABLEï¼ˆå¦‚æœåªåªæ˜¯åœ¨åˆ—è¡¨æœ«å°¾è¿½åŠ å…ƒç´ ï¼Œä¸éœ€è¦é‡å»ºè¡¨ï¼‰ schemaçš„åˆ—ä¸è¦å¤ªå¤š åŸå› æ˜¯å­˜å‚¨å¼•æ“çš„APIå·¥ä½œæ—¶éœ€è¦åœ¨æœåŠ¡å™¨å±‚å’Œå­˜å‚¨å¼•æ“å±‚ä¹‹é—´é€šè¿‡è¡Œç¼“å†²æ ¼å¼æ‹·è´æ•°æ®ï¼Œç„¶ååœ¨æœåŠ¡å™¨å±‚å°†ç¼“å†²å†…å®¹è§£ç æˆå„ä¸ªåˆ—ï¼Œè¿™ä¸ªè½¬æ¢è¿‡ç¨‹çš„ä»£ä»·æ˜¯éå¸¸é«˜çš„ã€‚å¦‚æœåˆ—å¤ªå¤šè€Œå®é™…ä½¿ç”¨çš„åˆ—åˆå¾ˆå°‘çš„è¯ï¼Œæœ‰å¯èƒ½ä¼šå¯¼è‡´CPUå ç”¨è¿‡é«˜ å¯¹æŸ¥è¯¢è¿›è¡Œä¼˜åŒ–ï¼Œè¦å°½é‡é¿å…å…¨è¡¨æ‰«æï¼Œé¦–å…ˆåº”è€ƒè™‘åœ¨ where åŠ order by æ¶‰åŠçš„åˆ—ä¸Šå»ºç«‹ç´¢å¼• åº”å°½é‡é¿å…åœ¨ where å­å¥ä¸­çš„ç´¢å¼•å­—æ®µè¿›è¡Œ null å€¼åˆ¤æ–­ï¼Œå¦åˆ™å°†å¯¼è‡´å¼•æ“æ”¾å¼ƒä½¿ç”¨ç´¢å¼•è€Œè¿›è¡Œå…¨è¡¨æ‰«æ 1select id from t where num is null æœ€å¥½ä¸è¦ç»™æ•°æ®åº“ç´¢å¼•å­—æ®µç•™NULLï¼Œå°½å¯èƒ½çš„ä½¿ç”¨ NOT NULLå¡«å……æ•°æ®åº“. å¤‡æ³¨ã€æè¿°ã€è¯„è®ºä¹‹ç±»çš„å¯ä»¥è®¾ç½®ä¸º NULLï¼Œå…¶ä»–çš„ï¼Œæœ€å¥½ä¸è¦ä½¿ç”¨NULLã€‚ ä¸è¦ä»¥ä¸º NULL ä¸éœ€è¦ç©ºé—´ï¼Œæ¯”å¦‚ï¼šchar(100) å‹ï¼Œåœ¨å­—æ®µå»ºç«‹æ—¶ï¼Œç©ºé—´å°±å›ºå®šäº†ï¼Œ ä¸ç®¡æ˜¯å¦æ’å…¥å€¼ï¼ˆNULLä¹ŸåŒ…å«åœ¨å†…ï¼‰ï¼Œéƒ½æ˜¯å ç”¨ 100ä¸ªå­—ç¬¦çš„ç©ºé—´çš„ï¼Œå¦‚æœæ˜¯varcharè¿™æ ·çš„å˜é•¿å­—æ®µï¼Œ null ä¸å ç”¨ç©ºé—´ã€‚ åº”å°½é‡é¿å…åœ¨ where å­å¥ä¸­ä½¿ç”¨ != æˆ– &lt;&gt; æ“ä½œç¬¦ï¼Œå¦åˆ™å°†å¼•æ“æ”¾å¼ƒä½¿ç”¨ç´¢å¼•è€Œè¿›è¡Œå…¨è¡¨æ‰«æ åº”å°½é‡é¿å…åœ¨ where å­å¥ä¸­ä½¿ç”¨ or æ¥è¿æ¥æ¡ä»¶ å¦‚æœä¸€ä¸ªå­—æ®µæœ‰ç´¢å¼•ï¼Œä¸€ä¸ªå­—æ®µæ²¡æœ‰ç´¢å¼•ï¼Œå°†å¯¼è‡´å¼•æ“æ”¾å¼ƒä½¿ç”¨ç´¢å¼•è€Œè¿›è¡Œå…¨è¡¨æ‰«æã€‚ 1select id from t where num&#x3D;10 or Name &#x3D; &#39;admin&#39;; å¯æ”¹ä¸ºï¼š 123select id from t where num &#x3D; 10union allselect id from t where Name &#x3D; &#39;admin&#39;; in å’Œ not in ä¹Ÿè¦æ…ç”¨ï¼Œå¦åˆ™ä¼šå¯¼è‡´å…¨è¡¨æ‰«æ 1select id from t where num in(1,2,3); å¯¹äºè¿ç»­å€¼ï¼Œå¯æ”¹ä¸ºï¼š 1select id from t where num between 1 and 3 å¾ˆå¤šæ—¶å€™ç”¨ exists ä»£æ›¿ in 123select num from a where num in(select num from b);#ä½¿ç”¨existsæ›¿æ¢select num from a where exists(select 1 from b where num&#x3D;a.num); æ¨¡ç³ŠæŸ¥è¯¢likeå°†å¯¼è‡´å…¨è¡¨æ‰«æ 123select id from t where name like â€˜%abc%â€™;#æ”¹ä¸ºï¼Œæˆ–æ˜¯ç”¨æœç´¢å¼•æ“select id from t where name like â€˜abc%â€™; ä¸è¦åœ¨whereå­å¥ä¸­ä½¿ç”¨å‚æ•° 1select id from t where num &#x3D; @num ä¸Šé¢è¯­å¥å°†å¯¼è‡´å…¨è¡¨æ‰«æã€‚å› ä¸ºSQLåªæœ‰åœ¨è¿è¡Œæ—¶æ‰ä¼šè§£æå±€éƒ¨å˜é‡ï¼Œä½†ä¼˜åŒ–ç¨‹åºä¸èƒ½å°†è®¿é—®è®¡åˆ’çš„é€‰æ‹©æ¨è¿Ÿåˆ°è¿è¡Œæ—¶ï¼›å®ƒå¿…é¡»åœ¨ç¼–è¯‘æ—¶è¿›è¡Œé€‰æ‹©ã€‚ç„¶ è€Œï¼Œå¦‚æœåœ¨ç¼–è¯‘æ—¶å»ºç«‹è®¿é—®è®¡åˆ’ï¼Œå˜é‡çš„å€¼è¿˜æ˜¯æœªçŸ¥çš„ï¼Œå› è€Œæ— æ³•ä½œä¸ºç´¢å¼•é€‰æ‹©çš„è¾“å…¥é¡¹ã€‚ å¯ä»¥ä½¿ç”¨å¼ºåˆ¶ç´¢å¼•æ¥è§£å›° 1select id from t with(index(ç´¢å¼•å)) where num &#x3D; @num; é¿å…åœ¨whereå­å¥ä¸­å¯¹å­—æ®µè¿›è¡Œè¡¨å‡½æ•°ã€ç®—æœ¯è¿ç®—æˆ–å…¶ä»–è¡¨è¾¾å¼è¿ç®— 12select id from t where num&#x2F;2 &#x3D; 100;select id from t where substring(name,1,3) &#x3D; â€™abcâ€™; è¿™å°†å¯¼è‡´å¼•æ“æ”¾å¼ƒä½¿ç”¨ç´¢å¼•è€Œè¿›è¡Œå…¨è¡¨æ‰«æã€‚ åº”æ”¹ä¸ºï¼š 12select id from t where num &#x3D; 100*2;select id from t where name like &#39;abc%&#39;; åœ¨ä½¿ç”¨ç´¢å¼•å­—æ®µä½œä¸ºæ¡ä»¶æ—¶ï¼Œå¦‚æœè¯¥ç´¢å¼•æ˜¯å¤åˆç´¢å¼•ï¼Œé‚£ä¹ˆå¿…é¡»ä½¿ç”¨åˆ°è¯¥ç´¢å¼•ä¸­çš„ç¬¬ä¸€ä¸ªå­—æ®µä½œä¸ºæ¡ä»¶æ—¶æ‰èƒ½ä¿è¯ç³»ç»Ÿä½¿ç”¨è¯¥ç´¢å¼•ï¼Œå¦åˆ™è¯¥ç´¢å¼•å°†ä¸ä¼šè¢«ä½¿ç”¨ï¼Œå¹¶ä¸”åº”å°½å¯èƒ½çš„è®©å­—æ®µé¡ºåºä¸ç´¢å¼•é¡ºåºç›¸ä¸€è‡´ å°½é‡ä½¿ç”¨è¡¨å˜é‡æ¥ä»£æ›¿ä¸´æ—¶è¡¨ å¦‚æœè¡¨å˜é‡åŒ…å«å¤§é‡æ•°æ®ï¼Œè¯·æ³¨æ„ç´¢å¼•éå¸¸æœ‰é™ï¼ˆåªæœ‰ä¸»é”®ç´¢å¼•ï¼‰ã€‚ å°½é‡é¿å…å¤§äº‹åŠ¡æ“ä½œï¼Œæé«˜ç³»ç»Ÿå¹¶å‘èƒ½åŠ› å°½é‡é¿å…å‘å®¢æˆ·ç«¯è¿”å›å¤§æ•°æ®é‡ è‹¥æ•°æ®é‡è¿‡å¤§ï¼Œåº”è¯¥è€ƒè™‘ç›¸åº”éœ€æ±‚æ˜¯å¦åˆç†ï¼Œæˆ–è€…åˆ†é¡µæŸ¥è¯¢ã€‚ ä¸€ã€åŸºç¡€è§„èŒƒ ï¼ˆ1ï¼‰å¿…é¡»ä½¿ç”¨InnoDBå­˜å‚¨å¼•æ“ è§£è¯»ï¼šæ”¯æŒäº‹åŠ¡ã€è¡Œçº§é”ã€å¹¶å‘æ€§èƒ½æ›´å¥½ã€CPUåŠå†…å­˜ç¼“å­˜é¡µä¼˜åŒ–ä½¿å¾—èµ„æºåˆ©ç”¨ç‡æ›´é«˜ ï¼ˆ2ï¼‰å¿…é¡»ä½¿ç”¨UTF8å­—ç¬¦é›† è§£è¯»ï¼šä¸‡å›½ç ï¼Œæ— éœ€è½¬ç ï¼Œæ— ä¹±ç é£é™©ï¼ŒèŠ‚çœç©ºé—´ ï¼ˆ3ï¼‰æ•°æ®è¡¨ã€æ•°æ®å­—æ®µå¿…é¡»åŠ å…¥ä¸­æ–‡æ³¨é‡Š è§£è¯»ï¼šNå¹´åè°tmçŸ¥é“è¿™ä¸ªr1,r2,r3å­—æ®µæ˜¯å¹²å˜›çš„ ï¼ˆ4ï¼‰ç¦æ­¢ä½¿ç”¨å­˜å‚¨è¿‡ç¨‹ã€è§†å›¾ã€è§¦å‘å™¨ã€Event è§£è¯»ï¼šé«˜å¹¶å‘å¤§æ•°æ®çš„äº’è”ç½‘ä¸šåŠ¡ï¼Œæ¶æ„è®¾è®¡æ€è·¯æ˜¯â€œè§£æ”¾æ•°æ®åº“CPUï¼Œå°†è®¡ç®—è½¬ç§»åˆ°æœåŠ¡å±‚â€ï¼Œå¹¶å‘é‡å¤§çš„æƒ…å†µä¸‹ï¼Œè¿™äº›åŠŸèƒ½å¾ˆå¯èƒ½å°†æ•°æ®åº“æ‹–æ­»ï¼Œä¸šåŠ¡é€»è¾‘æ”¾åˆ°æœåŠ¡å±‚å…·å¤‡æ›´å¥½çš„æ‰©å±•æ€§ï¼Œèƒ½å¤Ÿè½»æ˜“å®ç°â€œå¢æœºå™¨å°±åŠ æ€§èƒ½â€ã€‚æ•°æ®åº“æ“…é•¿å­˜å‚¨ä¸ç´¢å¼•ï¼ŒCPUè®¡ç®—è¿˜æ˜¯ä¸Šç§»å§ ï¼ˆ5ï¼‰ç¦æ­¢å­˜å‚¨å¤§æ–‡ä»¶æˆ–è€…å¤§ç…§ç‰‡ è§£è¯»ï¼šä¸ºä½•è¦è®©æ•°æ®åº“åšå®ƒä¸æ“…é•¿çš„äº‹æƒ…ï¼Ÿå¤§æ–‡ä»¶å’Œç…§ç‰‡å­˜å‚¨åœ¨æ–‡ä»¶ç³»ç»Ÿï¼Œæ•°æ®åº“é‡Œå­˜URIå¤šå¥½ äºŒã€å‘½åè§„èŒƒ ï¼ˆ6ï¼‰åªå…è®¸ä½¿ç”¨å†…ç½‘åŸŸåï¼Œè€Œä¸æ˜¯ipè¿æ¥æ•°æ®åº“ ï¼ˆ7ï¼‰çº¿ä¸Šç¯å¢ƒã€å¼€å‘ç¯å¢ƒã€æµ‹è¯•ç¯å¢ƒæ•°æ®åº“å†…ç½‘åŸŸåéµå¾ªå‘½åè§„èŒƒ ä¸šåŠ¡åç§°ï¼šxxx çº¿ä¸Šç¯å¢ƒï¼šdj.xxx.db å¼€å‘ç¯å¢ƒï¼šdj.xxx.rdb æµ‹è¯•ç¯å¢ƒï¼šdj.xxx.tdb ä»åº“åœ¨åç§°ååŠ -sæ ‡è¯†ï¼Œå¤‡åº“åœ¨åç§°ååŠ -ssæ ‡è¯† çº¿ä¸Šä»åº“ï¼šdj.xxx-s.db çº¿ä¸Šå¤‡åº“ï¼šdj.xxx-sss.db ï¼ˆ8ï¼‰åº“åã€è¡¨åã€å­—æ®µåï¼šå°å†™ï¼Œä¸‹åˆ’çº¿é£æ ¼ï¼Œä¸è¶…è¿‡32ä¸ªå­—ç¬¦ï¼Œå¿…é¡»è§åçŸ¥æ„ï¼Œç¦æ­¢æ‹¼éŸ³è‹±æ–‡æ··ç”¨ ï¼ˆ9ï¼‰è¡¨åt_xxxï¼Œéå”¯ä¸€ç´¢å¼•åidx_xxxï¼Œå”¯ä¸€ç´¢å¼•åuniq_xxx ä¸‰ã€è¡¨è®¾è®¡è§„èŒƒ ï¼ˆ10ï¼‰å•å®ä¾‹è¡¨æ•°ç›®å¿…é¡»å°äº500 ï¼ˆ11ï¼‰å•è¡¨åˆ—æ•°ç›®å¿…é¡»å°äº30 ï¼ˆ12ï¼‰è¡¨å¿…é¡»æœ‰ä¸»é”®ï¼Œä¾‹å¦‚è‡ªå¢ä¸»é”® è§£è¯»ï¼š aï¼‰ä¸»é”®é€’å¢ï¼Œæ•°æ®è¡Œå†™å…¥å¯ä»¥æé«˜æ’å…¥æ€§èƒ½ï¼Œå¯ä»¥é¿å…pageåˆ†è£‚ï¼Œå‡å°‘è¡¨ç¢ç‰‡æå‡ç©ºé—´å’Œå†…å­˜çš„ä½¿ç”¨ bï¼‰ä¸»é”®è¦é€‰æ‹©è¾ƒçŸ­çš„æ•°æ®ç±»å‹ï¼Œ Innodbå¼•æ“æ™®é€šç´¢å¼•éƒ½ä¼šä¿å­˜ä¸»é”®çš„å€¼ï¼Œè¾ƒçŸ­çš„æ•°æ®ç±»å‹å¯ä»¥æœ‰æ•ˆçš„å‡å°‘ç´¢å¼•çš„ç£ç›˜ç©ºé—´ï¼Œæé«˜ç´¢å¼•çš„ç¼“å­˜æ•ˆç‡ cï¼‰ æ— ä¸»é”®çš„è¡¨åˆ é™¤ï¼Œåœ¨rowæ¨¡å¼çš„ä¸»ä»æ¶æ„ï¼Œä¼šå¯¼è‡´å¤‡åº“å¤¯ä½ ï¼ˆ13ï¼‰ç¦æ­¢ä½¿ç”¨å¤–é”®ï¼Œå¦‚æœæœ‰å¤–é”®å®Œæ•´æ€§çº¦æŸï¼Œéœ€è¦åº”ç”¨ç¨‹åºæ§åˆ¶ è§£è¯»ï¼šå¤–é”®ä¼šå¯¼è‡´è¡¨ä¸è¡¨ä¹‹é—´è€¦åˆï¼Œupdateä¸deleteæ“ä½œéƒ½ä¼šæ¶‰åŠç›¸å…³è”çš„è¡¨ï¼Œååˆ†å½±å“sql çš„æ€§èƒ½ï¼Œç”šè‡³ä¼šé€ æˆæ­»é”ã€‚é«˜å¹¶å‘æƒ…å†µä¸‹å®¹æ˜“é€ æˆæ•°æ®åº“æ€§èƒ½ï¼Œå¤§æ•°æ®é«˜å¹¶å‘ä¸šåŠ¡åœºæ™¯æ•°æ®åº“ä½¿ç”¨ä»¥æ€§èƒ½ä¼˜å…ˆ å››ã€å­—æ®µè®¾è®¡è§„èŒƒ ï¼ˆ14ï¼‰å¿…é¡»æŠŠå­—æ®µå®šä¹‰ä¸ºNOT NULLå¹¶ä¸”æä¾›é»˜è®¤å€¼ è§£è¯»ï¼š aï¼‰nullçš„åˆ—ä½¿ç´¢å¼•/ç´¢å¼•ç»Ÿè®¡/å€¼æ¯”è¾ƒéƒ½æ›´åŠ å¤æ‚ï¼Œå¯¹MySQLæ¥è¯´æ›´éš¾ä¼˜åŒ– bï¼‰null è¿™ç§ç±»å‹MySQLå†…éƒ¨éœ€è¦è¿›è¡Œç‰¹æ®Šå¤„ç†ï¼Œå¢åŠ æ•°æ®åº“å¤„ç†è®°å½•çš„å¤æ‚æ€§ï¼›åŒç­‰æ¡ä»¶ä¸‹ï¼Œè¡¨ä¸­æœ‰è¾ƒå¤šç©ºå­—æ®µçš„æ—¶å€™ï¼Œæ•°æ®åº“çš„å¤„ç†æ€§èƒ½ä¼šé™ä½å¾ˆå¤š cï¼‰nullå€¼éœ€è¦æ›´å¤šçš„å­˜å‚¨ç©ºï¼Œæ— è®ºæ˜¯è¡¨è¿˜æ˜¯ç´¢å¼•ä¸­æ¯è¡Œä¸­çš„nullçš„åˆ—éƒ½éœ€è¦é¢å¤–çš„ç©ºé—´æ¥æ ‡è¯† dï¼‰å¯¹null çš„å¤„ç†æ—¶å€™ï¼Œåªèƒ½é‡‡ç”¨is nullæˆ–is not nullï¼Œè€Œä¸èƒ½é‡‡ç”¨=ã€inã€&lt;ã€&lt;&gt;ã€!=ã€not inè¿™äº›æ“ä½œç¬¦å·ã€‚å¦‚ï¼šwhere name!=â€™shenjianâ€™ï¼Œå¦‚æœå­˜åœ¨nameä¸ºnullå€¼çš„è®°å½•ï¼ŒæŸ¥è¯¢ç»“æœå°±ä¸ä¼šåŒ…å«nameä¸ºnullå€¼çš„è®°å½• ï¼ˆ15ï¼‰ç¦æ­¢ä½¿ç”¨TEXTã€BLOBç±»å‹ è§£è¯»ï¼šä¼šæµªè´¹æ›´å¤šçš„ç£ç›˜å’Œå†…å­˜ç©ºé—´ï¼Œéå¿…è¦çš„å¤§é‡çš„å¤§å­—æ®µæŸ¥è¯¢ä¼šæ·˜æ±°æ‰çƒ­æ•°æ®ï¼Œå¯¼è‡´å†…å­˜å‘½ä¸­ç‡æ€¥å‰§é™ä½ï¼Œå½±å“æ•°æ®åº“æ€§èƒ½ ï¼ˆ16ï¼‰ç¦æ­¢ä½¿ç”¨å°æ•°å­˜å‚¨è´§å¸ è§£è¯»ï¼šä½¿ç”¨æ•´æ•°å§ï¼Œå°æ•°å®¹æ˜“å¯¼è‡´é’±å¯¹ä¸ä¸Š ï¼ˆ17ï¼‰å¿…é¡»ä½¿ç”¨varchar(20)å­˜å‚¨æ‰‹æœºå· è§£è¯»ï¼š aï¼‰æ¶‰åŠåˆ°åŒºå·æˆ–è€…å›½å®¶ä»£å·ï¼Œå¯èƒ½å‡ºç°+-() bï¼‰æ‰‹æœºå·ä¼šå»åšæ•°å­¦è¿ç®—ä¹ˆï¼Ÿ cï¼‰varcharå¯ä»¥æ”¯æŒæ¨¡ç³ŠæŸ¥è¯¢ï¼Œä¾‹å¦‚ï¼šlikeâ€œ138%â€ ï¼ˆ18ï¼‰ç¦æ­¢ä½¿ç”¨ENUMï¼Œå¯ä½¿ç”¨TINYINTä»£æ›¿ è§£è¯»ï¼š aï¼‰å¢åŠ æ–°çš„ENUMå€¼è¦åšDDLæ“ä½œ bï¼‰ENUMçš„å†…éƒ¨å®é™…å­˜å‚¨å°±æ˜¯æ•´æ•°ï¼Œä½ ä»¥ä¸ºè‡ªå·±å®šä¹‰çš„æ˜¯å­—ç¬¦ä¸²ï¼Ÿ äº”ã€ç´¢å¼•è®¾è®¡è§„èŒƒ ï¼ˆ19ï¼‰å•è¡¨ç´¢å¼•å»ºè®®æ§åˆ¶åœ¨5ä¸ªä»¥å†… ï¼ˆ20ï¼‰å•ç´¢å¼•å­—æ®µæ•°ä¸å…è®¸è¶…è¿‡5ä¸ª è§£è¯»ï¼šå­—æ®µè¶…è¿‡5ä¸ªæ—¶ï¼Œå®é™…å·²ç»èµ·ä¸åˆ°æœ‰æ•ˆè¿‡æ»¤æ•°æ®çš„ä½œç”¨äº† ï¼ˆ21ï¼‰ç¦æ­¢åœ¨æ›´æ–°ååˆ†é¢‘ç¹ã€åŒºåˆ†åº¦ä¸é«˜çš„å±æ€§ä¸Šå»ºç«‹ç´¢å¼• è§£è¯»ï¼š aï¼‰æ›´æ–°ä¼šå˜æ›´B+æ ‘ï¼Œæ›´æ–°é¢‘ç¹çš„å­—æ®µå»ºç«‹ç´¢å¼•ä¼šå¤§å¤§é™ä½æ•°æ®åº“æ€§èƒ½ bï¼‰â€œæ€§åˆ«â€è¿™ç§åŒºåˆ†åº¦ä¸å¤§çš„å±æ€§ï¼Œå»ºç«‹ç´¢å¼•æ˜¯æ²¡æœ‰ä»€ä¹ˆæ„ä¹‰çš„ï¼Œä¸èƒ½æœ‰æ•ˆè¿‡æ»¤æ•°æ®ï¼Œæ€§èƒ½ä¸å…¨è¡¨æ‰«æç±»ä¼¼ ï¼ˆ22ï¼‰å»ºç«‹ç»„åˆç´¢å¼•ï¼Œå¿…é¡»æŠŠåŒºåˆ†åº¦é«˜çš„å­—æ®µæ”¾åœ¨å‰é¢ è§£è¯»ï¼šèƒ½å¤Ÿæ›´åŠ æœ‰æ•ˆçš„è¿‡æ»¤æ•°æ® å…­ã€SQLä½¿ç”¨è§„èŒƒ ï¼ˆ23ï¼‰ç¦æ­¢ä½¿ç”¨SELECT *ï¼Œåªè·å–å¿…è¦çš„å­—æ®µï¼Œéœ€è¦æ˜¾ç¤ºè¯´æ˜åˆ—å±æ€§ è§£è¯»ï¼š aï¼‰è¯»å–ä¸éœ€è¦çš„åˆ—ä¼šå¢åŠ CPUã€IOã€NETæ¶ˆè€— bï¼‰ä¸èƒ½æœ‰æ•ˆçš„åˆ©ç”¨è¦†ç›–ç´¢å¼• cï¼‰ä½¿ç”¨SELECT *å®¹æ˜“åœ¨å¢åŠ æˆ–è€…åˆ é™¤å­—æ®µåå‡ºç°ç¨‹åºBUG ï¼ˆ24ï¼‰ç¦æ­¢ä½¿ç”¨INSERT INTO t_xxx VALUES(xxx)ï¼Œå¿…é¡»æ˜¾ç¤ºæŒ‡å®šæ’å…¥çš„åˆ—å±æ€§ è§£è¯»ï¼šå®¹æ˜“åœ¨å¢åŠ æˆ–è€…åˆ é™¤å­—æ®µåå‡ºç°ç¨‹åºBUG ï¼ˆ25ï¼‰ç¦æ­¢ä½¿ç”¨å±æ€§éšå¼è½¬æ¢ è§£è¯»ï¼šSELECT uid FROM t_user WHERE phone=13812345678 ä¼šå¯¼è‡´å…¨è¡¨æ‰«æï¼Œè€Œä¸èƒ½å‘½ä¸­phoneç´¢å¼•ï¼ŒçŒœçŒœä¸ºä»€ä¹ˆï¼Ÿï¼ˆè¿™ä¸ªçº¿ä¸Šé—®é¢˜ä¸æ­¢å‡ºç°è¿‡ä¸€æ¬¡ï¼‰ ï¼ˆ26ï¼‰ç¦æ­¢åœ¨WHEREæ¡ä»¶çš„å±æ€§ä¸Šä½¿ç”¨å‡½æ•°æˆ–è€…è¡¨è¾¾å¼ è§£è¯»ï¼šSELECT uid FROM t_user WHERE from_unixtime(day)&gt;=â€™2017-02-15â€™ ä¼šå¯¼è‡´å…¨è¡¨æ‰«æ æ­£ç¡®çš„å†™æ³•æ˜¯ï¼šSELECT uid FROM t_user WHERE day&gt;= unix_timestamp(â€˜2017-02-15 00:00:00â€™) ï¼ˆ27ï¼‰ç¦æ­¢è´Ÿå‘æŸ¥è¯¢ï¼Œä»¥åŠ%å¼€å¤´çš„æ¨¡ç³ŠæŸ¥è¯¢ è§£è¯»ï¼š aï¼‰è´Ÿå‘æŸ¥è¯¢æ¡ä»¶ï¼šNOTã€!=ã€&lt;&gt;ã€!&lt;ã€!&gt;ã€NOT INã€NOT LIKEç­‰ï¼Œä¼šå¯¼è‡´å…¨è¡¨æ‰«æ bï¼‰%å¼€å¤´çš„æ¨¡ç³ŠæŸ¥è¯¢ï¼Œä¼šå¯¼è‡´å…¨è¡¨æ‰«æ ï¼ˆ28ï¼‰ç¦æ­¢å¤§è¡¨ä½¿ç”¨JOINæŸ¥è¯¢ï¼Œç¦æ­¢å¤§è¡¨ä½¿ç”¨å­æŸ¥è¯¢ è§£è¯»ï¼šä¼šäº§ç”Ÿä¸´æ—¶è¡¨ï¼Œæ¶ˆè€—è¾ƒå¤šå†…å­˜ä¸CPUï¼Œæå¤§å½±å“æ•°æ®åº“æ€§èƒ½ ï¼ˆ29ï¼‰ç¦æ­¢ä½¿ç”¨ORæ¡ä»¶ï¼Œå¿…é¡»æ”¹ä¸ºINæŸ¥è¯¢ è§£è¯»ï¼šæ—§ç‰ˆæœ¬Mysqlçš„ORæŸ¥è¯¢æ˜¯ä¸èƒ½å‘½ä¸­ç´¢å¼•çš„ï¼Œå³ä½¿èƒ½å‘½ä¸­ç´¢å¼•ï¼Œä¸ºä½•è¦è®©æ•°æ®åº“è€—è´¹æ›´å¤šçš„CPUå¸®åŠ©å®æ–½æŸ¥è¯¢ä¼˜åŒ–å‘¢ï¼Ÿ ï¼ˆ30ï¼‰åº”ç”¨ç¨‹åºå¿…é¡»æ•è·SQLå¼‚å¸¸ï¼Œå¹¶æœ‰ç›¸åº”å¤„ç†","categories":[{"name":"æ•°æ®åº“","slug":"æ•°æ®åº“","permalink":"http://www.octber.xyz/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"}],"tags":[{"name":"MySQL","slug":"MySQL","permalink":"http://www.octber.xyz/tags/MySQL/"}]},{"title":"2019.8.6æ—¥æŠ¥","slug":"2019-8-6æ—¥æŠ¥","date":"2019-08-06T03:28:06.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/08/06/2019-8-6æ—¥æŠ¥/","link":"","permalink":"http://www.octber.xyz/2019/08/06/2019-8-6%E6%97%A5%E6%8A%A5/","excerpt":"å‰è¨€2019.8.6æ—¥æŠ¥","text":"å‰è¨€2019.8.6æ—¥æŠ¥ 1.åæ´—é’±åŸºæœ¬ä¿¡æ¯å½•å…¥1.1 å‰ç«¯ å‰ç«¯å­—æ®µè¾ƒå¤š,éœ€è¦ä»”ç»†æ ¸å¯¹,æˆªå›¾å±•ç¤ºä¸€éƒ¨åˆ† 1.1.1 å‰ç«¯é¡µé¢ 1.1.2 é¡µé¢è¯´æ˜1.1.2.1ã€å¼€æˆ·-ç¡®è®¤ã€‘æŒ‰é’®è¯´æ˜é¡µé¢å¿…é¡»è¾“å…¥é¡¹ç›®æ£€æŸ¥æˆåŠŸåï¼ŒæŠŠæ•°æ®åˆ†åˆ«å­˜å…¥: åœºå¤–ä»£é”€è´¦æˆ·ç±»ç”³æŠ¥è¡¨otc_tagentaccountapp(ä¼šæœ‰å­—æ®µå†—ä½™ï¼Œé¡µé¢ä¸Šæœ‰é¡¹ç›®ä¿å­˜åˆ°å¯¹åº”å­—æ®µå³å¯) otc_tamlsuitableapp otc_tamlbeneficiaryapp otc_tamlshareholderapp otc_tcrsmaininfoapp otc_tcrscontrollerapp otc_tcrstaxpayerapp otc_tcrsmaiTotaxpayerapp otc_tcrscontrollerTotaxpayerapp é¡µé¢ä¸Šçš„æ–‡ä»¶å…ˆé€šè¿‡bgçš„æ–‡ä»¶ä¸Šä¼ æ¥å£ä¸´æ—¶ä¿å­˜åˆ°ftpä¸Šä»¥å½“å‰æ—¥æœŸå‘½åçš„æ–‡ä»¶å¤¹é‡Œï¼Œç‚¹ã€å¼€æˆ·-ç¡®è®¤ã€‘æ—¶æ­£å¼ä¸Šä¼ åˆ°é”€å”®æœºæ„çš„ftpä¸Šï¼ˆæ–‡ä»¶åéœ€è¦æŒ‰ç…§æ–‡ä»¶è§„åˆ™é‡åç§°ï¼Œæ³¨æ„æœ‰2ä¸ªftpï¼Œä¸€ä¸ªæ˜¯æœºæ„é€šä¸´æ—¶å­˜æ”¾æ–‡ä»¶çš„ftpï¼‰ã€‚ 1.2 åç«¯1.2.1 æ•°æ®åº“ æ‰€æœ‰æ•°æ®é’ˆå¯¹ç”³æŠ¥è¡¨ æ•°æ®åº“è¡¨: åæ´—é’±ä¸é€‚å½“æ€§ä¿¡æ¯æ˜ç»†ç”³æŠ¥è¡¨ è¡¨å: otc_tamlsuitableapp è¡¨å¤‡æ³¨: åæ´—é’±ä¸é€‚å½“æ€§ä¿¡æ¯æ˜ç»†ç”³æŠ¥è¡¨ï¼Œå­˜æ”¾åæ´—é’±åŸºæœ¬ä¿¡æ¯å’Œé€‚å½“æ€§çš„å†…å®¹ã€‚ 1.2.2 DTO/DO/Convertorâ€¦ ä½¿ç”¨ç”Ÿæˆå·¥å…·mybatis-generator 123&lt;table tableName=&quot;otc_tamlsuitableapp&quot; domainObjectName=&quot;AmlSuitablAapp&quot;&gt; &lt;property name=&quot;subPackage&quot; value=&quot;business.basis&quot;/&gt;&lt;/table&gt; 1.2.3 ä¸šåŠ¡é€»è¾‘å®ç° æ³¨æ„æ·»åŠ äº‹åŠ¡å¤„ç†,å…·ä½“è¿‡ç¨‹ç•¥,å®ç°ğŸ†— 2.(åæ´—é’±)å—ç›Šäººä¿¡æ¯2.1 å‰ç«¯ å‰ç«¯é¡µé¢å¦‚ä¸‹ 2.2 åç«¯2.2.1 æ•°æ®åº“ æ•°æ®åº“è¡¨: åæ´—é’±å—ç›Šäººç”³æŠ¥æ˜ç»†è¡¨ è¡¨å: otc_tamlbeneficiaryapp è¡¨æ³¨é‡Š: åæ´—é’±å—ç›Šäººç”³æŠ¥æ˜ç»†è¡¨ 2.2.2 DTO/DO/Convertorâ€¦ ä½¿ç”¨ç”Ÿæˆå·¥å…·mybatis-generator 12345&lt;table tableName=&quot;otc_tamlbeneficiaryapp&quot; domainObjectName=&quot;AmlBeneficiaryApp&quot;&gt; &lt;property name=&quot;subPackage&quot; value=&quot;business.basis&quot;/&gt;&lt;/table&gt; 2.2.3 ä¸šåŠ¡é€»è¾‘å®ç° æ³¨æ„æ·»åŠ äº‹åŠ¡å¤„ç†,å…·ä½“è¿‡ç¨‹ç•¥,å®ç°ğŸ†— 3.(åæ´—é’±)è‚¡ä¸œä¿¡æ¯3.1 å‰ç«¯ å‰ç«¯é¡µé¢å¦‚ä¸‹ 3.2 åç«¯3.2.1 æ•°æ®åº“ æ•°æ®åº“è¡¨: åæ´—é’±è‚¡ä¸œä¿¡æ¯ç”³æŠ¥æ˜ç»†è¡¨ è¡¨å: otc_tamlshareholderapp è¡¨æ³¨é‡Š: (åæ´—é’±)è‚¡ä¸œä¿¡æ¯ 3.2.2 DTO/DO/Convertorâ€¦ ä½¿ç”¨ç”Ÿæˆå·¥å…·mybatis-generator 12345&lt;table tableName=&quot;otc_tamlshareholderapp&quot; domainObjectName=&quot;amlShareHolderApp&quot;&gt; &lt;property name=&quot;subPackage&quot; value=&quot;business.basis&quot;/&gt;&lt;/table&gt; 3.2.3 ä¸šåŠ¡é€»è¾‘å®ç° æ³¨æ„æ·»åŠ äº‹åŠ¡å¤„ç†,å…·ä½“è¿‡ç¨‹ç•¥,å®ç°ğŸ†— 4.CRSä¿¡æ¯ä¸»ä¿¡æ¯æ˜ç»†ç”³æŠ¥è¡¨3.1 å‰ç«¯ å‰ç«¯é¡µé¢å¦‚ä¸‹ï¼Œæœ¬é¡µé¢è¿˜æ²¡å®Œå…¨åšå®Œï¼Œä½¿ç”¨åŸå‹ 3.2 åç«¯3.2.1 æ•°æ®åº“ æ•°æ®åº“è¡¨: åæ´—é’±è‚¡ä¸œä¿¡æ¯ç”³æŠ¥æ˜ç»†è¡¨ è¡¨å: otc_tcrsmaininfoapp è¡¨æ³¨é‡Š: (åæ´—é’±)è‚¡ä¸œä¿¡æ¯ 3.2.2 DTO/DO/Convertorâ€¦ ä½¿ç”¨ç”Ÿæˆå·¥å…·mybatis-generator 12345&lt;table tableName=&quot;otc_tcrsmaininfoapp&quot; domainObjectName=&quot;CrsMainInfoApp&quot;&gt; &lt;property name=&quot;subPackage&quot; value=&quot;business.basis&quot;/&gt;&lt;/table&gt; 3.2.3 ä¸šåŠ¡é€»è¾‘å®ç° æ³¨æ„æ·»åŠ äº‹åŠ¡å¤„ç†,å…·ä½“è¿‡ç¨‹ç•¥,å®ç°ğŸ†— CRSçº³ç¨äººä¿¡æ¯æ˜ç»†ç”³æŠ¥è¡¨,[æ— å±…æ°‘å›½å®¶/åœ°åŒºçº³ç¨äººè¯†åˆ«å·çš„åŸå› ç±»å‹] å­—æ®µ æˆ–ã€çº³ç¨äººè¯†åˆ«å·ã€‘2è€…ï¼Œ2é€‰1å¿…é¡»è¾“å…¥ã€‚ CRSæ§åˆ¶äººä¿¡æ¯æ˜ç»†ç”³æŠ¥è¡¨ï¼Œã€å§“åã€‘å¿…é¡»è¾“å…¥ã€‚æ˜¯æŒ‡å…¶ä»–æ•°æ®æœ‰è¾“å…¥æ—¶ï¼Œã€å§“åã€‘å¿…é¡»è¾“å…¥ã€‚ å…¶ä»–ä»»åŠ¡ç•¥","categories":[{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"http://www.octber.xyz/categories/%E6%97%A5%E8%AE%B0/"}],"tags":[{"name":"æ—¥æŠ¥","slug":"æ—¥æŠ¥","permalink":"http://www.octber.xyz/tags/%E6%97%A5%E6%8A%A5/"}]},{"title":"ã€åŠ¨æ¼«æ‚å›¾ã€‘ç¬¬0æœŸ","slug":"ã€åŠ¨æ¼«æ‚å›¾ã€‘ç¬¬0æœŸ","date":"2019-08-06T02:09:25.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/08/06/ã€åŠ¨æ¼«æ‚å›¾ã€‘ç¬¬0æœŸ/","link":"","permalink":"http://www.octber.xyz/2019/08/06/%E3%80%90%E5%8A%A8%E6%BC%AB%E6%9D%82%E5%9B%BE%E3%80%91%E7%AC%AC0%E6%9C%9F/","excerpt":"å‰è¨€åŠ¨æ¼«æ‚å›¾,ç¬¬0æœŸ, å¤šå›¾è­¦å‘Š!âš ","text":"å‰è¨€åŠ¨æ¼«æ‚å›¾,ç¬¬0æœŸ, å¤šå›¾è­¦å‘Š!âš ","categories":[{"name":"åŠ¨æ¼«ä¸“æ ","slug":"åŠ¨æ¼«ä¸“æ ","permalink":"http://www.octber.xyz/categories/%E5%8A%A8%E6%BC%AB%E4%B8%93%E6%A0%8F/"}],"tags":[{"name":"åŠ¨æ¼«æ‚å›¾","slug":"åŠ¨æ¼«æ‚å›¾","permalink":"http://www.octber.xyz/tags/%E5%8A%A8%E6%BC%AB%E6%9D%82%E5%9B%BE/"}]},{"title":"å°†åšå®¢æ¬è‡³CSDN","slug":"å°†åšå®¢æ¬è‡³CSDN","date":"2019-08-05T12:50:18.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/08/05/å°†åšå®¢æ¬è‡³CSDN/","link":"","permalink":"http://www.octber.xyz/2019/08/05/%E5%B0%86%E5%8D%9A%E5%AE%A2%E6%90%AC%E8%87%B3CSDN/","excerpt":"å‰è¨€","text":"å‰è¨€","categories":[],"tags":[]},{"title":"2019.8.5æ—¥æŠ¥","slug":"2019-8-5æ—¥æŠ¥","date":"2019-08-05T01:06:52.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/08/05/2019-8-5æ—¥æŠ¥/","link":"","permalink":"http://www.octber.xyz/2019/08/05/2019-8-5%E6%97%A5%E6%8A%A5/","excerpt":"2019.8.5æ—¥æŠ¥","text":"2019.8.5æ—¥æŠ¥ ä»Šæ—¥å†…å®¹1.å¾…å®šå†…å®¹ ç”±äºæœ¬å‘¨å››åˆ°å‘¨æ—¥éœ€è¦å»èŠœæ¹–å‚åŠ 2019å¹´å…¨å›½è®¡ç®—æœºè®¾è®¡å¤§èµ›çš„ç­”è¾©,æ‰€ä»¥å®‰æ’åœ¨å‘¨å››å‘¨äº”çš„ä»»åŠ¡,éœ€è¦æå‰äº†è§£å®Œæˆ ä»»åŠ¡å†…å®¹: 3.27èµ„é‡‘äº¤æ”¶å¤æ ¸ 3.27 èµ„é‡‘äº¤æ”¶å¤æ ¸ ææµ©ç”° 8æœˆ7æ—¥ 8æœˆ9æ—¥ ä½†æ˜¯ç”±äºç›®å‰è¿˜æ²¡æœ‰ç¡®å®š,æ‰€ä»¥ç°åœ¨åšä¸äº†å’¯ 2.æ–‡ä»¶ä¸Šä¼ ä»»åŠ¡ å¸®åŠ©ä½œæ£’å­¦é•¿å®Œæˆé¡µé¢çš„ä¸€éƒ¨åˆ†è¾ƒä¸ºç‹¬ç«‹çš„å†…å®¹:æ–‡ä»¶ä¸Šä¼ çš„åŠŸèƒ½ 2.1 éœ€æ±‚åˆ†æ å‰ç«¯ä½¿ç”¨HUIç»„ä»¶ä¸Šä¼  åç«¯é¦–å…ˆæ¥æ”¶æ–‡ä»¶å¹¶å­˜æ”¾åˆ°ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶å¤¹å†…(å¯é…ç½®) å†ç‚¹å‡»æäº¤åå°†æ–‡ä»¶å¤¹å†…çš„å†…å®¹ç»Ÿä¸€å­˜æ”¾åˆ°æŒ‡å®šçš„æœåŠ¡å™¨ä¸Š **æ³¨æ„: **æ–‡ä»¶å‘½åæœ‰ç›¸åº”çš„è§„èŒƒ æ³¨æ„: åŒä¸€ä¸ªæ–‡ä»¶ä¸Šä¼ æ¡†,å¯èƒ½ä¸Šä¼ å¤šæ¬¡,åªä¿ç•™æœ€åä¸€æ¬¡ä¸Šä¼ çš„æœ€æ–°ç‰ˆæœ¬ 2.2 å‰ç«¯å®ç° HUIæœ‰ç›¸å…³ç¤ºä¾‹ä»£ç ,æ ¹æ®HUIä¸­çš„Demo,æˆ‘ä»¬å¯ä»¥å¿«é€Ÿæ„å»ºç”¨äºæˆ‘ä»¬éœ€æ±‚çš„ç»„ä»¶ 12345678910111213&lt;template&gt; &lt;div&gt; &lt;h-upload multiple type=&quot;drag&quot; action=&quot;//jsonplaceholder.typicode.com/posts/&quot;&gt; &lt;div style=&quot;padding: 20px 0&quot;&gt; &lt;h-icon type=&quot;ios-cloud-upload&quot; size=&quot;52&quot; style=&quot;color: #3399ff&quot;&gt;&lt;/h-icon&gt; &lt;p&gt;ç‚¹å‡»æˆ–å°†æ–‡ä»¶æ‹–æ‹½åˆ°è¿™é‡Œä¸Šä¼ &lt;/p&gt; &lt;/div&gt; &lt;/h-upload&gt; &lt;/div&gt;&lt;/template&gt; å‰ç«¯å®ç°æ•ˆæœ: 2.3 åç«¯é‡åˆ°äº†ä¸€äº›é—®é¢˜ï¼Œä¸»è¦æ˜¯é€»è¾‘å’Œæºä»£ç çš„ç†è§£ï¼Œé‡åˆ°ä¸€äº›bgå’Œbgbä¹‹é—´Apiè°ƒç”¨çš„é—®é¢˜ åœ¨config/index.jsä¸­,ç”±äºjsæ˜¯è„šæœ¬è¯­è¨€,æ‰€ä»¥æ ¹æ®æ‰§è¡Œé¡ºåº,ä¸‹é¢é¡ºåºä¸èƒ½æœ‰é”™,å¦åˆ™ä¼šå‡ºç°ä¸Šä¼ æ¥å£ä¸èƒ½ä½¿ç”¨çš„é—®é¢˜: 123456789101112131415&#x27;/bgb/file&#x27;: &#123; target: &#x27;http://10.20.29.235:8088&#x27;, changeOrigin: true, onProxyReq(proxyReq, req) &#123; proxyReq.setHeader(&#x27;Content-Type&#x27;, req.headers[&#x27;content-type&#x27;]); &#125;, pathRewrite: &#123; &#x27;^/bgb&#x27;: &#x27;&#x27; &#125;,&#125;,&#x27;/bg&#x27;: &#123; // target: &#x27;http://10.20.39.153:10086&#x27;, target: &#x27;http://10.20.29.235:8088&#x27;, // target: &#x27;http://10.20.30.5:10086&#x27;, changeOrigin: true, autoRewrite: true,&#125;, å…¶ä»–ä½œæ£’å­¦é•¿ç»§ç»­å¸ƒç½®çš„å…¶ä»–ä»»åŠ¡ æ˜æ—¥ç»§ç»­ååŠ©ä½œæ£’å­¦é•¿æŠŠä»–é‚£ä¸€å—æ¯”è¾ƒå¤æ‚çš„å†…å®¹æå®Œï¼Œæˆ‘è´Ÿè´£Apiçš„æ”¯æŒï¼Œå‰ç«¯å¤æ‚çš„å¯¹åº”å…³ç³»ï¼Œæœ‰å­¦é•¿å®Œæˆã€‚","categories":[{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"http://www.octber.xyz/categories/%E6%97%A5%E8%AE%B0/"}],"tags":[{"name":"æ—¥æŠ¥","slug":"æ—¥æŠ¥","permalink":"http://www.octber.xyz/tags/%E6%97%A5%E6%8A%A5/"}]},{"title":"2019.8.3æ—¥æŠ¥","slug":"2019-8-3æ—¥æŠ¥","date":"2019-08-03T01:57:01.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/08/03/2019-8-3æ—¥æŠ¥/","link":"","permalink":"http://www.octber.xyz/2019/08/03/2019-8-3%E6%97%A5%E6%8A%A5/","excerpt":"2019.8.3æ—¥æŠ¥","text":"2019.8.3æ—¥æŠ¥ ä»Šæ—¥ä»»åŠ¡1.å°†å­—å…¸è½¬åŒ–ä¸ºJSON æ¦‚è¿°: æœ¬æ¥æ˜¯å¯ä»¥ç”¨å·¥å…·å¯¼å…¥çš„ï¼Œä½†æ˜¯æˆ‘æ˜¯ç”¨ä¸äº†office,å®‰è£…ä¸äº†,æ‰€ä»¥åªèƒ½è‡ªå·±å†™ç¨‹åºå¯¼å…¥ 1.1.1 æ•°æ®å¤„ç†å°†excelå¤„ç†æˆé€—å·åˆ†éš”çš„csvæ–‡ä»¶ 1.1.2 æ•°æ®è¯»å…¥ä½¿ç”¨fastCSVçš„mavenä¸­åŒ…å·¥å…·å¯¼å…¥ 123456&lt;!-- fastcsv --&gt;&lt;dependency&gt; &lt;groupId&gt;de.siegmar&lt;/groupId&gt; &lt;artifactId&gt;fastcsv&lt;/artifactId&gt; &lt;version&gt;1.0.3&lt;/version&gt;&lt;/dependency&gt; 1.1.3 æ•°æ®å°è£…1.1.4 æ•°æ®å¤„ç†1.1.5 JSONè¾“å‡º","categories":[{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"http://www.octber.xyz/categories/%E6%97%A5%E8%AE%B0/"}],"tags":[{"name":"æ—¥æŠ¥","slug":"æ—¥æŠ¥","permalink":"http://www.octber.xyz/tags/%E6%97%A5%E6%8A%A5/"}]},{"title":"2019.8.2æ—¥æŠ¥","slug":"2019-8-2æ—¥æŠ¥","date":"2019-08-02T03:06:59.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/08/02/2019-8-2æ—¥æŠ¥/","link":"","permalink":"http://www.octber.xyz/2019/08/02/2019-8-2%E6%97%A5%E6%8A%A5/","excerpt":"2019.8.2æ—¥æŠ¥","text":"2019.8.2æ—¥æŠ¥ ä»Šæ—¥æ€»ç»“1.è´¦æˆ·ç±»ä¸šåŠ¡ç”³æŠ¥è®°å½•å‰åç«¯å…¨éƒ¨å®ç° åªæ˜¯æœç´¢å’Œæ•°æ®å±•ç¤º 1.1é—ç•™é—®é¢˜è§£å†³1.1.1 èœå•é—®é¢˜ æœ€å¥½çš„åŠæ³•æ˜¯ä½¿ç”¨Excelä¿®æ”¹ï¼Œä½†æ˜¯ç›®å‰æ¡ä»¶ä¸å…è®¸ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ï¼Œä½†æ˜¯è¦åœ¨ä½¿ç”¨åæ‰¾å…¶ä»–äººæ›´æ–°Excel ä¿®æ”¹application.propertiesä¸­çš„é…ç½® 1system.table.change.mode=upgrade ä¿®æ”¹æ•°æ®åº“bgb_tsystemversionï¼š åˆ é™¤å…¶ä¸­çš„è®°å½•ï¼Œé‡æ–°è¿è¡Œç¨‹åºï¼Œå°±ä¼šåšä¸€æ¬¡menuçš„æ›´æ–° ç›´æ¥ä¿®æ”¹bg_tmenu,å¤åˆ¶å…¶ä»–çš„æ•°æ®è‡ªå·±ä¿®æ”¹ åç»­æ“ä½œ: åœ¨åŸºç¡€ç»„ä¸­çš„èœå•æ¨¡æ¿ç®¡ç†ä¸­æ‹–æ‹½ç›¸åº”çš„èœå•åˆ°æŒ‡å®šåŒºåŸŸ åœ¨äººå‘˜ä¿¡æ¯ä¸­åˆ†é…æŒ‡å®šæƒé™å³å¯ 1.1.2 åŸå‹ç¡®è®¤æ—©æ™¨æ‰¾æµ·é¾™ç¡®è®¤å‰ç«¯åŸå‹,ä»¥ç¥¥å“¥æ˜¨å¤©æŒ‡å®šçš„å­—æ®µä¸ºå‡† 1.2 å‰ç«¯ å‰ç«¯é¡µé¢åœ¨æ˜¨å¤©å®Œæˆä¸€å¤§åŠ,ç¡®è®¤UIååšäº†ä¸€å®šçš„ä¿®æ”¹,åŠ ä¸Šäº†å¯¹åº”çš„æ¥å£ å®ç°é¡µé¢æ–¹æ³• 1.3 åç«¯1.3.1 å®Œæˆæœç´¢åŠŸèƒ½1234567/** * æŸ¥è¯¢å¯¹åº”æŸ¥è¯¢æ¡ä»¶çš„æ‰€æœ‰åœºå¤–ä»£é”€è´¦æˆ· * @param agentAccountAppDTO åœºå¤–ä»£é”€è´¦æˆ·ç±»ç”³æŠ¥è¡¨ * @return æ‰€æœ‰æ»¡è¶³æ¡ä»¶çš„åœºå¤–ä»£é”€è´¦æˆ·ç±» */ @CloudFunction(functionId = Functions.QUERY_AGENT_ACCOUNT, desc = &quot;æŸ¥è¯¢å¯¹åº”æŸ¥è¯¢æ¡ä»¶çš„æ‰€æœ‰åœºå¤–ä»£é”€è´¦æˆ·&quot;) ApiResult&lt;Page&lt;AgentAccountAppDTO&gt;&gt; queryAgentAccountApp(@NotNull AgentAccountAppDTO agentAccountAppDTO); 1.3.2 BaseCommonQueryMapperçš„åç«¯ä½¿ç”¨å­¦ä¹  Mapperé€šè¿‡extends BaseCommonQueryMapper&lt;Type, Type&gt;å¯ä»¥è·å¾—å¾ˆå¤šéå¸¸æ–¹ä¾¿çš„å°è£…å¥½çš„å‡½æ•° 2.é—ç•™é—®é¢˜ å…³äºh-query-gridä½¿ç”¨æ•ˆæœçš„é—®é¢˜,å»ºè®®ä¹‹åè‡ªå·±å†™ä»£ç å®Œæˆ,ä¸ä¾èµ–å°è£…è¿‡åº¦çš„ç»„ä»¶ å…³äºæœç´¢é€‰é¡¹çš„é—®é¢˜å’ŒåŸå‹,æµ·é¾™è¿˜è¦æ›´æ–°æ–°çš„UI,åˆ°æ—¶å€™åšç»†å¾®è°ƒæ•´,æœ¬é¡µé¢åŸºæœ¬å®Œæˆ 3.å­—å…¸ç»´æŠ¤ ä»»åŠ¡: æŠŠexcelä¸­çš„å­—å…¸è½¬åŒ–ä¸ºæŒ‡å®šæ•°æ®ç±»å‹çš„json å·¥å…· è‡ªå·±å†™ä»£ç è¯»å–","categories":[{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"http://www.octber.xyz/categories/%E6%97%A5%E8%AE%B0/"}],"tags":[{"name":"æ—¥æŠ¥","slug":"æ—¥æŠ¥","permalink":"http://www.octber.xyz/tags/%E6%97%A5%E6%8A%A5/"}]},{"title":"2019.8.1æ—¥æŠ¥","slug":"2019-8-1æ—¥æŠ¥","date":"2019-08-01T02:51:38.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/08/01/2019-8-1æ—¥æŠ¥/","link":"","permalink":"http://www.octber.xyz/2019/08/01/2019-8-1%E6%97%A5%E6%8A%A5/","excerpt":"2019.8.1æ—¥æŠ¥","text":"2019.8.1æ—¥æŠ¥ ä»Šæ—¥æ€»ç»“ æ¦‚è¿°: ç§¯ç´¯äº†ä¸“ä¸šåè¯ åŸºæœ¬å®Œæˆäº†è´¦æˆ·ç±»ä¸šåŠ¡ç”³æŠ¥è®°å½•å‰ç«¯é¡µé¢(è¡¨æ ¼å­—æ®µéœ€è¦å†ç¡®è®¤) è¿›æ­¥: ä¸ç¡®å®šçš„ä¸œè¥¿è¦å°½æ—©ç¡®è®¤ win10æ›´æ–°ç¦æ­¢æ‰,çœçš„æµªè´¹æ—¶é—´ åŸå‹å’ŒUIå’Œå­—æ®µè¦ä»”ç»†ç¡®è®¤å¥½ 1.ä»»åŠ¡æ¦‚è¿° 3.1.2 è´¦æˆ·ç±»ä¸šåŠ¡ç”³æŠ¥è®°å½•: æŸ¥è¯¢è´¦æˆ·ç”³æŠ¥è®¢å• æ¦‚è¿°:å®Œæˆå‰ç«¯é¡µé¢å’Œéƒ¨åˆ†åç«¯å¼€å‘,å®šæ—¶ä»»åŠ¡äº¤ç»™ä½œæ£’å®Œæˆ å‰ç«¯å¼€å‘ èœå•=&gt;æ¨é‘«å¸®å¿™å¼€è®¾èœå• åŸå‹ç¡®å®š=&gt;æµ·é¾™å¸®å¿™ç¡®è®¤ åŸºç¡€é¡µé¢å¼€å‘ åç«¯å¼€å‘ æœªå®š ä»»åŠ¡æè¿°: 1.1 åŸå‹é—®é¢˜ åŸå‹å­˜åœ¨å†²çª,éœ€è¦ç¡®å®š 1.1.1 æ–‡æ¡£ä¸­åŸå‹ 1.1.2 è“æ¹–UIåŸå‹(ç¡®å®šä¸ºä»¥æ­¤ä¸ºå‡†) 1.2 ä¸»è¦æµç¨‹ æŸ¥è¯¢ç¡®è®¤æ•°æ®ï¼Œç»´åº¦ï¼šç”³æŠ¥æ—¥æœŸï¼Œç¡®è®¤æ—¥æœŸï¼Œé”€å”®æ¸ é“ï¼Œäº§å“åç§°ï¼Œäº§å“ä»£ç ï¼ŒçŠ¶æ€ï¼ˆæ³¨ï¼šå¯å¤šé€‰ï¼‰ï¼ŒTAä»£ç ç­‰ï¼› çŠ¶æ€æ›´æ–°ï¼š æŸ¥è¯¢è´¦æˆ·ç¡®è®¤æ•°æ®ï¼› æŒ‰é”€å”®æœºæ„è¿”å›çš„æ•°æ®åŒ¹é…ç”³æŠ¥è®°å½•ï¼Œä»¥â€œç”³è¯·æ—¥æœŸ+è®¢å•ç¼–å·â€ï¼› å¼€æˆ·è®¢å•å½’æ¡£æ¡ä»¶ï¼š T+1å¼€æˆ·æˆåŠŸæˆ–å¤±è´¥å½’æ¡£ï¼› T+5å¼ºåˆ¶å½’æ¡£ï¼› é¡µé¢åˆ—è¡¨ä¸­â€œâ€¦â€ä¸å±•ç¤ºï¼Œè¯¦æƒ…åŒå‡»æŸ¥çœ‹ï¼› 2.æ•°æ®è¡¨è®¾è®¡2.1 æ¶‰åŠåˆ°çš„æ•°æ®è¡¨ otc_tagentaccountapp name: åœºå¤–ä»£é”€è´¦æˆ·ç±»ç”³æŠ¥è¡¨ desc: å­—æ®µå‘½åå¤§éƒ¨éœ€è¦ä¸å¤–éƒ¨æ¥å£è§„å®šå­—æ®µåç»Ÿä¸€ otc_topenaccountfilesapp name: åœºå¤–å¼€æˆ·æ–‡ä»¶èµ„æ–™æ˜ç»†ç”³æŠ¥è¡¨ otc_tamlsuitableapp name: åæ´—é’±ä¸é€‚å½“æ€§ä¿¡æ¯æ˜ç»†ç”³æŠ¥è¡¨ desc: åæ´—é’±ä¸é€‚å½“æ€§ä¿¡æ¯æ˜ç»†ç”³æŠ¥è¡¨ï¼Œå­˜æ”¾åæ´—é’±åŸºæœ¬ä¿¡æ¯å’Œé€‚å½“æ€§çš„å†…å®¹ otc_tamlbeneficiaryapp name: åæ´—é’±å—ç›Šäººç”³æŠ¥æ˜ç»†è¡¨ otc_tamlshareholderapp name: åæ´—é’±è‚¡ä¸œä¿¡æ¯ç”³æŠ¥æ˜ç»†è¡¨ otc_tcrsmaininfoapp name: CRSä¿¡æ¯ä¸»ä¿¡æ¯æ˜ç»†ç”³æŠ¥è¡¨ otc_tcrscontrollerapp name: CRSæ§åˆ¶äººä¿¡æ¯æ˜ç»†ç”³æŠ¥è¡¨ otc_tcrstaxpayerapp name: CRSçº³ç¨äººä¿¡æ¯æ˜ç»†ç”³æŠ¥è¡¨ otc_tcrsmaiTotaxpayerapp name: CRSä¿¡æ¯ä¸»ä¿¡æ¯ä¸çº³ç¨äººæ˜ç»†ç”³æŠ¥çš„å…³ç³» otc_tcrscontrollerTotaxpayerapp name: CRSæ§åˆ¶äººä¿¡æ¯ä¸çº³ç¨äººæ˜ç»†ç”³æŠ¥çš„å…³ç³» ç­‰ 2.1.1 åˆ†æè®°å½• otc_tcrsmaiTotaxpayerappå’Œotc_tcrscontrollerTotaxpayerappæ˜¯å¯¹åº”å…³ç³»è¡¨ otc_tcrsmaiTotaxpayerappç»“æ„: 12345678create table otc_tcrsmaiTotaxpayerapp( company_id int(11) not null, crsmaininfoapp_id int(11) not null, crstaxpayerapp_id int(11) not null, date numeric(8) not null, primary key (company_id, crsmaininfoapp_id, crstaxpayerapp_id, date)); otc_tcrscontrollerTotaxpayerappç»“æ„ 12345678create table otc_tcrscontrollerTotaxpayerapp( company_id int(11) not null, crscontrollerapp_id int(11) not null, crstaxpayerapp_id int(11) not null, date numeric(8) not null, primary key (company_id, crscontrollerapp_id, crstaxpayerapp_id, date)); 3.ä¸“ä¸šåè¯ç§¯ç´¯3.1 ä»€ä¹ˆæ˜¯åœºå†…ï¼Ÿä»€ä¹ˆæ˜¯åœºå¤–ï¼Ÿ â€œåœºâ€ï¼Œæ˜¯è¯åˆ¸äº¤æ˜“åœºæ‰€çš„æ„æ€ æˆ‘ä»¬å†…åœ°æœ‰ä¸¤ä¸ªè¯åˆ¸äº¤æ˜“åœºæ‰€ï¼Œåˆ†åˆ«æ˜¯ä¸Šæµ·è¯åˆ¸äº¤æ˜“åœºæ‰€å’Œæ·±åœ³è¯åˆ¸äº¤æ˜“åœºæ‰€ åœºå†…è´­ä¹°ï¼Œå°±æ˜¯éœ€è¦åœ¨åˆ¸å•†é‚£é‡Œå¼€æˆ· åˆ¸å•†æœ‰ä¸­ä¿¡è¯åˆ¸ï¼Œæµ·é€šè¯åˆ¸ï¼Œå¹¿å‘è¯åˆ¸ï¼Œåæ³°è¯åˆ¸ï¼Œåæ³°è¯åˆ¸ç­‰ç­‰ ä¸€ä¸ªäººå¯ä»¥å¼€ä¸‰ä¸ªè¯åˆ¸è´¦æˆ· åœºå¤–æ˜¯ç¬¬ä¸‰æ–¹APPï¼Œä¸€äº›ä»£é”€å¹³å°ï¼Œæ¯”å¦‚æ”¯ä»˜å®ï¼Œç†è´¢é€šï¼Œè›‹å·åŸºé‡‘ï¼Œä¸”æ…¢ï¼Œå¤©å¤©åŸºé‡‘ç­‰ å¦‚ä½•é€‰æ‹©? å¦‚æœæ˜¯çŸ­æœŸæŠ•èµ„ï¼Œèµ°åœºå†…ï¼Œè´¹ç‡ä½ã€‚å¦‚æœæ˜¯é•¿æœŸæŠ•èµ„ï¼Œåœºå†…åœºå¤–éƒ½å·®ä¸å¤šã€‚åœºå¤–æ”¶å–çš„æ˜¯ç”³è´­èµå›è´¹ï¼Œè™½ç„¶ç”³è´­è´¹ä¸€èˆ¬æ¯”åœºå†…çš„è´¹ç”¨è´µï¼Œä½†æ˜¯èµå›è´¹çš„è¯ï¼Œä¸€èˆ¬æŒæœ‰2å¹´ä¹‹åå°±ä¸ç”¨æ”¶å–äº†ã€‚è€Œä¸”åœºå†…çš„ä¹°å–ä½£é‡‘è´¹ï¼Œæ— è®ºæŒæœ‰å¤šä¹…éƒ½æ˜¯è¦æ”¶å–çš„ã€‚ å¦‚æœåœºå†…çš„äº¤æ˜“é¢ä¸å¤§ï¼Œå»ºè®®åœºå¤–ç”³èµã€‚å› ä¸ºåœºå†…äº¤æ˜“é¢ä¸å¤§çš„è¯ï¼Œå¯èƒ½ä¹°ä¸äº†æˆ–è€…å–ä¸å‡ºå»ã€‚åœºå¤–æ˜¯è·ŸåŸºé‡‘å…¬å¸ç›´æ¥äº¤æ˜“çš„ï¼Œä¸ä¼šå‡ºç°è¿™ä¸ªé—®é¢˜ã€‚ 3.2 åæ´—é’±3.2.1 ä»€ä¹ˆæ˜¯æ´—é’± å·´å¡å°”é“¶è¡Œ: çŠ¯ç½ªåˆ†å­åŠå…¶åŒä¼™åˆ©ç”¨é‡‘èç³»ç»Ÿå°†èµ„é‡‘ä»ä¸€ä¸ªå¸æˆ·è½¬å‘å¦ä¸€ä¸ªè´¦æˆ·ï¼Œä»¥æ©ç›–æ¬¾é¡¹çš„çœŸå®æ¥è£¸å’Œå—ç›Šæ‰€æœ‰æƒå…³ç³»;æˆ–è€…åˆ©ç”¨é‡‘èç³»ç»Ÿæä¾›çš„èµ„é‡‘ä¿ç®¡æœåŠ¡å­˜æ”¾æ¬¾é¡¹ï¼Œå°±æ˜¯å¸¸è¯´çš„â€œæ´—é’±â€ å¤®è¡Œå¯¹æ´—é’±çš„è§£é‡Šæ˜¯: æ´—é’±æ˜¯æŒ‡æ¯’å“çŠ¯ç½ªã€é»‘ç¤¾ä¼šæ€§è´¨çš„ç»„ç»‡çŠ¯ç½ªã€ææ€–æ´»åŠ¨çŠ¯ç½ªã€èµ°ç§çŠ¯ç½ªæˆ–è€…å…¶ä»–çŠ¯ç½ªçš„è¿æ³•æ‰€å¾—åŠå…¶äº§ç”Ÿçš„æ”¶ç›Šï¼Œé€šè¿‡å„ç§æ‰‹æ®µæ©é¥°ã€éšç’å…¶æ¥æºå’Œæ€§è´¨ï¼Œä½¿å…¶åœ¨å½¢å¼ä¸Šåˆæ³•åŒ–ï¼Œè¿™æ ·çš„è¡Œä¸ºå°±æ˜¯æ´—é’±ã€‚ä¹Ÿå°±æ˜¯è¯´æŠŠæ¥è·¯ä¸æ­£â€œä¸å¹²å‡€â€œçš„éæ³•æ”¶äººå˜æˆâ€œåƒå‡€â€çš„é’±ï¼Œå°±å«åšâ€œæ´—é’±â€œï¼Œåˆç§°.æ´—é»‘é’±â€ã€‚ 3.2.2 å¦‚ä½•é€šè¿‡åŸºé‡‘æ´—é’±? æ¥æºåšå®¢å°æ›¹åæ´—é’±çš„åšå®¢ â€‹ å¢ƒå¤–èµ„é‡‘é€šè¿‡é“¶è¡Œç›´æ¥è´­ä¹°Aè‚¡åŸºé‡‘ï¼Œä¸ä»…è¿èƒŒäº†å¢ƒå¤–ä¸ªäººæŠ•èµ„å›½å†…Aè‚¡åŸºé‡‘åº”é€šè¿‡åˆæ ¼å¢ƒå¤–æœºæ„æŠ•èµ„è€…åŠç†çš„ç›¸å…³è§„å®šï¼Œç”šè‡³å¯èƒ½æˆä¸ºæµ·å¤–èµ„é‡‘æ´—é’±çš„ä¸€ä¸ªé€šé“. â€‹ æ®ä¸Šæµ·ä¸€å®¶åŸºé‡‘å…¬å¸ç›‘å¯Ÿç¨½æ ¸éƒ¨äººå£«è¡¨ç¤ºï¼Œç›®å‰ç›‘ç®¡å±‚è¦æ±‚åŸºé‡‘å…¬å¸å’Œæ‰€æœ‰ä»£é”€æœºæ„ç­¾ç½²åæ´—é’±è¡¥å……åè®®ï¼Œä½†å› ä¸ºä¸€äº›å¤§å‹ä»£é”€æ¸ é“è¿‡äºå¼ºåŠ¿ä¸”ä¸æ„¿æ„ç­¾ç½²åæ´—é’±è¡¥å……åè®®ï¼Œå› æ­¤è¯¥å…¬å¸ç­¾ç½²åæ´—é’±æ¡æ¬¾æƒ…å†µä¸å¤ªç†æƒ³ã€‚æ®ä»–é€éœ²ï¼Œè¿™ä¸€æƒ…å†µåœ¨å°åŸºé‡‘å…¬å¸å†…æ¯”è¾ƒæ™®éã€‚ â€‹ ä»–ä»‹ç»ï¼Œåæ´—é’±è¡¥å……æ¡æ¬¾ä¸»è¦æ˜¯é’ˆå¯¹å®¢æˆ·èº«åˆ†è¯†åˆ«ã€å¯ç–‘äº¤æ˜“æŠ¥å‘Šã€äº¤æ˜“è®°å½•ç­‰å¤šæ–¹é¢å†…å®¹ï¼Œå…¶ä¸­æœ€é‡è¦çš„æ˜¯å¯¹åæ´—é’±è´£ä»»åˆ’åˆ†çš„æ¡æ¬¾ã€‚â€œå¦‚æœä¸ç­¾ç½²åæ´—é’±è¡¥å……æ¡æ¬¾ï¼Œä¸€æ—¦å‡ºç°é—®é¢˜ï¼ŒåŸºé‡‘å…¬å¸è¦è´Ÿä¸»è¦è´£ä»»ã€‚ä¸è¿‡ï¼Œå³ä½¿ç­¾ç½²äº†è¿™ç±»æ¡æ¬¾ï¼Œå¤§é“¶è¡Œåœ¨æŸäº›æ¡æ¬¾ä¸Šä¹Ÿéå¸¸è‹›åˆ»ï¼Œå°½é‡å°†è´£ä»»æ¨ç»™åŸºé‡‘å…¬å¸ã€‚â€å› æ­¤ä»–è®¤ä¸ºï¼Œè¿™æ˜¯é“¶è¡Œå¯¹å¢ƒå¤–èµ„é‡‘ä¹°Aè‚¡åŸºé‡‘å¼€ç»¿ç¯çš„ä¸€ä¸ªé‡è¦åŸå› ã€‚ â€‹ æ®è¯åˆ¸æ—¶æŠ¥è®°è€…äº†è§£ï¼Œç›®å‰å¤šæ•°åŸºé‡‘å…¬å¸å·²ç­¾ç½²äº†åæ´—é’±è¡¥å……æ¡ä¾‹ï¼Œè¿™ç±»åè®®æ¡æ¬¾åŸºæœ¬ç¬¦åˆç›‘ç®¡å±‚çš„è¦æ±‚ï¼Œä½†åœ¨æŸäº›å…·ä½“ç¯èŠ‚ä¸Šåˆ’åˆ†å¾—ä¸å¤Ÿä»”ç»†ã€‚æ·±åœ³ä¸€å®¶åŸºé‡‘å…¬å¸äººå£«åˆ†æï¼Œå¢ƒå¤–èµ„é‡‘ç›´æ¥è´­ä¹°Aè‚¡åŸºé‡‘ï¼Œå…¶ä¸­æ ¸å¿ƒæ˜¯å¯¹å®¢æˆ·èµ„æ–™çš„æ ¸å®ã€‚â€œè¿™ä¸»è¦æ˜¯é“¶è¡Œæ‰€è¿›è¡Œçš„å·¥ä½œï¼Œç›®å‰ç»å¤§éƒ¨åˆ†é“¶è¡Œä¸å°†å®¢æˆ·èµ„æ–™æä¾›ç»™åŸºé‡‘å…¬å¸ï¼ŒåŸºé‡‘å…¬å¸æƒ³æŸ¥å¾ˆéš¾ã€‚â€ 3.2.3 å¦‚ä½•é˜²æ­¢æ´—é’± ä¸­åäººæ°‘å…±å’Œå›½åæ´—é’±æ³• åˆ¶å®šå®Œæ•´çš„åæ´—é’±å†…éƒ¨æ§åˆ¶åˆ¶åº¦ï¼› å»ºç«‹å¥å…¨å®¢æˆ·èº«ä»½è¯†åˆ«(know your client)ä½“ç³»ï¼› åˆ¶å®šå®¢æˆ·èº«ä»½èµ„æ–™å’Œäº¤æ˜“è®°å½•ä¿å­˜åˆ¶åº¦ï¼› è¿›è¡Œå¤§é¢äº¤æ˜“å’Œå¯ä»¥äº¤æ˜“æŠ¥å‘Šã€‚ 3.2 CRS(å…±åŒç”³æŠ¥å‡†åˆ™)CRSèµ·æºå’Œç›®çš„ CRSçš„æå‡ºè€…æ˜¯ç»æµåˆä½œä¸å‘å±•ç»„ç»‡ï¼Œä¹Ÿå°±æ˜¯OECDï¼ˆç»åˆç»„ç»‡ï¼‰ã€‚è€Œæ¦‚å¿µæ˜¯æ¥è‡ªç¾å›½çš„ç¾å›½æµ·å¤–è´¦æˆ·ç¨æ”¶éµä»æ³•ï¼ˆFATCAï¼‰ã€‚ CRSæ—¨åœ¨æ¨åŠ¨å›½ä¸å›½ä¹‹é—´ç¨åŠ¡ä¿¡æ¯è‡ªåŠ¨äº¤æ¢ CRSåœ¨ä¸­å›½:ä¸­å›½2015å¹´å·²ç»åŠ å…¥äº†CRSï¼Œåˆ°å»å¹´9æœˆä»½ç¬¬ä¸€æ¬¡è·Ÿåˆ«çš„å›½å®¶äº¤æ¢ä¿¡æ¯ï¼Œæ‰€ä»¥è¿™äº‹å„¿æœ€è¿‘å‡ ä¸ªæœˆæ‰ç«èµ·æ¥ã€‚ å†å²äº†è§£ï¼šç•¥ 4.é¡µé¢å¤„ç† é¡µé¢åˆå§‹åŒ–ï¼šæ•°æ®æ¥æºotc_tagentaccountappã€‚æŸ¥è¯¢æ¡ä»¶ä¸ºç”³è¯·æ—¥ã€‚æ’åºç”³è¯·æ—¥ã€ç”³æŠ¥ç¼–å·é™åº æŸ¥è¯¢ï¼šæŸ¥è¯¢ å¯¼å‡ºï¼šæŒ‰ç…§æŸ¥è¯¢æ¡ä»¶å¯¼å‡ºexcelï¼Œå­—æ®µåŒä¸€è§ˆè¡¨ 5.ä»»åŠ¡æµç¨‹5.1 æ·»åŠ èœå•1234567891011121314151617181920&#123; &quot;company_id&quot;: 0, &quot;menu_code&quot;:&quot;050415&quot;, &quot;menu_name&quot;:&quot;è´¦å·ç±»ä¸šåŠ¡ç”³æŠ¥è®°å½•&quot;, &quot;menu_parent_code&quot;:&quot;0504&quot;, &quot;subsys_no&quot;:3340, &quot;menu_name_eng&quot;:&quot;AccountRecord&quot;, &quot;url&quot;:&quot;/account/accountRecord/index&quot;, &quot;window_show&quot;:&quot;&quot;, &quot;create_type&quot;:&quot;&quot;, &quot;sort_no&quot;:15, &quot;field_status&quot;:&quot;1&quot;, &quot;icon&quot;:&quot;&quot;, &quot;operator_mode&quot;:0, &quot;group_code&quot;:&quot;&quot;, &quot;custom_industry_code&quot;:&quot;&quot;, &quot;authorize_code&quot;:&quot;&quot;, &quot;custom_id&quot;:&quot;&quot;, &quot;bizframeurl&quot;:&quot;/bgb/#/account/accountRecord/indexM050415&quot;&#125; æ‰§è¡Œcleanç„¶åinstall,æ·»åŠ èœå•,ç„¶åæ·»åŠ æƒé™: ç„¶è€Œä»Šå¤©æ¨é‘«æ²¡ææˆåŠŸï¼Œä¸€ç›´æ²¡æ·»åŠ ä¸Šï¼Œå…ˆå†™å‡ºæ¥ï¼Œä¹‹åæ‹·è´è¿›æ¥å§ 5.2 é¡µé¢è¡¨æ ¼å­—æ®µ(éœ€å†ç¡®è®¤) æ•°æ®æ¥æºotc_tagentaccountapp ç”³è¯·ç¼–å· otc_report_seq æ—¥æœŸ create_user é”€å”®æœºæ„ç¼–å· agency_code ä¸šåŠ¡ç±»å‹ busin_type ç”³æŠ¥çŠ¶æ€ status äº§å“ID fund_id äº§å“ä»£ç  fund_code äº§å“ç®€ç§° fund_name æŠ•èµ„äººäº¤æ˜“è´¦å· fund_trade_account åŸºé‡‘è´¦å· fund_account å¼€æˆ·TAä»£ç  ta_code ç”³æŠ¥çŠ¶æ€çš„é”™è¯¯ä¿¡æ¯ erro_info 5.3 è´¦å·ç”³æŠ¥ç±»è½¬æœºæœºå®šæ—¶ä»»åŠ¡è¯´æ˜æœªè¿›è¡Œåˆ°è¿™ä¸€æ­¥ 5.4 è´¦å·ç±»å›å¡«è½¬æœºæœºå®šæ—¶ä»»åŠ¡è¯´æ˜æœªè¿›è¡Œåˆ°è¿™ä¸€æ­¥","categories":[{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"http://www.octber.xyz/categories/%E6%97%A5%E8%AE%B0/"}],"tags":[{"name":"æ—¥æŠ¥","slug":"æ—¥æŠ¥","permalink":"http://www.octber.xyz/tags/%E6%97%A5%E6%8A%A5/"}]},{"title":"2019.7.31æ—¥æŠ¥","slug":"2019-7-31æ—¥æŠ¥","date":"2019-07-31T02:15:48.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/07/31/2019-7-31æ—¥æŠ¥/","link":"","permalink":"http://www.octber.xyz/2019/07/31/2019-7-31%E6%97%A5%E6%8A%A5/","excerpt":"2019.7.31æ—¥æŠ¥","text":"2019.7.31æ—¥æŠ¥ æ—¥æŠ¥1.å¢å¼€åŸºé‡‘è´¦æˆ·æ˜¾ç¤ºtaCodes1.1 æ•°æ®åº“è¡¨bgb_ttradeaccountã€otc_ttradeaccount_exã€bgb_tfundã€bgb_tinvestfundinfoï¼ˆTAä¸‹æ‹‰æ•°æ®ï¼‰ 1.2 é¡µé¢å¤„ç†è¯´æ˜ é¡µé¢åˆå§‹åŒ–ï¼šäº¤æ˜“è´¦å·æ¥æºäºbgb_ttradeaccountã€äº§å“æ•°æ®æ¥æºbgb_tfundã€TAæ•°æ®æ¥æºäºbgb_tinvestfundinfoè¡¨ï¼ˆéœ€è¦å»é‡ï¼‰ã€‚ ã€ç¡®è®¤ã€‘æŒ‰é’®ï¼šé¡µé¢æ•°æ®ä¿å­˜ä¸otc_tagentaccountappè¡¨ï¼Œåªä¿å­˜äº¤æ˜“è´¦å·å­—æ®µã€æ¸ é“ã€TAä»£ç ã€ä¸šåŠ¡ç±»å‹ï¼ˆ009:å¢å¼€åŸºé‡‘è´¦æˆ·ï¼‰ã€‚ 1.3 åç«¯ä¸šåŠ¡é€»è¾‘1.3.1 DTO/DO/Queryä¿®æ”¹å¯¹bgb_tinvestfundinfoè¡¨æ–°å¢äº†agency_codeå­—æ®µ åœ¨DTO/DO/Queryä¸­æ·»åŠ agency_code 12345/** * é”€å”®æ¸ é“ä»£ç  */@Column(name = &quot;agency_code&quot;, length = 16, nullable = false)private String agencyCode; 1.3.2 å…·ä½“å®ç° åœ¨Service-Apiä¸­å’ŒImplä¸­å®ç°å…¶å¯¹åº”æ–¹æ³• ç®¡ç†å¹³å°ä¸Šçº¿Api å‰ç«¯è°ƒç”¨,è·å–æ•°æ®,æ˜¾ç¤ºæ‰€æœ‰taCode 2.ä¿å­˜å¢å¼€è´¦æˆ·ä¿¡æ¯2.1 æ•°æ®åº“è¦æ±‚é¡µé¢æ•°æ®ä¿å­˜ä¸otc_tagentaccountappåœºå¤–ä»£é”€è´¦æˆ·ç±»ç”³æŠ¥è¡¨ï¼Œåªä¿å­˜äº¤æ˜“è´¦å·å­—æ®µã€æ¸ é“ã€TAä»£ç ã€ä¸šåŠ¡ç±»å‹ï¼ˆ009:å¢å¼€åŸºé‡‘è´¦æˆ·ï¼‰ã€‚ è¡¨:otc_tagentaccountapp ä¿å­˜å­—æ®µ: äº¤æ˜“è´¦å·fundTradeAccount é”€å”®æ¸ é“agencyCode TAä»£ç taCode ä¸šåŠ¡ç±»å‹(009)businType 2.2 åå°æ¥å£å®ç°2.2.1 ä»£ç ç”Ÿæˆå™¨ é…ç½®æ•°æ®æº é…ç½®æ•°æ®è¡¨ 123&lt;table tableName=&quot;otc_tagentaccountapp&quot; domainObjectName=&quot;AgentAccountApp&quot;&gt; &lt;property name=&quot;subPackage&quot; value=&quot;agentaccountapp&quot;/&gt;&lt;/table&gt; é…ç½®ç”Ÿæˆçš„æ–‡ä»¶ä½ç½® å…ˆéƒ½æåˆ°/src/generated,ç„¶åæŒ‰éœ€å¯¼å…¥é¡¹ç›®,éšååˆ æ‰æ— ç”¨æ–‡ä»¶ ç¬¬ä¸€æ¬¡å¤±è´¥åŸå› :æ²¡æœ‰å†™å¯¹æ•°æ®æºåœ°å€ ç¬¬äºŒæ¬¡å¤±è´¥åŸå› :Integerå’ŒBigDecimalç”Ÿæˆæœ‰é”™è¯¯,éœ€è¦æ‰‹åŠ¨æ”¹æ­£ ç‰¹åˆ«æ„Ÿè°¢:é‚“æ–¯å­¦é•¿ 2.2.2 ä¹¦å†™ä¸šåŠ¡é€»è¾‘ æŒ‰ç…§ä¸Šè¿°æ•°æ®åº“è¦æ±‚,åŒ¹é…å­—æ®µ ä½¿ç”¨é»˜è®¤ç”Ÿæˆçš„insertæ–¹æ³•å³å¯å¿«é€Ÿæ’å…¥ 2.2.3 é€»è¾‘æ¼æ´2.2.3.1 æœ‰é—®é¢˜çš„é€»è¾‘: ä½œä¸ºä¸€ä¸ªæ’å…¥æ“ä½œ,å¦‚æœä¸å­˜åœ¨åº”å½“æ’å…¥ å¦‚æœå·²ç»å­˜åœ¨ (åšUpdateæ“ä½œ) ä¸åŒ: æ›´æ–° ç›¸åŒ: ä¸æ›´æ–° 2.2.3.2 æ­£ç¡®çš„é€»è¾‘ åœ¨ç”¨æˆ·é€‰æ‹©çš„æ—¶å€™å°±ç”¨è¯¥å‰”é™¤å·²ç»ç”¨è¿‡çš„TAæ®µ ç”¨æˆ·é€‰æ‹©å¥½çš„ä¸€å®šæ˜¯ä¸å­˜åœ¨çš„ 2.2.4 å…±åŒç»´æŠ¤è‡ªå¢åºåˆ—é—®é¢˜:otc_tagentaccountapp.agentaccountapp_idå’Œotc_ttradeorder.tradeorder_idå…±åŒç»´æŠ¤è‡ªå¢åºåˆ— åˆ›å»ºOperatorNoSequenceç±»,å®šä¹‰å…¶ä¸­çš„è¡¨æ˜å’Œè‡ªå¢å­—æ®µå ä½¿ç”¨ä»–çš„nextValue()å‡½æ•°è·å¾—ä¸‹ä¸€ä¸ªå€¼ æ˜æ—¥è®¡åˆ’ åšæ–°ä»»åŠ¡ å¤šå­¦å­¦ä¸šåŠ¡,çœ‹çœ‹ä¸“ä¸šåè¯","categories":[{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"http://www.octber.xyz/categories/%E6%97%A5%E8%AE%B0/"}],"tags":[{"name":"æ—¥æŠ¥","slug":"æ—¥æŠ¥","permalink":"http://www.octber.xyz/tags/%E6%97%A5%E6%8A%A5/"}]},{"title":"æ·±å…¥ç†è§£JVM","slug":"æ·±å…¥ç†è§£JVM","date":"2019-07-30T08:36:42.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/07/30/æ·±å…¥ç†è§£JVM/","link":"","permalink":"http://www.octber.xyz/2019/07/30/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3JVM/","excerpt":"å‰è¨€","text":"å‰è¨€ JDKç»„æˆ æœ€ä¸‹é¢çš„Java HotSpot VMå°±æ˜¯Javaè™šæ‹Ÿæœº,JDKæ¯”JREå¤šçš„å…¶å®å°±æ˜¯ä¸€äº›å·¥å…·ç±»,è€ŒJREåŒ…å«äº†Javaè™šæ‹Ÿæœºå’Œä¸€äº›æ ¸å¿ƒç±»åº“,Javaè™šæ‹Ÿæœºæœ‰å¾ˆå¤šç§å®ç°æ–¹å¼,IBM,Googleç­‰å¤§å…¬å¸éƒ½æœ‰å…¶å®ç°,ç°åœ¨ä¸»è¦ä»¥Oracleçš„ä¸ºä¸» Javaæ–‡ä»¶çš„è¿è¡Œ ä¸€ä¸ªJavaä»£ç ,é¦–å…ˆé€šè¿‡Javacç¼–è¯‘ç”Ÿæˆå­—èŠ‚ç æ–‡ä»¶(.class),éšåäº¤äºˆJVMè¿›è¡Œæ‰§è¡Œ,ç”Ÿæˆå¯¹åº”å¹³å°çš„äºŒè¿›åˆ¶æœºå™¨ç ,æ‰€ä»¥JDKæœ‰å¾ˆå¤šç‰ˆæœ¬,å¯¹windowsçš„ç‰ˆæœ¬,å¯¹Linuxçš„ç‰ˆæœ¬ç­‰ç­‰,æœ€ç»ˆç”Ÿæˆçš„æœºå™¨ç æ˜¯ä¸ä¸€æ ·çš„,æ­£å› ä¸ºä¸€ä»½å­—èŠ‚ç æ–‡ä»¶å¯ä»¥é€šè¿‡JVMé€‚é…ä¸åŒçš„å¹³å°,æ‰€ä»¥Javaèƒ½å¤Ÿå®ç°â€ä¸€æ¬¡ç¼–å†™,åˆ°å¤„è¿è¡Œâ€çš„åŠŸèƒ½ JVMç»„æˆ JVMåŒ…æ‹¬ä¸‰éƒ¨åˆ†: ç±»å®‰è£…å­ç³»ç»Ÿ æ‰§è¡Œå¼•æ“ è¿è¡Œæ—¶æ•°æ®åŒº(å†…å­˜æ¨¡å‹) æ ˆ(çº¿ç¨‹)åœ¨mainçš„ä¸»çº¿ç¨‹ä¸­,æ¯ä¸ªå‡½æ•°çš„å±€éƒ¨èŒƒå›´éƒ½ä¼šå¼€è¾Ÿä¸€å—æ ˆå¸§å†…å­˜åŒº,å¹¶ä¿è¯å…ˆè¿›åå‡º,æœ€ä¸Šé¢çš„å¾€å¾€æ˜¯ä¼˜å…ˆçº§æœ€é«˜,ä½œç”¨èŒƒå›´æœ€å°çš„,é‡Œé¢å¯èƒ½æœ‰å±€éƒ¨å˜é‡è¡¨ç­‰","categories":[{"name":"Java","slug":"Java","permalink":"http://www.octber.xyz/categories/Java/"}],"tags":[{"name":"JVM","slug":"JVM","permalink":"http://www.octber.xyz/tags/JVM/"}]},{"title":"æ·±å…¥è§£æJavaåå°„","slug":"æ·±å…¥è§£æJavaåå°„","date":"2019-07-30T08:35:24.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/07/30/æ·±å…¥è§£æJavaåå°„/","link":"","permalink":"http://www.octber.xyz/2019/07/30/%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90Java%E5%8F%8D%E5%B0%84/","excerpt":"å‰è¨€Javaä¸­çš„åå°„æ—¶åˆ»åœ¨ç”¨ï¼Œå¦‚æœå¯¹è¿™å“¥äº†è§£ä¸èƒ½æ·±å…¥ï¼Œè°ˆä½•äº†è§£Javaï¼Ÿ","text":"å‰è¨€Javaä¸­çš„åå°„æ—¶åˆ»åœ¨ç”¨ï¼Œå¦‚æœå¯¹è¿™å“¥äº†è§£ä¸èƒ½æ·±å…¥ï¼Œè°ˆä½•äº†è§£Javaï¼Ÿ ç»è¿‡ä¸ªäººçš„å­¦ä¹ å’Œä¼˜ç§€åšæ–‡çš„æ•´ç†ï¼Œå¾—åˆ°ä»¥ä¸‹å†…å®¹ï¼Œä¾µåˆ ã€‚ ç‰¹åˆ«é¸£è°¢ï¼šsczyh30 1.ä»€ä¹ˆæ˜¯åå°„ Oracleå®˜æ–¹çš„è§£é‡Šï¼š Reflection enables Java code to discover information about the fields, methods and constructors of loaded classes, and to use reflected fields, methods, and constructors to operate on their underlying counterparts, within security restrictions.The API accommodates applications that need access to either the public members of a target object (based on its runtime class) or the members declared by a given class. It also allows programs to suppress default reflective access control. 1.1 å®šä¹‰åå°„ (Reflection) æ˜¯ Java çš„ç‰¹å¾ä¹‹ä¸€ï¼Œå®ƒå…è®¸è¿è¡Œä¸­çš„ Java ç¨‹åºè·å–è‡ªèº«çš„ä¿¡æ¯ï¼Œå¹¶ä¸”å¯ä»¥æ“ä½œç±»æˆ–å¯¹è±¡çš„å†…éƒ¨å±æ€§ã€‚ 1.2 åŠŸèƒ½æˆ‘ä»¬å¯ä»¥åœ¨è¿è¡Œæ—¶è·å¾—ç¨‹åºæˆ–ç¨‹åºé›†ä¸­æ¯ä¸€ä¸ªç±»å‹çš„æˆå‘˜å’Œæˆå‘˜çš„ä¿¡æ¯ã€‚ç¨‹åºä¸­ä¸€èˆ¬çš„å¯¹è±¡çš„ç±»å‹éƒ½æ˜¯åœ¨ç¼–è¯‘æœŸå°±ç¡®å®šä¸‹æ¥çš„ï¼Œè€Œ Java åå°„æœºåˆ¶å¯ä»¥åŠ¨æ€åœ°åˆ›å»ºå¯¹è±¡å¹¶è°ƒç”¨å…¶å±æ€§ï¼Œè¿™æ ·çš„å¯¹è±¡çš„ç±»å‹åœ¨ç¼–è¯‘æœŸæ˜¯æœªçŸ¥çš„ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡åå°„æœºåˆ¶ç›´æ¥åˆ›å»ºå¯¹è±¡ï¼Œå³ä½¿è¿™ä¸ªå¯¹è±¡çš„ç±»å‹åœ¨ç¼–è¯‘æœŸæ˜¯æœªçŸ¥çš„ã€‚ ç®€è€Œè¨€ä¹‹ï¼šæˆ‘ä»¬ä¸€èˆ¬é€šè¿‡ç±»å¯»æ‰¾å¯¹è±¡ï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥é€šè¿‡å¯¹è±¡å¯»æ‰¾ç±»ï¼Œè¿™å°±æ˜¯åå°„çš„â€œåâ€ æ ¸å¿ƒï¼šåå°„çš„æ ¸å¿ƒæ˜¯ JVM åœ¨è¿è¡Œæ—¶æ‰åŠ¨æ€åŠ è½½ç±»æˆ–è°ƒç”¨æ–¹æ³•/è®¿é—®å±æ€§ï¼Œå®ƒä¸éœ€è¦äº‹å…ˆï¼ˆå†™ä»£ç çš„æ—¶å€™æˆ–ç¼–è¯‘æœŸï¼‰çŸ¥é“è¿è¡Œå¯¹è±¡æ˜¯è°ã€‚ Java åå°„ä¸»è¦æä¾›ä»¥ä¸‹åŠŸèƒ½ï¼š åœ¨è¿è¡Œæ—¶åˆ¤æ–­ä»»æ„ä¸€ä¸ªå¯¹è±¡æ‰€å±çš„ç±»ï¼› åœ¨è¿è¡Œæ—¶æ„é€ ä»»æ„ä¸€ä¸ªç±»çš„å¯¹è±¡ï¼› åœ¨è¿è¡Œæ—¶åˆ¤æ–­ä»»æ„ä¸€ä¸ªç±»æ‰€å…·æœ‰çš„æˆå‘˜å˜é‡å’Œæ–¹æ³•ï¼ˆé€šè¿‡åå°„ç”šè‡³å¯ä»¥è°ƒç”¨privateæ–¹æ³•ï¼‰ï¼› åœ¨è¿è¡Œæ—¶è°ƒç”¨ä»»æ„ä¸€ä¸ªå¯¹è±¡çš„æ–¹æ³• 2.åå°„çš„ä¸»è¦ç”¨é€” æœ‰ä¸€ä¸ªä¾‹å­å¾ˆå¤šå¤§ç¥åœ¨è®²çš„æ—¶å€™éƒ½ä¼šè¯´åˆ°ï¼š å½“æˆ‘ä»¬åœ¨ä½¿ç”¨ IDE(å¦‚ Eclipseï¼ŒIDEA)æ—¶ï¼Œå½“æˆ‘ä»¬è¾“å…¥ä¸€ä¸ªå¯¹è±¡æˆ–ç±»å¹¶æƒ³è°ƒç”¨å®ƒçš„å±æ€§æˆ–æ–¹æ³•æ—¶ï¼Œä¸€æŒ‰ç‚¹å·ï¼Œç¼–è¯‘å™¨å°±ä¼šè‡ªåŠ¨åˆ—å‡ºå®ƒçš„å±æ€§æˆ–æ–¹æ³•ï¼Œè¿™é‡Œå°±ä¼šç”¨åˆ°åå°„ã€‚ é‚£ä¹ˆæˆ‘ä¸¾ä¸€ä¸ªå®æˆ˜ä¸­çš„å¸¸è§çš„ä¾‹å­ï¼š åœ¨JavaEEæœ€åŸºç¡€çš„ServletæŠ€æœ¯ä¸­æˆ‘ä»¬é…ç½®Web.xmlï¼Œåœ¨xmlä¸­ï¼š 12345678&lt;servlet&gt; &lt;servlet-name&gt;ChangeFactory&lt;/servlet-name&gt; &lt;servlet-class&gt;com.drugs.Servlet.ChangeFactoryServlet&lt;/servlet-class&gt;&lt;/servlet&gt;&lt;servlet-mapping&gt; &lt;servlet-name&gt;ChangeFactory&lt;/servlet-name&gt; &lt;url-pattern&gt;/ChangeFactory&lt;/url-pattern&gt;&lt;/servlet-mapping&gt; æˆ‘ä»¬é€šè¿‡é…ç½®urlä¸º/ChangeFactoryï¼Œæ˜ å°„åˆ°com.drugs.Servlet.ChangeFactoryServletå»è‡ªåŠ¨åŒ–åˆ›å»ºç±»çš„å¯¹è±¡å¹¶è°ƒç”¨ä»–çš„å‡½æ•°ï¼Œæ‰§è¡Œå¯¹åº”çš„æ“ä½œï¼Œè¿™å°±æ˜¯JVMåœ¨è¿è¡Œä¸­è¿›è¡Œçš„åå°„æ“ä½œï¼Œä»–å¯ä»¥æ„é€ ä»»æ„ä¸€ä¸ªç±»çš„å¯¹è±¡å¹¶ä¸”è°ƒç”¨å…¶ä¸­çš„æ–¹æ³•ã€‚å¯ä»¥è¯´åå°„æ˜¯å„ç§å®¹å™¨å®ç°çš„æ ¸å¿ƒã€‚å½“æˆ‘ä»¬æ·±å…¥æºä»£ç å»ç†è§£çš„æ—¶å€™ï¼Œå°±ä¼šå‘ç°åå°„è™½å°ï¼Œè™½åŸºç¡€ï¼Œä½†æ˜¯èµ·åˆ°äº†éå¸¸å¤§çš„ä½œç”¨ã€‚ 3.åå°„çš„åŸºæœ¬åº”ç”¨ åå°„ç›¸å…³çš„ç±»ä¸€èˆ¬éƒ½åœ¨java.lang.relfectåŒ…é‡Œ 3.1 è·å¾—Classå¯¹è±¡æ–¹æ³•æœ‰ä¸‰ç§ï¼š (1) ä½¿ç”¨ Class ç±»çš„ forName é™æ€æ–¹æ³•:æ¯”å¦‚åœ¨ JDBC å¼€å‘ä¸­å¸¸ç”¨æ­¤æ–¹æ³•åŠ è½½æ•°æ®åº“é©±åŠ¨: 12public static Class&lt;?&gt; forName(String className)java Class.forName(driver); (2)ç›´æ¥è·å–æŸä¸€ä¸ªå¯¹è±¡çš„ classï¼Œæ¯”å¦‚:1Class&lt;?&gt; klass = int.class;Class&lt;?&gt; classInt = Integer.TYPE; (3)è°ƒç”¨æŸä¸ªå¯¹è±¡çš„ getClass() æ–¹æ³•ï¼Œæ¯”å¦‚:1StringBuilder str = new StringBuilder(&quot;123&quot;);Class&lt;?&gt; klass = str.getClass(); 3.2 åˆ¤æ–­æ˜¯å¦ä¸ºæŸä¸ªç±»çš„å®ä¾‹ä¸€èˆ¬åœ°ï¼Œæˆ‘ä»¬ç”¨ instanceof å…³é”®å­—æ¥åˆ¤æ–­æ˜¯å¦ä¸ºæŸä¸ªç±»çš„å®ä¾‹ã€‚åŒæ—¶æˆ‘ä»¬ä¹Ÿå¯ä»¥å€ŸåŠ©åå°„ä¸­ Class å¯¹è±¡çš„ isInstance() æ–¹æ³•æ¥åˆ¤æ–­æ˜¯å¦ä¸ºæŸä¸ªç±»çš„å®ä¾‹ï¼Œå®ƒæ˜¯ä¸€ä¸ª native æ–¹æ³•ï¼š 1public native boolean isInstance(Object obj); 3.3 åˆ›å»ºå®ä¾‹é€šè¿‡åå°„æ¥ç”Ÿæˆå¯¹è±¡ä¸»è¦æœ‰ä¸¤ç§æ–¹å¼ã€‚ ä½¿ç”¨Classå¯¹è±¡çš„newInstance()æ–¹æ³•æ¥åˆ›å»ºClasså¯¹è±¡å¯¹åº”ç±»çš„å®ä¾‹ã€‚ 1Class&lt;?&gt; c = String.class;Object str = c.newInstance(); å…ˆé€šè¿‡Classå¯¹è±¡è·å–æŒ‡å®šçš„Constructorå¯¹è±¡ï¼Œå†è°ƒç”¨Constructorå¯¹è±¡çš„newInstance()æ–¹æ³•æ¥åˆ›å»ºå®ä¾‹ã€‚è¿™ç§æ–¹æ³•å¯ä»¥ç”¨æŒ‡å®šçš„æ„é€ å™¨æ„é€ ç±»çš„å®ä¾‹ã€‚ 1//è·å–Stringæ‰€å¯¹åº”çš„Classå¯¹è±¡Class&lt;?&gt; c = String.class;//è·å–Stringç±»å¸¦ä¸€ä¸ªStringå‚æ•°çš„æ„é€ å™¨Constructor constructor = c.getConstructor(String.class);//æ ¹æ®æ„é€ å™¨åˆ›å»ºå®ä¾‹Object obj = constructor.newInstance(&quot;23333&quot;);System.out.println(obj); 3.4 è·å–æ–¹æ³•è·å–æŸä¸ªClasså¯¹è±¡çš„æ–¹æ³•é›†åˆï¼Œä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªæ–¹æ³•ï¼š getDeclaredMethods æ–¹æ³•è¿”å›ç±»æˆ–æ¥å£å£°æ˜çš„æ‰€æœ‰æ–¹æ³•ï¼ŒåŒ…æ‹¬å…¬å…±ã€ä¿æŠ¤ã€é»˜è®¤ï¼ˆåŒ…ï¼‰è®¿é—®å’Œç§æœ‰æ–¹æ³•ï¼Œä½†ä¸åŒ…æ‹¬ç»§æ‰¿çš„æ–¹æ³•ã€‚ 1public Method[] getDeclaredMethods() throws SecurityException getMethods æ–¹æ³•è¿”å›æŸä¸ªç±»çš„æ‰€æœ‰å…¬ç”¨ï¼ˆpublicï¼‰æ–¹æ³•ï¼ŒåŒ…æ‹¬å…¶ç»§æ‰¿ç±»çš„å…¬ç”¨æ–¹æ³•ã€‚ 1public Method[] getMethods() throws SecurityException getMethod æ–¹æ³•è¿”å›ä¸€ä¸ªç‰¹å®šçš„æ–¹æ³•ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæ–¹æ³•åç§°ï¼Œåé¢çš„å‚æ•°ä¸ºæ–¹æ³•çš„å‚æ•°å¯¹åº”Classçš„å¯¹è±¡ã€‚ 1public Method getMethod(String name, Class&lt;?&gt;... parameterTypes) åªæ˜¯è¿™æ ·æè¿°çš„è¯å¯èƒ½éš¾ä»¥ç†è§£ï¼Œæˆ‘ä»¬ç”¨ä¾‹å­æ¥ç†è§£è¿™ä¸‰ä¸ªæ–¹æ³•ï¼š 123456789101112131415161718192021222324252627282930package org.ScZyhSoft.common;import java.lang.reflect.InvocationTargetException;import java.lang.reflect.Method;public class test1 &#123; public static void test() throws IllegalAccessException, InstantiationException, NoSuchMethodException, InvocationTargetException &#123; Class&lt;?&gt; c = methodClass.class; Object object = c.newInstance(); Method[] methods = c.getMethods(); Method[] declaredMethods = c.getDeclaredMethods(); //è·å–methodClassç±»çš„addæ–¹æ³• Method method = c.getMethod(&quot;add&quot;, int.class, int.class); //getMethods()æ–¹æ³•è·å–çš„æ‰€æœ‰æ–¹æ³• System.out.println(&quot;getMethodsè·å–çš„æ–¹æ³•ï¼š&quot;); for(Method m:methods) System.out.println(m); //getDeclaredMethods()æ–¹æ³•è·å–çš„æ‰€æœ‰æ–¹æ³• System.out.println(&quot;getDeclaredMethodsè·å–çš„æ–¹æ³•ï¼š&quot;); for(Method m:declaredMethods) System.out.println(m); &#125; &#125;class methodClass &#123; public final int fuck = 3; public int add(int a,int b) &#123; return a+b; &#125; public int sub(int a,int b) &#123; return a+b; &#125;&#125; ç¨‹åºè¿è¡Œçš„ç»“æœå¦‚ä¸‹: 123456789101112131415getMethodsè·å–çš„æ–¹æ³•ï¼špublic int org.ScZyhSoft.common.methodClass.add(int,int)public int org.ScZyhSoft.common.methodClass.sub(int,int)public final void java.lang.Object.wait() throws java.lang.InterruptedExceptionpublic final void java.lang.Object.wait(long,int) throws java.lang.InterruptedExceptionpublic final native void java.lang.Object.wait(long) throws java.lang.InterruptedExceptionpublic boolean java.lang.Object.equals(java.lang.Object)public java.lang.String java.lang.Object.toString()public native int java.lang.Object.hashCode()public final native java.lang.Class java.lang.Object.getClass()public final native void java.lang.Object.notify()public final native void java.lang.Object.notifyAll()getDeclaredMethodsè·å–çš„æ–¹æ³•ï¼špublic int org.ScZyhSoft.common.methodClass.add(int,int)public int org.ScZyhSoft.common.methodClass.sub(int,int) 3.5 è·å–æ„é€ å™¨ä¿¡æ¯è·å–ç±»æ„é€ å™¨çš„ç”¨æ³•ä¸ä¸Šè¿°è·å–æ–¹æ³•çš„ç”¨æ³•ç±»ä¼¼ã€‚ä¸»è¦æ˜¯é€šè¿‡Classç±»çš„getConstructoræ–¹æ³•å¾—åˆ°Constructorç±»çš„ä¸€ä¸ªå®ä¾‹ï¼Œè€ŒConstructorç±»æœ‰ä¸€ä¸ªnewInstanceæ–¹æ³•å¯ä»¥åˆ›å»ºä¸€ä¸ªå¯¹è±¡å®ä¾‹: 1public T newInstance(Object ... initargs) æ­¤æ–¹æ³•å¯ä»¥æ ¹æ®ä¼ å…¥çš„å‚æ•°æ¥è°ƒç”¨å¯¹åº”çš„Constructoråˆ›å»ºå¯¹è±¡å®ä¾‹ã€‚ 3.6 è·å–ç±»çš„æˆå‘˜å˜é‡ï¼ˆå­—æ®µï¼‰ä¿¡æ¯ä¸»è¦æ˜¯è¿™å‡ ä¸ªæ–¹æ³•ï¼Œåœ¨æ­¤ä¸å†èµ˜è¿°ï¼š getFiledï¼šè®¿é—®å…¬æœ‰çš„æˆå‘˜å˜é‡ getDeclaredFieldï¼šæ‰€æœ‰å·²å£°æ˜çš„æˆå‘˜å˜é‡ï¼Œä½†ä¸èƒ½å¾—åˆ°å…¶çˆ¶ç±»çš„æˆå‘˜å˜é‡ getFileds å’Œ getDeclaredFields æ–¹æ³•ç”¨æ³•åŒä¸Šï¼ˆå‚ç…§ Methodï¼‰ã€‚ 3.7 è°ƒç”¨æ–¹æ³• å…³äºinvoke()çš„è¯¦æƒ…ï¼Œè¯·æŸ¥çœ‹: https://www.sczyh30.com/posts/Java/java-reflection-1/ å½“æˆ‘ä»¬ä»ç±»ä¸­è·å–äº†ä¸€ä¸ªæ–¹æ³•åï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨ invoke() æ–¹æ³•æ¥è°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚invoke æ–¹æ³•çš„åŸå‹ä¸º: 123public Object invoke(Object obj, Object... args) throws IllegalAccessException, IllegalArgumentException, InvocationTargetException ä¾‹å­: 123456789101112131415161718192021public class test1 &#123; public static void main(String[] args) throws IllegalAccessException, InstantiationException, NoSuchMethodException, InvocationTargetException &#123; Class&lt;?&gt; klass = methodClass.class; //åˆ›å»ºmethodClassçš„å®ä¾‹ Object obj = klass.newInstance(); //è·å–methodClassç±»çš„addæ–¹æ³• Method method = klass.getMethod(&quot;add&quot;,int.class,int.class); //è°ƒç”¨methodå¯¹åº”çš„æ–¹æ³• =&gt; add(1,4) Object result = method.invoke(obj,1,4); System.out.println(result); &#125;&#125;class methodClass &#123; public final int fuck = 3; public int add(int a,int b) &#123; return a+b; &#125; public int sub(int a,int b) &#123; return a+b; &#125;&#125; 3.8 åˆ©ç”¨åå°„åˆ›å»ºæ•°ç»„æ•°ç»„åœ¨Javaé‡Œæ˜¯æ¯”è¾ƒç‰¹æ®Šçš„ä¸€ç§ç±»å‹ï¼Œå®ƒå¯ä»¥èµ‹å€¼ç»™ä¸€ä¸ªObject Referenceã€‚ä¸‹é¢æˆ‘ä»¬çœ‹ä¸€çœ‹åˆ©ç”¨åå°„åˆ›å»ºæ•°ç»„çš„ä¾‹å­ï¼š 123456789101112public static void testArray() throws ClassNotFoundException &#123; Class&lt;?&gt; cls = Class.forName(&quot;java.lang.String&quot;); Object array = Array.newInstance(cls,25); //å¾€æ•°ç»„é‡Œæ·»åŠ å†…å®¹ Array.set(array,0,&quot;hello&quot;); Array.set(array,1,&quot;Java&quot;); Array.set(array,2,&quot;fuck&quot;); Array.set(array,3,&quot;Scala&quot;); Array.set(array,4,&quot;Clojure&quot;); //è·å–æŸä¸€é¡¹çš„å†…å®¹ System.out.println(Array.get(array,3)); &#125; å…¶ä¸­çš„Arrayç±»ä¸ºjava.lang.reflect.Arrayç±»ã€‚æˆ‘ä»¬é€šè¿‡Array.newInstance()åˆ›å»ºæ•°ç»„å¯¹è±¡ï¼Œå®ƒçš„åŸå‹æ˜¯: 1234public static Object newInstance(Class&lt;?&gt; componentType, int length) throws NegativeArraySizeException &#123; return newArray(componentType, length); &#125; è€Œ newArray æ–¹æ³•æ˜¯ä¸€ä¸ª native æ–¹æ³•ï¼Œå®ƒåœ¨ HotSpot JVM é‡Œçš„å…·ä½“å®ç°æˆ‘ä»¬åè¾¹å†ç ”ç©¶ï¼Œè¿™é‡Œå…ˆæŠŠæºç è´´å‡ºæ¥ï¼š 12private static native Object newArray(Class&lt;?&gt; componentType, int length) throws NegativeArraySizeException; æºç ç›®å½•ï¼šopenjdk\\hotspot\\src\\share\\vm\\runtime\\reflection.cpp 123456789101112131415161718arrayOop Reflection::reflect_new_array(oop element_mirror, jint length, TRAPS) &#123; if (element_mirror == NULL) &#123; THROW_0(vmSymbols::java_lang_NullPointerException()); &#125; if (length &lt; 0) &#123; THROW_0(vmSymbols::java_lang_NegativeArraySizeException()); &#125; if (java_lang_Class::is_primitive(element_mirror)) &#123; Klass* tak = basic_type_mirror_to_arrayklass(element_mirror, CHECK_NULL); return TypeArrayKlass::cast(tak)-&gt;allocate(length, THREAD); &#125; else &#123; Klass* k = java_lang_Class::as_Klass(element_mirror); if (k-&gt;oop_is_array() &amp;&amp; ArrayKlass::cast(k)-&gt;dimension() &gt;= MAX_DIM) &#123; THROW_0(vmSymbols::java_lang_IllegalArgumentException()); &#125; return oopFactory::new_objArray(k, length, THREAD); &#125;&#125; å¦å¤–ï¼ŒArray ç±»çš„ set å’Œ get æ–¹æ³•éƒ½ä¸º native æ–¹æ³•ï¼Œåœ¨ HotSpot JVM é‡Œåˆ†åˆ«å¯¹åº” Reflection::array_set å’Œ Reflection::array_get æ–¹æ³•ï¼Œè¿™é‡Œå°±ä¸è¯¦ç»†è§£æäº†ã€‚","categories":[{"name":"Java","slug":"Java","permalink":"http://www.octber.xyz/categories/Java/"}],"tags":[{"name":"Java","slug":"Java","permalink":"http://www.octber.xyz/tags/Java/"}]},{"title":"VO/DTO/DO/POçš„åŒºåˆ«","slug":"VO-DTO-DO-POçš„åŒºåˆ«","date":"2019-07-30T03:52:11.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/07/30/VO-DTO-DO-POçš„åŒºåˆ«/","link":"","permalink":"http://www.octber.xyz/2019/07/30/VO-DTO-DO-PO%E7%9A%84%E5%8C%BA%E5%88%AB/","excerpt":"å‰è¨€æµ…æVOã€DTOã€DOã€POçš„æ¦‚å¿µã€åŒºåˆ«å’Œç”¨å¤„","text":"å‰è¨€æµ…æVOã€DTOã€DOã€POçš„æ¦‚å¿µã€åŒºåˆ«å’Œç”¨å¤„ æµ…æVOã€DTOã€DOã€POçš„æ¦‚å¿µã€åŒºåˆ«å’Œç”¨å¤„è½¬è½½ï¼šhttp://www.cnblogs.com/qixuejia/p/4390086.html æœ¬ç¯‡æ–‡ç« ä¸»è¦è®¨è®ºä¸€ä¸‹æˆ‘ä»¬ç»å¸¸ä¼šç”¨åˆ°çš„ä¸€äº›å¯¹è±¡ï¼šVOã€DTOã€DOå’ŒPOã€‚ ç”±äºä¸åŒçš„é¡¹ç›®å’Œå¼€å‘äººå‘˜æœ‰ä¸åŒçš„å‘½åä¹ æƒ¯ï¼Œè¿™é‡Œæˆ‘é¦–å…ˆå¯¹ä¸Šè¿°çš„æ¦‚å¿µè¿›è¡Œä¸€ä¸ªç®€å•æè¿°ï¼Œåå­—åªæ˜¯ä¸ªæ ‡è¯†ï¼Œæˆ‘ä»¬é‡ç‚¹å…³æ³¨å…¶æ¦‚å¿µï¼š æ¦‚å¿µï¼š VO**ï¼ˆView Object**ï¼‰ï¼šè§†å›¾å¯¹è±¡ï¼Œç”¨äºå±•ç¤ºå±‚ï¼Œå®ƒçš„ä½œç”¨æ˜¯æŠŠæŸä¸ªæŒ‡å®šé¡µé¢ï¼ˆæˆ–ç»„ä»¶ï¼‰çš„æ‰€æœ‰æ•°æ®å°è£…èµ·æ¥ã€‚ DTO**ï¼ˆData Transfer Object**ï¼‰ï¼šæ•°æ®ä¼ è¾“å¯¹è±¡ï¼Œè¿™ä¸ªæ¦‚å¿µæ¥æºäºJ2EEçš„è®¾è®¡æ¨¡å¼ï¼ŒåŸæ¥çš„ç›®çš„æ˜¯ä¸ºäº†EJBçš„åˆ†å¸ƒå¼åº”ç”¨æä¾›ç²—ç²’åº¦çš„æ•°æ®å®ä½“ï¼Œä»¥å‡å°‘åˆ†å¸ƒå¼è°ƒç”¨çš„æ¬¡æ•°ï¼Œä»è€Œæé«˜åˆ†å¸ƒå¼è°ƒç”¨çš„æ€§èƒ½å’Œé™ä½ç½‘ç»œè´Ÿè½½ï¼Œä½†åœ¨è¿™é‡Œï¼Œæˆ‘æ³›æŒ‡ç”¨äºå±•ç¤ºå±‚ä¸æœåŠ¡å±‚ä¹‹é—´çš„æ•°æ®ä¼ è¾“å¯¹è±¡ã€‚ DO**ï¼ˆDomain Object**ï¼‰ï¼šé¢†åŸŸå¯¹è±¡ï¼Œå°±æ˜¯ä»ç°å®ä¸–ç•Œä¸­æŠ½è±¡å‡ºæ¥çš„æœ‰å½¢æˆ–æ— å½¢çš„ä¸šåŠ¡å®ä½“ã€‚ PO**ï¼ˆPersistent Object**ï¼‰ï¼šæŒä¹…åŒ–å¯¹è±¡ï¼Œå®ƒè·ŸæŒä¹…å±‚ï¼ˆé€šå¸¸æ˜¯å…³ç³»å‹æ•°æ®åº“ï¼‰çš„æ•°æ®ç»“æ„å½¢æˆä¸€ä¸€å¯¹åº”çš„æ˜ å°„å…³ç³»ï¼Œå¦‚æœæŒä¹…å±‚æ˜¯å…³ç³»å‹æ•°æ®åº“ï¼Œé‚£ä¹ˆï¼Œæ•°æ®è¡¨ä¸­çš„æ¯ä¸ªå­—æ®µï¼ˆæˆ–è‹¥å¹²ä¸ªï¼‰å°±å¯¹åº”POçš„ä¸€ä¸ªï¼ˆæˆ–è‹¥å¹²ä¸ªï¼‰å±æ€§ã€‚ æ¨¡å‹ï¼š â€‹ ä¸‹é¢ä»¥ä¸€ä¸ªæ—¶åºå›¾å»ºç«‹ç®€å•æ¨¡å‹æ¥æè¿°ä¸Šè¿°å¯¹è±¡åœ¨ä¸‰å±‚æ¶æ„åº”ç”¨ä¸­çš„ä½ç½® l ç”¨æˆ·å‘å‡ºè¯·æ±‚ï¼ˆå¯èƒ½æ˜¯å¡«å†™è¡¨å•ï¼‰ï¼Œè¡¨å•çš„æ•°æ®åœ¨å±•ç¤ºå±‚è¢«åŒ¹é…ä¸ºVOã€‚ l å±•ç¤ºå±‚æŠŠVOè½¬æ¢ä¸ºæœåŠ¡å±‚å¯¹åº”æ–¹æ³•æ‰€è¦æ±‚çš„DTOï¼Œä¼ é€ç»™æœåŠ¡å±‚ã€‚ l æœåŠ¡å±‚é¦–å…ˆæ ¹æ®DTOçš„æ•°æ®æ„é€ ï¼ˆæˆ–é‡å»ºï¼‰ä¸€ä¸ªDOï¼Œè°ƒç”¨DOçš„ä¸šåŠ¡æ–¹æ³•å®Œæˆå…·ä½“ä¸šåŠ¡ã€‚ l æœåŠ¡å±‚æŠŠDOè½¬æ¢ä¸ºæŒä¹…å±‚å¯¹åº”çš„POï¼ˆå¯ä»¥ä½¿ç”¨ORMå·¥å…·ï¼Œä¹Ÿå¯ä»¥ä¸ç”¨ï¼‰ï¼Œè°ƒç”¨æŒä¹…å±‚çš„æŒä¹…åŒ–æ–¹æ³•ï¼ŒæŠŠPOä¼ é€’ç»™å®ƒï¼Œå®ŒæˆæŒä¹…åŒ–æ“ä½œã€‚ l å¯¹äºä¸€ä¸ªé€†å‘æ“ä½œï¼Œå¦‚è¯»å–æ•°æ®ï¼Œä¹Ÿæ˜¯ç”¨ç±»ä¼¼çš„æ–¹å¼è½¬æ¢å’Œä¼ é€’ï¼Œç•¥ã€‚ VO**ä¸DTO**çš„åŒºåˆ« â€‹ å¤§å®¶å¯èƒ½ä¼šæœ‰ä¸ªç–‘é—®ï¼ˆåœ¨ç¬”è€…å‚ä¸çš„é¡¹ç›®ä¸­ï¼Œå¾ˆå¤šç¨‹åºå‘˜ä¹Ÿæœ‰ç›¸åŒçš„ç–‘æƒ‘ï¼‰ï¼šæ—¢ç„¶DTOæ˜¯å±•ç¤ºå±‚ä¸æœåŠ¡å±‚ä¹‹é—´ä¼ é€’æ•°æ®çš„å¯¹è±¡ï¼Œä¸ºä»€ä¹ˆè¿˜éœ€è¦ä¸€ä¸ªVOå‘¢ï¼Ÿå¯¹ï¼å¯¹äºç»å¤§éƒ¨åˆ†çš„åº”ç”¨åœºæ™¯æ¥è¯´ï¼ŒDTOå’ŒVOçš„å±æ€§å€¼åŸºæœ¬æ˜¯ä¸€è‡´çš„ï¼Œè€Œä¸”ä»–ä»¬é€šå¸¸éƒ½æ˜¯POJOï¼Œå› æ­¤æ²¡å¿…è¦å¤šæ­¤ä¸€ä¸¾ï¼Œä½†ä¸è¦å¿˜è®°è¿™æ˜¯å®ç°å±‚é¢çš„æ€ç»´ï¼Œå¯¹äºè®¾è®¡å±‚é¢æ¥è¯´ï¼Œæ¦‚å¿µä¸Šè¿˜æ˜¯åº”è¯¥å­˜åœ¨VOå’ŒDTOï¼Œå› ä¸ºä¸¤è€…æœ‰ç€æœ¬è´¨çš„åŒºåˆ«ï¼ŒDTOä»£è¡¨æœåŠ¡å±‚éœ€è¦æ¥æ”¶çš„æ•°æ®å’Œè¿”å›çš„æ•°æ®ï¼Œè€ŒVOä»£è¡¨å±•ç¤ºå±‚éœ€è¦æ˜¾ç¤ºçš„æ•°æ®ã€‚ â€‹ ç”¨ä¸€ä¸ªä¾‹å­æ¥è¯´æ˜å¯èƒ½ä¼šæ¯”è¾ƒå®¹æ˜“ç†è§£ï¼šä¾‹å¦‚æœåŠ¡å±‚æœ‰ä¸€ä¸ªgetUserçš„æ–¹æ³•è¿”å›ä¸€ä¸ªç³»ç»Ÿç”¨æˆ·ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªå±æ€§æ˜¯gender(æ€§åˆ«)ï¼Œå¯¹äºæœåŠ¡å±‚æ¥è¯´ï¼Œå®ƒåªä»è¯­ä¹‰ä¸Šå®šä¹‰ï¼š1-ç”·æ€§ï¼Œ2-å¥³æ€§ï¼Œ0-æœªæŒ‡å®šï¼Œè€Œå¯¹äºå±•ç¤ºå±‚æ¥è¯´ï¼Œå®ƒå¯èƒ½éœ€è¦ç”¨â€œå¸…å“¥â€ä»£è¡¨ç”·æ€§ï¼Œç”¨â€œç¾å¥³â€ä»£è¡¨å¥³æ€§ï¼Œç”¨â€œç§˜å¯†â€ä»£è¡¨æœªæŒ‡å®šã€‚è¯´åˆ°è¿™é‡Œï¼Œå¯èƒ½ä½ è¿˜ä¼šåé©³ï¼Œåœ¨æœåŠ¡å±‚ç›´æ¥å°±è¿”å›â€œå¸…å“¥ç¾å¥³â€ä¸å°±è¡Œäº†å—ï¼Ÿå¯¹äºå¤§éƒ¨åˆ†åº”ç”¨æ¥è¯´ï¼Œè¿™ä¸æ˜¯é—®é¢˜ï¼Œä½†è®¾æƒ³ä¸€ä¸‹ï¼Œå¦‚æœéœ€æ±‚å…è®¸å®¢æˆ·å¯ä»¥å®šåˆ¶é£æ ¼ï¼Œè€Œä¸åŒé£æ ¼å¯¹äºâ€œæ€§åˆ«â€çš„è¡¨ç°æ–¹å¼ä¸ä¸€æ ·ï¼Œåˆæˆ–è€…è¿™ä¸ªæœåŠ¡åŒæ—¶ä¾›å¤šä¸ªå®¢æˆ·ç«¯ä½¿ç”¨ï¼ˆä¸åŒé—¨æˆ·ï¼‰ï¼Œè€Œä¸åŒçš„å®¢æˆ·ç«¯å¯¹äºè¡¨ç°å±‚çš„è¦æ±‚æœ‰æ‰€ä¸åŒï¼Œé‚£ä¹ˆï¼Œé—®é¢˜å°±æ¥äº†ã€‚å†è€…ï¼Œå›åˆ°è®¾è®¡å±‚é¢ä¸Šåˆ†æï¼Œä»èŒè´£å•ä¸€åŸåˆ™æ¥çœ‹ï¼ŒæœåŠ¡å±‚åªè´Ÿè´£ä¸šåŠ¡ï¼Œä¸å…·ä½“çš„è¡¨ç°å½¢å¼æ— å…³ï¼Œå› æ­¤ï¼Œå®ƒè¿”å›çš„DTOï¼Œä¸åº”è¯¥å‡ºç°ä¸è¡¨ç°å½¢å¼çš„è€¦åˆã€‚ â€‹ ç†è®ºå½’ç†è®ºï¼Œè¿™åˆ°åº•è¿˜æ˜¯åˆ†æè®¾è®¡å±‚é¢çš„æ€ç»´ï¼Œæ˜¯å¦åœ¨å®ç°å±‚é¢å¿…é¡»è¿™æ ·åšå‘¢ï¼Ÿä¸€åˆ€åˆ‡çš„åšæ³•å¾€å¾€ä¼šå¾—ä¸å¿å¤±ï¼Œä¸‹é¢æˆ‘é©¬ä¸Šä¼šåˆ†æåº”ç”¨ä¸­å¦‚ä½•åšå‡ºæ­£ç¡®çš„é€‰æ‹©ã€‚ VO**ä¸DTO**çš„åº”ç”¨ â€‹ ä¸Šé¢åªæ˜¯ç”¨äº†ä¸€ä¸ªç®€å•çš„ä¾‹å­æ¥è¯´æ˜VOä¸DTOåœ¨æ¦‚å¿µä¸Šçš„åŒºåˆ«ï¼Œæœ¬èŠ‚å°†ä¼šå‘Šè¯‰ä½ å¦‚ä½•åœ¨åº”ç”¨ä¸­åšå‡ºæ­£ç¡®çš„é€‰æ‹©ã€‚ â€‹ åœ¨ä»¥ä¸‹æ‰åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘æŠŠVOä¸DTOäºŒåˆä¸ºä¸€ï¼ˆæ³¨æ„ï¼šæ˜¯å®ç°å±‚é¢ï¼‰ï¼š l å½“éœ€æ±‚éå¸¸æ¸…æ™°ç¨³å®šï¼Œè€Œä¸”å®¢æˆ·ç«¯å¾ˆæ˜ç¡®åªæœ‰ä¸€ä¸ªçš„æ—¶å€™ï¼Œæ²¡æœ‰å¿…è¦æŠŠVOå’ŒDTOåŒºåˆ†å¼€æ¥ï¼Œè¿™æ—¶å€™VOå¯ä»¥é€€éšï¼Œç”¨ä¸€ä¸ªDTOå³å¯ï¼Œä¸ºä»€ä¹ˆæ˜¯VOé€€éšè€Œä¸æ˜¯DTOï¼Ÿå›åˆ°è®¾è®¡å±‚é¢ï¼ŒæœåŠ¡å±‚çš„èŒè´£ä¾ç„¶ä¸åº”è¯¥ä¸å±•ç¤ºå±‚è€¦åˆï¼Œæ‰€ä»¥ï¼Œå¯¹äºå‰é¢çš„ä¾‹å­ï¼Œä½ å¾ˆå®¹æ˜“ç†è§£ï¼ŒDTOå¯¹äºâ€œæ€§åˆ«â€æ¥è¯´ï¼Œä¾ç„¶ä¸èƒ½ç”¨â€œå¸…å“¥ç¾å¥³â€ï¼Œè¿™ä¸ªè½¬æ¢åº”è¯¥ä¾èµ–äºé¡µé¢çš„è„šæœ¬ï¼ˆå¦‚JavaScriptï¼‰æˆ–å…¶ä»–æœºåˆ¶ï¼ˆJSTLã€ELã€CSSï¼‰ l å³ä½¿å®¢æˆ·ç«¯å¯ä»¥è¿›è¡Œå®šåˆ¶ï¼Œæˆ–è€…å­˜åœ¨å¤šä¸ªä¸åŒçš„å®¢æˆ·ç«¯ï¼Œå¦‚æœå®¢æˆ·ç«¯èƒ½å¤Ÿç”¨æŸç§æŠ€æœ¯ï¼ˆè„šæœ¬æˆ–å…¶ä»–æœºåˆ¶ï¼‰å®ç°è½¬æ¢ï¼ŒåŒæ ·å¯ä»¥è®©VOé€€éš ä»¥ä¸‹åœºæ™¯éœ€è¦ä¼˜å…ˆè€ƒè™‘VOã€DTOå¹¶å­˜ï¼š l ä¸Šè¿°åœºæ™¯çš„åé¢åœºæ™¯ l å› ä¸ºæŸç§æŠ€æœ¯åŸå› ï¼Œæ¯”å¦‚æŸä¸ªæ¡†æ¶ï¼ˆå¦‚Flexï¼‰æä¾›è‡ªåŠ¨æŠŠPOJOè½¬æ¢ä¸ºUIä¸­æŸäº›Fieldæ—¶ï¼Œå¯ä»¥è€ƒè™‘åœ¨å®ç°å±‚é¢å®šä¹‰å‡ºVOï¼Œè¿™ä¸ªæƒè¡¡å®Œå…¨å–å†³äºä½¿ç”¨æ¡†æ¶çš„è‡ªåŠ¨è½¬æ¢èƒ½åŠ›å¸¦æ¥çš„å¼€å‘å’Œç»´æŠ¤æ•ˆç‡æå‡ä¸è®¾è®¡å¤šä¸€ä¸ªVOæ‰€å¤šåšçš„äº‹æƒ…å¸¦æ¥çš„å¼€å‘å’Œç»´æŠ¤æ•ˆç‡çš„ä¸‹é™ä¹‹é—´çš„æ¯”å¯¹ã€‚ l å¦‚æœé¡µé¢å‡ºç°ä¸€ä¸ªâ€œå¤§è§†å›¾â€ï¼Œè€Œç»„æˆè¿™ä¸ªå¤§è§†å›¾çš„æ‰€æœ‰æ•°æ®éœ€è¦è°ƒç”¨å¤šä¸ªæœåŠ¡ï¼Œè¿”å›å¤šä¸ªDTOæ¥ç»„è£…ï¼ˆå½“ç„¶ï¼Œè¿™åŒæ ·å¯ä»¥é€šè¿‡æœåŠ¡å±‚æä¾›ä¸€æ¬¡æ€§è¿”å›ä¸€ä¸ªå¤§è§†å›¾çš„DTOæ¥å–ä»£ï¼Œä½†åœ¨æœåŠ¡å±‚æä¾›ä¸€ä¸ªè¿™æ ·çš„æ–¹æ³•æ˜¯å¦åˆé€‚ï¼Œéœ€è¦åœ¨è®¾è®¡å±‚é¢è¿›è¡Œæƒè¡¡ï¼‰ã€‚ DTO**ä¸DO**çš„åŒºåˆ« â€‹ é¦–å…ˆæ˜¯æ¦‚å¿µä¸Šçš„åŒºåˆ«ï¼ŒDTOæ˜¯å±•ç¤ºå±‚å’ŒæœåŠ¡å±‚ä¹‹é—´çš„æ•°æ®ä¼ è¾“å¯¹è±¡ï¼ˆå¯ä»¥è®¤ä¸ºæ˜¯ä¸¤è€…ä¹‹é—´çš„åè®®ï¼‰ï¼Œè€ŒDOæ˜¯å¯¹ç°å®ä¸–ç•Œå„ç§ä¸šåŠ¡è§’è‰²çš„æŠ½è±¡ï¼Œè¿™å°±å¼•å‡ºäº†ä¸¤è€…åœ¨æ•°æ®ä¸Šçš„åŒºåˆ«ï¼Œä¾‹å¦‚UserInfoå’ŒUserï¼ˆå¯¹äºDTOå’ŒDOçš„å‘½åè§„åˆ™ï¼Œè¯·å‚è§ç¬”è€…å‰é¢çš„ä¸€ç¯‡åšæ–‡ï¼‰ï¼Œå¯¹äºä¸€ä¸ªgetUseræ–¹æ³•æ¥è¯´ï¼Œæœ¬è´¨ä¸Šå®ƒæ°¸è¿œä¸åº”è¯¥è¿”å›ç”¨æˆ·çš„å¯†ç ï¼Œå› æ­¤UserInfoè‡³å°‘æ¯”Userå°‘ä¸€ä¸ªpasswordçš„æ•°æ®ã€‚è€Œåœ¨é¢†åŸŸé©±åŠ¨è®¾è®¡ä¸­ï¼Œæ­£å¦‚ç¬¬ä¸€ç¯‡ç³»åˆ—æ–‡ç« æ‰€è¯´ï¼ŒDOä¸æ˜¯ç®€å•çš„POJOï¼Œå®ƒå…·æœ‰é¢†åŸŸä¸šåŠ¡é€»è¾‘ã€‚ DTO**ä¸DO**çš„åº”ç”¨ â€‹ ä»ä¸Šä¸€èŠ‚çš„ä¾‹å­ä¸­ï¼Œç»†å¿ƒçš„è¯»è€…å¯èƒ½ä¼šå‘ç°é—®é¢˜ï¼šæ—¢ç„¶getUseræ–¹æ³•è¿”å›çš„UserInfoä¸åº”è¯¥åŒ…å«passwordï¼Œé‚£ä¹ˆå°±ä¸åº”è¯¥å­˜åœ¨passwordè¿™ä¸ªå±æ€§å®šä¹‰ï¼Œä½†å¦‚æœåŒæ—¶æœ‰ä¸€ä¸ªcreateUserçš„æ–¹æ³•ï¼Œä¼ å…¥çš„UserInfoéœ€è¦åŒ…å«ç”¨æˆ·çš„passwordï¼Œæ€ä¹ˆåŠï¼Ÿåœ¨è®¾è®¡å±‚é¢ï¼Œå±•ç¤ºå±‚å‘æœåŠ¡å±‚ä¼ é€’çš„DTOä¸æœåŠ¡å±‚è¿”å›ç»™å±•ç¤ºå±‚çš„DTOåœ¨æ¦‚å¿µä¸Šæ˜¯ä¸åŒçš„ï¼Œä½†åœ¨å®ç°å±‚é¢ï¼Œæˆ‘ä»¬é€šå¸¸å¾ˆå°‘ä¼šè¿™æ ·åšï¼ˆå®šä¹‰ä¸¤ä¸ªUserInfoï¼Œç”šè‡³æ›´å¤šï¼‰ï¼Œå› ä¸ºè¿™æ ·åšå¹¶ä¸è§å¾—å¾ˆæ˜æ™ºï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥è®¾è®¡ä¸€ä¸ªå®Œå…¨å…¼å®¹çš„DTOï¼Œåœ¨æœåŠ¡å±‚æ¥æ”¶æ•°æ®çš„æ—¶å€™ï¼Œä¸è¯¥ç”±å±•ç¤ºå±‚è®¾ç½®çš„å±æ€§ï¼ˆå¦‚è®¢å•çš„æ€»ä»·åº”è¯¥ç”±å…¶å•ä»·ã€æ•°é‡ã€æŠ˜æ‰£ç­‰å†³å®šï¼‰ï¼Œæ— è®ºå±•ç¤ºå±‚æ˜¯å¦è®¾ç½®ï¼ŒæœåŠ¡å±‚éƒ½ä¸€æ¦‚å¿½ç•¥ï¼Œè€Œåœ¨æœåŠ¡å±‚è¿”å›æ•°æ®æ—¶ï¼Œä¸è¯¥è¿”å›çš„æ•°æ®ï¼ˆå¦‚ç”¨æˆ·å¯†ç ï¼‰ï¼Œå°±ä¸è®¾ç½®å¯¹åº”çš„å±æ€§ã€‚ â€‹ å¯¹äºDOæ¥è¯´ï¼Œè¿˜æœ‰ä¸€ç‚¹éœ€è¦è¯´æ˜ï¼šä¸ºä»€ä¹ˆä¸åœ¨æœåŠ¡å±‚ä¸­ç›´æ¥è¿”å›DOå‘¢ï¼Ÿè¿™æ ·å¯ä»¥çœå»DTOçš„ç¼–ç å’Œè½¬æ¢å·¥ä½œï¼ŒåŸå› å¦‚ä¸‹ï¼š l ä¸¤è€…åœ¨æœ¬è´¨ä¸Šçš„åŒºåˆ«å¯èƒ½å¯¼è‡´å½¼æ­¤å¹¶ä¸ä¸€ä¸€å¯¹åº”ï¼Œä¸€ä¸ªDTOå¯èƒ½å¯¹åº”å¤šä¸ªDOï¼Œåä¹‹äº¦ç„¶ï¼Œç”šè‡³ä¸¤è€…å­˜åœ¨å¤šå¯¹å¤šçš„å…³ç³»ã€‚ l DOå…·æœ‰ä¸€äº›ä¸åº”è¯¥è®©å±•ç¤ºå±‚çŸ¥é“çš„æ•°æ® l DOå…·æœ‰ä¸šåŠ¡æ–¹æ³•ï¼Œå¦‚æœç›´æ¥æŠŠDOä¼ é€’ç»™å±•ç¤ºå±‚ï¼Œå±•ç¤ºå±‚çš„ä»£ç å°±å¯ä»¥ç»•è¿‡æœåŠ¡å±‚ç›´æ¥è°ƒç”¨å®ƒä¸åº”è¯¥è®¿é—®çš„æ“ä½œï¼Œå¯¹äºåŸºäºAOPæ‹¦æˆªæœåŠ¡å±‚æ¥è¿›è¡Œè®¿é—®æ§åˆ¶çš„æœºåˆ¶æ¥è¯´ï¼Œè¿™é—®é¢˜å°¤ä¸ºçªå‡ºï¼Œè€Œåœ¨å±•ç¤ºå±‚è°ƒç”¨DOçš„ä¸šåŠ¡æ–¹æ³•ä¹Ÿä¼šå› ä¸ºäº‹åŠ¡çš„é—®é¢˜ï¼Œè®©äº‹åŠ¡éš¾ä»¥æ§åˆ¶ã€‚ l å¯¹äºæŸäº›ORMæ¡†æ¶ï¼ˆå¦‚Hibernateï¼‰æ¥è¯´ï¼Œé€šå¸¸ä¼šä½¿ç”¨â€œå»¶è¿ŸåŠ è½½â€æŠ€æœ¯ï¼Œå¦‚æœç›´æ¥æŠŠDOæš´éœ²ç»™å±•ç¤ºå±‚ï¼Œå¯¹äºå¤§éƒ¨åˆ†æƒ…å†µï¼Œå±•ç¤ºå±‚ä¸åœ¨äº‹åŠ¡èŒƒå›´ä¹‹å†…ï¼ˆOpen session in viewåœ¨å¤§éƒ¨åˆ†æƒ…å†µä¸‹ä¸æ˜¯ä¸€ç§å€¼å¾—æ¨å´‡çš„è®¾è®¡ï¼‰ï¼Œå¦‚æœå…¶å°è¯•åœ¨Sessionå…³é—­çš„æƒ…å†µä¸‹è·å–ä¸€ä¸ªæœªåŠ è½½çš„å…³è”å¯¹è±¡ï¼Œä¼šå‡ºç°è¿è¡Œæ—¶å¼‚å¸¸ï¼ˆå¯¹äºHibernateæ¥è¯´ï¼Œå°±æ˜¯LazyInitiliaztionExceptionï¼‰ã€‚ l ä»è®¾è®¡å±‚é¢æ¥è¯´ï¼Œå±•ç¤ºå±‚ä¾èµ–äºæœåŠ¡å±‚ï¼ŒæœåŠ¡å±‚ä¾èµ–äºé¢†åŸŸå±‚ï¼Œå¦‚æœæŠŠDOæš´éœ²å‡ºå»ï¼Œå°±ä¼šå¯¼è‡´å±•ç¤ºå±‚ç›´æ¥ä¾èµ–äºé¢†åŸŸå±‚ï¼Œè¿™è™½ç„¶ä¾ç„¶æ˜¯å•å‘ä¾èµ–ï¼Œä½†è¿™ç§è·¨å±‚ä¾èµ–ä¼šå¯¼è‡´ä¸å¿…è¦çš„è€¦åˆã€‚ å¯¹äºDTOæ¥è¯´ï¼Œä¹Ÿæœ‰ä¸€ç‚¹å¿…é¡»è¿›è¡Œè¯´æ˜ï¼Œå°±æ˜¯DTOåº”è¯¥æ˜¯ä¸€ä¸ªâ€œæ‰å¹³çš„äºŒç»´å¯¹è±¡â€ï¼Œä¸¾ä¸ªä¾‹å­æ¥è¯´æ˜ï¼šå¦‚æœUserä¼šå…³è”è‹¥å¹²ä¸ªå…¶ä»–å®ä½“ï¼ˆä¾‹å¦‚Addressã€Accountã€Regionç­‰ï¼‰ï¼Œé‚£ä¹ˆgetUser()è¿”å›çš„UserInfoï¼Œæ˜¯å¦å°±éœ€è¦æŠŠå…¶å…³è”çš„å¯¹è±¡çš„DTOéƒ½ä¸€å¹¶è¿”å›å‘¢ï¼Ÿå¦‚æœè¿™æ ·çš„è¯ï¼Œå¿…ç„¶å¯¼è‡´æ•°æ®ä¼ è¾“é‡çš„å¤§å¢ï¼Œå¯¹äºåˆ†å¸ƒå¼åº”ç”¨æ¥è¯´ï¼Œç”±äºæ¶‰åŠæ•°æ®åœ¨ç½‘ç»œä¸Šçš„ä¼ è¾“ã€åºåˆ—åŒ–å’Œååºåˆ—åŒ–ï¼Œè¿™ç§è®¾è®¡æ›´ä¸å¯æ¥å—ã€‚å¦‚æœgetUseré™¤äº†è¦è¿”å›Userçš„åŸºæœ¬ä¿¡æ¯å¤–ï¼Œè¿˜éœ€è¦è¿”å›ä¸€ä¸ªAccountIdã€AccountNameã€RegionIdã€RegionNameï¼Œé‚£ä¹ˆï¼Œè¯·æŠŠè¿™äº›å±æ€§å®šä¹‰åˆ°UserInfoä¸­ï¼ŒæŠŠä¸€ä¸ªâ€œç«‹ä½“â€çš„å¯¹è±¡æ ‘â€œå‹æ‰â€æˆä¸€ä¸ªâ€œæ‰å¹³çš„äºŒç»´å¯¹è±¡â€ï¼Œç¬”è€…ç›®å‰å‚ä¸çš„é¡¹ç›®æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿï¼Œè¯¥ç³»ç»Ÿä¸ç®¡ä¸‰ä¸ƒäºŒåä¸€ï¼ŒæŠŠä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰å…³è”å¯¹è±¡éƒ½è½¬æ¢ä¸ºç›¸åŒç»“æ„çš„DTOå¯¹è±¡æ ‘å¹¶è¿”å›ï¼Œå¯¼è‡´æ€§èƒ½éå¸¸çš„æ…¢ã€‚ DO**ä¸PO**çš„åŒºåˆ« â€‹ DOå’ŒPOåœ¨ç»å¤§éƒ¨åˆ†æƒ…å†µä¸‹æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼ŒPOæ˜¯åªå«æœ‰get/setæ–¹æ³•çš„POJOï¼Œä½†æŸäº›åœºæ™¯è¿˜æ˜¯èƒ½åæ˜ å‡ºä¸¤è€…åœ¨æ¦‚å¿µä¸Šå­˜åœ¨æœ¬è´¨çš„åŒºåˆ«ï¼š l DOåœ¨æŸäº›åœºæ™¯ä¸‹ä¸éœ€è¦è¿›è¡Œæ˜¾å¼çš„æŒä¹…åŒ–ï¼Œä¾‹å¦‚åˆ©ç”¨ç­–ç•¥æ¨¡å¼è®¾è®¡çš„å•†å“æŠ˜æ‰£ç­–ç•¥ï¼Œä¼šè¡ç”Ÿå‡ºæŠ˜æ‰£ç­–ç•¥çš„æ¥å£å’Œä¸åŒæŠ˜æ‰£ç­–ç•¥å®ç°ç±»ï¼Œè¿™äº›æŠ˜æ‰£ç­–ç•¥å®ç°ç±»å¯ä»¥ç®—æ˜¯DOï¼Œä½†å®ƒä»¬åªé©»ç•™åœ¨é™æ€å†…å­˜ï¼Œä¸éœ€è¦æŒä¹…åŒ–åˆ°æŒä¹…å±‚ï¼Œå› æ­¤ï¼Œè¿™ç±»DOæ˜¯ä¸å­˜åœ¨å¯¹åº”çš„POçš„ã€‚ l åŒæ ·çš„é“ç†ï¼ŒæŸäº›åœºæ™¯ä¸‹ï¼ŒPOä¹Ÿæ²¡æœ‰å¯¹åº”çš„DOï¼Œä¾‹å¦‚è€å¸ˆTeacherå’Œå­¦ç”ŸStudentå­˜åœ¨å¤šå¯¹å¤šçš„å…³ç³»ï¼Œåœ¨å…³ç³»æ•°æ®åº“ä¸­ï¼Œè¿™ç§å…³ç³»éœ€è¦è¡¨ç°ä¸ºä¸€ä¸ªä¸­é—´è¡¨ï¼Œä¹Ÿå°±å¯¹åº”æœ‰ä¸€ä¸ªTeacherAndStudentPOçš„POï¼Œä½†è¿™ä¸ªPOåœ¨ä¸šåŠ¡é¢†åŸŸæ²¡æœ‰ä»»ä½•ç°å®çš„æ„ä¹‰ï¼Œå®ƒå®Œå…¨ä¸èƒ½ä¸ä»»ä½•DOå¯¹åº”ä¸Šã€‚è¿™é‡Œè¦ç‰¹åˆ«å£°æ˜ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰å¤šå¯¹å¤šå…³ç³»éƒ½æ²¡æœ‰ä¸šåŠ¡å«ä¹‰ï¼Œè¿™è·Ÿå…·ä½“ä¸šåŠ¡åœºæ™¯æœ‰å…³ï¼Œä¾‹å¦‚ï¼šä¸¤ä¸ªPOä¹‹é—´çš„å…³ç³»ä¼šå½±å“å…·ä½“ä¸šåŠ¡ï¼Œå¹¶ä¸”è¿™ç§å…³ç³»å­˜åœ¨å¤šç§ç±»å‹ï¼Œé‚£ä¹ˆè¿™ç§å¤šå¯¹å¤šå…³ç³»ä¹Ÿåº”è¯¥è¡¨ç°ä¸ºä¸€ä¸ªDOï¼Œåˆå¦‚ï¼šâ€œè§’è‰²â€ä¸â€œèµ„æºâ€ä¹‹é—´å­˜åœ¨å¤šå¯¹å¤šå…³ç³»ï¼Œè€Œè¿™ç§å…³ç³»å¾ˆæ˜æ˜¾ä¼šè¡¨ç°ä¸ºä¸€ä¸ªDOâ€”â€”â€œæƒé™â€ã€‚ l æŸäº›æƒ…å†µä¸‹ï¼Œä¸ºäº†æŸç§æŒä¹…åŒ–ç­–ç•¥æˆ–è€…æ€§èƒ½çš„è€ƒè™‘ï¼Œä¸€ä¸ªPOå¯èƒ½å¯¹åº”å¤šä¸ªDOï¼Œåä¹‹äº¦ç„¶ã€‚ä¾‹å¦‚å®¢æˆ·Customeræœ‰å…¶è”ç³»ä¿¡æ¯Contactsï¼Œè¿™é‡Œæ˜¯ä¸¤ä¸ªä¸€å¯¹ä¸€å…³ç³»çš„DOï¼Œä½†å¯èƒ½å‡ºäºæ€§èƒ½çš„è€ƒè™‘ï¼ˆæç«¯æƒ…å†µï¼Œæƒä½œä¸¾ä¾‹ï¼‰ï¼Œä¸ºäº†å‡å°‘æ•°æ®åº“çš„è¿æ¥æŸ¥è¯¢æ“ä½œï¼ŒæŠŠCustomerå’ŒContactsä¸¤ä¸ªDOæ•°æ®åˆå¹¶åˆ°ä¸€å¼ æ•°æ®è¡¨ä¸­ã€‚åè¿‡æ¥ï¼Œå¦‚æœä¸€æœ¬å›¾ä¹¦Bookï¼Œæœ‰ä¸€ä¸ªå±æ€§æ˜¯å°é¢coverï¼Œä½†è¯¥å±æ€§æ˜¯ä¸€å‰¯å›¾ç‰‡çš„äºŒè¿›åˆ¶æ•°æ®ï¼Œè€ŒæŸäº›æŸ¥è¯¢æ“ä½œä¸å¸Œæœ›æŠŠcoverä¸€å¹¶åŠ è½½ï¼Œä»è€Œå‡è½»ç£ç›˜IOå¼€é”€ï¼ŒåŒæ—¶å‡è®¾ORMæ¡†æ¶ä¸æ”¯æŒå±æ€§çº§åˆ«çš„å»¶è¿ŸåŠ è½½ï¼Œé‚£ä¹ˆå°±éœ€è¦è€ƒè™‘æŠŠcoverç‹¬ç«‹åˆ°ä¸€å¼ æ•°æ®è¡¨ä¸­å»ï¼Œè¿™æ ·å°±å½¢æˆä¸€ä¸ªDOå¯¹åº”å¯¹ä¸ªPOçš„æƒ…å†µã€‚ l POçš„æŸäº›å±æ€§å€¼å¯¹äºDOæ²¡æœ‰ä»»ä½•æ„ä¹‰ï¼Œè¿™äº›å±æ€§å€¼å¯èƒ½æ˜¯ä¸ºäº†è§£å†³æŸäº›æŒä¹…åŒ–ç­–ç•¥è€Œå­˜åœ¨çš„æ•°æ®ï¼Œä¾‹å¦‚ä¸ºäº†å®ç°â€œä¹è§‚é”â€ï¼ŒPOå­˜åœ¨ä¸€ä¸ªversionçš„å±æ€§ï¼Œè¿™ä¸ªversionå¯¹äºDOæ¥è¯´æ˜¯æ²¡æœ‰ä»»ä½•ä¸šåŠ¡æ„ä¹‰çš„ï¼Œå®ƒä¸åº”è¯¥åœ¨DOä¸­å­˜åœ¨ã€‚åŒç†ï¼ŒDOä¸­ä¹Ÿå¯èƒ½å­˜åœ¨ä¸éœ€è¦æŒä¹…åŒ–çš„å±æ€§ã€‚ DO**ä¸PO**çš„åº”ç”¨ â€‹ ç”±äºORMæ¡†æ¶çš„åŠŸèƒ½éå¸¸å¼ºå¤§è€Œå¤§è¡Œå…¶é“ï¼Œè€Œä¸”JavaEEä¹Ÿæ¨å‡ºäº†JPAè§„èŒƒï¼Œç°åœ¨çš„ä¸šåŠ¡åº”ç”¨å¼€å‘ï¼ŒåŸºæœ¬ä¸Šä¸éœ€è¦åŒºåˆ†DOä¸POï¼ŒPOå®Œå…¨å¯ä»¥é€šè¿‡JPAï¼ŒHibernate Annotations/hbméšè—åœ¨DOä¹‹ä¸­ã€‚è™½ç„¶å¦‚æ­¤ï¼Œä½†æœ‰äº›é—®é¢˜æˆ‘ä»¬è¿˜å¿…é¡»æ³¨æ„ï¼š l å¯¹äºDOä¸­ä¸éœ€è¦æŒä¹…åŒ–çš„å±æ€§ï¼Œéœ€è¦é€šè¿‡ORMæ˜¾å¼çš„å£°æ˜ï¼Œå¦‚ï¼šåœ¨JPAä¸­ï¼Œå¯ä»¥åˆ©ç”¨@Transientå£°æ˜ã€‚ l å¯¹äºPOä¸­ä¸ºäº†æŸç§æŒä¹…åŒ–ç­–ç•¥è€Œå­˜åœ¨çš„å±æ€§ï¼Œä¾‹å¦‚versionï¼Œç”±äºDOã€POåˆå¹¶äº†ï¼Œå¿…é¡»åœ¨DOä¸­å£°æ˜ï¼Œä½†ç”±äºè¿™ä¸ªå±æ€§å¯¹DOæ˜¯æ²¡æœ‰ä»»ä½•ä¸šåŠ¡æ„ä¹‰çš„ï¼Œéœ€è¦è®©è¯¥å±æ€§å¯¹å¤–éšè—èµ·æ¥ï¼Œæœ€å¸¸è§çš„åšæ³•æ˜¯æŠŠè¯¥å±æ€§çš„get/setæ–¹æ³•ç§æœ‰åŒ–ï¼Œç”šè‡³ä¸æä¾›get/setæ–¹æ³•ï¼Œä½†å¯¹äºHibernateæ¥è¯´ï¼Œè¿™éœ€è¦ç‰¹åˆ«æ³¨æ„ï¼Œç”±äºHibernateä»æ•°æ®åº“è¯»å–æ•°æ®è½¬æ¢ä¸ºDOæ—¶ï¼Œæ˜¯åˆ©ç”¨åå°„æœºåˆ¶å…ˆè°ƒç”¨DOçš„ç©ºå‚æ•°æ„é€ å‡½æ•°æ„é€ DOå®ä¾‹ï¼Œç„¶åå†åˆ©ç”¨JavaBeançš„è§„èŒƒåå°„å‡ºsetæ–¹æ³•æ¥ä¸ºæ¯ä¸ªå±æ€§è®¾å€¼ï¼Œå¦‚æœä¸æ˜¾å¼å£°æ˜setæ–¹æ³•ï¼Œæˆ–æŠŠsetæ–¹æ³•è®¾ç½®ä¸ºprivateï¼Œéƒ½ä¼šå¯¼è‡´Hibernateæ— æ³•åˆå§‹åŒ–DOï¼Œä»è€Œå‡ºç°è¿è¡Œæ—¶å¼‚å¸¸ï¼Œå¯è¡Œçš„åšæ³•æ˜¯æŠŠå±æ€§çš„setæ–¹æ³•è®¾ç½®ä¸ºprotectedã€‚ l å¯¹äºä¸€ä¸ªDOå¯¹åº”å¤šä¸ªPOï¼Œæˆ–è€…ä¸€ä¸ªPOå¯¹åº”å¤šä¸ªDOçš„åœºæ™¯ï¼Œä»¥åŠå±æ€§çº§åˆ«çš„å»¶è¿ŸåŠ è½½ï¼ŒHibernateéƒ½æä¾›äº†å¾ˆå¥½çš„æ”¯æŒï¼Œè¯·å‚è€ƒHibnateçš„ç›¸å…³èµ„æ–™ã€‚ â€‹ åˆ°ç›®å‰ä¸ºæ­¢ï¼Œç›¸ä¿¡å¤§å®¶éƒ½å·²ç»æ¯”è¾ƒæ¸…æ™°çš„äº†è§£VOã€DTOã€DOã€POçš„æ¦‚å¿µã€åŒºåˆ«å’Œå®é™…åº”ç”¨äº†ã€‚é€šè¿‡ä¸Šé¢çš„è¯¦ç»†åˆ†æï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æ€»ç»“å‡ºä¸€ä¸ªåŸåˆ™ï¼šåˆ†æè®¾è®¡å±‚é¢å’Œå®ç°å±‚é¢å®Œå…¨æ˜¯ä¸¤ä¸ªç‹¬ç«‹çš„å±‚é¢ï¼Œå³ä½¿å®ç°å±‚é¢é€šè¿‡æŸç§æŠ€æœ¯æ‰‹æ®µå¯ä»¥æŠŠä¸¤ä¸ªå®Œå…¨ç‹¬ç«‹çš„æ¦‚å¿µåˆäºŒä¸ºä¸€ï¼Œåœ¨åˆ†æè®¾è®¡å±‚é¢ï¼Œæˆ‘ä»¬ä»ç„¶ï¼ˆè‡³å°‘åœ¨å¤´è„‘ä¸­ï¼‰éœ€è¦æŠŠæ¦‚å¿µä¸Šç‹¬ç«‹çš„ä¸œè¥¿æ¸…æ™°çš„åŒºåˆ†å¼€æ¥ï¼Œè¿™ä¸ªåŸåˆ™å¯¹äºåšå¥½åˆ†æè®¾è®¡éå¸¸é‡è¦ï¼ˆå·¥å…·è¶Šå…ˆè¿›ï¼Œå¾€å¾€ä¼šè®©æˆ‘ä»¬è¶Šéº»æœ¨ï¼‰ã€‚ç¬¬ä¸€ç¯‡ç³»åˆ—åšæ–‡æŠ›ç –å¼•ç‰ï¼Œå¤§å”±é¢†åŸŸé©±åŠ¨è®¾è®¡çš„ä¼˜åŠ¿ï¼Œä½†å…¶å®é¢†åŸŸé©±åŠ¨è®¾è®¡åœ¨ç°å®ç¯å¢ƒä¸­è¿˜æ˜¯æœ‰ç§ç§çš„é™åˆ¶ï¼Œéœ€è¦é€‰æ‹©æ€§çš„ä½¿ç”¨ï¼Œæ­£å¦‚æˆ‘åœ¨ã€Šç”°ä¸ƒçš„æ™ºæ…§ã€‹åšæ–‡ä¸­æåˆ°ï¼Œæˆ‘ä»¬ä¸èƒ½æ°¸è¿œçš„ç†æƒ³åŒ–çš„å»é€‰æ‹©æ‰€è°“â€œæœ€å¥½çš„è®¾è®¡â€ï¼Œåœ¨å¿…è¦çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬è¿˜æ˜¯è¦æ•¢äºæ”¾å¼ƒï¼Œå› ä¸ºæœ€åˆé€‚çš„è®¾è®¡æ‰æ˜¯æœ€å¥½çš„è®¾è®¡ã€‚æœ¬æ¥ï¼Œç³»åˆ—ä¸­çš„ç¬¬äºŒç¯‡åšæ–‡åº”è¯¥æ˜¯è®¨è®ºé¢†å–é©±åŠ¨è®¾è®¡çš„é™åˆ¶å’Œå¦‚ä½•é€‰æ‹©æ€§çš„ä½¿ç”¨ï¼Œä½†è¯·åŸè°…æˆ‘çš„ç–å¿½ï¼Œä¸‹ä¸€ç¯‡ç³»åˆ—åšæ–‡ä¼šæŠŠè¿™ä¸ªä¸»é¢˜è¡¥ä¸Šï¼Œæ•¬è¯·å…³æ³¨ã€‚","categories":[{"name":"Java","slug":"Java","permalink":"http://www.octber.xyz/categories/Java/"}],"tags":[{"name":"Java","slug":"Java","permalink":"http://www.octber.xyz/tags/Java/"}]},{"title":"2019.7.30æ—¥æŠ¥","slug":"2019-7-30æ—¥æŠ¥","date":"2019-07-30T01:26:08.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/07/30/2019-7-30æ—¥æŠ¥/","link":"","permalink":"http://www.octber.xyz/2019/07/30/2019-7-30%E6%97%A5%E6%8A%A5/","excerpt":"2019.7.30æ—¥æŠ¥","text":"2019.7.30æ—¥æŠ¥ ä¸€æ—¥æ¦‚è¿° ä¸»è¦å†…å®¹è®°å½•åœ¨ã€é—®é¢˜è®°å½•ã€‘ä¸­ 1.ä¸Šåˆä¸Šåˆä¸»è¦è¿›è¡Œå­¦ä¹ ï¼š svn å‰åå°å¯¹æ¥æµç¨‹ ç®¡ç†æ§åˆ¶å°å·¥ä½œåŸç† å‰ç«¯æ¨¡æ¿ å…¶ä»– 2.ä¸‹åˆ ä¸šåŠ¡é€»è¾‘æ¢ç©¶ åç«¯æ¥å£ä¹¦å†™ å…¶ä»– é—®é¢˜è®°å½• ã€å‘ç°é—®é¢˜ã€‘ï¼šå­¦ä¹ è¿‡ç¨‹ä¸­å‘ç°çš„æ–°é—®é¢˜ ã€è®¡åˆ’ä»»åŠ¡ã€‘ï¼šå‰ä¸€å¤©è®¡åˆ’è¦å®Œæˆçš„ä»»åŠ¡ ã€å­¦ä¹ è®°å½•ã€‘ï¼šè®°å½•å¤‡å¿˜ 1.ã€å‘ç°é—®é¢˜ã€‘æ²¡æœ‰ä½¿ç”¨svnæ£€å‡ºé¡¹ç›®ï¼Œå¯¼è‡´æ— æ³•æ›´æ–°å’Œä¸Šä¼ ä»£ç ã€‚ äº§ç”ŸåŸå› ï¼š åˆšæ¥çš„æ—¶å€™æ²¡æœ‰åŸŸè´¦å·ï¼Œå¤§å®¶å¤åˆ¶ä»£ç ç»™æˆ‘ï¼Œæ²¡æœ‰ç›´æ¥ä»svnæ£€å‡ºä»£ç  æŠ€æœ¯é—®é¢˜ï¼š ä¹‹å‰ä½¿ç”¨Gitï¼Œæ²¡æœ‰ä½¿ç”¨è¿‡SVN è§£å†³æ–¹æ¡ˆï¼š å­¦ä¹ svnçš„å…·ä½“ä½¿ç”¨æ–¹æ³•â€”â€”ä½¿ç”¨TortoiseSVN æ­£ç¡®æ£€å‡ºæ‰€æœ‰æºä»£ç æ–‡ä»¶ï¼Œå°±å¯ä»¥çœ‹åˆ°å½“å‰ä»£ç çš„çŠ¶æ€ï¼Œæœ‰svnçš„å›¾æ ‡æ ‡æ³¨ svnæºä»£ç åœ°å€ï¼šhttps://192.168.57.155/HZYY/FIS1.0/trunk/Sources/0_FIS/ 2.ã€è®¡åˆ’ä»»åŠ¡ã€‘å‰åç«¯å¯¹æ¥é—®é¢˜+ç®¡ç†æ§åˆ¶å°ååŒå·¥ä½œåŸç†é—®é¢˜é©±åŠ¨å­¦ä¹  2.1å·¦è¾¹æ èœå•å¦‚ä½•ç”Ÿæˆ2.1.1åå°å®šä¹‰ä¸šåŠ¡åŸºç¡€ï¼ˆBGBï¼‰ä¸­èœå•é¦–å…ˆåœ¨/initData/BGB_TMENU.jsonä¸­å®šä¹‰ï¼Œæ•°æ®æ ¼å¼ä¸ºï¼š 1234567891011121314151617181920&#123; &quot;company_id&quot;: 0, &quot;menu_code&quot;:&quot;050409&quot;, &quot;menu_name&quot;:&quot;äº§å“å•å…ƒç»„åˆ&quot;, &quot;menu_parent_code&quot;:&quot;0504&quot;, &quot;subsys_no&quot;:3340, &quot;menu_name_eng&quot;:&quot;FundunitCombineView&quot;, &quot;url&quot;:&quot;/baseinfo/general/unitgrid/index&quot;, &quot;window_show&quot;:&quot;fundunitCombineView&quot;, &quot;create_type&quot;:&quot;&quot;, &quot;sort_no&quot;:9, &quot;field_status&quot;:&quot;1&quot;, &quot;icon&quot;:&quot;&quot;, &quot;operator_mode&quot;:0, &quot;group_code&quot;:&quot;&quot;, &quot;custom_industry_code&quot;:&quot;&quot;, &quot;authorize_code&quot;:&quot;&quot;, &quot;custom_id&quot;:&quot;&quot;, &quot;bizframeurl&quot;:&quot;/bgb/#/baseinfo/general/unitgrid/indexM050409&quot;&#125; é‡Œé¢å®šä¹‰äº†ä¸€äº›å…³é”®ä¿¡æ¯ï¼Œå¦‚åç§°menu_nameï¼Œå‰ç«¯æ–‡ä»¶è·¯ç”±urlï¼Œç­‰ã€‚ åç«¯ä¼šåœ¨è¿è¡Œæ—¶ï¼Œæ ¹æ®è¿™äº›ä¿¡æ¯ï¼Œè¿›è¡Œåˆå§‹åŒ–èœå•æ“ä½œã€‚ 2.1.2å‰ç«¯åŠ¨æ€è·¯ç”±è¡¨ src\\store\\modules\\permission.jsä¸‹çš„permission.jsæ–‡ä»¶ç”¨äºåŠ¨æ€ç”Ÿæˆè·¯ç”±è¡¨,æ ¹æ®åå°ä¼ å›çš„å¯ç”¨menusæˆ–è€…ä¸šåŠ¡æ ‡è¯†,é€’å½’è¿‡æ»¤å¼‚æ­¥è·¯ç”±è¡¨ï¼Œè¿”å›ç¬¦åˆç”¨æˆ·è§’è‰²æƒé™çš„è·¯ç”±è¡¨ æ ¹æ®è¾“å‡º,å¯ä»¥çœ‹åˆ°åŠ¨æ€ç”Ÿæˆçš„è·¯ç”±çš„ä¸€éƒ¨åˆ†: è¯¦ç»†å†…å®¹ è·å–urlçš„apiä¸º: 1import &#123; filedir &#125; from &#x27;@/api/url&#x27;; è€Œfiledirçš„å†…å®¹ä¸»è¦å°±æ˜¯ä¸€ä¸ªå¯¹åº”å…³ç³» 123456789101112131415export const filedir = &#123; 3339: &#x27;/bg/&#x27;, 3349: &#x27;/bm/&#x27;, 3344: &#x27;/liq/&#x27;, 3348: &#x27;/zx/&#x27;, 3343: &#x27;/jys/&#x27;, 3346: &#x27;/yhj/&#x27;, 3345: &#x27;/otc/&#x27;, 3342: &#x27;/intb/&#x27;, 3347: &#x27;/der/&#x27;, 3341: &#x27;/ins/&#x27;, 3340: &#x27;/bgb/&#x27;, 3354: &#x27;/bgs/&#x27;, 3355: &#x27;/bgb/&#x27;,&#125;; é’ˆå¯¹çš„æ˜¯ä¸¤ä¸ªè·¯ç”±è¡¨: 12let asyncRouterMap = new Map();const asyncMenuPathMap = new Map(); è¿™ä¸¤ä¸ªMapç”¨äºå‚¨å­˜å¯¹åº”çš„Routerå’ŒMenu,å…·ä½“çš„æ–¹æ³•ä¸º: 123456789/** * æ ¹æ®åå°ä¼ å›çš„å¯ç”¨menusæˆ–è€…ä¸šåŠ¡æ ‡è¯†,é€’å½’è¿‡æ»¤å¼‚æ­¥è·¯ç”±è¡¨ï¼Œè¿”å›ç¬¦åˆç”¨æˆ·è§’è‰²æƒé™çš„è·¯ç”±è¡¨ * @param router * @param menus * @param type è¿‡æ»¤ç±»å‹ 1èœå•è¿‡æ»¤ï¼Œ2ä¸šåŠ¡æ ‡è¯†è¿‡æ»¤ */function filterRouterByArr(router, menus) &#123; ...&#125; è¿™ä¸ªæ–¹æ³•æ˜¯é€šè¿‡ä¸€ä¸ªé€’å½’,å¯¹Menusä¸­çš„æ‰€æœ‰Menusä¸­çš„æ‰€æœ‰childrenè¿›è¡Œéå†,å¯¹æ¯ä¸€ä¸ªmenuä¸­çš„itemçš„å±æ€§è¿›è¡Œå¤„ç†å’Œå­˜æ”¾:(éƒ¨åˆ†ä»£ç ) 12345let tempComName = `M$&#123;menu.menuCode&#125;`;let tempUrl = menu.url;let tempName = menu.menuName;let tempId = menu.menuCode;let tempHidden = menu.url.trim() === &#x27;&#x27;; å¤„ç†å¥½åå°è£…åˆ°ä¸€ä¸ªrouteé‡Œé¢ 123456789101112131415161718const route = &#123; path: tempUrl + tempComName, name: tempName, hidden: tempHidden, meta: &#123; icon: menu.icon, isKeepAlive: true, // æˆ–è€…ç›´æ¥ç½®ä¸ºtrue comName: tempComName, rootId: menu.subsysNo, id: tempId, // ç”¨äºtabsåˆ‡æ¢æ—¶å¯ä»¥å®šä½åˆ°èœå•æ  windowShow: menu.windowShow, createType: menu.createType, sysPre: `$&#123;filedir[menu.subsysNo]&#125;#`, // subsysNo: menu.subsysNo, &#125;, redirect: menu.redirect, component: tempComp, // resolve =&gt; require([`@/views$&#123;tempUrl&#125;.vue`], resolve), &#125;; è¿™å°±ä¸€ä¸ªåŠ¨æ€routeäº†,æˆ‘ä»¬åªéœ€è¦æŠŠè¿™ä¸ªrouteæ”¾åˆ°routerå’Œä¸¤ä¸ªMapä¸­å³å¯ 123router.push(route);asyncRouterMap.set(tempId, route);asyncMenuPathMap.set(route.path, tempId); å¯ä»¥çœ‹åˆ°,æœ€åå¾—åˆ°çš„ä¸€ä¸ªå®Œæ•´çš„æ˜¯route: è¿™ä¸ªå‡½æ•°çš„åŠŸèƒ½å°±æ˜¯è¿”å›ä¸€ä¸ªreturn router; persimmon.jsçš„åŠŸèƒ½ä¸ä»…ä»…æ˜¯åšè¿™æ ·ä¸€ä¸ªrouter,è¿™åªæ˜¯ä¸€ä¸ªå·¥å…·,,æˆ‘ä»¬çœŸæ­£éœ€è¦è¿”å›çš„æ˜¯ä¸€ä¸ªpermissionçš„å¯¹è±¡,ä»–åº”è¯¥æ‹¥æœ‰å“ªäº›å±æ€§äº†? 1234567891011121314151617const permission = &#123; state: &#123; // routers: constantRouterMap, addRouters: [], searchRoute: [], // general: &#123;&#125;, routerMap: [], gridflash: &#123;&#125;, menuPathMap: [], &#125;, mutations: &#123; ... &#125;, action: &#123; ... &#125;&#125; åœ¨actionä¸­å°±åšäº†ä¸€äº›å’Œåˆšæ‰å‡½æ•°æœ‰å…³çš„æ“ä½œ: 12345678910111213// æ ¹æ®æœåŠ¡ç«¯èœå•ç”Ÿæˆè·¯ç”±GenerateRoutesByMenus(&#123; commit &#125;, data) &#123; return new Promise((resolve) =&gt; &#123; asyncRouterMap = new Map(); const accessedRouters = filterRouterByArr([], data); commit(&#x27;ADD_GRIDFLASH&#x27;, accessedRouters); commit(&#x27;SET_ROUTERS&#x27;, accessedRouters); commit(&#x27;SEARCH_ROUTE&#x27;, accessedRouters); commit(&#x27;SET_ROUTERMAP&#x27;, asyncRouterMap); commit(&#x27;SET_MENUPATH&#x27;, asyncMenuPathMap); resolve(); &#125;);&#125; å¦‚ä½•ç†è§£è¿™é‡Œä½¿ç”¨Promiseçš„æ–¹æ³•,é¦–å…ˆé€šè¿‡å»–é›ªå³°å¤§ç¥å¯¹Promiseçš„ç†è§£å…¥æ‰‹:https://www.liaoxuefeng.com/wiki/1022910821149312/1023024413276544 ,è¿™ç§â€œæ‰¿è¯ºå°†æ¥ä¼šæ‰§è¡Œâ€çš„å¯¹è±¡åœ¨JavaScriptä¸­ç§°ä¸ºPromiseå¯¹è±¡,å¯è§Promiseæœ€å¤§çš„å¥½å¤„æ˜¯åœ¨å¼‚æ­¥æ‰§è¡Œçš„æµç¨‹ä¸­ï¼ŒæŠŠæ‰§è¡Œä»£ç å’Œå¤„ç†ç»“æœçš„ä»£ç æ¸…æ™°åœ°åˆ†ç¦»äº†,åœ¨åšå¤šä¸ªä»»åŠ¡çš„æ—¶å€™,å°¤ä¸ºæœ‰ç”¨ï¼Œjob1.then(job2).then(job3).catch(handleError); åœ¨è¿™é‡Œæˆ‘ä»¬ç»™çš„ç¬¬ä¸€ä¸ªå‚æ•°routeræ˜¯[],ç¬¬äºŒä¸ªå‚æ•°menuå°±æ˜¯data è¿”å›è¿™ä¸ªPromise 2.2åå°Api+ç®¡ç†æ§åˆ¶å°2.2.1POMå®šä¹‰çš„SpringClodæ¨¡å—1234&lt;modules&gt; &lt;module&gt;am4-bgb-service-manage&lt;/module&gt; &lt;module&gt;am4-bgb-service-manage-api&lt;/module&gt;&lt;/modules&gt; 2.2.2åå°ä¸ºä»€ä¹ˆæ²¡æœ‰Controllerï¼Ÿ am4-bgb-service-manage-apiä¸­å®šä¹‰äº†Apiçš„å®šä¹‰ï¼Œä¸»è¦ä»¥æ¥å£interfaceä¸ºä¸» am4-bgb-service-manageä¸»è¦ä¸ºå®ç°ç±»ï¼Œå®ç°äº†å…·ä½“çš„ä¸šåŠ¡é€»è¾‘ å…³é”®åœ¨äºam4-bgb-service-manage-apiä¸­Serviceä½¿ç”¨çš„è‡ªå®šä¹‰æ³¨è§£ï¼š @CloudFunction(functionId= Functions.INSERT_FUNDACCOUNT, desc = &quot;æ–°å¢åŸºé‡‘è´¦æˆ·&quot;) å’Œ@CloudServiceï¼Œä»–ä»¬éƒ½æ¥è‡ªcom.hundsun.jrescloud.rpc.annotationè¿™ä¸ªåŒ…ä¸‹ï¼Œä»–ä»¬çš„ä½œç”¨æ˜¯ååŒç®¡ç†æ§åˆ¶å°ï¼Œæ³¨å†ŒServiceï¼Œä»è€Œçœå»äº†Controlleræ¨¡å—ï¼Œç”±ç®¡ç†æ§åˆ¶å°ç»Ÿä¸€ç®¡ç†Api é€šè¿‡å¯è§†åŒ–çš„ä¸Šä¸‹çº¿å’Œæµæ§ï¼Œèƒ½å¤Ÿæ›´å¥½åœ°è¿›è¡ŒApiçš„ç®¡ç†ï¼ŒåŒæ—¶å½“Apiè¾ƒå¤šæ—¶ä¹Ÿæ–¹ä¾¿æŸ¥æ‰¾å’Œæ§åˆ¶ã€‚ è€Œå‰ç«¯åˆ™é€šè¿‡Apiçš„åå­—è¿›è¡Œè°ƒç”¨ï¼š 123async insertFundAccountInfo(FundAccount) &#123; return this.post(&#x27;insertFundAccount&#x27;, FundAccount);&#125; 3.ã€å­¦ä¹ è®°å½•ã€‘å›½é™…åŒ–3.1å›½é™…åŒ–é…ç½® src\\assets\\locale\\default\\zh-CN.js src\\assets\\locale\\default\\en-US.js å…¥å£æ–‡ä»¶é…ç½®ä¸­æ–‡ï¼š 123import VueI18n from &#x27;vue-i18n&#x27;;import zhHuiLocale from &#x27;h_ui/dist/locale/zh-CN&#x27;;import zhLocale from &#x27;@/assets/locale/default/zh-CN&#x27;; 3.2å›½é™…åŒ–ä½¿ç”¨ å…·ä½“ä½¿ç”¨ï¼š 1234&lt;h-button type=&quot;ghost&quot; size=&quot;small&quot; @click=&quot;addFispBankCode&quot; &gt;&#123;&#123;$t(&#x27;fans.common.add&#x27;)&#125;&#125;&lt;/h-button&gt; ä½¿ç”¨$t(&#39;fans.common.add&#39;)æ¥æ˜¾ç¤ºæ·»åŠ æ–‡å­—ï¼Œå¦‚æœé…ç½®ä¸ºè‹±æ–‡åˆ™æ˜¾ç¤ºadd å¦‚ä½•åˆ‡æ¢è¯­è¨€ï¼Ÿ this.$i18n.locale=zh-CNæˆ–this.$i18n.locale=en-USè¿›è¡Œåˆ‡æ¢ vue-i18n æ•°æ®æ¸²æŸ“çš„æ¨¡æ¿è¯­æ³• $t(&#39;fans.common.add&#39;) 4.ã€å­¦ä¹ è®°å½•ã€‘åå°æ¥å£è§„èŒƒä¸é€»è¾‘4.1æ¥å£è§„èŒƒ4.1.1@Valid éªŒè¯è§„èŒƒç”¨äºéªŒè¯æ³¨è§£æ˜¯å¦ç¬¦åˆè¦æ±‚ï¼Œç›´æ¥åŠ åœ¨å˜é‡ä¹‹å‰ï¼Œåœ¨å˜é‡ä¸­æ·»åŠ éªŒè¯ä¿¡æ¯çš„è¦æ±‚ï¼Œå½“ä¸ç¬¦åˆè¦æ±‚æ—¶å°±ä¼šåœ¨æ–¹æ³•ä¸­è¿”å›message çš„é”™è¯¯æç¤ºä¿¡æ¯ã€‚ 4.1.2@NotNull/@NotBlank/@NotEmptyçš„åŒºåˆ«å’Œçº¦æŸ @NotNull CharSequence, Collection, Map å’Œ Array å¯¹è±¡ä¸èƒ½æ˜¯ null, ä½†å¯ä»¥æ˜¯ç©ºé›†ï¼ˆsize = 0ï¼‰ã€‚ @NotEmpty CharSequence, Collection, Map å’Œ Array å¯¹è±¡ä¸èƒ½æ˜¯ null å¹¶ä¸”ç›¸å…³å¯¹è±¡çš„ size å¤§äº 0ã€‚ @NotBlank String ä¸æ˜¯ null ä¸”å»é™¤ä¸¤ç«¯ç©ºç™½å­—ç¬¦åçš„é•¿åº¦ï¼ˆtrimmed lengthï¼‰å¤§äº 0ã€‚ æ‰€ä»¥è¯´å¯¹äºä¸€èˆ¬çš„DTOè€Œè¨€ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨@NotNullï¼Œå¦‚æœæ˜¯Stringï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨@NotBlankã€‚ 4.1.3æ³¨é‡Šè§„èŒƒ å‡½æ•°åŠŸèƒ½æ³¨é‡Š å‡½æ•°å‚æ•°æ³¨é‡Š å‡½æ•°è¿”å›å€¼æ³¨é‡Š 5.ã€è®¡åˆ’ä»»åŠ¡ã€‘æ–°å¢åŸºé‡‘è´¦å·ä¸šåŠ¡é€»è¾‘5.1æ¥å£æ•°æ® é”€å”®æœºæ„ èµ„ç®¡äº§å“ äº¤æ˜“è´¦æˆ· TA 5.2ç›¸å…³æ•°æ®è¡¨ otc_tagentaccountAppï¼ˆç¬¬ä¸‰æ–¹ä»£é”€è´¦å·ç”³æŠ¥è¡¨ï¼‰ æ­¤è¡¨ä½äºBGæ•°æ®åº“ è¡¨å¤‡æ³¨ å­—æ®µå‘½åå¤§éƒ¨éœ€è¦ä¸å¤–éƒ¨æ¥å£è§„å®šå­—æ®µåç»Ÿä¸€ uniqueçº¦æŸå­—æ®µ Name Type NULL Default Extras Comment company_id int(11) No agentaccountapp_id int(11) No éœ€è¦å’Œotc_ttradeorderè¡¨ï¼Œå…±ç”¨è‡ªå¢åºåˆ—ã€‚ ç”³è¯·ç¼–å·ï¼Œè‡³å°‘ä¿è¯å½“å¤©å†…ä¸èƒ½é‡å¤ã€‚ date numeric(8,0) No é—®é¢˜ï¼šæ‰¾ä¸åˆ°otc_ttradeorderè¡¨ï¼Ÿï¼Ÿ otc_TAGENTINVESTFUNDINFOï¼ˆä»£é”€åŸºé‡‘è¡¨â€”è·å–TAä»£ç ï¼‰ é—®é¢˜ï¼šæ‰¾ä¸åˆ°è¿™å¼ è¡¨ï¼Ÿï¼Ÿ hisotc_tagentaccountAppï¼ˆå½’æ¡£è¡¨ï¼‰ é—®é¢˜ï¼šæ‰¾ä¸åˆ°è¿™å¼ è¡¨ï¼Ÿï¼Ÿ bgb_ttradeaccountï¼ˆäº¤æ˜“è´¦å·è¡¨ï¼‰ æ­¤è¡¨åœ¨BGBå’ŒBGä¸­éƒ½æœ‰ é—®é¢˜ï¼šä¸ºä»€ä¹ˆBGBæ•°æ®åº“è¡¨çš„ç¼–ç é›†æ˜¯GBKè€Œä¸æ˜¯UTF-8? 5.3ä¸šåŠ¡é€»è¾‘ é¦–å…ˆé€šè¿‡ä»£é”€åŸºé‡‘è¡¨â€”è·å–TAä»£ç ï¼Œæ‹¿åˆ°TAä»£ç å’Œå…¶ä»–çš„æ¥å£æ•°æ®ï¼Œå¡«å†™åˆ°otc_tagentaccountApp(ä¸‰æ–¹ä»£é”€è´¦å·ç”³æŠ¥è¡¨)ä¸­ ç”³æŠ¥æˆåŠŸåï¼ŒåŸºé‡‘è´¦å·å›å¡«åˆ°bgb_tfundaccount æ˜æ—¥è®¡åˆ’ ç»§ç»­ç ”ç©¶ä¸šåŠ¡é€»è¾‘ çœ‹æ‡‚åå°å°è£…çš„æŒä¹…å±‚ä»£ç é€»è¾‘ å‰ç«¯æœ‰é¡µé¢å°±ç»§ç»­åš ç­‰å¾…æ–°ä»»åŠ¡å¸ƒç½®","categories":[{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"http://www.octber.xyz/categories/%E6%97%A5%E8%AE%B0/"}],"tags":[{"name":"æ—¥æŠ¥","slug":"æ—¥æŠ¥","permalink":"http://www.octber.xyz/tags/%E6%97%A5%E6%8A%A5/"}]},{"title":"2019.7.29æ—¥æŠ¥","slug":"2019-7-29æ—¥æŠ¥","date":"2019-07-29T10:07:56.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/07/29/2019-7-29æ—¥æŠ¥/","link":"","permalink":"http://www.octber.xyz/2019/07/29/2019-7-29%E6%97%A5%E6%8A%A5/","excerpt":"2019.7.29æ—¥æŠ¥","text":"2019.7.29æ—¥æŠ¥ ä¸Šåˆ ä¼šè®® ä»»åŠ¡åˆ†é… kpiè¯¦æƒ… å­¦ä¹ HUIç›¸å…³ç»„ä»¶ ä¸‹åˆ å®Œæˆå¢å¼€åŸºé‡‘è´¦æˆ·é¡µé¢ åŸå‹ï¼š æ•ˆæœï¼š é—ç•™é—®é¢˜ï¼š æœ¬é¡µé¢ä¸ºçˆ¶é¡µé¢å¼¹çª—é¡µï¼Œéœ€è¦æ¨é‘«åšå®Œè°ƒç”¨ æœ¬é¡µé¢æäº¤çš„åå°æ¥å£è¿˜æ²¡æœ‰åšå®Œ è§£å†³æ–¹æ¡ˆï¼š 1. ç­‰å¾…æ¨é‘«è°ƒç”¨æ¥å£ï¼Œæä¾›å®é™…æ•°æ® 2. ç»§ç»­å­¦ä¹ åå°ä¸šåŠ¡é€»è¾‘ 3. ç»§ç»­å­¦ä¹ åç«¯æ¡†æ¶æŠ€æœ¯æµç¨‹ äº†è§£äº†å‰ç«¯ä»£ç ç»„æˆ å­¦ä¹ äº†æ•°æ®åº“ç›¸å…³è¡¨å†…å®¹ï¼Œäº†è§£ä¸šåŠ¡é€»è¾‘ æ˜æ—¥è®¡åˆ’ å®Œæˆä»Šæ—¥é—ç•™é—®é¢˜ å¯¹æ¥æ¥å£ï¼Œå®Œæˆåç«¯å¼€å‘å’Œå‰ç«¯é¡µé¢å¯¹æ¥ äº†è§£å‰åç«¯å®Œæ•´æµç¨‹ ç­‰å¾…ä½œæ£’å¸ƒç½®æ–°ä»»åŠ¡","categories":[{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"http://www.octber.xyz/categories/%E6%97%A5%E8%AE%B0/"}],"tags":[{"name":"æ—¥æŠ¥","slug":"æ—¥æŠ¥","permalink":"http://www.octber.xyz/tags/%E6%97%A5%E6%8A%A5/"}]},{"title":"åŸºäºåœ°ç‚¹LBSçš„O2Oç°åœºé—®ç­”ç§»åŠ¨åº”ç”¨","slug":"åŸºäºåœ°ç‚¹LBSçš„O2Oç°åœºé—®ç­”ç§»åŠ¨åº”ç”¨","date":"2019-07-29T01:06:30.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/07/29/åŸºäºåœ°ç‚¹LBSçš„O2Oç°åœºé—®ç­”ç§»åŠ¨åº”ç”¨/","link":"","permalink":"http://www.octber.xyz/2019/07/29/%E5%9F%BA%E4%BA%8E%E5%9C%B0%E7%82%B9LBS%E7%9A%84O2O%E7%8E%B0%E5%9C%BA%E9%97%AE%E7%AD%94%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/","excerpt":"å‰è¨€å…¨å›½è®¡ç®—æœºè®¾è®¡å¤§èµ›-å›½å®¶èµ›-èŠœæ¹–-2019å¹´8æœˆ8æ—¥","text":"å‰è¨€å…¨å›½è®¡ç®—æœºè®¾è®¡å¤§èµ›-å›½å®¶èµ›-èŠœæ¹–-2019å¹´8æœˆ8æ—¥ 1.ä½œå“æ ¸å¿ƒ1.1å…³æ³¨ç§’çº§éœ€æ±‚1.1.1ç”¨æˆ·å®šä½ å®šä½å“ªäº›ç”¨æˆ·ï¼Ÿï¼ˆä½œå“ä»·å€¼ï¼Ÿï¼‰ ç”Ÿæ´»èŠ‚å¥å¿«ï¼Œå¯¹è‡ªå·±ç”Ÿæ´»è®¡åˆ’ç²¾å‡†çš„å·¥ä½œäººå‘˜â€”â€”ä»–ä»¬å…³æ³¨è‡ªå·±æ¥ä¸‹æ¥è¡Œç¨‹çš„ç»†èŠ‚å˜åŒ– ä¸æ„¿èŠ±è´¹ä¸å¿…è¦æ—¶é—´å’Œç²¾åŠ›åœ¨æœªçŸ¥çš„æ—¶é—´ä¸Šçš„æ™®é€šå±…æ°‘â€”â€”ä»–ä»¬å…³æ³¨è‡ªå·±çš„ç”Ÿæ´»å“è´¨ å¤§åŸå¸‚ä¸­ç”Ÿæ´»èŠ‚å¥è¾ƒå¿«çš„äººå‘˜ é«˜çº§ç™½é¢†ï¼šç”Ÿæ´»è®¡åˆ’äº•äº•æœ‰æ¡ã€ä¸Šä¸‹ç­èŠ‚å¥è¾ƒå¿« å¿«é€’è¡Œä¸šï¼šå…³æ³¨æ—¶æ—¶çš„è·¯å†µã€ç›®æ ‡åœ°ç‚¹çš„ ä¸€èˆ¬å°åŒºä½æˆ· ä¸€èˆ¬å¥³æ€§ï¼šè”ç»œå½“ä¸‹æ—¶æŸåœ°ç‚¹çš„å…¶ä»–äººï¼Œé¡ºè·¯å¸®å¿™ï¼ˆè´­ç‰©ç­‰ï¼‰ ä¸€èˆ¬ç”·æ€§ï¼šå…³æ³¨æŸäº›å¨±ä¹åœºæ‰€å½“ä¸‹çŠ¶å†µï¼ˆç½‘å§ã€å¥èº«é¦†ï¼‰ å®¶é•¿ï¼šå¯¹äºå­©å­å¿…ç»çš„ä¸€äº›å…³é”®è·¯æ®µæˆ–å­¦æ ¡çš„ä¿¡æ¯èƒ½è¿…é€Ÿè·å¾—ä¸€æ‰‹ä¿¡æ¯ 1.1.2ç”¨æˆ·éœ€æ±‚ ç”¨æˆ·éœ€æ±‚æ˜¯ä»€ä¹ˆï¼Ÿ ä»–ä»¬ä¸å¸Œæœ›é€šè¿‡éå¸¸å®˜æ–¹çš„æ¸ é“è·å–ä¿¡æ¯ï¼Œä»–ä»¬æ›´å¸Œæœ›è·å¾—â€œæ¥åœ°æ°”â€çš„å›å¤ ä»–ä»¬å¸Œæœ›è‡ªå·±çš„éœ€æ±‚èƒ½å¤Ÿç«‹åˆ»è¢«æ»¡è¶³ï¼Œå› ä¸ºä»–ä»¬çš„éœ€æ±‚å¾€å¾€ä¸æ˜¯å¾ˆéš¾ ä»–ä»¬å¸Œæœ›è‡ªå·±è‡ªå·±èƒ½æ—¶åˆ»æŠŠæ¡å…³é”®åœ°ç‚¹çš„å…·ä½“ä¿¡æ¯ï¼Œç±»ä¼¼äºä¸€ç§â€œå…³æ³¨ã€ç›‘æ§â€ ç”¨æˆ·éœ€è¦ä¸€ç§å°å‹çš„éå®˜æ–¹ä¸ºä¸»çš„å®æ—¶ä¿¡æ¯æ¸ é“ã€‚ å¤‡æ³¨ï¼šæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æŠ–éŸ³ä¸Šå¾ˆå¤šä¿¡æ¯ï¼Œéƒ½æ˜¯éå®˜æ–¹çš„ï¼Œæ™®é€šäººè´¡çŒ®çš„ï¼Œä½†æ˜¯å¤§å®¶æ›´æ„¿æ„ç›¸ä¿¡è¿™ç§æ¸ é“çš„ä¿¡æ¯ï¼Œå› ä¸ºè¿™ç§ä¿¡æ¯å¾€å¾€æ²¡æœ‰åˆ©ç›Šå¼•å¯¼è¶‹å‘ï¼Œå¾€å¾€æœ€çœŸå®æœ€è´´åˆ‡ã€‚ å¤‡æ³¨ï¼šåº”ç”¨é¢†åŸŸéå¸¸å¹¿æ³›ï¼Œä½†æœ€ç»å…¸çš„è¿˜æ˜¯é’ˆå¯¹å…³é”®åœ°ç‚¹ï¼Œå¯†é›†äººç¾¤ï¼Œä¿¡æ¯çˆ†ç‚¸çš„åœºæ‰€ã€‚ 1.2å¦‚ä½•å®šä¹‰æˆ‘ä»¬çš„â€œæ–°å‹â€O2Oæ¨¡å¼ ä»€ä¹ˆæ˜¯ä¼ ç»ŸO2Oæ¨¡å¼ï¼Ÿ ä»€ä¹ˆæ˜¯æˆ‘ä»¬çš„â€œæ–°å‹O2Oâ€æ¨¡å¼ï¼Ÿ ä¼ ç»Ÿçš„O2Oæ¨¡å¼å¯¹äºå¸‚åœºæ¥è¯´ï¼Œæœ€é‡è¦çš„å¹¶ä¸æ˜¯çº¿ä¸Šäº¤æµå’Œäº¤æ˜“ï¼Œè€Œæ˜¯å°†å®¢äººå¼•æµåˆ°å®ä½“åº—ï¼ŒåŠ ä»¥åˆ©ç”¨ã€‚ è€Œæˆ‘ä»¬å¯¹O2Oè¿›è¡Œåˆ›æ–°å‘å±•ï¼Œæˆ‘ä»¬åœ¨æ³¨é‡çº¿ä¸ŠåŸºäºåœ°ç‚¹å®æ—¶ä¿¡æ¯å…±äº«çš„åŒæ—¶ï¼Œå°†å®¢æˆ·æœ‰å¼•å¯¼æ€§ï¼ˆéµå¾ªå¸‚åœºåŸåˆ™ï¼‰åœ°å¼•æµåˆ°åˆé€‚çš„å®ä½“åœ°ç‚¹ï¼Œä»è€Œå®ç°ç”¨æˆ·çš„å¼•æµå’Œå‰æœŸå®šä½ï¼Œçº¿ä¸‹åœ°ç‚¹å¾€å¾€æ¥å—å¤ªå¤šæ— ç”¨å®¢æˆ·ï¼Œè¿™äº›å®¢æˆ·ä¸èƒ½å¸¦æ¥æœ‰ç”¨çš„ä»·å€¼å´å ç”¨äº†ä»–ä»¬æœ¬èº«çš„æ—¶é—´å’Œçº¿ä¸‹åœºæ‰€çš„èµ„æºï¼Œè¿™å¯¹äºç”¨æˆ·å’Œçº¿ä¸‹éƒ½æ˜¯ä¸å¸Œæœ›çœ‹åˆ°çš„ã€‚è€Œæˆ‘ä»¬è¿›è¡Œçš„â€œæ–°å‹O2Oâ€æ¨¡å¼ï¼Œä¸ºè§£å†³è¿™ä¸€éš¾é¢˜åšå‡ºäº†è°ƒæ•´ã€‚ å¦‚æœç”¨æˆ·ä½¿ç”¨æœ¬æ¬¾APPï¼Œä»–å¯èƒ½ä¸ä¼šå‰å¾€ä»–ä¸å€¼å¾—å»çš„åœ°ç‚¹ï¼Œä¸ä¼šå› æ­¤æµªè´¹æ—¶é—´ï¼Œæµªè´¹å…¬ä¼—èµ„æº å¦‚æœç”¨æˆ·ä½¿ç”¨æœ¬æ¬¾APPï¼Œä»–å¯èƒ½ä¼šè·å¾—åŸºäºåœ°ç‚¹çš„ä¸€æ‰‹ä¿¡æ¯ï¼Œæœ‰åˆ©äºä¸ªäººè®¡åˆ’å®‰æ’ï¼Œæ›´æœ‰åˆ©äºç¤¾ä¼šèµ„æºåˆç†åˆ©ç”¨ 1.3å¦‚ä½•å®šä¹‰æˆ‘ä»¬çš„â€œæ–°å‹â€LBSæœåŠ¡ ä»€ä¹ˆæ˜¯ä¼ ç»ŸLBSæœåŠ¡ï¼Ÿ ä»€ä¹ˆæ˜¯æˆ‘ä»¬çš„â€œæ–°å‹LBSâ€æ¨¡å¼ï¼Ÿ ä¼ ç»Ÿçš„LBSæœåŠ¡å¾€å¾€åŸºäºåœ°æ ‡ã€å•†å®¶ã€æœºæ„ç‚¹è¿›è¡ŒæœåŠ¡ï¼Œä»–ä»¬æä¾›æ›´ä¸ºå®˜æ–¹çš„æœåŠ¡ï¼Œå¦‚é€šè¿‡å®šä½ç”¨æˆ·ï¼ˆGPSæˆ–ç§»åŠ¨è¿è¥å•†æä¾›åœ°ç‚¹ï¼‰å½“ä¸‹åœ°ç‚¹ï¼Œä¸ºä»–æä¾›æ–¹åœ†1å…¬é‡Œçš„å’–å•¡é¦†ã€å½±é™¢ã€å›¾ä¹¦é¦†ç­‰ è€Œæˆ‘ä»¬å¯¹LBSæœåŠ¡è¿›è¡Œåˆ›æ–°å‘å±•ï¼Œæˆ‘ä»¬è®¤ä¸ºåº”å½“å‘ç”Ÿä¸€ä¸ªè½¬åŒ–ï¼Œé‚£å°±æ˜¯è®©ç”¨æˆ·æˆä¸ºLBSè§„åˆ™çš„éœ€æ±‚è€…ï¼ŒåŒæ—¶ä¹Ÿè®©ç”¨æˆ·æˆä¸ºLBSè§„åˆ™çš„æœåŠ¡è€…ã€‚å¦‚æœè¯´ä¼ ç»ŸLBSæ˜¯â€œåŸºäºåœ°ç‚¹çš„å…¬ä¼—å·æœåŠ¡â€ï¼Œæˆ‘ä»¬æ–°å‹çš„LBSåˆ™æ˜¯â€œåŸºäºåœ°ç‚¹çš„äººç¾¤æœåŠ¡â€ï¼Œç®€å•æ¥è¯´ï¼Œåªè¦ä½ æŒ‡å®šåœ°ç‚¹é™„è¿‘æœ‰â€œäººâ€å³å¯è¿›è¡ŒæœåŠ¡ï¼Œæˆ‘ä»¬æ— éœ€å…³å¿ƒè¿™äº›â€œäººâ€æ˜¯å¦å…·å¤‡æœåŠ¡çš„èƒ½åŠ›ï¼Œå› ä¸ºè¿™äº›äººä½œä¸ºæŒ‡å®šåœ°ç‚¹ä¸‹æ­¤æ—¶æ­¤åˆ»å­˜åœ¨çš„ä¸ªä½“ï¼Œä»–ä»¬æä¾›æœåŠ¡å¹¶æ— æˆæœ¬ã€‚ è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥å®ç°LBSçš„å®šç‚¹æœåŠ¡ï¼Œè€Œä¸æ˜¯åŒºåŸŸæœåŠ¡ã€‚ ##2.PPTå†…å®¹åŠæ¼”è®²è€…å¤‡æ³¨ 2.1 ä½œå“ç®€ä»‹ è¿™ä¸ªç»å…¸åœºæ™¯æˆ‘è§‰å¾—ä¸ç®¡æ€ä¹ˆæƒ³,éƒ½çœ‹èµ·æ¥æœ‰ç§æ— ç”¨çš„æ„Ÿè§‰,å› ä¸ºæˆ‘ä»¬å…³æ³¨ç‚¹çš„é—®é¢˜,ä¸ºäº†å‡åä»·å€¼,è¿›è¡Œæ·±å…¥å‰–æ æ¼”è®²è€…å¤‡æ³¨:ä½œå“æ„¿æ™¯ï¼š æœåŠ¡å˜ç®€å•ï¼Ÿå…å»å¤æ‚çš„â€œè‡ªç”±äºº-å…¬ä¼—å·-æœºå™¨äººâ€æˆ–è€…â€œè‡ªç”±äºº-å…¬ä¼—å·-ä¸“ä¸šçš„æœåŠ¡äººå‘˜â€çš„æµç¨‹ï¼Œç®€å•åˆ°â€œè‡ªç”±äºº-è‡ªç”±äººâ€çš„æœåŠ¡ 5Gå½¢å¼æœ€æ ¸å¿ƒçš„å°±æ˜¯ä¿¡æ¯å˜å¾—æ›´ä¸ºä¸°å¯Œï¼Œå¾ˆå¤šä¿¡æ¯è½¬ç¬å³é€ï¼Œä¿¡æ¯å¦‚ä½•ä¿å€¼ï¼ŸæŒæ¡ç¬¬ä¸€æ‰‹ä¿¡æ¯çš„å¾€å¾€å¹¶ä¸æ˜¯å®˜æ–¹ï¼Œè€Œæ˜¯â€œç°åœºçš„äººâ€ï¼Œä»–ä»¬æŒæ¡ä¿¡æ¯ï¼Œä»–ä»¬åˆ†äº«æ— æˆæœ¬ã€‚ ç»å…¸åº”ç”¨åœºæ™¯ï¼š çœ‹ä¼¼ç®€å•çš„åœºæ™¯ï¼Œè•´å«ç€å•†ä¸šå¼•å¯¼å’Œä¸ªäººå–èˆçš„å…³é”®é—®é¢˜ï¼š ç§»åŠ¨è¥ä¸šå…æ˜¯æ ¸å¿ƒéœ€æ±‚ï¼Œåªæœ‰è¥ä¸šå…äººå°‘ç”¨æˆ·æ‰æœ‰å»çš„åŠ¨åŠ›ï¼Œä½†æ˜¯å…¶ä»–å› ç´ ä¹Ÿæ˜¯å¸‚åœºä¸­å­˜åœ¨çš„éå¸¸é‡è¦çš„å› ç´ ï¼Œé‚£å°±æ˜¯é™„åŠ æœåŠ¡ï¼Œç§»åŠ¨è¥ä¸šå…é™„è¿‘å¯èƒ½æœ‰ç”¨æˆ·â€œå¯èƒ½â€éœ€è¦å»çš„è¶…å¸‚ï¼Œè¿™å°±ä¸ºè¶…å¸‚å’Œç”¨æˆ·å¸¦æ¥åŒå‘çš„æœåŠ¡ä¸æ¶ˆè´¹çš„å…³ç³» â€œæ¨èâ€çš„æ ¸å¿ƒæ˜¯â€œå¤§æ•°æ®â€ï¼Œè€Œåœ¨5Gä¸‹ï¼Œæ¯ä¸€ç§’çš„ä¿¡æ¯éƒ½æ˜¯â€œå¤§æ•°æ®â€ã€‚è€Œè¿™ä¸€ç§’çš„æ•°æ®å¯èƒ½å†ä¸‹ä¸€ç§’å°±å¤±å»ä»·å€¼ã€‚è¿™å°±æ˜¯æˆ‘ä»¬æ‰€å…³æ³¨çš„æ ¸å¿ƒã€‚ 2.2 ä½œå“å†…å®¹ åˆ é™¤äº†æ— ç”¨çš„PPT,ç²¾ç®€è¯­è¨€ æœ¬é¡µé¢ä¸»è¦è¯´ä¸€äº›åŸºæœ¬çš„ä½œå“æµç¨‹,è®©è¯„å§”æœ‰ä¸€ä¸ªç›´è§‚çš„æ„Ÿå— æ¼”è®²è€…å¤‡æ³¨:åœ¨çº¿é—® å¼ºè°ƒéå­¦æœ¯æ€§å’Œæ—¥å¸¸æ€§ï¼Œè¿™æ˜¯ä½œå“å®šä½çš„æ ¸å¿ƒã€‚æŠ•æ”¾æœºåˆ¶ æ¨èæœºåˆ¶ï¼Œç®—æ³•å¤„ç†ï¼Œæ ‡ç­¾ï¼Œåˆ†ç±»ï¼Œæ£€ç´¢ç­‰ åœ¨çº¿å¸®ï¼š å¼ºè°ƒä½¿ç”¨æ–‡å­—+å›¾ç‰‡/çŸ­è§†é¢‘çš„æ–¹å¼ï¼Œè¿™æ˜¯4G/5Gæ—¶ä»£ä¸‹ä¿¡æ¯è¶‹å‘å¤šç»´åº¦ä¸°å¯Œæ€§çš„ç‰¹ç‚¹ ç°åœºå¸® æˆä¸ºæé—®è€…çš„ç¬¬ä¸‰åªçœ¼ï¼Œè®©é—®é¢˜è§£å†³æˆä¸ºâ€œåŒæ­¥â€åˆ°ç°åœºçš„çš„â€œç°åœºå¿«ç…§â€ ä¸“æ³¨æ•ˆç‡ 2.3 ä½œå“æ ¸å¿ƒ å‚è€ƒ1.ä½œå“æ ¸å¿ƒå†…å®¹,å®Œæˆæœ¬èŠ‚çš„PPTå†…å®¹ 2.3.1 å…³æ³¨ç§’çº§éœ€æ±‚ æ¼”è®²è€…å¤‡æ³¨:1.ç”¨æˆ·å®šä½ å¤§åŸå¸‚ä¸­ç”Ÿæ´»èŠ‚å¥è¾ƒå¿«çš„äººå‘˜ é«˜çº§ç™½é¢†ï¼šç”Ÿæ´»è®¡åˆ’äº•äº•æœ‰æ¡ã€ä¸Šä¸‹ç­èŠ‚å¥è¾ƒå¿« å¿«é€’è¡Œä¸šï¼šå…³æ³¨æ—¶æ—¶çš„è·¯å†µã€ç›®æ ‡åœ°ç‚¹çš„ ä¸€èˆ¬å°åŒºä½æˆ· ä¸€èˆ¬å¥³æ€§ï¼šè”ç»œå½“ä¸‹æ—¶æŸåœ°ç‚¹çš„å…¶ä»–äººï¼Œé¡ºè·¯å¸®å¿™ï¼ˆè´­ç‰©ç­‰ï¼‰ ä¸€èˆ¬ç”·æ€§ï¼šå…³æ³¨æŸäº›å¨±ä¹åœºæ‰€å½“ä¸‹çŠ¶å†µï¼ˆç½‘å§ã€å¥èº«é¦†ï¼‰ å®¶é•¿ï¼šå¯¹äºå­©å­å¿…ç»çš„ä¸€äº›å…³é”®è·¯æ®µæˆ–å­¦æ ¡çš„ä¿¡æ¯èƒ½è¿…é€Ÿè·å¾—ä¸€æ‰‹ä¿¡æ¯ ç”¨æˆ·éœ€æ±‚ç”¨æˆ·éœ€è¦ä¸€ç§å°å‹çš„éå®˜æ–¹ä¸ºä¸»çš„å®æ—¶ä¿¡æ¯æ¸ é“ã€‚ å¤‡æ³¨ï¼šæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æŠ–éŸ³ä¸Šå¾ˆå¤šä¿¡æ¯ï¼Œéƒ½æ˜¯éå®˜æ–¹çš„ï¼Œæ™®é€šäººè´¡çŒ®çš„ï¼Œä½†æ˜¯å¤§å®¶æ›´æ„¿æ„ç›¸ä¿¡è¿™ç§æ¸ é“çš„ä¿¡æ¯ï¼Œå› ä¸ºè¿™ç§ä¿¡æ¯å¾€å¾€æ²¡æœ‰åˆ©ç›Šå¼•å¯¼è¶‹å‘ï¼Œå¾€å¾€æœ€çœŸå®æœ€è´´åˆ‡ã€‚ å¤‡æ³¨ï¼šåº”ç”¨é¢†åŸŸéå¸¸å¹¿æ³›ï¼Œä½†æœ€ç»å…¸çš„è¿˜æ˜¯é’ˆå¯¹å…³é”®åœ°ç‚¹ï¼Œå¯†é›†äººç¾¤ï¼Œä¿¡æ¯çˆ†ç‚¸çš„åœºæ‰€ã€‚ 2.3.2 å¦‚ä½•å®šä¹‰æˆ‘ä»¬çš„â€æ–°å‹O2Oâ€æ¨¡å¼ æ¼”è®²è€…å¤‡æ³¨:è€Œæˆ‘ä»¬å¯¹O2Oè¿›è¡Œåˆ›æ–°å‘å±•ï¼Œæˆ‘ä»¬åœ¨æ³¨é‡çº¿ä¸ŠåŸºäºåœ°ç‚¹å®æ—¶ä¿¡æ¯å…±äº«çš„åŒæ—¶ï¼Œå°†å®¢æˆ·æœ‰å¼•å¯¼æ€§ï¼ˆéµå¾ªå¸‚åœºåŸåˆ™ï¼‰åœ°å¼•æµåˆ°åˆé€‚çš„å®ä½“åœ°ç‚¹ï¼Œä»è€Œå®ç°ç”¨æˆ·çš„å¼•æµå’Œå‰æœŸå®šä½ï¼Œçº¿ä¸‹åœ°ç‚¹å¾€å¾€æ¥å—å¤ªå¤šæ— ç”¨å®¢æˆ·ï¼Œè¿™äº›å®¢æˆ·ä¸èƒ½å¸¦æ¥æœ‰ç”¨çš„ä»·å€¼å´å ç”¨äº†ä»–ä»¬æœ¬èº«çš„æ—¶é—´å’Œçº¿ä¸‹åœºæ‰€çš„èµ„æºï¼Œè¿™å¯¹äºç”¨æˆ·å’Œçº¿ä¸‹éƒ½æ˜¯ä¸å¸Œæœ›çœ‹åˆ°çš„ã€‚è€Œæˆ‘ä»¬è¿›è¡Œçš„â€œæ–°å‹O2Oâ€æ¨¡å¼ï¼Œä¸ºè§£å†³è¿™ä¸€éš¾é¢˜åšå‡ºäº†è°ƒæ•´ã€‚ 2.3.3 å¦‚ä½•å®šä¹‰æˆ‘ä»¬çš„â€œæ–°å‹â€LBSæœåŠ¡ æ¼”è®²è€…å¤‡æ³¨:ä¼ ç»Ÿçš„LBSæœåŠ¡å¾€å¾€åŸºäºåœ°æ ‡ã€å•†å®¶ã€æœºæ„ç‚¹è¿›è¡ŒæœåŠ¡ï¼Œä»–ä»¬æä¾›æ›´ä¸ºå®˜æ–¹çš„æœåŠ¡ï¼Œå¦‚é€šè¿‡å®šä½ç”¨æˆ·ï¼ˆGPSæˆ–ç§»åŠ¨è¿è¥å•†æä¾›åœ°ç‚¹ï¼‰å½“ä¸‹åœ°ç‚¹ï¼Œä¸ºä»–æä¾›æ–¹åœ†1å…¬é‡Œçš„å’–å•¡é¦†ã€å½±é™¢ã€å›¾ä¹¦é¦†ç­‰ è€Œæˆ‘ä»¬å¯¹LBSæœåŠ¡è¿›è¡Œåˆ›æ–°å‘å±•ï¼Œæˆ‘ä»¬è®¤ä¸ºåº”å½“å‘ç”Ÿä¸€ä¸ªè½¬åŒ–ï¼Œé‚£å°±æ˜¯è®©ç”¨æˆ·æˆä¸ºLBSè§„åˆ™çš„éœ€æ±‚è€…ï¼ŒåŒæ—¶ä¹Ÿè®©ç”¨æˆ·æˆä¸ºLBSè§„åˆ™çš„æœåŠ¡è€…ã€‚å¦‚æœè¯´ä¼ ç»ŸLBSæ˜¯â€œåŸºäºåœ°ç‚¹çš„å…¬ä¼—å·æœåŠ¡â€ï¼Œæˆ‘ä»¬æ–°å‹çš„LBSåˆ™æ˜¯â€œåŸºäºåœ°ç‚¹çš„äººç¾¤æœåŠ¡â€ï¼Œç®€å•æ¥è¯´ï¼Œåªè¦ä½ æŒ‡å®šåœ°ç‚¹é™„è¿‘æœ‰â€œäººâ€å³å¯è¿›è¡ŒæœåŠ¡ï¼Œæˆ‘ä»¬æ— éœ€å…³å¿ƒè¿™äº›â€œäººâ€æ˜¯å¦å…·å¤‡æœåŠ¡çš„èƒ½åŠ›ï¼Œå› ä¸ºè¿™äº›äººä½œä¸ºæŒ‡å®šåœ°ç‚¹ä¸‹æ­¤æ—¶æ­¤åˆ»å­˜åœ¨çš„ä¸ªä½“ï¼Œä»–ä»¬æä¾›æœåŠ¡å¹¶æ— æˆæœ¬ã€‚ è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥å®ç°LBSçš„å®šç‚¹æœåŠ¡ï¼Œè€Œä¸æ˜¯åŒºåŸŸæœåŠ¡ã€‚ 2.4 ä½œå“ä¼˜åŠ¿2.4.1 ç”¨æˆ·åˆ†æ æ¼”è®²è€…å¤‡æ³¨æ—  2.4.2 ç«å“åˆ†æ æ¼”è®²è€…å¤‡æ³¨æ—  2.5 ä½œå“æŠ€æœ¯ç›´æ¥æŸ¥çœ‹PPT 2.6 ä½œå“å±•ç¤ºç›´æ¥æŸ¥çœ‹PPT","categories":[{"name":"Android","slug":"Android","permalink":"http://www.octber.xyz/categories/Android/"}],"tags":[{"name":"æ¯”èµ›","slug":"æ¯”èµ›","permalink":"http://www.octber.xyz/tags/%E6%AF%94%E8%B5%9B/"}]},{"title":"é›†åˆæ¡†æ¶æŸ¥æ¼è¡¥ç¼º","slug":"é›†åˆæ¡†æ¶æŸ¥æ¼è¡¥ç¼º","date":"2019-07-22T02:00:32.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/07/22/é›†åˆæ¡†æ¶æŸ¥æ¼è¡¥ç¼º/","link":"","permalink":"http://www.octber.xyz/2019/07/22/%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6%E6%9F%A5%E6%BC%8F%E8%A1%A5%E7%BC%BA/","excerpt":"å‰è¨€","text":"å‰è¨€","categories":[],"tags":[]},{"title":"ä¼˜ç§€åšå®¢å’Œç½‘ç«™æ”¶å½•","slug":"ä¼˜ç§€åšå®¢å’Œç½‘ç«™æ”¶å½•","date":"2019-07-17T05:16:13.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/07/17/ä¼˜ç§€åšå®¢å’Œç½‘ç«™æ”¶å½•/","link":"","permalink":"http://www.octber.xyz/2019/07/17/%E4%BC%98%E7%A7%80%E5%8D%9A%E5%AE%A2%E5%92%8C%E7%BD%91%E7%AB%99%E6%94%B6%E5%BD%95/","excerpt":"å‰è¨€å¹³æ—¶æµè§ˆå™¨æ”¶è—æ€»ä¼šä¸¢å¤±ï¼Œç´¢æ€§åœ¨è¿™é‡Œæ”¶å½•æˆ‘è§‰å¾—ä¼˜ç§€çš„åšæ–‡å’Œç½‘ç«™ã€‚","text":"å‰è¨€å¹³æ—¶æµè§ˆå™¨æ”¶è—æ€»ä¼šä¸¢å¤±ï¼Œç´¢æ€§åœ¨è¿™é‡Œæ”¶å½•æˆ‘è§‰å¾—ä¼˜ç§€çš„åšæ–‡å’Œç½‘ç«™ã€‚ ç¼–ç¨‹ç›¸å…³ Qtå­¦ä¹ ä¹‹è·¯:https://www.devbean.net/category/qt-study-road-2/ æ•°æ®åº“ç›¸å…³ å…³ç³»å‹æ•°æ®åº“æ˜¯å¦‚ä½•å·¥ä½œçš„:https://www.devbean.net/category/æ•°æ®åº“/ æ‰‹å†Œç›¸å…³ å”¯å“ä¼šJavaå¼€å‘æ‰‹å†Œ:https://vipshop.github.io/vjtools/#/standard/ é˜¿é‡Œå·´å·´Javaå¼€å‘æ‰‹å†Œ:https://github.com/alibaba/p3c","categories":[{"name":"å°å·¥å…·","slug":"å°å·¥å…·","permalink":"http://www.octber.xyz/categories/%E5%B0%8F%E5%B7%A5%E5%85%B7/"}],"tags":[{"name":"æ”¶è—","slug":"æ”¶è—","permalink":"http://www.octber.xyz/tags/%E6%94%B6%E8%97%8F/"}]},{"title":"Goæ•°æ®åº•å±‚çš„å­˜å‚¨","slug":"Goæ•°æ®åº•å±‚çš„å­˜å‚¨","date":"2019-07-03T11:40:45.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/07/03/Goæ•°æ®åº•å±‚çš„å­˜å‚¨/","link":"","permalink":"http://www.octber.xyz/2019/07/03/Go%E6%95%B0%E6%8D%AE%E5%BA%95%E5%B1%82%E7%9A%84%E5%AD%98%E5%82%A8/","excerpt":"å‰è¨€å¡«å‘å‚è€ƒ https://research.swtch.com/godata","text":"å‰è¨€å¡«å‘å‚è€ƒ https://research.swtch.com/godata","categories":[{"name":"Go","slug":"Go","permalink":"http://www.octber.xyz/categories/Go/"}],"tags":[{"name":"Go","slug":"Go","permalink":"http://www.octber.xyz/tags/Go/"}]},{"title":"Goå­¦ä¹ èµ„æ–™","slug":"Goå­¦ä¹ èµ„æ–™","date":"2019-07-03T01:59:41.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/07/03/Goå­¦ä¹ èµ„æ–™/","link":"","permalink":"http://www.octber.xyz/2019/07/03/Go%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/","excerpt":"å‰è¨€Goå­¦ä¹ èµ„æ–™","text":"å‰è¨€Goå­¦ä¹ èµ„æ–™ A Tour of Go:ç‚¹å‡»è®¿é—® å¥½å¤„: åœ¨çº¿æ‰“ä»£ç ,åœ¨çº¿è¿è¡Œ,æ•™ç¨‹ç®€å•æ˜“æ‡‚ **ç¼ºç‚¹:**å¯èƒ½éœ€è¦ç¿»å¢™,æ•™ç¨‹å¤ªåŸºç¡€,æœ‰ä¸€å®šç¼–ç¨‹åŸºç¡€çš„äºº,ä¸å¤ªå»ºè®® golang-book:ç‚¹å‡»è®¿é—® **å¥½å¤„:**å¤§ä½¬å†™çš„,ä¸“ä¸šå…¨é¢ **ç¼ºç‚¹:**å…¨è‹±æ–‡ é›¨ç—•çš„ã€Šgoè¯­è¨€å­¦ä¹ ç¬”è®°ã€‹:ç‚¹å‡»è®¿é—® **å¥½å¤„:**GitHubå¤§ç‰›æ–‡æ¡£,ä¸“ä¸šå…¨é¢ **ç¼ºç‚¹:**è²Œä¼¼å¾ˆä¹…æ²¡æœ‰æ›´æ–°äº† Goè½»æ¾å­¦:ç‚¹å‡»è®¿é—®Goç¤ºä¾‹å­¦: ç‚¹å‡»è®¿é—®Go Web ç¼–ç¨‹: ç‚¹å‡»è®¿é—® golangä¹¦ç±å­¦ä¹ å¤§å…¨: ç‚¹å‡»è®¿é—® è¿™ä¸ªé‡Œé¢æœ‰å¾ˆå¤šå…¶ä»–çš„æ•™ç¨‹,å¾ˆå…¨,å¯è§GithubçœŸçš„æ˜¯æœ‰å¾ˆå¤šå¥½ä¸œè¥¿,å¤©å•¦å™œ! ã€ŠGoç¼–ç¨‹åŸºç¡€ã€‹ Unknwon/go-fundamental-programming Â· GitHub ã€ŠGo WebåŸºç¡€ã€‹ Unknwon/go-web-foundation Â· GitHub ã€ŠGoååº“è®²è§£ã€‹ Unknwon/go-rock-libraries-showcases Â· GitHub","categories":[{"name":"Go","slug":"Go","permalink":"http://www.octber.xyz/categories/Go/"}],"tags":[{"name":"Go","slug":"Go","permalink":"http://www.octber.xyz/tags/Go/"}]},{"title":"Vue-åŸºç¡€ç¯‡","slug":"Vue-åŸºç¡€ç¯‡","date":"2019-06-21T01:04:34.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/06/21/Vue-åŸºç¡€ç¯‡/","link":"","permalink":"http://www.octber.xyz/2019/06/21/Vue-%E5%9F%BA%E7%A1%80%E7%AF%87/","excerpt":"å‰è¨€æœ¬ç³»åˆ—å­¦ä¹ ï¼ŒåŸºäºä¸‹é¢è¿™ä½æ˜é‡‘ä½œè€…ï¼Œè®²çš„å¾ˆè¯¦ç»†ï¼Œè€Œä¸”å…è´¹çœ‹ï¼Œå¯¹äºvueå­¦ä¹ è€…éå¸¸æœ‰å¥½å¤„ã€‚ ä½œè€…ï¼šèŠ±è£¤è¡© é“¾æ¥ï¼šhttps://juejin.im/post/59097cd7a22b9d0065fb61d2","text":"å‰è¨€æœ¬ç³»åˆ—å­¦ä¹ ï¼ŒåŸºäºä¸‹é¢è¿™ä½æ˜é‡‘ä½œè€…ï¼Œè®²çš„å¾ˆè¯¦ç»†ï¼Œè€Œä¸”å…è´¹çœ‹ï¼Œå¯¹äºvueå­¦ä¹ è€…éå¸¸æœ‰å¥½å¤„ã€‚ ä½œè€…ï¼šèŠ±è£¤è¡© é“¾æ¥ï¼šhttps://juejin.im/post/59097cd7a22b9d0065fb61d2 componentsè¿™é‡Œå¾€å¾€æ”¾ä¸€äº›å…¨å±€ç»å¸¸ä¼šç”¨åˆ°çš„ç»„ä»¶ï¼Œæ¯”å¦‚å·¦è¾¹æ ï¼Œæœ‰äº›ç»„ä»¶ç”¨äºè§„èŒƒåŒ–é¡µé¢é£æ ¼ï¼Œæ¯”å¦‚æ¯ä¸ªé¡µé¢çš„ä¸»ä½“å†…å®¹å¤´éƒ¨åº”è¯¥æ€æ ·è§„èŒƒç­‰ã€‚è€Œé¡µé¢æ˜¯ä¸å†™åœ¨è¿™ä¸ªåœ°æ–¹çš„ï¼Œå†™åœ¨viewsé‡Œé¢ã€‚ storeVuex æ˜¯ä¸€ä¸ªä¸“ä¸º Vue.js åº”ç”¨ç¨‹åºå¼€å‘çš„çŠ¶æ€ç®¡ç†æ¨¡å¼ã€‚å®ƒé‡‡ç”¨é›†ä¸­å¼å­˜å‚¨ç®¡ç†åº”ç”¨çš„æ‰€æœ‰ç»„ä»¶çš„çŠ¶æ€ï¼Œå¹¶ä»¥ç›¸åº”çš„è§„åˆ™ä¿è¯çŠ¶æ€ä»¥ä¸€ç§å¯é¢„æµ‹çš„æ–¹å¼å‘ç”Ÿå˜åŒ–ã€‚Vuex ä¹Ÿé›†æˆåˆ° Vue çš„å®˜æ–¹è°ƒè¯•å·¥å…· devtools extensionï¼Œæä¾›äº†è¯¸å¦‚é›¶é…ç½®çš„ time-travel è°ƒè¯•ã€çŠ¶æ€å¿«ç…§å¯¼å…¥å¯¼å‡ºç­‰é«˜çº§è°ƒè¯•åŠŸèƒ½ã€‚ ä½†æ˜¯ç”±äºVuexçš„æ•°æ®ï¼Œåœ¨é¡µé¢åˆ·æ–°çš„æ—¶å€™å°±ä¼šæ²¡æœ‰ï¼Œè€Œä¸”æœ¬è´¨ä¸Šå¾ˆå¤šæ•°æ®æ²¡å¿…è¦å‚¨å­˜åœ¨Vuexä¸­ï¼Œæ‰€ä»¥Vuexå¹¶ä¸æ˜¯å¿…å¤‡çš„ï¼Œç”šè‡³æˆ‘ä»¬å¯ä»¥è€ƒè™‘ä½¿ç”¨Session Strogeæ¥å‚¨å­˜ç”¨æˆ·ä¿¡æ¯ï¼Œè§£å†³ç”¨æˆ·åˆ·ä¿¡é¡µé¢å°±éœ€è¦é‡æ–°ç™»å½•çš„é—®é¢˜ï¼Œå°†æƒé™æ§åˆ¶æ›´å¤šçš„äº¤ç»™åç«¯æ¥åšï¼Œå¦‚æœè¦ç”¨Vuexï¼Œé‚£ä¹Ÿè¦åœ¨æ¯æ¬¡åˆ·æ–°çš„æ—¶å€™è®©Vuexè·å–Session Strogeçš„ä¿¡æ¯è¿›è¡Œé‡æ–°å‚¨å­˜ã€‚ å¦‚æœæ˜¯Androidå¼€å‘ï¼Œä½¿ç”¨Vuexå°±ååˆ†æœ‰ç”¨äº†ï¼Œå› ä¸ºç”¨æˆ·ä¸å¯èƒ½åœ¨æ‰‹æœºç«¯åˆ·æ–°é¡µé¢ã€‚ aliaså½“é¡¹ç›®é€æ¸å˜å¤§ä¹‹åï¼Œæ–‡ä»¶ä¸æ–‡ä»¶ç›´æ¥çš„å¼•ç”¨å…³ç³»ä¼šå¾ˆå¤æ‚ï¼Œè¿™æ—¶å€™å°±éœ€è¦ä½¿ç”¨alias äº†ã€‚ æœ‰çš„äººå–œæ¬¢alias æŒ‡å‘srcç›®å½•ä¸‹ï¼Œå†ä½¿ç”¨ç›¸å¯¹è·¯å¾„æ‰¾æ–‡ä»¶ 12345678alias: &#123; &#x27;src&#x27;: path.resolve(__dirname, &#x27;../src&#x27;), &#x27;components&#x27;: path.resolve(__dirname, &#x27;../src/components&#x27;), &#x27;api&#x27;: path.resolve(__dirname, &#x27;../src/api&#x27;), &#x27;utils&#x27;: path.resolve(__dirname, &#x27;../src/utils&#x27;), &#x27;store&#x27;: path.resolve(__dirname, &#x27;../src/store&#x27;), &#x27;router&#x27;: path.resolve(__dirname, &#x27;../src/router&#x27;)&#125; axiosAxios æ˜¯ä¸€ä¸ªåŸºäº promise çš„ HTTP åº“ï¼Œå¯ä»¥ç”¨åœ¨æµè§ˆå™¨å’Œ node.js ä¸­ã€‚ ç‰¹æ€§ ä»æµè§ˆå™¨ä¸­åˆ›å»º XMLHttpRequests ä» node.js åˆ›å»º http è¯·æ±‚ æ”¯æŒ Promise API æ‹¦æˆªè¯·æ±‚å’Œå“åº” è½¬æ¢è¯·æ±‚æ•°æ®å’Œå“åº”æ•°æ® å–æ¶ˆè¯·æ±‚ è‡ªåŠ¨è½¬æ¢ JSON æ•°æ® å®¢æˆ·ç«¯æ”¯æŒé˜²å¾¡ XSRF 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465import axios from &#x27;axios&#x27;import &#123; Message &#125; from &#x27;element-ui&#x27;import store from &#x27;@/store&#x27;import &#123; getToken &#125; from &#x27;@/utils/auth&#x27;// åˆ›å»ºaxioså®ä¾‹const service = axios.create(&#123; baseURL: process.env.BASE_API, // apiçš„base_url timeout: 5000 // è¯·æ±‚è¶…æ—¶æ—¶é—´&#125;)// requestæ‹¦æˆªå™¨service.interceptors.request.use(config =&gt; &#123; // Do something before request is sent if (store.getters.token) &#123; config.headers[&#x27;X-Token&#x27;] = getToken() // è®©æ¯ä¸ªè¯·æ±‚æºå¸¦token--[&#x27;X-Token&#x27;]ä¸ºè‡ªå®šä¹‰key è¯·æ ¹æ®å®é™…æƒ…å†µè‡ªè¡Œä¿®æ”¹ &#125; return config&#125;, error =&gt; &#123; // Do something with request error console.log(error) // for debug Promise.reject(error)&#125;)// responeæ‹¦æˆªå™¨service.interceptors.response.use( response =&gt; response, /** * ä¸‹é¢çš„æ³¨é‡Šä¸ºé€šè¿‡responseè‡ªå®šä¹‰codeæ¥æ ‡ç¤ºè¯·æ±‚çŠ¶æ€ï¼Œå½“codeè¿”å›å¦‚ä¸‹æƒ…å†µä¸ºæƒé™æœ‰é—®é¢˜ï¼Œç™»å‡ºå¹¶è¿”å›åˆ°ç™»å½•é¡µ * å¦‚é€šè¿‡xmlhttprequest çŠ¶æ€ç æ ‡è¯† é€»è¾‘å¯å†™åœ¨ä¸‹é¢errorä¸­ */ // const res = response.data; // if (res.code !== 20000) &#123; // Message(&#123; // message: res.message, // type: &#x27;error&#x27;, // duration: 5 * 1000 // &#125;); // // 50008:éæ³•çš„token; 50012:å…¶ä»–å®¢æˆ·ç«¯ç™»å½•äº†; 50014:Token è¿‡æœŸäº†; // if (res.code === 50008 || res.code === 50012 || res.code === 50014) &#123; // MessageBox.confirm(&#x27;ä½ å·²è¢«ç™»å‡ºï¼Œå¯ä»¥å–æ¶ˆç»§ç»­ç•™åœ¨è¯¥é¡µé¢ï¼Œæˆ–è€…é‡æ–°ç™»å½•&#x27;, &#x27;ç¡®å®šç™»å‡º&#x27;, &#123; // confirmButtonText: &#x27;é‡æ–°ç™»å½•&#x27;, // cancelButtonText: &#x27;å–æ¶ˆ&#x27;, // type: &#x27;warning&#x27; // &#125;).then(() =&gt; &#123; // store.dispatch(&#x27;FedLogOut&#x27;).then(() =&gt; &#123; // location.reload();// ä¸ºäº†é‡æ–°å®ä¾‹åŒ–vue-routerå¯¹è±¡ é¿å…bug // &#125;); // &#125;) // &#125; // return Promise.reject(&#x27;error&#x27;); // &#125; else &#123; // return response.data; // &#125; error =&gt; &#123; console.log(&#x27;err&#x27; + error)// for debug Message(&#123; message: error.message, type: &#x27;error&#x27;, duration: 5 * 1000 &#125;) return Promise.reject(error) &#125;)export default service 12345678910import request from &#x27;@/utils/request&#x27;//ä½¿ç”¨export function getInfo(params) &#123; return request(&#123; url: &#x27;/user/info&#x27;, method: &#x27;get&#x27;, params &#125;);&#125; æ¯”å¦‚åå°é¡¹ç›®ï¼Œæ¯ä¸€ä¸ªè¯·æ±‚éƒ½æ˜¯è¦å¸¦ token æ¥éªŒè¯æƒé™çš„ï¼Œè¿™æ ·å°è£…ä»¥ä¸‹çš„è¯æˆ‘ä»¬å°±ä¸ç”¨æ¯ä¸ªè¯·æ±‚éƒ½æ‰‹åŠ¨æ¥å¡ tokenï¼Œæˆ–è€…æ¥åšä¸€äº›ç»Ÿä¸€çš„å¼‚å¸¸å¤„ç†ï¼Œä¸€åŠ³æ°¸é€¸ã€‚ è€Œä¸”å› ä¸ºæˆ‘ä»¬çš„ api æ˜¯æ ¹æ® env ç¯å¢ƒå˜é‡åŠ¨æ€åˆ‡æ¢çš„ï¼Œå¦‚æœä»¥åçº¿ä¸Šå‡ºç°äº†bugï¼Œæˆ‘ä»¬åªéœ€é…ç½®ä¸€ä¸‹ @/config/dev.env.js å†é‡å¯ä¸€ä¸‹æœåŠ¡ï¼Œå°±èƒ½åœ¨æœ¬åœ°æ¨¡æ‹Ÿçº¿ä¸Šçš„ç¯å¢ƒäº†ã€‚ 12345module.exports = &#123; NODE_ENV: &#x27;&quot;development&quot;&#x27;, BASE_API: &#x27;&quot;https://api-dev&quot;&#x27;, //ä¿®æ”¹ä¸º&#x27;&quot;https://api-prod&quot;&#x27;å°±è¡Œäº† APP_ORIGIN: &#x27;&quot;https://wallstreetcn.com&quot;&#x27; //ä¸ºå…¬å¸æ‰“ä¸ªå¹¿å‘Š pcç«™ä¸ºvue+ssr&#125; å¤šç¯å¢ƒvue-cli é»˜è®¤åªæä¾›äº†devå’Œprodä¸¤ç§ç¯å¢ƒã€‚ä½†å…¶å®æ­£çœŸçš„å¼€å‘æµç¨‹å¯èƒ½è¿˜ä¼šå¤šä¸€ä¸ªsitæˆ–è€…stageç¯å¢ƒï¼Œå°±æ˜¯æ‰€è°“çš„æµ‹è¯•ç¯å¢ƒå’Œé¢„å‘å¸ƒç¯å¢ƒã€‚æ‰€ä»¥æˆ‘ä»¬å°±è¦ç®€å•çš„ä¿®æ”¹ä¸€ä¸‹ä»£ç ã€‚å…¶å®å¾ˆç®€å•å°±æ˜¯è®¾ç½®ä¸åŒçš„ç¯å¢ƒå˜é‡ 123&quot;build:prod&quot;: &quot;NODE_ENV=production node build/build.js&quot;,&quot;build:sit&quot;: &quot;NODE_ENV=sit node build/build.js&quot;,å¤åˆ¶ä»£ç  ä¹‹ååœ¨ä»£ç é‡Œè‡ªè¡Œåˆ¤æ–­ï¼Œæƒ³å¹²å°±å¹²å•¥ 12var env = process.env.NODE_ENV === &#x27;production&#x27; ? config.build.prodEnv : config.build.sitEnvå¤åˆ¶ä»£ç  æ–°ç‰ˆçš„ vue-cli ä¹Ÿå†…ç½®äº† webpack-bundle-analyzer ä¸€ä¸ªæ¨¡å—åˆ†æçš„ä¸œè¥¿ï¼Œç›¸å½“çš„å¥½ç”¨ã€‚ä½¿ç”¨æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œå’Œä¹‹å‰ä¸€æ ·å°è£…ä¸€ä¸ª npm script å°±å¯ä»¥ã€‚ 1234567//package.json &quot;build:sit-preview&quot;: &quot;cross-env NODE_ENV=production env_config=sit npm_config_preview=true npm_config_report=true node build/build.js&quot;//ä¹‹åé€šè¿‡process.env.npm_config_reportæ¥åˆ¤æ–­æ˜¯å¦æ¥å¯ç”¨webpack-bundle-analyzervar BundleAnalyzerPlugin = require(&#x27;webpack-bundle-analyzer&#x27;).BundleAnalyzerPluginwebpackConfig.plugins.push(new BundleAnalyzerPlugin()) router-viewdifferent router the same component vueã€‚çœŸå®çš„ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œè¿™ç§æƒ…å†µå¾ˆå¤šã€‚æ¯”å¦‚ æˆ‘åˆ›å»ºå’Œç¼–è¾‘çš„é¡µé¢ä½¿ç”¨çš„æ˜¯åŒä¸€ä¸ªcomponent,é»˜è®¤æƒ…å†µä¸‹å½“è¿™ä¸¤ä¸ªé¡µé¢åˆ‡æ¢æ—¶å¹¶ä¸ä¼šè§¦å‘vueçš„createdæˆ–è€…mountedé’©å­ï¼Œå®˜æ–¹è¯´ä½ å¯ä»¥é€šè¿‡watch $routeçš„å˜åŒ–æ¥åšå¤„ç†ï¼Œä½†å…¶å®è¯´çœŸçš„è¿˜æ˜¯è›®éº»çƒ¦çš„ã€‚åæ¥å‘ç°å…¶å®å¯ä»¥ç®€å•çš„åœ¨ router-viewä¸ŠåŠ ä¸Šä¸€ä¸ªå”¯ä¸€çš„keyï¼Œæ¥ä¿è¯è·¯ç”±åˆ‡æ¢æ—¶éƒ½ä¼šé‡æ–°æ¸²æŸ“è§¦å‘é’©å­äº†ã€‚è¿™æ ·ç®€å•çš„å¤šäº†ã€‚ 1234567&lt;router-view :key=&quot;key&quot;&gt;&lt;/router-view&gt;computed: &#123; key() &#123; return this.$route.name !== undefined? this.$route.name + +new Date(): this.$route + +new Date() &#125; &#125; æ€»ç»“è¦è€ƒè™‘çš„é—®é¢˜æ˜¯å¾ˆå¤šï¼Œéœ€è¦æˆ‘ä»¬æŒç»­çš„å­¦ä¹ ã€‚","categories":[{"name":"Vueä¸“é¢˜","slug":"Vueä¸“é¢˜","permalink":"http://www.octber.xyz/categories/Vue%E4%B8%93%E9%A2%98/"}],"tags":[{"name":"Vue","slug":"Vue","permalink":"http://www.octber.xyz/tags/Vue/"}]},{"title":"Springboot-@Validatedå’Œ@Validçš„åˆ†æ","slug":"Springboot-Validatedå’Œ-Validçš„åˆ†æ","date":"2019-06-20T11:44:38.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/06/20/Springboot-Validatedå’Œ-Validçš„åˆ†æ/","link":"","permalink":"http://www.octber.xyz/2019/06/20/Springboot-Validated%E5%92%8C-Valid%E7%9A%84%E5%88%86%E6%9E%90/","excerpt":"å‰è¨€","text":"å‰è¨€","categories":[],"tags":[]},{"title":"JavaåŸºç¡€-äº’æ–¥åŒæ­¥","slug":"Javaçš„é”æœºåˆ¶","date":"2019-06-20T07:07:27.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/06/20/Javaçš„é”æœºåˆ¶/","link":"","permalink":"http://www.octber.xyz/2019/06/20/Java%E7%9A%84%E9%94%81%E6%9C%BA%E5%88%B6/","excerpt":"å‰è¨€Javaä¸­é‡åˆ°çš„åŸºæœ¬çš„çº¿ç¨‹é—®é¢˜,è¿˜æœ‰å¹¶å‘é—®é¢˜ ä»¥ä¸‹å†…å®¹æ¥è‡ªå¤§ç¥frankçš„åšæ–‡","text":"å‰è¨€Javaä¸­é‡åˆ°çš„åŸºæœ¬çš„çº¿ç¨‹é—®é¢˜,è¿˜æœ‰å¹¶å‘é—®é¢˜ ä»¥ä¸‹å†…å®¹æ¥è‡ªå¤§ç¥frankçš„åšæ–‡ äº’æ–¥åŒæ­¥Java æä¾›äº†ä¸¤ç§é”æœºåˆ¶æ¥æ§åˆ¶å¤šä¸ªçº¿ç¨‹å¯¹å…±äº«èµ„æºçš„äº’æ–¥è®¿é—®ï¼Œç¬¬ä¸€ä¸ªæ˜¯ JVM å®ç°çš„ synchronizedï¼Œè€Œå¦ä¸€ä¸ªæ˜¯ JDK å®ç°çš„ ReentrantLockã€‚ synchronized1. åŒæ­¥ä¸€ä¸ªä»£ç å— 12345public void func() &#123; synchronized (this) &#123; // ... &#125;&#125; å®ƒåªä½œç”¨äºåŒä¸€ä¸ªå¯¹è±¡ï¼Œå¦‚æœè°ƒç”¨ä¸¤ä¸ªå¯¹è±¡ä¸Šçš„åŒæ­¥ä»£ç å—ï¼Œå°±ä¸ä¼šè¿›è¡ŒåŒæ­¥ã€‚ å¯¹äºä»¥ä¸‹ä»£ç ï¼Œä½¿ç”¨ ExecutorService æ‰§è¡Œäº†ä¸¤ä¸ªçº¿ç¨‹ï¼Œç”±äºè°ƒç”¨çš„æ˜¯åŒä¸€ä¸ªå¯¹è±¡çš„åŒæ­¥ä»£ç å—ï¼Œå› æ­¤è¿™ä¸¤ä¸ªçº¿ç¨‹ä¼šè¿›è¡ŒåŒæ­¥ï¼Œå½“ä¸€ä¸ªçº¿ç¨‹è¿›å…¥åŒæ­¥è¯­å¥å—æ—¶ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹å°±å¿…é¡»ç­‰å¾…ã€‚ 12345678910111213141516public class SynchronizedExample &#123; public void func1() &#123; synchronized (this) &#123; for (int i = 0; i &lt; 10; i++) &#123; System.out.print(i + &quot; &quot;); &#125; &#125; &#125;&#125;public static void main(String[] args) &#123; SynchronizedExample e1 = new SynchronizedExample(); ExecutorService executorService = Executors.newCachedThreadPool(); executorService.execute(() -&gt; e1.func1()); executorService.execute(() -&gt; e1.func1());&#125;0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 å¯¹äºä»¥ä¸‹ä»£ç ï¼Œä¸¤ä¸ªçº¿ç¨‹è°ƒç”¨äº†ä¸åŒå¯¹è±¡çš„åŒæ­¥ä»£ç å—ï¼Œå› æ­¤è¿™ä¸¤ä¸ªçº¿ç¨‹å°±ä¸éœ€è¦åŒæ­¥ã€‚ä»è¾“å‡ºç»“æœå¯ä»¥çœ‹å‡ºï¼Œä¸¤ä¸ªçº¿ç¨‹äº¤å‰æ‰§è¡Œã€‚ 12345678public static void main(String[] args) &#123; SynchronizedExample e1 = new SynchronizedExample(); SynchronizedExample e2 = new SynchronizedExample(); ExecutorService executorService = Executors.newCachedThreadPool(); executorService.execute(() -&gt; e1.func1()); executorService.execute(() -&gt; e2.func1());&#125;0 0 1 1 2 2 3 3 4 4 5 5 6 6 7 7 8 8 9 9 2. åŒæ­¥ä¸€ä¸ªæ–¹æ³• 123public synchronized void func () &#123; // ...&#125; å®ƒå’ŒåŒæ­¥ä»£ç å—ä¸€æ ·ï¼Œä½œç”¨äºåŒä¸€ä¸ªå¯¹è±¡ã€‚ 3. åŒæ­¥ä¸€ä¸ªç±» 12345public void func() &#123; synchronized (SynchronizedExample.class) &#123; // ... &#125;&#125; ä½œç”¨äºæ•´ä¸ªç±»ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸¤ä¸ªçº¿ç¨‹è°ƒç”¨åŒä¸€ä¸ªç±»çš„ä¸åŒå¯¹è±¡ä¸Šçš„è¿™ç§åŒæ­¥è¯­å¥ï¼Œä¹Ÿä¼šè¿›è¡ŒåŒæ­¥ã€‚ 1234567891011121314151617public class SynchronizedExample &#123; public void func2() &#123; synchronized (SynchronizedExample.class) &#123; for (int i = 0; i &lt; 10; i++) &#123; System.out.print(i + &quot; &quot;); &#125; &#125; &#125;&#125;public static void main(String[] args) &#123; SynchronizedExample e1 = new SynchronizedExample(); SynchronizedExample e2 = new SynchronizedExample(); ExecutorService executorService = Executors.newCachedThreadPool(); executorService.execute(() -&gt; e1.func2()); executorService.execute(() -&gt; e2.func2());&#125;0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 4. åŒæ­¥ä¸€ä¸ªé™æ€æ–¹æ³• éé™æ€åŒæ­¥å‡½æ•°çš„é”æ˜¯ï¼šthis é™æ€çš„åŒæ­¥å‡½æ•°çš„é”æ˜¯ï¼šå­—èŠ‚ç å¯¹è±¡ 123public synchronized static void fun() &#123; // ...&#125; ä½œç”¨äºæ•´ä¸ªç±»ã€‚ ReentrantLocké‡å…¥é”ï¼ˆReentrantLockï¼‰æ˜¯ä¸€ç§é€’å½’æ— é˜»å¡çš„åŒæ­¥æœºåˆ¶ã€‚ 123456789101112131415161718192021public class LockExample &#123; private Lock lock = new ReentrantLock(); public void func() &#123; lock.lock(); try &#123; for (int i = 0; i &lt; 10; i++) &#123; System.out.print(i + &quot; &quot;); &#125; &#125; finally &#123; lock.unlock(); // ç¡®ä¿é‡Šæ”¾é”ï¼Œä»è€Œé¿å…å‘ç”Ÿæ­»é”ã€‚ &#125; &#125;&#125;public static void main(String[] args) &#123; LockExample lockExample = new LockExample(); ExecutorService executorService = Executors.newCachedThreadPool(); executorService.execute(() -&gt; lockExample.func()); executorService.execute(() -&gt; lockExample.func());&#125;0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 ReentrantLock æ˜¯ java.util.concurrentï¼ˆJ.U.Cï¼‰åŒ…ä¸­çš„é”ï¼Œç›¸æ¯”äº synchronizedï¼Œå®ƒå¤šäº†ä»¥ä¸‹é«˜çº§åŠŸèƒ½ï¼š 1. ç­‰å¾…å¯ä¸­æ–­ å½“æŒæœ‰é”çš„çº¿ç¨‹é•¿æœŸä¸é‡Šæ”¾é”çš„æ—¶å€™ï¼Œæ­£åœ¨ç­‰å¾…çš„çº¿ç¨‹å¯ä»¥é€‰æ‹©æ”¾å¼ƒç­‰å¾…ï¼Œæ”¹ä¸ºå¤„ç†å…¶ä»–äº‹æƒ…ã€‚ 2. å¯å®ç°å…¬å¹³é” å…¬å¹³é”æ˜¯æŒ‡å¤šä¸ªçº¿ç¨‹åœ¨ç­‰å¾…åŒä¸€ä¸ªé”æ—¶ï¼Œå¿…é¡»æŒ‰ç…§ç”³è¯·é”çš„æ—¶é—´é¡ºåºæ¥ä¾æ¬¡è·å¾—é”ã€‚ synchronized ä¸­çš„é”æ˜¯éå…¬å¹³çš„ï¼ŒReentrantLock é»˜è®¤æƒ…å†µä¸‹ä¹Ÿæ˜¯éå…¬å¹³çš„ï¼Œä½†å¯ä»¥é€šè¿‡å¸¦å¸ƒå°”å€¼çš„æ„é€ å‡½æ•°è¦æ±‚ä½¿ç”¨å…¬å¹³é”ã€‚ 3. é”ç»‘å®šå¤šä¸ªæ¡ä»¶ ä¸€ä¸ª ReentrantLock å¯¹è±¡å¯ä»¥åŒæ—¶ç»‘å®šå¤šä¸ª Condition å¯¹è±¡ã€‚ synchronized å’Œ ReentrantLock æ¯”è¾ƒ1. é”çš„å®ç° synchronized æ˜¯ JVM å®ç°çš„ï¼Œè€Œ ReentrantLock æ˜¯ JDK å®ç°çš„ã€‚ 2. æ€§èƒ½ æ–°ç‰ˆæœ¬ Java å¯¹ synchronized è¿›è¡Œäº†å¾ˆå¤šä¼˜åŒ–ï¼Œä¾‹å¦‚è‡ªæ—‹é”ç­‰ã€‚ç›®å‰æ¥çœ‹å®ƒå’Œ ReentrantLock çš„æ€§èƒ½åŸºæœ¬æŒå¹³äº†ï¼Œå› æ­¤æ€§èƒ½å› ç´ ä¸å†æ˜¯é€‰æ‹© ReentrantLock çš„ç†ç”±ã€‚synchronized æœ‰æ›´å¤§çš„æ€§èƒ½ä¼˜åŒ–ç©ºé—´ï¼Œåº”è¯¥ä¼˜å…ˆè€ƒè™‘ synchronizedã€‚ 3. åŠŸèƒ½ ReentrantLock å¤šäº†ä¸€äº›é«˜çº§åŠŸèƒ½ã€‚ 4. ä½¿ç”¨é€‰æ‹© é™¤ééœ€è¦ä½¿ç”¨ ReentrantLock çš„é«˜çº§åŠŸèƒ½ï¼Œå¦åˆ™ä¼˜å…ˆä½¿ç”¨ synchronizedã€‚è¿™æ˜¯å› ä¸º synchronized æ˜¯ JVM å®ç°çš„ä¸€ç§é”æœºåˆ¶ï¼ŒJVM åŸç”Ÿåœ°æ”¯æŒå®ƒï¼Œè€Œ ReentrantLock ä¸æ˜¯æ‰€æœ‰çš„ JDK ç‰ˆæœ¬éƒ½æ”¯æŒã€‚å¹¶ä¸”ä½¿ç”¨ synchronized ä¸ç”¨æ‹…å¿ƒæ²¡æœ‰é‡Šæ”¾é”è€Œå¯¼è‡´æ­»é”é—®é¢˜ï¼Œå› ä¸º JVM ä¼šç¡®ä¿é”çš„é‡Šæ”¾ã€‚ synchronizedä¸lockçš„åŒºåˆ«ï¼Œä½¿ç”¨åœºæ™¯ã€‚çœ‹è¿‡synchronizedçš„æºç æ²¡? ï¼ˆç”¨æ³•ï¼‰synchronizedï¼ˆéšå¼é”ï¼‰ï¼šåœ¨éœ€è¦åŒæ­¥çš„å¯¹è±¡ä¸­åŠ å…¥æ­¤æ§åˆ¶ï¼Œsynchronized å¯ä»¥åŠ åœ¨æ–¹æ³•ä¸Šï¼Œä¹Ÿå¯ä»¥åŠ åœ¨ç‰¹å®šä»£ç å—ä¸­ï¼Œæ‹¬å·ä¸­è¡¨ç¤ºéœ€è¦é”çš„å¯¹è±¡ã€‚ ï¼ˆç”¨æ³•ï¼‰lockï¼ˆæ˜¾ç¤ºé”ï¼‰ï¼šéœ€è¦æ˜¾ç¤ºæŒ‡å®šèµ·å§‹ä½ç½®å’Œç»ˆæ­¢ä½ç½®ã€‚ä¸€èˆ¬ä½¿ç”¨ ReentrantLock ç±»åšä¸ºé”ï¼Œå¤šä¸ªçº¿ç¨‹ä¸­å¿…é¡»è¦ä½¿ç”¨ä¸€ä¸ª ReentrantLock ç±»åšä¸ºå¯¹è±¡æ‰èƒ½ä¿è¯é”çš„ç”Ÿæ•ˆã€‚ä¸”åœ¨åŠ é”å’Œè§£é”å¤„éœ€è¦é€šè¿‡ lock() å’Œ unlock() æ˜¾ç¤ºæŒ‡å‡ºã€‚æ‰€ä»¥ä¸€èˆ¬ä¼šåœ¨ finally å—ä¸­å†™ unlock() ä»¥é˜²æ­»é”ã€‚ ï¼ˆæ€§èƒ½ï¼‰synchronized æ˜¯æ‰˜ç®¡ç»™ JVM æ‰§è¡Œçš„ï¼Œè€Œ lock æ˜¯ Java å†™çš„æ§åˆ¶é”çš„ä»£ç ã€‚åœ¨ Java1.5 ä¸­ï¼Œsynchronize æ˜¯æ€§èƒ½ä½æ•ˆçš„ã€‚å› ä¸ºè¿™æ˜¯ä¸€ä¸ªé‡é‡çº§æ“ä½œï¼Œéœ€è¦è°ƒç”¨æ“ä½œæ¥å£ï¼Œå¯¼è‡´æœ‰å¯èƒ½åŠ é”æ¶ˆè€—çš„ç³»ç»Ÿæ—¶é—´æ¯”åŠ é”ä»¥å¤–çš„æ“ä½œè¿˜å¤šã€‚ç›¸æ¯”ä¹‹ä¸‹ä½¿ç”¨ Java æä¾›çš„ Lock å¯¹è±¡ï¼Œæ€§èƒ½æ›´é«˜ä¸€äº›ã€‚ä½†æ˜¯åˆ°äº† Java1.6 ï¼Œå‘ç”Ÿäº†å˜åŒ–ã€‚synchronize åœ¨è¯­ä¹‰ä¸Šå¾ˆæ¸…æ™°ï¼Œå¯ä»¥è¿›è¡Œå¾ˆå¤šä¼˜åŒ–ï¼Œæœ‰é€‚åº”è‡ªæ—‹ï¼Œé”æ¶ˆé™¤ï¼Œé”ç²—åŒ–ï¼Œè½»é‡çº§é”ï¼Œåå‘é”ç­‰ç­‰ã€‚å¯¼è‡´ åœ¨ Java1.6 ä¸Š synchronize çš„æ€§èƒ½å¹¶ä¸æ¯” Lock å·®ã€‚ ï¼ˆæœºåˆ¶ï¼‰synchronized åŸå§‹é‡‡ç”¨çš„æ˜¯ CPU æ‚²è§‚é”æœºåˆ¶ï¼Œå³çº¿ç¨‹è·å¾—çš„æ˜¯ç‹¬å é”ã€‚ç‹¬å é”æ„å‘³ç€å…¶ä»–çº¿ç¨‹åªèƒ½ä¾é é˜»å¡æ¥ç­‰å¾…çº¿ç¨‹é‡Šæ”¾é”ã€‚Lock ç”¨çš„æ˜¯ä¹è§‚é”æ–¹å¼ã€‚æ‰€è°“ä¹è§‚é”å°±æ˜¯ï¼Œæ¯æ¬¡ä¸åŠ é”è€Œæ˜¯å‡è®¾æ²¡æœ‰å†²çªè€Œå»å®ŒæˆæŸé¡¹æ“ä½œï¼Œå¦‚æœå› ä¸ºå†²çªå¤±è´¥å°±é‡è¯•ï¼Œç›´åˆ°æˆåŠŸä¸ºæ­¢ã€‚ä¹è§‚é”å®ç°çš„æœºåˆ¶å°±æ˜¯ CAS æ“ä½œï¼ˆCompare and Swapï¼‰ã€‚ ä»€ä¹ˆæ˜¯CAS è˜‘è‡è¡—é¢è¯•ï¼Œè¿™é‡Œç®€å•è®ºè¿°ä¸€ä¸‹ å…¥é—¨ä¾‹å­åœ¨ Java å¹¶å‘åŒ…ä¸­æœ‰è¿™æ ·ä¸€ä¸ªåŒ…ï¼Œjava.util.concurrent.atomicï¼Œè¯¥åŒ…æ˜¯å¯¹ Java éƒ¨åˆ†æ•°æ®ç±»å‹çš„åŸå­å°è£…ï¼Œåœ¨åŸæœ‰æ•°æ®ç±»å‹çš„åŸºç¡€ä¸Šï¼Œæä¾›äº†åŸå­æ€§çš„æ“ä½œæ–¹æ³•ï¼Œä¿è¯äº†çº¿ç¨‹å®‰å…¨ã€‚ä¸‹é¢ä»¥ AtomicInteger ä¸ºä¾‹ï¼Œæ¥çœ‹ä¸€ä¸‹æ˜¯å¦‚ä½•å®ç°çš„ã€‚ 1234567891011121314151617public final int incrementAndGet() &#123; for (;;) &#123; int current = get(); int next = current + 1; if (compareAndSet(current, next)) return next; &#125;&#125;public final int decrementAndGet() &#123; for (;;) &#123; int current = get(); int next = current - 1; if (compareAndSet(current, next)) return next; &#125;&#125; ä»¥è¿™ä¸¤ä¸ªæ–¹æ³•ä¸ºä¾‹ï¼ŒincrementAndGet æ–¹æ³•ç›¸å½“äºåŸå­æ€§çš„ ++iï¼ŒdecrementAndGet æ–¹æ³•ç›¸å½“äºåŸå­æ€§çš„ â€“iï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•ä¸­éƒ½æ²¡æœ‰ä½¿ç”¨é˜»å¡å¼çš„æ–¹å¼æ¥ä¿è¯åŸå­æ€§ï¼ˆå¦‚ Synchronized ï¼‰ï¼Œé‚£å®ƒä»¬æ˜¯å¦‚ä½•ä¿è¯åŸå­æ€§çš„å‘¢ï¼Œä¸‹é¢å¼•å‡º CASã€‚ Compare And SwapCAS æŒ‡çš„æ˜¯ç°ä»£ CPU å¹¿æ³›æ”¯æŒçš„ä¸€ç§å¯¹å†…å­˜ä¸­çš„å…±äº«æ•°æ®è¿›è¡Œæ“ä½œçš„ä¸€ç§ç‰¹æ®ŠæŒ‡ä»¤ã€‚è¿™ä¸ªæŒ‡ä»¤ä¼šå¯¹å†…å­˜ä¸­çš„å…±äº«æ•°æ®åšåŸå­çš„è¯»å†™æ“ä½œã€‚ ç®€å•ä»‹ç»ä¸€ä¸‹è¿™ä¸ªæŒ‡ä»¤çš„æ“ä½œè¿‡ç¨‹ï¼š é¦–å…ˆï¼ŒCPU ä¼šå°†å†…å­˜ä¸­å°†è¦è¢«æ›´æ”¹çš„æ•°æ®ä¸æœŸæœ›çš„å€¼åšæ¯”è¾ƒã€‚ ç„¶åï¼Œå½“è¿™ä¸¤ä¸ªå€¼ç›¸ç­‰æ—¶ï¼ŒCPU æ‰ä¼šå°†å†…å­˜ä¸­çš„æ•°å€¼æ›¿æ¢ä¸ºæ–°çš„å€¼ã€‚å¦åˆ™ä¾¿ä¸åšæ“ä½œã€‚ æœ€åï¼ŒCPU ä¼šå°†æ—§çš„æ•°å€¼è¿”å›ã€‚ è¿™ä¸€ç³»åˆ—çš„æ“ä½œæ˜¯åŸå­çš„ã€‚å®ƒä»¬è™½ç„¶çœ‹ä¼¼å¤æ‚ï¼Œä½†å´æ˜¯ Java 5 å¹¶å‘æœºåˆ¶ä¼˜äºåŸæœ‰é”æœºåˆ¶çš„æ ¹æœ¬ã€‚ç®€å•æ¥è¯´ï¼ŒCAS çš„å«ä¹‰æ˜¯ï¼šæˆ‘è®¤ä¸ºåŸæœ‰çš„å€¼åº”è¯¥æ˜¯ä»€ä¹ˆï¼Œå¦‚æœæ˜¯ï¼Œåˆ™å°†åŸæœ‰çš„å€¼æ›´æ–°ä¸ºæ–°å€¼ï¼Œå¦åˆ™ä¸åšä¿®æ”¹ï¼Œå¹¶å‘Šè¯‰æˆ‘åŸæ¥çš„å€¼æ˜¯å¤šå°‘ã€‚ ç®€å•çš„æ¥è¯´ï¼ŒCAS æœ‰ 3 ä¸ªæ“ä½œæ•°ï¼Œå†…å­˜å€¼ Vï¼Œæ—§çš„é¢„æœŸå€¼ Aï¼Œè¦ä¿®æ”¹çš„æ–°å€¼ Bã€‚å½“ä¸”ä»…å½“é¢„æœŸå€¼ A å’Œå†…å­˜å€¼ V ç›¸åŒæ—¶ï¼Œå°†å†…å­˜å€¼ V ä¿®æ”¹ä¸º Bï¼Œå¦åˆ™è¿”å› Vã€‚è¿™æ˜¯ä¸€ç§ä¹è§‚é”çš„æ€è·¯ï¼Œå®ƒç›¸ä¿¡åœ¨å®ƒä¿®æ”¹ä¹‹å‰ï¼Œæ²¡æœ‰å…¶å®ƒçº¿ç¨‹å»ä¿®æ”¹å®ƒï¼›è€Œ Synchronized æ˜¯ä¸€ç§æ‚²è§‚é”ï¼Œå®ƒè®¤ä¸ºåœ¨å®ƒä¿®æ”¹ä¹‹å‰ï¼Œä¸€å®šä¼šæœ‰å…¶å®ƒçº¿ç¨‹å»ä¿®æ”¹å®ƒï¼Œæ‚²è§‚é”æ•ˆç‡å¾ˆä½ã€‚ ä»€ä¹ˆæ˜¯ä¹è§‚é”å’Œæ‚²è§‚é” ä¸ºä»€ä¹ˆéœ€è¦é”ï¼ˆå¹¶å‘æ§åˆ¶ï¼‰ å¹¶å‘æ§åˆ¶æœºåˆ¶ å‚è€ƒèµ„æ–™ï¼š ä¹è§‚é”ä¸æ‚²è§‚é”â€”â€”è§£å†³å¹¶å‘é—®é¢˜ - WhyWin - åšå®¢å›­ Synchronizedï¼ˆå¯¹è±¡é”ï¼‰å’ŒStatic Synchronizedï¼ˆç±»é”ï¼‰åŒºåˆ« ä¸€ä¸ªæ˜¯å®ä¾‹é”ï¼ˆé”åœ¨æŸä¸€ä¸ªå®ä¾‹å¯¹è±¡ä¸Šï¼Œå¦‚æœè¯¥ç±»æ˜¯å•ä¾‹ï¼Œé‚£ä¹ˆè¯¥é”ä¹Ÿå…·æœ‰å…¨å±€é”çš„æ¦‚å¿µï¼‰ï¼Œä¸€ä¸ªæ˜¯å…¨å±€é”ï¼ˆè¯¥é”é’ˆå¯¹çš„æ˜¯ç±»ï¼Œæ— è®ºå®ä¾‹å¤šå°‘ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆçº¿ç¨‹éƒ½å…±äº«è¯¥é”ï¼‰ã€‚ å®ä¾‹é”å¯¹åº”çš„å°±æ˜¯ synchronizedå…³ é”®å­—ï¼Œè€Œç±»é”ï¼ˆå…¨å±€é”ï¼‰å¯¹åº”çš„å°±æ˜¯ static synchronizedï¼ˆæˆ–è€…æ˜¯é”åœ¨è¯¥ç±»çš„ class æˆ–è€… classloader å¯¹è±¡ä¸Šï¼‰ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738/** * static synchronized å’Œsynchronizedçš„åŒºåˆ«ï¼ * å…³é”®æ˜¯åŒºåˆ«ç¬¬å››ç§æƒ…å†µï¼ */public class StaticSynchronized &#123; /** * synchronizedæ–¹æ³• */ public synchronized void isSynA()&#123; System.out.println(&quot;isSynA&quot;); &#125; public synchronized void isSynB()&#123; System.out.println(&quot;isSynB&quot;); &#125; /** * static synchronizedæ–¹æ³• */ public static synchronized void cSynA()&#123; System.out.println(&quot;cSynA&quot;); &#125; public static synchronized void cSynB()&#123; System.out.println(&quot;cSynB&quot;); &#125; public static void main(String[] args) &#123; StaticSynchronized x = new StaticSynchronized(); StaticSynchronized y = new StaticSynchronized(); /** * x.isSynA()ä¸x.isSynB(); ä¸èƒ½åŒæ—¶è®¿é—®(åŒä¸€ä¸ªå¯¹è±¡è®¿é—®synchronizedæ–¹æ³•) * x.isSynA()ä¸y.isSynB(); èƒ½åŒæ—¶è®¿é—®(ä¸åŒå¯¹è±¡è®¿é—®synchronizedæ–¹æ³•) * x.cSynA()ä¸y.cSynB(); ä¸èƒ½åŒæ—¶è®¿é—®(ä¸åŒå¯¹è±¡ä¹Ÿä¸èƒ½è®¿é—®static synchronizedæ–¹æ³•) * x.isSynA()ä¸y.cSynA(); èƒ½åŒæ—¶è®¿é—®(static synchronizedæ–¹æ³•å ç”¨çš„æ˜¯ç±»é”ï¼Œ * è€Œè®¿é—®synchronizedæ–¹æ³•å ç”¨çš„æ˜¯å¯¹è±¡é”ï¼Œä¸å­˜åœ¨äº’æ–¥ç°è±¡) */ &#125;&#125;","categories":[{"name":"JavaåŸºç¡€","slug":"JavaåŸºç¡€","permalink":"http://www.octber.xyz/categories/Java%E5%9F%BA%E7%A1%80/"}],"tags":[{"name":"äº’æ–¥åŒæ­¥","slug":"äº’æ–¥åŒæ­¥","permalink":"http://www.octber.xyz/tags/%E4%BA%92%E6%96%A5%E5%90%8C%E6%AD%A5/"}]},{"title":"ServletContextå¼•èµ·çš„æ€è€ƒ","slug":"ServletContextå¼•èµ·çš„æ€è€ƒ","date":"2019-06-20T07:05:11.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/06/20/ServletContextå¼•èµ·çš„æ€è€ƒ/","link":"","permalink":"http://www.octber.xyz/2019/06/20/ServletContext%E5%BC%95%E8%B5%B7%E7%9A%84%E6%80%9D%E8%80%83/","excerpt":"å‰è¨€Servletä¸‰å¤§åŸŸå¯¹è±¡çš„åº”ç”¨ requestã€sessionã€applicationï¼ˆServletContextï¼‰ ServletContextæ˜¯ä¸€ä¸ªå…¨å±€çš„å‚¨å­˜ä¿¡æ¯çš„ç©ºé—´ï¼ŒæœåŠ¡å™¨å¼€å§‹å°±å­˜åœ¨ï¼ŒæœåŠ¡å™¨å…³é—­æ‰é‡Šæ”¾ã€‚ requestï¼Œä¸€ä¸ªç”¨æˆ·å¯æœ‰å¤šä¸ªï¼›sessionï¼Œä¸€ä¸ªç”¨æˆ·ä¸€ä¸ªï¼›è€ŒservletContextï¼Œæ‰€æœ‰ç”¨æˆ·å…±ç”¨ä¸€ä¸ªã€‚æ‰€ä»¥ï¼Œä¸ºäº†èŠ‚çœç©ºé—´ï¼Œæé«˜æ•ˆç‡ï¼ŒServletContextä¸­ï¼Œè¦æ”¾å¿…é¡»çš„ã€é‡è¦çš„ã€æ‰€æœ‰ç”¨æˆ·éœ€è¦å…±äº«çš„çº¿ç¨‹åˆæ˜¯å®‰å…¨çš„ä¸€äº›ä¿¡æ¯ã€‚","text":"å‰è¨€Servletä¸‰å¤§åŸŸå¯¹è±¡çš„åº”ç”¨ requestã€sessionã€applicationï¼ˆServletContextï¼‰ ServletContextæ˜¯ä¸€ä¸ªå…¨å±€çš„å‚¨å­˜ä¿¡æ¯çš„ç©ºé—´ï¼ŒæœåŠ¡å™¨å¼€å§‹å°±å­˜åœ¨ï¼ŒæœåŠ¡å™¨å…³é—­æ‰é‡Šæ”¾ã€‚ requestï¼Œä¸€ä¸ªç”¨æˆ·å¯æœ‰å¤šä¸ªï¼›sessionï¼Œä¸€ä¸ªç”¨æˆ·ä¸€ä¸ªï¼›è€ŒservletContextï¼Œæ‰€æœ‰ç”¨æˆ·å…±ç”¨ä¸€ä¸ªã€‚æ‰€ä»¥ï¼Œä¸ºäº†èŠ‚çœç©ºé—´ï¼Œæé«˜æ•ˆç‡ï¼ŒServletContextä¸­ï¼Œè¦æ”¾å¿…é¡»çš„ã€é‡è¦çš„ã€æ‰€æœ‰ç”¨æˆ·éœ€è¦å…±äº«çš„çº¿ç¨‹åˆæ˜¯å®‰å…¨çš„ä¸€äº›ä¿¡æ¯ã€‚ è·å–servletcontextå¯¹è±¡ï¼š12345ServletContext sc = null; sc = request.getSession().getServletContext();//æˆ–è€…ä½¿ç”¨//ServletContext sc = this.getServletContext(); System.out.println(&quot;sc=&quot; + sc); è¿˜æœ‰ä¸€ç§æ–¹æ³•ï¼Œé€šè¿‡ServletContextListenerè·å¾—ï¼š 1234567891011121314public class MySCListener1 implements ServletContextListener &#123; public MySCListener1() &#123; // TODO Auto-generated constructor stub &#125; @Override public void contextDestroyed(ServletContextEvent sce) &#123; // TODO Auto-generated method stub &#125; @Override public void contextInitialized(ServletContextEvent sce) &#123; // é€šè¿‡äº‹ä»¶å¯¹è±¡è·å–äº‹ä»¶æº(ServletContext) ServletContext sc=sce.getServletContext(); &#125;&#125; æ‹“å±•ï¼šJavaEEä¸­å¸¸è§çš„ç›‘å¬å™¨å’Œäº‹ä»¶Servletå’ŒJSPæä¾›Listeneræ¥å£8ä¸ªï¼ŒEventç±»6ä¸ª Listener**æ¥å£** Event**ç±»** ServletContextListener ServletContextEventï¼ˆä¸Šä¸‹æ–‡äº‹ä»¶ï¼‰ ServletContextAtrributeListener ServletContextAttributeEventï¼ˆä¸Šä¸‹æ–‡å±æ€§äº‹ä»¶ï¼‰ HttpSessionListener HttpSessionEvent HttpSessionActivationListener HttpSessionAttributeListener HttpSessionBindingEventï¼ˆä¼šè¯ç»‘å®šäº‹ä»¶ï¼‰ HttpSessionBindingListener ServletRequestListener ServletRequestEvent ServletRequestAttributeListener ServletRequestAttributeEvent ä¸€èˆ¬æ¥è¯´ä¹Ÿå°±æ˜¯å›´ç»•ç€ä¹‹å‰è¯´çš„ä¸‰å¤§åŸŸå¯¹è±¡ï¼šRequestã€Sessionã€ServlerContextæ¥è¿›è¡Œçš„ æºç çº§åˆ«äº†è§£ServletContextListener ç±»å¤´æ³¨é‡Š123456789/** * Implementations of this interface receive notifications about changes to the * servlet context of the web application they are part of. To receive * notification events, the implementation class must be configured in the * deployment descriptor for the web application. * * @see ServletContextEvent * @since v 2.3 */ æ„æ€å¾ˆç®€å•ï¼Œå°±æ˜¯è¯´å®ç°è¿™ä¸ªæ¥å£çš„ç±»å°†ä¼šæ¥æ”¶åˆ°servlet contextçš„ä¸€äº›changesï¼Œä¹Ÿå°±æ˜¯æ”¹å˜ï¼Œä¸ºäº†èƒ½å¤Ÿæ¥æ”¶åˆ°è¿™äº›æ”¹å˜ï¼Œå¿…é¡»å®ç°è¿™äº›å¯¹åº”çš„æ–¹æ³•ï¼ˆåºŸè¯ï¼‰ã€‚ ç±»ä¸­å‡½æ•°123456789101112131415/** ** Notification that the web application initialization process is starting. * All ServletContextListeners are notified of context initialization before * any filter or servlet in the web application is initialized. * @param sce Information about the ServletContext that was initialized */public void contextInitialized(ServletContextEvent sce);/** ** Notification that the servlet context is about to be shut down. All * servlets and filters have been destroy()ed before any * ServletContextListeners are notified of context destruction. * @param sce Information about the ServletContext that was destroyed */public void contextDestroyed(ServletContextEvent sce); contextInitialized:åœ¨webå¼•ç”¨åˆå§‹åŒ–çš„æ—¶å€™å°±å¯åŠ¨äº†servlet context,ä¹Ÿå°±æ˜¯åœ¨servlet contextåˆå§‹åŒ–çš„æ—¶å€™è°ƒç”¨äº†è¿™ä¸ªå‡½æ•°,æˆ‘ä»¬å¯ä»¥åœ¨è¿™é‡Œåšä¸€äº›é¡¹ç›®åˆå§‹åŒ–çš„æ“ä½œ,å½“ç„¶éœ€è¦æ³¨æ„è¿™äº›æ“ä½œä¼šå ç”¨é•¿æœŸçš„ç³»ç»Ÿèµ„æº,è°¨æ…ä½¿ç”¨ contextDestoryed:åœ¨servlet contextåœ¨å°†è¦å…³é—­çš„æ—¶å€™,ä¼šæ‰§è¡Œè¿™ä¸ªæ–¹æ³•,å¯ä»¥åšä¸€äº›èµ„æºçš„é‡Šæ”¾,è¾¾åˆ°å®‰å…¨çš„å…³é—­åº”ç”¨,æˆ–è€…è®°å½•ä¸€äº›å…³é”®æ•°æ®,æˆ–è€…å¤‡ä»½ ç±»ä¸­å‚æ•°ServletContextEvent:è¿™ä¸ªç±»ä½œä¸ºä¸Šè¿°å‡½æ•°çš„å‚æ•°,ç»§æ‰¿è‡ªextends java.util.EventObject,æ˜¾è€Œæ˜“è§,ä»–æ˜¯ä¸€ä¸ªäº‹ä»¶å¯¹è±¡,ç±»å¤´çš„æ³¨é‡Šä¹Ÿå¾ˆå®¹æ˜“ç†è§£ 12This is the event class for notifications about changes to the servletcontext of a web application. ä»–æœ‰ç€ä¸¤ä¸ªå‡½æ•°: 123456789101112131415161718/** * Construct a ServletContextEvent from the given context. * * @param source * - the ServletContext that is sending the event. */public ServletContextEvent(ServletContext source) &#123; super(source);&#125;/** * Return the ServletContext that changed. * * @return the ServletContext that sent the event. */public ServletContext getServletContext() &#123; return (ServletContext) super.getSource();&#125; è€Œæˆ‘ä»¬ä¹‹å‰è·å–servlet contextä¹Ÿæ­£æ˜¯è°ƒç”¨äº†getServletContext()è¿™ä¸ªå‡½æ•°,è¿™ä¸ªå‡½æ•°ä¼šè¿”å›ServletContext,å¦‚ä½•è¿”å›?ä»–é€šè¿‡è°ƒç”¨ä»–çš„çˆ¶ç±»æ–¹æ³•(super)çš„getSource(),é‚£ä¹ˆä»–çš„çˆ¶ç±»æ˜¯EventObject,è¿™æ˜¯ä¸€ä¸ªå¯ä»¥åºåˆ—åŒ–çš„ç±»(å› ä¸ºå®ƒå®ç°äº†:implements java.io.Serializable),å®ƒé‡Œé¢å®šä¹‰äº†ä¸€ä¸ªä¸å¯åºåˆ—åŒ–çš„ä¿æŠ¤å¯¹è±¡:protected transient Object source;å¹¶ä¸”é€šè¿‡getSource()è¿”å›äº†è¿™ä¸ªsource,ä¹Ÿå°±â€æºâ€å¯¹è±¡ ServletContextçš„ç‰¹æ€§ è·å–å…¨å±€å¯¹è±¡ä¸­çš„å‚¨å­˜æ•°æ® æ‰€æœ‰ç”¨æˆ·è´¡çŒ®ä¸€ä¸ª ä¼˜ç§€åšæ–‡æ¨è(Apiå‘)è¿™é‡Œæœ‰ä»–å¾ˆå¤šç”¨æ³•,ç”¨çš„æ—¶å€™å¯ä»¥æ³¨æ„çœ‹ä¸€ä¸‹ ServletContextå¯¹è±¡æ ¸å¿ƒæ–¹æ³• å»ºè®®ç›´æ¥æŸ¥çœ‹ServletContextæºç ","categories":[{"name":"Springboot","slug":"Springboot","permalink":"http://www.octber.xyz/categories/Springboot/"}],"tags":[{"name":"Servlet","slug":"Servlet","permalink":"http://www.octber.xyz/tags/Servlet/"}]},{"title":"Springboot-Shiro-ç¼–ç /åŠ å¯†","slug":"Springboot-Shiro-ç¼–ç -åŠ å¯†","date":"2019-06-19T01:30:54.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/06/19/Springboot-Shiro-ç¼–ç -åŠ å¯†/","link":"","permalink":"http://www.octber.xyz/2019/06/19/Springboot-Shiro-%E7%BC%96%E7%A0%81-%E5%8A%A0%E5%AF%86/","excerpt":"å‰è¨€æ­¤æ–‡ç« ä¸ºå¡«å‘FamilyManageä¸­å…³äºåŠ å¯†æ¬¡æ•°çš„é—®é¢˜ï¼Œæ‹“å±•ä¸ºå¯¹ç¼–ç /åŠ å¯†æ¨¡å—çš„å­¦ä¹ å’Œæ€è€ƒã€‚","text":"å‰è¨€æ­¤æ–‡ç« ä¸ºå¡«å‘FamilyManageä¸­å…³äºåŠ å¯†æ¬¡æ•°çš„é—®é¢˜ï¼Œæ‹“å±•ä¸ºå¯¹ç¼–ç /åŠ å¯†æ¨¡å—çš„å­¦ä¹ å’Œæ€è€ƒã€‚ ç¼–ç /è§£ç Shiro æä¾›äº† base64 å’Œ 16 è¿›åˆ¶å­—ç¬¦ä¸²ç¼–ç  / è§£ç çš„ API æ”¯æŒï¼Œæ–¹ä¾¿ä¸€äº›ç¼–ç è§£ç æ“ä½œã€‚Shiro å†…éƒ¨çš„ä¸€äº›æ•°æ®çš„å­˜å‚¨ / è¡¨ç¤ºéƒ½ä½¿ç”¨äº† base64 å’Œ 16 è¿›åˆ¶å­—ç¬¦ä¸²ã€‚ 12String str = &quot;hello&quot;; String base64Encoded = Base64.encodeToString(str.getBytes()); String str2 = Base64.decodeToString(base64Encoded); Assert.assertEquals(str, str2); é€šè¿‡debug,æˆ‘ä»¬é€æ­¥æŸ¥çœ‹:helloå­—ç¬¦ä¸²é¦–å…ˆè¢«è½¬æ¢æˆbyteç±»å‹,ä¼ å…¥å‡½æ•°: åŠ å¯†è¿‡åä¼šç”Ÿæˆ:(è¿™ä¸ªè¿‡ç¨‹å¯ä»¥å‚çœ‹ä¸‹é¢Base64ç¼–ç çš„è®²è§£,åšå®¢ä¸­é—´çš„å¾ˆæ¸…æ¥š) ç¼–ç è¿‡åå˜ä¸º 5 Ã— 8 Ã· 6 = 7,ä½†ä¸ºä»€ä¹ˆä¼šæœ‰8ä¸ªå‘¢,å°±æ˜¯å› ä¸ºå‡ºç°äº†ä½æ•°ä¸è¶³çš„é—®é¢˜: æ‰€ä»¥æœ€åå‡ºç°çš„ç»“æœä¸ºhello=&gt; æœ‰ä¸€ä¸ªç­‰äºå·,ä¸€å…±æ˜¯å…«ä½,è¿™ä¸ªè¿‡ç¨‹å°±çœ‹å®Œäº† Base64ç¼–ç ç›®å‰Base64å·²ç»æˆä¸ºç½‘ç»œä¸Šå¸¸è§çš„ä¼ è¾“8Bitå­—èŠ‚ä»£ç çš„ç¼–ç æ–¹å¼ä¹‹ä¸€ã€‚åœ¨åšæ”¯ä»˜ç³»ç»Ÿæ—¶ï¼Œç³»ç»Ÿä¹‹é—´çš„æŠ¥æ–‡äº¤äº’éƒ½éœ€è¦ä½¿ç”¨Base64å¯¹æ˜æ–‡è¿›è¡Œè½¬ç ï¼Œç„¶åå†è¿›è¡Œç­¾åæˆ–åŠ å¯†ï¼Œä¹‹åå†è¿›è¡Œï¼ˆæˆ–å†æ¬¡Base64ï¼‰ä¼ è¾“ã€‚ åœ¨å‚æ•°ä¼ è¾“çš„è¿‡ç¨‹ä¸­ç»å¸¸é‡åˆ°çš„ä¸€ç§æƒ…å†µï¼šä½¿ç”¨å…¨è‹±æ–‡çš„æ²¡é—®é¢˜ï¼Œä½†ä¸€æ—¦æ¶‰åŠåˆ°ä¸­æ–‡å°±ä¼šå‡ºç°ä¹±ç æƒ…å†µã€‚ä¸æ­¤ç±»ä¼¼ï¼Œç½‘ç»œä¸Šä¼ è¾“çš„å­—ç¬¦å¹¶ä¸å…¨æ˜¯å¯æ‰“å°çš„å­—ç¬¦ï¼Œæ¯”å¦‚äºŒè¿›åˆ¶æ–‡ä»¶ã€å›¾ç‰‡ç­‰ã€‚Base64çš„å‡ºç°å°±æ˜¯ä¸ºäº†è§£å†³æ­¤é—®é¢˜ï¼Œå®ƒæ˜¯åŸºäº64ä¸ªå¯æ‰“å°çš„å­—ç¬¦æ¥è¡¨ç¤ºäºŒè¿›åˆ¶çš„æ•°æ®çš„ä¸€ç§æ–¹æ³•ã€‚ Base64çš„ç¼–ç åŸç†Base64çš„åŸç†æ¯”è¾ƒç®€å•ï¼Œæ¯å½“æˆ‘ä»¬ä½¿ç”¨Base64æ—¶éƒ½ä¼šå…ˆå®šä¹‰ä¸€ä¸ªç±»ä¼¼è¿™æ ·çš„æ•°ç»„ï¼š[&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, ... &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, ... &#39;0&#39;, &#39;1&#39;, ... &#39;+&#39;, &#39;/&#39;]ä¸Šé¢å°±æ˜¯Base64çš„ç´¢å¼•è¡¨ï¼Œå­—ç¬¦é€‰ç”¨äº†â€A-Zã€a-zã€0-9ã€+ã€/â€œ 64ä¸ªå¯æ‰“å°å­—ç¬¦ï¼Œè¿™æ˜¯æ ‡å‡†çš„Base64åè®®è§„å®šã€‚åœ¨æ—¥å¸¸ä½¿ç”¨ä¸­æˆ‘ä»¬è¿˜ä¼šçœ‹åˆ°â€œ=â€æˆ–â€œ==â€å·å‡ºç°åœ¨Base64çš„ç¼–ç ç»“æœä¸­ï¼Œâ€œ=â€åœ¨æ­¤æ˜¯ä½œä¸ºå¡«å……å­—ç¬¦å‡ºç° å…·ä½“è½¬æ¢è¿‡ç¨‹ç¬¬ä¸€æ­¥ï¼Œå°†å¾…è½¬æ¢çš„å­—ç¬¦ä¸²æ¯ä¸‰ä¸ªå­—èŠ‚åˆ†ä¸ºä¸€ç»„ï¼Œæ¯ä¸ªå­—èŠ‚å 8bitï¼Œé‚£ä¹ˆå…±æœ‰24ä¸ªäºŒè¿›åˆ¶ä½ã€‚ç¬¬äºŒæ­¥ï¼Œå°†ä¸Šé¢çš„24ä¸ªäºŒè¿›åˆ¶ä½æ¯6ä¸ªä¸€ç»„ï¼Œå…±åˆ†ä¸º4ç»„ã€‚ç¬¬ä¸‰æ­¥ï¼Œåœ¨æ¯ç»„å‰é¢æ·»åŠ ä¸¤ä¸ª0ï¼Œæ¯ç»„ç”±6ä¸ªå˜ä¸º8ä¸ªäºŒè¿›åˆ¶ä½ï¼Œæ€»å…±32ä¸ªäºŒè¿›åˆ¶ä½ï¼Œå³å››ä¸ªå­—èŠ‚ã€‚ç¬¬å››æ­¥ï¼Œæ ¹æ®Base64ç¼–ç å¯¹ç…§è¡¨ï¼ˆè§ä¸‹å›¾ï¼‰è·å¾—å¯¹åº”çš„å€¼ã€‚0 A 17 R 34 i 51 z 1 B 18 S 35 j 52 0 2 C 19 T 36 k 53 1 3 D 20 U 37 l 54 2 4 E 21 V 38 m 55 3 5 F 22 W 39 n 56 4 6 G 23 X 40 o 57 5 7 H 24 Y 41 p 58 6 8 I 25 Z 42 q 59 7 9 J 26 a 43 r 60 8 10 K 27 b 44 s 61 9 11 L 28 c 45 t 62 + 12 M 29 d 46 u 63 / 13 N 30 e 47 v 14 O 31 f 48 w 15 P 32 g 49 x 16 Q 33 h 50 yä»ä¸Šé¢çš„æ­¥éª¤æˆ‘ä»¬å‘ç°ï¼š Base64å­—ç¬¦è¡¨ä¸­çš„å­—ç¬¦åŸæœ¬ç”¨6ä¸ªbitå°±å¯ä»¥è¡¨ç¤ºï¼Œç°åœ¨å‰é¢æ·»åŠ 2ä¸ª0ï¼Œå˜ä¸º8ä¸ªbitï¼Œä¼šé€ æˆä¸€å®šçš„æµªè´¹ã€‚å› æ­¤ï¼ŒBase64ç¼–ç ä¹‹åçš„æ–‡æœ¬ï¼Œè¦æ¯”åŸæ–‡å¤§çº¦ä¸‰åˆ†ä¹‹ä¸€ã€‚ ä¸ºä»€ä¹ˆä½¿ç”¨3ä¸ªå­—èŠ‚ä¸€ç»„å‘¢ï¼Ÿå› ä¸º6å’Œ8çš„æœ€å°å…¬å€æ•°ä¸º24ï¼Œä¸‰ä¸ªå­—èŠ‚æ­£å¥½24ä¸ªäºŒè¿›åˆ¶ä½ï¼Œæ¯6ä¸ªbitä½ä¸€ç»„ï¼Œæ°å¥½èƒ½å¤Ÿåˆ†ä¸º4ç»„ã€‚ è¯¦ç»†å†…å®¹è¿˜è¯·å‚çœ‹ä¸‹é¢çš„åšæ–‡ ç‰¹åˆ«é¸£è°¢ä½œè€…ï¼šäºŒå¸ˆå…„-å…¬ä¼—å·-ç¨‹åºæ–°è§†ç•Œæ¥æºï¼šCSDNåŸæ–‡ï¼šhttps://blog.csdn.net/wo541075754/article/details/81734770ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œè½¬è½½è¯·é™„ä¸Šåšæ–‡é“¾æ¥ï¼ æ•£åˆ—ç®—æ³•Base64æ˜¯ä¸€ç§ç¼–ç æ–¹å¼,å®ƒå¹¶ä¸èƒ½è¿›è¡ŒåŠ å¯†,å› ä¸ºä»–çš„è¿‡ç¨‹æ˜¯å¯é€†çš„,æˆ‘å‘Šè¯‰ä½ æˆ‘çš„å¯†ç çš„base64,ä½ å¯ä»¥å“ªå»è½¬æ¢ä¸ºæ˜æ–‡,æ‰€ä»¥å¹¶ä¸èƒ½ä½¿ç”¨base64è¿›è¡ŒåŠ å¯† æ•£åˆ—ç®—æ³•ä¸€èˆ¬ç”¨äºç”Ÿæˆæ•°æ®çš„æ‘˜è¦ä¿¡æ¯ï¼Œæ˜¯ä¸€ç§ä¸å¯é€†çš„ç®—æ³•ï¼Œä¸€èˆ¬é€‚åˆå­˜å‚¨å¯†ç ä¹‹ç±»çš„æ•°æ®ï¼Œå¸¸è§çš„æ•£åˆ—ç®—æ³•å¦‚ MD5ã€SHA ç­‰ã€‚ä¸€èˆ¬è¿›è¡Œæ•£åˆ—æ—¶æœ€å¥½æä¾›ä¸€ä¸ª saltï¼ˆç›ï¼‰ï¼Œæ¯”å¦‚åŠ å¯†å¯†ç  â€œadminâ€ï¼Œäº§ç”Ÿçš„æ•£åˆ—å€¼æ˜¯ â€œ21232f297a57a5a743894a0e4a801fc3â€ï¼Œå¯ä»¥åˆ°ä¸€äº› md5 è§£å¯†ç½‘ç«™å¾ˆå®¹æ˜“çš„é€šè¿‡æ•£åˆ—å€¼å¾—åˆ°å¯†ç  â€œadminâ€ï¼Œå³å¦‚æœç›´æ¥å¯¹å¯†ç è¿›è¡Œæ•£åˆ—ç›¸å¯¹æ¥è¯´ç ´è§£æ›´å®¹æ˜“ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥åŠ ä¸€äº›åªæœ‰ç³»ç»ŸçŸ¥é“çš„å¹²æ‰°æ•°æ®ï¼Œå¦‚ç”¨æˆ·åå’Œ IDï¼ˆå³ç›ï¼‰ï¼›è¿™æ ·æ•£åˆ—çš„å¯¹è±¡æ˜¯ â€œå¯†ç  + ç”¨æˆ·å +IDâ€ï¼Œè¿™æ ·ç”Ÿæˆçš„æ•£åˆ—å€¼ç›¸å¯¹æ¥è¯´æ›´éš¾ç ´è§£ã€‚ è€Œæˆ‘ä»¬å¾€å¾€è¦é€šè¿‡Base64çš„æ–¹å¼,æˆ‘ä»¬å¯ä»¥çœ‹åˆ°Md5Hashçš„é™æ€æ–¹æ³• æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªæ–¹æ³•è¿›è¡ŒåŠ å¯† 123456@Testpublic void Md5Code() &#123; String str = &quot;hello&quot;; String salt = &quot;123&quot;; String md5 = new Md5Hash(str, salt).toString();//è¿˜å¯ä»¥è½¬æ¢ä¸º toBase64()/toHex()&#125; å¦‚ä¸Šä»£ç é€šè¿‡ç› â€œ123â€MD5 æ•£åˆ— â€œhelloâ€ã€‚å¦å¤–æ•£åˆ—æ—¶è¿˜å¯ä»¥æŒ‡å®šæ•£åˆ—æ¬¡æ•°ï¼Œå¦‚ 2 æ¬¡è¡¨ç¤ºï¼šmd5(md5(str))ï¼šâ€œnew Md5Hash(str, salt, 2).toString()â€ã€‚ æˆ‘ä¹‹å‰é‡åˆ°çš„å‘,è¿™ä¸ªæ•£åˆ—æ¬¡æ•°,æˆ‘æ˜¯ç”¨1024,å‡ºç°äº†é”™è¯¯,åæ¥æ”¹æˆ2å°±å¯¹äº† Springboot Shiro12345678910@Bean(&quot;hashedCredentialsMatcher&quot;)public HashedCredentialsMatcher shiroHashedCredentialsMatcher() &#123; HashedCredentialsMatcher credentialsMatcher = new HashedCredentialsMatcher(); //æŒ‡å®šåŠ å¯†æ–¹å¼ä¸ºMD5 credentialsMatcher.setHashAlgorithmName(&quot;MD5&quot;); //åŠ å¯†æ¬¡æ•° credentialsMatcher.setHashIterations(2); credentialsMatcher.setStoredCredentialsHexEncoded(true); return credentialsMatcher;&#125; æˆ‘ä»¬é¦–å…ˆåˆ¶å®šäº†@Bean(â€œhashedCredentialsMatcherâ€),å°±å¯ä»¥ä¸ºæˆ‘ä»¬çš„å¯†ç è®¤è¯è¿›è¡ŒåŠ å¯†,æˆ‘ä»¬è®¾ç½®äº†åŠ å¯†çš„æ–¹æ³•ä¸ºMD5,åŠ å¯†æ¬¡æ•°ä¸º2,é‚£ä¹ˆsetHashIterations()çš„æ–¹æ³•å…·ä½“çš„æ„æ€æ˜¯ä»€ä¹ˆ? 12345678910/ * **è®¾ç½®æäº¤çš„&#123;@code AuthenticationToken&#125;çš„å‡­æ®åœ¨è¿›è¡Œæ¯”è¾ƒä¹‹å‰è¢«æ•£åˆ—çš„æ¬¡æ•°,æŒ‡å‘å­˜å‚¨åœ¨*ç³»ç»Ÿä¸­çš„å‡­æ®ã€‚é™¤éè¢«è¦†ç›–ï¼Œå¦åˆ™é»˜è®¤å€¼ä¸º&#123;@code 1&#125;ï¼Œè¿™æ„å‘³ç€å°†æ‰§è¡Œæ­£å¸¸çš„å•ä¸ªæ•£åˆ—ã€‚å¦‚æœ*è¯¥å‚æ•°å°äº1(å³0æˆ–è´Ÿæ•°)ï¼Œåˆ™åº”ç”¨é»˜è®¤å€¼1ã€‚ä¸€å®šè¦æœ‰è‡³å°‘è¿›è¡Œä¸€æ¬¡å“ˆå¸Œè¿­ä»£(å¦åˆ™å°†æ²¡æœ‰å“ˆå¸Œ)ã€‚*/public void setHashIterations(int hashIterations) &#123; if (hashIterations &lt; 1) &#123; this.hashIterations = 1; &#125; else &#123; this.hashIterations = hashIterations; &#125; &#125;","categories":[{"name":"Springbooot","slug":"Springbooot","permalink":"http://www.octber.xyz/categories/Springbooot/"}],"tags":[{"name":"Shiro","slug":"Shiro","permalink":"http://www.octber.xyz/tags/Shiro/"}]},{"title":"è‹±è¯­å…­çº§-ä½œæ–‡é›†","slug":"è‹±è¯­å…­çº§-ä½œæ–‡é›†","date":"2019-06-15T03:50:07.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/06/15/è‹±è¯­å…­çº§-ä½œæ–‡é›†/","link":"","permalink":"http://www.octber.xyz/2019/06/15/%E8%8B%B1%E8%AF%AD%E5%85%AD%E7%BA%A7-%E4%BD%9C%E6%96%87%E9%9B%86/","excerpt":"å‰è¨€å…­çº§è€ƒè¯•èŒƒä¾‹ä½œæ–‡","text":"å‰è¨€å…­çº§è€ƒè¯•èŒƒä¾‹ä½œæ–‡ ç¬¬ä¸€ç»„(ä¸¤ç¯‡)é¢˜ç›®1: 2016çœŸé¢˜é¢˜ç›®2: å¿—æ„¿è€… Directionsï¼šFor this partï¼Œyou are allowed 30 minutes to write a short essay on innovation/ creation/ invention. Your essay should include the importance of innovation and measures to be taken to encourage innovation/creation/invention. You are required to write at least 150 words but no more than 200 words.å‚è€ƒèŒƒæ–‡ï¼š In the era that is full of competition and challenges, the issue of how to be innovative has been brought into focus. â€œGenius is one percent inspiration and ninety-nine percent perspiration.â€ Thomas Edison, a famous inventor, once put it that way. And I totally agree with him. According to Edison, one can only achieve a hundred percent success by both hard work and the creation elicited by the inspiration. In other words, being creative or innovative is an essential quality for people to succeed. Besides, it is the unceasingly up-coming innovations that have actually promote the progress of human beings.There are several ways to be innovative. To start with, one should learn to break the rule. The rule is used to regulate peopleâ€™s behavior and to make everything in order. Nevertheless, new things do not always follow the old routines for their unique qualities. Thus, to create something new, you have to be brave enough to ignore what is old. Furthermore, it is vital that a creative person should adopt a sharp sense in the new trend in this fast-changing society. Living only with familiar things can trap oneself in the comfort zone which may gradually result in a dull and lazy mind. In that case, nothing new will ever come up to shine up his or her boring days. Only by being exposed to trendy and fashionable things as well as ideas can one really be on the right track of being innovative. é¢˜ç›®2: å¿—æ„¿è€… é¢˜ç›®è¦æ±‚ï¼š 1.ç°åœ¨è¶Šæ¥è¶Šå¤šçš„äººåŠ äººå¿—æ„¿è€…çš„é˜Ÿä¼ 2.å¿—æ„¿è€…çš„æ„ä¹‰ 3.æˆ‘çš„çœ‹æ³• å‚è€ƒèŒƒæ–‡ï¼š In recent years, the volunteering spirit hasspread widely among the public, especially among youngsters. FromOlympic Games to urban communities, many people are seen to offerfree help. Volunteering is of tremendous benefit to thosein need. For example, hundreds of thousands of volunteers played anactive role in the quake-hit Yushu area: they offered medical andpsychological aid tothe victims in the relief work. On the otherhand, volunteering is beneficial to the volunteers themselves too.Involved in volunteering activities, people are exposed to newcircumstances and they can learn how to work well in a team and howto improve their interpersonal skills, all of which are criticalfor their career development. In my view, we should all join in volunteeringwork as long as we have spare time. That doesnâ€™tnecessarily mean that we all volunteer in regions struck by naturaldisasters. There are many people who need our help, i.e. the old orthe sick in the near nursing home.Little by little, we are sure tohelp make the world better. ç¬¬äºŒç»„(ä¸¤ç¯‡)é¢˜ç›®1ï¼šæµ·å¤–ç•™å­¦é¢˜ç›®2ï¼šç‚«å¯Œ è®®è®ºæ–‡æ˜¯ä¸€ç§å¸¸è§çš„æ–‡ä½“ï¼Œè¿‘å¹´æ¥ï¼Œå…­çº§è€ƒè¯•å°¤å…¶æ³¨é‡è®®è®ºæ–‡çš„å†™ä½œèƒ½åŠ›ï¼Œå› ä¸ºè®¸å¤šäº‹æƒ…éƒ½æœ‰ä¸¤é¢æ€§ï¼Œè®¸å¤šä½œæ–‡é¢˜ç›®çš„åšæ³•æ˜¯æå‡ºä¸€ç§ç¤¾ä¼šç°è±¡ï¼Œè¦æ±‚ä½œè€…åœ¨ä½œæ–‡ä¸­åˆ†æåˆ©å¼Šï¼Œä¸‹é¢æ˜¯ä¸ºä½ å‡†å¤‡çš„ä¸¤ç¯‡ä½œæ–‡é¢˜ç›®åŠå¯¹åº”çš„èŒƒæ–‡ã€‚ é¢˜ç›®1ï¼šæµ·å¤–ç•™å­¦é¢˜ç›®è¦æ±‚ï¼š1ï¼‰æµ·å¤–ç•™å­¦çš„å¥½å¤„2ï¼‰æµ·å¤–ç•™å­¦ä¹Ÿå­˜åœ¨ä¸€äº›é—®é¢˜3ï¼‰æˆ‘çš„è§‚ç‚¹ å‚è€ƒèŒƒæ–‡ é¢˜ç›®1ï¼šæµ·å¤–ç•™å­¦ The discussion about overseas study has never stopped in the pastfew years. Letâ€˜s have a look at its advantagesand disadvantages before drawing the final conclusion. The biggest advantage ofstudying overseas is the higher academic level and advancedresearch facilities. Whatâ€™s more, byunderstanding a new culture and meeting different people, studentscan develop a more reasonable and balanced view towards the world.Last but not least, the experience will be invaluable to characterbuilding, which makes most students more independent, diligent andenterprising. However, the negative effects are also obvious.To begin with, if a person does not make full preparations beforegoing abroad, he will have great difficulty adapting to the newenvironment. In the second place,the cultural differences willhinder the regular life in many ways.Finally, money is always a bigproblem. Many students have to find part-time jobs to earn money topay tuition and fees. In conclusion, the advantages of overseas studyoutweigh disadvantages. Once they return home, the overseasstudents will make great contributions toour motherland. é¢˜ç›®2ï¼šç‚«å¯Œ é¢˜ç›®è¦æ±‚ï¼š 1ï¼‰ç”±äºç»æµçš„å‘å±•ï¼Œæœ‰ä¸€äº›äººå–œæ¬¢ç‚«å¯Œ 2ï¼‰äººä»¬å¯¹è¿™ä¸€ç°è±¡çš„çœ‹æ³•ä¸ä¸€ 3ï¼‰æˆ‘çš„çœ‹æ³• é¢˜ç›®ï¼šç‚«å¯Œ Nowadays, it is not rare to seepeople displaying their wealth on the Internet. Some postpicturesof luxury goods, such as brand clothes and bags, luxuriousautomobiles or jewelries. Some write about their experiences inwhich a lot of money is spent. People have differentresponses to this phenomenon. Some say that it ispeopleâ€™s right to share their possessions orexperiences with others on the Internet, as long as the things arelegal and the experiences are real. However, some criticize thatthe rich people are too arrogant. Whatâ€™s worse,there are also a few who are not actually rich but put fake photosonlyto satisfy their vanity. In my opinion, sharing isagood thing, and it is exactly the spirit of the Internet.Butpeople should make careful choice on what they are sharing.After all,showing off is not very nice, not to mention faking. ç¬¬ä¸‰ç¯‡(ä¸¤ç¯‡)é¢˜ç›®1:ä¸­å›½çš„æ±¡æŸ“é¢˜ç›®2:ç¯å¢ƒä¸ç»æµ ç¯å¢ƒæ±¡æŸ“å·²ç»æˆä¸ºäº†å¾ˆå¤šäººéƒ½å…³å¿ƒçš„ä¸€ä¸ªé—®é¢˜ï¼Œè¿‘å¹´æ¥ï¼Œå…­çº§è€ƒè¯•ä¹Ÿå¼€å§‹åå‘äºæå‡ºä¸ç¯å¢ƒæ±¡æŸ“ç›¸å…³çš„ä½œæ–‡é¢˜ç›®ï¼Œè¿™ä¹Ÿæ˜¯å±äºè®®è®ºæ–‡çš„ä¸€ç§ï¼Œéœ€è¦æå†™ç°çŠ¶å’Œå‘è¡¨è‡ªå·±çš„çœ‹æ³•ã€‚ä¸‹é¢æ˜¯ä¸ºä½ å‡†å¤‡çš„ä¸¤ç¯‡æœ‰å…³ç¯å¢ƒæ±¡æŸ“è¯é¢˜çš„ä½œæ–‡é¢˜ç›®åŠå¯¹åº”çš„èŒƒæ–‡ã€‚ é¢˜ç›®è¦æ±‚1ï¼š ä¸–ç•Œä¸Šæ±¡æŸ“æœ€ä¸¥é‡çš„äºŒåä¸ªåŸå¸‚å½“ä¸­ï¼Œæœ‰åä¸ªæ¥è‡ªä¸­å›½ï¼Œå¯ä»¥çœ‹å‡ºä¸­å›½ç›®å‰çš„ç¯å¢ƒæ±¡æŸ“å·²ç»æ¯”è¾ƒä¸¥é‡äº†ï¼Œä½ è§‰å¾—è¿™æ˜¯å“ªäº›åŸå› é€ æˆçš„å‘¢ï¼Ÿåº”è¯¥å¦‚ä½•è§£å†³ï¼Ÿ é¢˜ç›®1ï¼šä¸­å›½çš„æ±¡æŸ“ It isreported that ten big cities in China are being ranked among thetop twenty cities with the highest pollution index in the world.This means it is high time we did something to bring the situationunder control. Many factors are contributing to thedeteriorating situation: industrial wastes pumped into the air, thelakes and rivers; a increasing number of automobiles crowding intothe streets; the widespread use of plastic bags etc. To my view, stiffer lawsand regulations must be implemented to check pollution. Industriesthat release wastes without permission should be heavily fined.Carsshould be equipped to minimize the exhaust they release into theair. And the use of plastic bags and disposable meal boxes shouldbe banned. Whatâ€™s more, the media should play an important role inimplanting a sense of environmental consciousness into peopleâ€™smind. If everybody works toward a common goal ofmaking the environment better, we can create a cleaner and lovelierworld for us and for the coming generation. é¢˜ç›®è¦æ±‚2ï¼š 1)éšç€ç»æµçš„é«˜é€Ÿå‘å±•ï¼Œç¯å¢ƒæ±¡æŸ“å·²ç»æˆä¸ºä¸å¯å¿½è§†çš„ä¸€ä¸ªé—®é¢˜ã€‚ 2)å¦‚ä½•åšåˆ°ç¯å¢ƒä¸ç»æµå¹³è¡¡å‘å±•ï¼Ÿ å‚è€ƒèŒƒæ–‡ é¢˜ç›®2ï¼šç¯å¢ƒä¸ç»æµ Nowadays wehave enjoyed an increasingly prosperous life in the wake ofenormous social and economic development. But at the same time, weforget that the consequence brought about by rapid economicdevelopment. For instance,greenhouse effect,duststorm,haze. As societydevelops,people are attaching much importance to deal with therelationship between economic development andenvironmental. Economic development isseemingly more important,the country develops much faster aner that it creates enormous job opportunities, improves livingconditions and increases government revenues. However, theenvironment is becoming worse and worse.In order to protect theenvironment which we depends on, something must be done. First and the foremost,we are expected touse public transportations instead of private cars that emit alarge amount of exhaust gas.whatâ€™s more, we canplant more trees to absorb carbon dioxide and build anenvironment-friendly society. Last butnot least, it is surelynecessary to complete relevant laws and regulations. We should rememberthatour future depends upon what we do right now. ç¬¬å››ç»„(ä¸¤ç¯‡)é¢˜ç›®1ï¼šè‡ªè¡Œè½¦å‡ºè¡Œé¢˜ç›®2ï¼šå¾®ç¬‘ è®°å™æ–‡æ˜¯ä¸€ç§å¸¸è§çš„æ–‡ä½“ï¼Œè¿‘å¹´æ¥ï¼Œå…­çº§è€ƒè¯•å°¤å…¶æ³¨é‡è®°å™æ–‡çš„å†™ä½œèƒ½åŠ›ï¼Œé¢˜ç›®ä¸€èˆ¬æå‡ºä¸€ç§å¸¸è§çš„äº‹ç‰©ï¼Œè¦æ±‚æå†™å…¶ç‰¹ç‚¹å¹¶è¡¨è¾¾è‡ªå·±çš„çœ‹æ³•ï¼Œå†™è¿™ç§çš„æ–‡ç« æ—¶éœ€è¦æ˜ç¡®é¢˜ç›®è¦æ±‚ï¼Œå™è¿°å‡†ç¡®åˆ°ä½ï¼Œä¸‹é¢æ˜¯ä¸ºä½ å‡†å¤‡çš„ä¸¤ç¯‡è®°å™æ–‡ä½œæ–‡é¢˜ç›®åŠèŒƒæ–‡ã€‚ é¢˜ç›®è¦æ±‚1ï¼š å‡ºæ¸¸çš„æ–¹å¼æœ‰å¾ˆå¤šç§ï¼Œæœ‰çš„äººä¸ºäº†èŠ‚çœæ—¶é—´ä¹˜åé£æœºï¼Œæœ‰çš„äººé€‰æ‹©è¾ƒä¸ºèˆ’é€‚çš„ç«è½¦ï¼Œè¿˜æœ‰çš„äººæƒ…æ„¿ä¹˜åæ‹¥æŒ¤çš„å·´å£«ã€‚ä½†ä½ ä»¬æœ‰æ²¡æœ‰æƒ³è¿‡è‡ªè¡Œè½¦æ—…è¡Œä¹Ÿæ˜¯ä¸€ç§ä¸é”™çš„æ–¹å¼å‘¢! èŒƒæ–‡ï¼š é¢˜ç›®1ï¼šè‡ªè¡Œè½¦å‡ºè¡Œ There are many waysoftraveling. People may travel by plane if they want to travelfarand reach their destination in a shorter time. It is themostcomfortable but expensive way. Most people travel by trainbecauseit is a less expensive way but the compartments are crampedandstuffy. Bus journey is a cheaper way but it is spent onnarrow,bumpy roads which are crowded with traffic. Trips by shipmay bethe cheapest and most comfortable way but it takes toomuchtime. I like traveling by bike.Ican set out when I like and stop when I like. I can go whereverIlike so that I can enjoy delightful spots rarely visited byothertravelers. When I feel tired, I sit down by the bike and haveagood rest. Besides, I can save much money for tickets and muchtimein waiting for the train or bus. I can cover more places byridinga bike than going on foot. Traveling by bike is goodtohealth. It is really a sort of good exercise to strengthenoneâ€™smuscles and to test oneâ€™s will. Moreover, it brings nopollution tothe air. So it helps to clean the atmosphere. é¢˜ç›®è¦æ±‚2ï¼š 1)æœ‰äº›äººä¸å–œæ¬¢å¾®ç¬‘ï¼Œæˆ–è€…è½»è§†å¾®ç¬‘çš„ä½œç”¨; 2)å…¶å®å¾®ç¬‘æ˜¯æœ€å¥½çš„è¯­è¨€ã€‚ é¢˜ç›®2ï¼šå¾®ç¬‘ It has long been acceptedthat a smile is the best language. The truth of a smile is thatitis like a seed that can grow into a towering tree and at longlast it has deep and profound effect onpeopleâ€™slives. At the moment we getintrouble,get misunderstood or give thanks,a smile is more helpful than any other ex-pression. Many daily incidents can probe thestrength/power of smile.To begin with,we should always smile toourselves,so as to keep optimistic when in difficulty.At the sametime,smiling to others is necessary, too. Sometimes, we may facemisunderstandings that are hard to explain clearly simplybuwords.Then, a smile can show them the genuine sincerity to wintheir trust. Besides, smile is a worldwide language to sayâ€œthanksâ€ and can bring pleasantfeelings to others. In a word,perhaps the bestexample of universally understood body language is smile. As theold saying goes, smile to others,and sooner or later they willsmile back to you. ç¬¬äº”ç»„(ä¸¤ç¯‡)é¢˜ç›®1.å…¬åŠ¡å‘˜çƒ­æ½®é¢˜ç›®2.ä½å¤´æ— è®®è®ºæ–‡æ˜¯ä¸€ç§å¸¸è§çš„æ–‡ä½“ï¼Œè¿‘å¹´æ¥ï¼Œå…­çº§è€ƒè¯•å°¤å…¶æ³¨é‡è®®è®ºæ–‡çš„å†™ä½œèƒ½åŠ›ï¼Œé¢˜ç›®ä¸€èˆ¬æ˜¯é’ˆå¯¹æŸç§ç¤¾ä¼šç°è±¡å‘è¡¨è‡ªå·±çš„çœ‹æ³•ï¼Œå†™è¿™ç§çš„æ–‡ç« æ—¶éœ€è¦æ¸…æ™°çš„é€»è¾‘å’Œå¹²ç»ƒçš„è¡¨è¾¾ï¼Œä¸‹é¢ä¸ºä½ å‡†å¤‡ä¸¤ç¯‡æœ‰å…³ç¤¾ä¼šç°è±¡çš„çƒ­ç‚¹ä½œæ–‡é¢˜ç›®åŠå‚è€ƒèŒƒæ–‡ã€‚ é¢˜ç›®è¦æ±‚1ï¼š 1)è¿‘å‡ å¹´å…´èµ·äº†ä¸€è‚¡æŠ¥è€ƒå›½å®¶å…¬åŠ¡å‘˜çš„çƒ­æ½® 2)åˆ†æäº§ç”Ÿè¿™ä¸€ç°è±¡çš„åŸå› 3)ä½ å¯¹æ­¤çš„çœ‹æ³•æ˜¯â€¦â€¦ é¢˜ç›®1.å…¬åŠ¡å‘˜çƒ­æ½® In recent years, there aremore and more people who have participated in the test for nationalcivil servants. Millions of students choose civil servant as theirmost ideal occupation after graduation. And among them, thehigh-educated, like masters and doctors, take quite a largepercentage. The craze in civil servant test has attractedwidespread attention. The following reasons canaccount for this kind of craze. Above all, nowadays collegestudents face great employment pressure. Civil servant, as one ofthe most stable professions in todayâ€™s China,becomes their preferable choice. Moreover, in recent years, thewelfare and salary of civil servants have been improved greatly,which undoubtedly attracts many people. Besides, the high socialposition of civil servants is an important factor drawing manypeople to take part in the civil servant test. In my opinion, this craze in civil servant testwill continue in the following years. However, from the long run,it doesnâ€™t do good to the development of thenation. If most high quality talents gather in the governmentdepartments, it might lead to a waste of resources. Therefore, boththe individuals and the government should have a more objectiverecognition of the civil servant test craze. é¢˜ç›®2.ä½å¤´æ— é¢˜ç›®è¦æ±‚2ï¼š 1ï¼‰ç°åœ¨ï¼Œå„ä¸ªåœºæ‰€â€œä½å¤´æ—â€ç°è±¡æ¯”è¾ƒæ™®é 2ï¼‰å‡ºç°è¿™ä¸€ç°è±¡çš„åŸå›  3ï¼‰æˆ‘å¯¹è¿™ä¸€ç°è±¡çš„çœ‹æ³•å’Œå»ºè®® The picturedepicts a couple dating in the park. While the man just focuses onhis cellphones, and doesnâ€™t pay any attention tohis partner or the nature beauty in the park. This picture reflectsa common phenomenon in todayâ€™s society: peoplespend too much time with their cellphones and communicate less andless with the people around them. Nowadays, thesmart-cellphones become more and more important in our daily life.They have made our life more convenient. We are timely aware of themost latest news around or faraway from us. However, everything has twosides. Except for all the advantages, the smart-cellphones alsohave brought some problems. First, when youâ€™refocus on the cellphone, you may ignore the beautiful scene aroundyou. Whatâ€™s worse, you are just absorbed in yourown small world, rather than share your happiness and sorrows withthe family. You hardly talk with your family and the ones aroundyou. You become indifferent to them. All in all,letâ€™s put down the cellphones and spend more timecommunicating with our family and friends face to facedirectly.","categories":[{"name":"English","slug":"English","permalink":"http://www.octber.xyz/categories/English/"}],"tags":[{"name":"å…­çº§è€ƒè¯•","slug":"å…­çº§è€ƒè¯•","permalink":"http://www.octber.xyz/tags/%E5%85%AD%E7%BA%A7%E8%80%83%E8%AF%95/"}]},{"title":"FamilyManage-SpringbootShiroä¸­é‡åˆ°çš„é—®é¢˜ä¸æ€è€ƒ","slug":"FamilyManage-SpringbootShiroä¸­é‡åˆ°çš„é—®é¢˜ä¸æ€è€ƒ","date":"2019-06-14T17:44:48.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/06/15/FamilyManage-SpringbootShiroä¸­é‡åˆ°çš„é—®é¢˜ä¸æ€è€ƒ/","link":"","permalink":"http://www.octber.xyz/2019/06/15/FamilyManage-SpringbootShiro%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E4%B8%8E%E6%80%9D%E8%80%83/","excerpt":"å‰è¨€æœ¬æ¬¡ç ”ç©¶Springboot Shiroè¿˜æ˜¯é‡åˆ°äº†å¾ˆå¤šé—®é¢˜ï¼Œè®°å½•å¦‚ä¸‹ï¼š åŠ å¯†æ¬¡æ•°é—®é¢˜ï¼šcredentialsMatcher.setHashIterations(2); é¦–æ¬¡ç™»å½•ä¸è·³è½¬Controlleré—®é¢˜ ç™»å½•éªŒè¯æµç¨‹ å¼‚å¸¸ç±»è‡ªå®šä¹‰å’Œæ•è· å·¥å…·ç±»ç ”ç©¶","text":"å‰è¨€æœ¬æ¬¡ç ”ç©¶Springboot Shiroè¿˜æ˜¯é‡åˆ°äº†å¾ˆå¤šé—®é¢˜ï¼Œè®°å½•å¦‚ä¸‹ï¼š åŠ å¯†æ¬¡æ•°é—®é¢˜ï¼šcredentialsMatcher.setHashIterations(2); é¦–æ¬¡ç™»å½•ä¸è·³è½¬Controlleré—®é¢˜ ç™»å½•éªŒè¯æµç¨‹ å¼‚å¸¸ç±»è‡ªå®šä¹‰å’Œæ•è· å·¥å…·ç±»ç ”ç©¶ å…³äºåŠ å¯†æ¬¡æ•°å‡ºç°è¿™ä¸ªé—®é¢˜çš„ä½ç½®ï¼šShiroConfigcredentialsMatcher.setHashIterations(2); 1234567891011121314151617/** * å¯†ç æ ¡éªŒè§„åˆ™HashedCredentialsMatcher * è¿™ä¸ªç±»æ˜¯ä¸ºäº†å¯¹å¯†ç è¿›è¡Œç¼–ç çš„ * é˜²æ­¢å¯†ç åœ¨æ•°æ®åº“é‡Œæ˜ç ä¿å­˜ ,å½“ç„¶åœ¨ç™»é™†è®¤è¯çš„æ—¶å€™ * è¿™ä¸ªç±»ä¹Ÿè´Ÿè´£å¯¹formé‡Œè¾“å…¥çš„å¯†ç è¿›è¡Œç¼–ç  * å¤„ç†è®¤è¯åŒ¹é…å¤„ç†å™¨ï¼šå¦‚æœè‡ªå®šä¹‰éœ€è¦å®ç°ç»§æ‰¿HashedCredentialsMatcher */ @Bean(&quot;hashedCredentialsMatcher&quot;) public HashedCredentialsMatcher shiroHashedCredentialsMatcher() &#123; HashedCredentialsMatcher credentialsMatcher = new HashedCredentialsMatcher(); //æŒ‡å®šåŠ å¯†æ–¹å¼ä¸ºMD5 credentialsMatcher.setHashAlgorithmName(&quot;MD5&quot;); //åŠ å¯†æ¬¡æ•° credentialsMatcher.setHashIterations(2); credentialsMatcher.setStoredCredentialsHexEncoded(true); return credentialsMatcher; &#125; è¿™å°±æ¶‰åŠåˆ°äº†Shiroä¸­çš„ç¼–ç åŠ å¯†çš„å†…å®¹ï¼Œè¯·å‚çœ‹ã€ŠSpringboot-Shiro-ç¼–ç /åŠ å¯†ã€‹ é¦–æ¬¡ç™»å½•ä¸è·³è½¬Controllerè¿™æ˜¯Shiroçš„ä¸€ä¸ªå¤§çš„å‘,å› ä¸ºç†è®ºä¸Šæˆ‘ä»¬åº”å½“åœ¨loginçš„Controllerä¸­ä½¿ç”¨ 1234UsernamePasswordToken token = new UsernamePasswordToken(username, password, role);Subject currentUser = SecurityUtil.currentSubject();currentUser.login(token); è¿›è¡Œç™»å½•,ä¹‹åæˆ‘ä»¬ä¼šè¯¦ç»†ç ”ç©¶loginçš„è¿‡ç¨‹,ä¹‹åä¼šè·³è½¬åˆ°ä¸‹é¢çš„ä»£ç ä¸­,è¿›è¡Œç”¨æˆ·æŒ‡å®šæ–¹å¼çš„éªŒè¯ 12@Overrideprotected AuthenticationInfo doGetAuthenticationInfo(AuthenticationToken token) throws AuthenticationException &#123; ä½†æ˜¯é¦–æ¬¡ç™»å½•å¹¶æ²¡æœ‰æŒ‰ç…§è¿™ä¸ªæµç¨‹,è€Œæ˜¯ç›´æ¥è·³åˆ°äº†ä¸Šè¿°ä»£ç ,æ²¡æœ‰èµ°Controller,ä¹Ÿå°±æ˜¯æ²¡æœ‰æ”¾å…¥ä¸€ä¸ªUsernamePasswordToken,é‚£ä¹ˆè‚¯å®šæ— æ³•éªŒè¯,è¿™å°±éœ€è¦æˆ‘ä»¬è¿›è¡Œä¸€ä¸‹é…ç½®: 12345@Beanpublic ShiroFilterFactoryBean shiroFilterFactoryBean(DefaultWebSecurityManager securityManager) &#123; // å¼€æ”¾ç™»å½•æ¥å£ï¼Œå¦åˆ™åœ¨ç¬¬ä¸€æ¬¡ç™»å½•çš„æ—¶å€™å°±ä¼šç»•è¿‡controllerï¼Œæ‰§è¡ŒdoGetAuthenticationInfo map.put(&quot;/*/login&quot;, &quot;anon&quot;);&#125; å¦‚æœæ²¡æœ‰é…ç½®å¼€æ”¾ç™»å½•çš„æ¥å£,å°±ä¼šè¢«è¿‡æ»¤å™¨filteræ‹¦æˆª,æ‹¦æˆªè¿‡åå°±æ— æ³•è¿›å…¥ ç™»å½•éªŒè¯æµç¨‹ç°åœ¨æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹è¯¦ç»†çš„ç™»å½•éªŒè¯æµç¨‹:åœ¨Controllerçš„loginä¸­æ‰“æ–­ç‚¹,é€æ­¥debugè¿›è¡Œç ”ç©¶ ä½¿ç”¨postmanè¿›è¡ŒPostè¯·æ±‚çš„å‘é€: shiroConfigçš„è¿‡æ»¤å™¨ä¸­è®¾ç½®ç™»å½•æ¥å£çš„ä½ç½®: 12//ç™»å½•shiroFilterFactoryBean.setLoginUrl(&quot;/*/login&quot;); è€Œloginçš„controllerä»£ç å¦‚ä¸‹: é€šè¿‡pathæ‹¿åˆ°ç”¨æˆ·çš„è§’è‰²,åé¢çš„LoginInfoRequestBeanæ˜¯ä¸ºäº†è·å–ç”¨æˆ·çš„ç”¨æˆ·åå¯†ç ,å¹¶éªŒè¯ä»–ä»¬çš„åŸºæœ¬æ•°æ®(é•¿åº¦å¤Ÿä¸å¤Ÿ,èƒ½å¦ä¸ºç©ºç­‰) Debug-Controllerè¿›å…¥Controller,æ‹¿åˆ°è¯·æ±‚çš„æ•°æ®: UsernamePasswordTokenUsernamePasswordç±»æ˜¯æˆ‘ä»¬ä¹‹å‰è¯´è¿‡çš„Shiroç”¨äºéªŒè¯ç”¨æˆ·ç™»å½•çš„åŸºæœ¬ç±» è®¾ç½®äº†ç”¨æˆ·çš„åŸºæœ¬æ•°æ®,ç”¨æˆ·å,å¯†ç ,æ˜¯å¦è®°ä½æˆ‘,è¿˜æœ‰host(è§’è‰²),è€Œpasswordè¢«è½¬æ¢æˆäº†charçš„æ•°ç»„,ä¸ºäº†ä¹‹åæ–¹ä¾¿è¿›è¡Œå¤„ç†,charæ˜¯åŸºæœ¬æ•°æ®ç±»å‹,è€ŒStringä¸æ˜¯,è¿™æœ‰å¾ˆå¤§çš„åŒºåˆ« SubjectSubjectæ˜¯ç”¨æˆ·/å®¢æˆ·ç«¯å¯¹è±¡,æˆ‘ä»¬é€šè¿‡æ„å»ºä¸€ä¸ªSubjectæ¥è®°å½• æ‹¿åˆ°äº†å½“å‰çš„Subject: å¯ä»¥è¿›è¡Œç™»å½•æ“ä½œ:currentUser.login(token); loginçš„æºç ä¸­,ä½¿ç”¨securityManagerçš„loginåŠŸèƒ½,æˆ‘ä»¬åœ¨shiroConfigä¸­è‡ªå®šä¹‰æ³¨å…¥äº†ä¸€ä¸ªmanager,å°±ä¼šä½¿ç”¨æˆ‘ä»¬è‡ªå·±çš„è§„åˆ™ æ­¤å¤„æ è¿‡å‡ æ­¥,æˆ‘é€šè¿‡å¯¹loginçš„ç»§ç»­æ·±å…¥,å‘ç°è¿›å…¥äº†: è€Œè¿™ä¸ªæ­£å¼æˆ‘ä»¬åœ¨ShiroRealmä¸­å®šä¹‰çš„doAuthenticate()çš„æ–¹æ³• æˆåŠŸä»å¤§é‡çš„æºä»£ç è·³å…¥äº†æˆ‘ä»¬è‡ªå·±å†™çš„ä»£ç ä¸­: æˆ‘ä»¬åœ¨Controllerä¸­å®šä¹‰çš„UsernamePasswordå°±è¿›å…¥äº†è¿™é‡Œ,æˆ‘ä»¬å‚¨å­˜äº†ç”¨æˆ·ç™»å½•çš„å‡­è¯,ä¸€è·¯éšç€æºç å¾€å›èµ°,è¿”å›å¯ç”¨çš„ç”¨æˆ·info infoæ˜¯ä¸ä¸ºç©ºçš„,ä¹Ÿå°±æ˜¯éªŒè¯æˆåŠŸäº† shiroå°±ä¼šå‘Šè¯‰æˆ‘ä»¬notifySuccess(token, info); åˆ›å»ºä¸€ä¸ªSubjectçš„loggedInå¹¶ä¸”æˆåŠŸonSuccessfulLogin,è¿™æ ·å°±è·³å›äº†æœ€åˆçš„: ç›´åˆ°æœ€å,Controlleræ‰§è¡Œåˆ°äº†æœ€åä¸€è¡Œ: å°±è¿”å›æˆåŠŸsuccess();ç™»å½•å®Œæˆ æˆ‘ä»¬å¯ä»¥ç»§ç»­debugçœ‹åˆ°,å…¶å®Springbootæœ€æ ¸å¿ƒçš„ä¹Ÿæ˜¯Servletçš„æœºåˆ¶ æœ€ç»ˆPostManæ”¶åˆ°äº†:","categories":[{"name":"FamilyManage","slug":"FamilyManage","permalink":"http://www.octber.xyz/categories/FamilyManage/"}],"tags":[{"name":"FamilyManage","slug":"FamilyManage","permalink":"http://www.octber.xyz/tags/FamilyManage/"}]},{"title":"è½¯ä»¶é¡¹ç›®ç®¡ç†-æ•æ·å…ˆé”‹æœ±å°‘æ°‘","slug":"è½¯ä»¶é¡¹ç›®ç®¡ç†-æ•æ·å…ˆé”‹æœ±å°‘æ°‘","date":"2019-06-13T10:00:16.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/06/13/è½¯ä»¶é¡¹ç›®ç®¡ç†-æ•æ·å…ˆé”‹æœ±å°‘æ°‘/","link":"","permalink":"http://www.octber.xyz/2019/06/13/%E8%BD%AF%E4%BB%B6%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86-%E6%95%8F%E6%8D%B7%E5%85%88%E9%94%8B%E6%9C%B1%E5%B0%91%E6%B0%91/","excerpt":"å‰è¨€è½¯ä»¶é¡¹ç›®ç®¡ç†ç›¸å…³å†…å®¹","text":"å‰è¨€è½¯ä»¶é¡¹ç›®ç®¡ç†ç›¸å…³å†…å®¹ ç¬¬ä¸€ç« ï¼šæ¦‚è¿°é¡¹ç›®ç®¡ç†çš„ç”Ÿå‘½å‘¨æœŸé¡¹ç›®ç®¡ç†çš„ç”Ÿå‘½å‘¨æœŸâ€”â€”â€œå¯åŠ¨ã€è®¡åˆ’ã€æ‰§è¡Œã€æ§åˆ¶ã€ç»“æŸâ€æ¼”è¿›é¡ºåº é¡¹ç›®çš„æ¦‚å¿µé¡¹ç›®æ˜¯ä¸ºå®ŒæˆæŸä¸ªç‹¬ç‰¹çš„äº§å“æˆ–æœåŠ¡æ‰€åšçš„ä¸€æ¬¡æ€§ä»»åŠ¡ï¼š ç›®æ ‡æ€§ï¼Œå…¶ç»“æœåªå¯èƒ½æ˜¯ä¸€ç§æœŸæœ›çš„äº§å“æˆ–æœåŠ¡ã€‚ ç‹¬ç‰¹æ€§ï¼Œæ¯ä¸€ä¸ªé¡¹ç›®éƒ½æ˜¯å”¯ä¸€çš„ã€‚ ä¸€æ¬¡æ€§ï¼Œæœ‰ç¡®å®šçš„èµ·ç‚¹å’Œç»ˆç‚¹ã€‚ çº¦æŸæ€§ï¼Œæ¯ä¸€ä¸ªé¡¹ç›®çš„èµ„æºã€æˆæœ¬å’Œæ—¶é—´éƒ½æ˜¯æœ‰é™çš„ã€‚ å…³è”æ€§ï¼Œæ‰€å¼€å±•çš„æ´»åŠ¨æ˜¯å¯†åˆ‡ç›¸äº’å…³è”çš„ã€‚ å¤šæ–¹é¢æ€§ï¼Œä¸€ä¸ªé¡¹ç›®æ¶‰åŠå¤šä¸ªç›¸å…³åˆ©ç›Šè€… ä¸å¯é€†è½¬æ€§ã€‚ä¸è®ºç»“æœå¦‚ä½•ï¼Œé¡¹ç›®ç»“æŸäº†ï¼Œç»“æœä¹Ÿå°±ç¡®å®šäº†ã€‚ é¡¹ç›®-é¡¹ç›®é›†-é¡¹ç›®ç»„åˆä¸‰è€…å…³ç³» ç®€å•æ¥è¯´å°±æ˜¯ï¼šå¤šä¸ªé¡¹ç›®æ„æˆé¡¹ç›®é›†ï¼Œé¡¹ç›®é›†è¿›è¡Œç»„åˆæ„æˆé¡¹ç›®ç»„åˆ é¡¹ç›®ç®¡ç†çš„å®šä¹‰é¡¹ç›®ç®¡ç†ï¼Œç®€å•åœ°è¯´å°±æ˜¯å¯¹é¡¹ç›®è¿›è¡Œçš„ç®¡ç†ï¼Œå³æœ‰è®¡åˆ’åœ°æœ‰åºçš„æœ‰æ§åˆ¶çš„åšäº‹ã€‚ é¡¹ç›®ç®¡ç†å°±æ˜¯ä»¥é¡¹ç›®ä¸ºå¯¹è±¡çš„ç³»ç»Ÿç®¡ç†æ–¹æ³•ï¼Œé€šè¿‡ä¸€ä¸ªç‰¹å®šçš„æŸ”æ€§ç»„ç»‡ï¼Œå¯¹é¡¹ç›®è¿›è¡Œé«˜æ•ˆç‡çš„è®¡åˆ’ã€ç»„ç»‡ã€æŒ‡å¯¼å’Œæ§åˆ¶ï¼Œä¸æ–­è¿›è¡Œèµ„æºçš„é…ç½®å’Œä¼˜åŒ–ï¼Œä¸æ–­ä¸é¡¹ç›®å„æ–¹æ²Ÿé€šå’Œåè°ƒï¼ŒåŠªåŠ›ä½¿é¡¹ç›®æ‰§è¡Œçš„å…¨è¿‡ç¨‹å¤„äºæœ€ä½³çŠ¶æ€ï¼Œè·å¾—æœ€å¥½çš„ç»“æœã€‚é¡¹ç›®ç®¡ç†æ˜¯å…¨è¿‡ç¨‹çš„ç®¡ç†ï¼Œæ˜¯åŠ¨æ€çš„ç®¡ç†ï¼Œæ˜¯åœ¨å¤šä¸ªç›®æ ‡ä¹‹é—´ä¸æ–­åœ°è¿›è¡Œå¹³è¡¡ã€åè°ƒä¸ä¼˜åŒ–çš„ä½“ç°ã€‚ å‚è€ƒï¼š é¡¹ç›®ç®¡ç†çš„æ„æˆå’Œçº¦æŸå› ç´  é¡¹ç›®ç®¡ç†æœ¬è´¨ é¡¹ç›®ç®¡ç†çš„å¯¹è±¡-3P People äººå‘˜å¿…é¡»è¢«ç»„ç»‡æˆæœ‰æ•ˆç‡çš„å›¢é˜Ÿï¼Œä»–ä»¬çš„æ½œåŠ›éœ€è¦è¢«æ¿€å‘å‡ºæ¥ï¼Œæˆ‘ä»¬è¦ä¸ºé¡¹ç›®å›¢é˜ŸåŠå…¶æˆå‘˜å»ºç«‹æœ‰æ•ˆçš„æ²Ÿé€šé€”å¾„å’Œæ–¹æ³•ï¼Œä»¥å®ç°äººå‘˜ä¹‹é—´ï¼Œå›¢é˜Ÿä¹‹é—´ï¼Œç®¡ç†è€…å’Œè¢«ç®¡ç†è€…ä¹‹é—´çš„æœ‰æ•ˆæ²Ÿé€šï¼Œæœ‰æ•ˆçš„å›¢é˜Ÿåº”å»ºç«‹åˆé€‚çš„ç»„ç»‡ç»“æ„å’Œå·¥ä½œæ–‡åŒ–ï¼Œå¹¶é€šè¿‡ä¸€ç³»åˆ—æ´»åŠ¨ï¼Œæé«˜å›¢é˜Ÿçš„å‡èšåŠ›å’Œæˆ˜æ–—åŠ›ï¼Œè´¡çŒ®å›¢é˜Ÿçš„ç›®æ ‡å’Œæ–‡åŒ–ï¼Œå¹¶æœ€ç»ˆåœ†æ»¡çš„å®Œæˆä»»åŠ¡ã€‚ Problem é—®é¢˜åœ¨é¡¹ç›®ç®¡ç†é‡Œè¡¨ç°ä¸ºæµç¨‹ä¸æ¸…æ¥šæˆ–æ§åˆ¶ä¸ä¸¥å¯†ï¼Œåº”ç”¨é¢†åŸŸçŸ¥è¯†ä¸è¶³ï¼Œéœ€æ±‚ä¸æ–­å˜åŒ–å’Œä¸ä¸€è‡´ï¼Œæ²Ÿé€šä¸æµç•…ç­‰ï¼Œå…¶è§£å†³åŠæ³•æ˜¯æ‰¾å‡ºå¼•èµ·é—®é¢˜çš„æ ¹æœ¬åŸå› åœ¨å“ªé‡Œï¼Œç„¶åé’ˆå¯¹é—®é¢˜æœ¬è´¨æ‰¾åˆ°è§£å†³åŠæ³•ï¼Œä»¥æ±‚å½»åº•è§£å†³é—®é¢˜ï¼Œå¦‚æœé¡¹ç›®ç®¡ç†è€…å…·æœ‰ç¼ºé™·é¢„é˜²æ„è¯†ï¼Œå¯¹é—®é¢˜å…·æœ‰é¢„è§æ€§ï¼Œèƒ½å¤Ÿé¿å…é—®é¢˜çš„å‘ç”Ÿï¼Œé˜²èŒƒé£é™©ï¼Œé˜²æ‚£äºæœªç„¶ï¼Œé¡¹ç›®çš„æˆæœ¬å°±ä¼šå¤§å¤§é™ä½ï¼Œé¡¹ç›®æˆåŠŸçš„æœºä¼šå°±ä¼šæ›´å¤§ã€‚ Process è¿‡ç¨‹å¿…é¡»é€‚åº”äºäººå‘˜çš„éœ€æ±‚å’Œé—®é¢˜çš„è§£å†³ï¼Œäººå‘˜çš„éœ€æ±‚ä¸»è¦ä½“ç°åœ¨èƒ½åŠ›ã€æ²Ÿé€šã€åè°ƒç­‰ä¸Šï¼Œé—®é¢˜èƒ½å¤Ÿåœ¨æ•´ä¸ªé¡¹ç›®å®æ–½è¿‡ç¨‹ä¸­å¾—åˆ°é¢„é˜²ã€è·Ÿè¸ªã€æ§åˆ¶å’Œè§£å†³ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€å¥—è§„èŒƒä¸”æœ‰æ•ˆçš„æµç¨‹æ˜¯ä¿è¯é¡¹ç›®å¹³ç¨³é¡ºåˆ©è¿è¡Œçš„åŸºç¡€ã€‚ é¡¹ç›®ç®¡ç†æˆåŠŸè¦ç´ 1. åˆ¶å®šè®¡åˆ’ï¼šé¢„ä¼°å’Œç¡®å®šé¡¹ç›®çš„å·¥ä½œé‡å¤§å°ã€æ‰€éœ€èµ„æºå’Œè¿›åº¦ã€é£ é™©åº”å¯¹æªæ–½ç­‰ï¼› 2. å»ºç«‹ç»„ç»‡ï¼šå»ºç«‹é¡¹ç›®ç»„ï¼Œå¹¶æœ‰æ˜ç¡®çš„è§’è‰²å®šä¹‰å’Œä»»åŠ¡åˆ†å·¥ï¼› 3. é…å¤‡èµ„æºï¼šä»»ç”¨å„ç§å±‚æ¬¡çš„æŠ€æœ¯äººå‘˜å’Œç®¡ç†äººå‘˜ï¼Œä»¥åŠå‡†å¤‡æ‰€éœ€ çš„è½¯ç¡¬ä»¶ï¼› 4. ç›‘æ§æ‰§è¡Œï¼šåè°ƒé¡¹ç›®å„æ–¹äººå‘˜ï¼Œç›‘æ§å„ç§é£é™©ï¼Œç£ä¿ƒé¡¹ç›®è¿›å±•ï¼Œ éšæ—¶æ£€æŸ¥å®æ–½æƒ…å†µï¼Œç¡®ä¿é¡¹ç›®æŒ‰è®¡åˆ’è¿›è¡Œï¼ŒæŒ‰æ—¶ã€æŒ‰è´¨å®Œæˆä»»åŠ¡ 5. æ€»ç»“æé«˜ï¼šé¡¹ç›®å®Œæˆåï¼ŒåŠæ—¶è¿›è¡Œæ€»ç»“ï¼Œå¸å–æ•™è®­ï¼Œåˆ†äº«ç»éªŒï¼Œ ä¸°å¯Œç»„ç»‡çš„é¡¹ç›®ç®¡ç†æ•°æ®åº“æˆ–çŸ¥è¯†åº“ã€‚ é¡¹ç›®ç®¡ç†åŸºæœ¬æ–¹æ³• é˜¶æ®µåŒ–ç®¡ç† ï¼šå°†é¡¹ç›®çš„ç”Ÿå‘½å‘¨æœŸåˆ†ä¸ºè‹¥å¹²ä¸ªé˜¶æ®µï¼Œå†æ ¹æ®ä¸åŒæ®µæ‰€å…·æœ‰çš„ä¸åŒç‰¹ç‚¹æ¥è¿›è¡Œé’ˆå¯¹æ€§çš„ç®¡ç†ã€‚ é‡åŒ–ç®¡ç† ï¼šé’ˆå¯¹å½±å“é¡¹ç›®æˆåŠŸçš„å› ç´ åˆ¶å®šæŒ‡æ ‡ã€æ”¶é›†æ•°æ®ã€åˆ†ææ•°æ®ï¼Œä»è€Œå®Œæˆå¯¹é¡¹ç›®çš„æ§åˆ¶å’Œä¼˜åŒ–ã€‚ ä¼˜åŒ–ç®¡ç†ï¼šåˆ†æé¡¹ç›®æ¯éƒ¨åˆ†æ‰€è•´æ¶µçš„çŸ¥è¯†ï¼Œä¸æ–­å¸å–æ•™è®­ã€æ€»ç»“ç»éªŒï¼Œå°†çŸ¥è¯†å’Œå®è·µæ›´å¥½åœ°èåˆåœ¨ä¸€èµ·ï¼Œä»è€Œå¯¹é¡¹ç›®çš„è®¡åˆ’ã€å®æ–½åŠæ³•ç­‰è¿›è¡Œä¼˜åŒ–ï¼Œè·å¾—é¡¹ç›®çš„æœ€ä½³æ•ˆç›Šã€‚ é¡¹ç›®ç®¡ç†åŸºæœ¬æ¨¡å‹1. ç»„é˜Ÿæ¨¡å‹ç”¨äºè§£å†³äººåŠ›èµ„æºç®¡ç†ï¼ŒåŒ…æ‹¬æ˜ç¡®ç›¸äº’ä¾èµ–çš„è§’è‰²å’Œè´£ä»»ã€æ²Ÿé€šæœºåˆ¶ç­‰ï¼›2.è¿‡ç¨‹æ¨¡å‹ä¸ºäº†è§£å†³è½¯ä»¶å¼€å‘è¿‡ç¨‹ç®¡ç†ï¼ŒåŒ…æ‹¬æ—¶é—´ç®¡ç†ã€åŸºäºé‡Œç¨‹ç¢‘çš„é˜¶æ®µåˆ’åˆ†ã€é˜¶æ®µæ€§æˆæœåŠå…¶åŸºçº¿çš„ç®¡ç†ï¼Œä¿éšœé¡¹ç›®çš„é¡ºåˆ©å®æ–½ï¼›3.åº”ç”¨æ¨¡å‹æ˜¯å…·ä½“åº”ç”¨é¢†åŸŸçš„éœ€æ±‚ç®¡ç†å’Œå˜æ›´ç®¡ç†ç­‰ï¼Œå¹¶åœ¨ç”¨æˆ·ã€ä¸šåŠ¡å’Œæ•°æ®ä¸‰ä¸ªå±‚é¢ä¸Šï¼Œå®šä¹‰åä½œçš„ã€åˆ†å¸ƒçš„ã€å¯é‡ç”¨çš„ä¸šåŠ¡é€»è¾‘ç½‘ç»œã€‚ è½¯ä»¶é¡¹ç›®ç®¡ç†çš„çŸ¥è¯†ä½“ç³» PMBOK PRINCE2 WWPMM è½¯ä»¶é¡¹ç›®ç®¡ç†çš„ä¸åŒä¹‹å¤„ è½¯ä»¶é¡¹ç›®æ˜¯è®¾è®¡å‹é¡¹ç›® è½¯ä»¶è¿‡ç¨‹æ¨¡å‹ éœ€æ±‚å˜åŒ–é¢‘ç¹ éš¾ä»¥ä¼°ç®—å·¥ä½œé‡ ä¸»è¦çš„æˆæœ¬æ˜¯äººåŠ›æˆæœ¬ ä»¥äººä¸ºæœ¬çš„ç®¡ç† é¡¹ç›®è§’è‰²å’ŒèŒèƒ½ è½¯ä»¶é¡¹ç›®çš„åˆ†ç±» æŒ‰è§„æ¨¡åˆ’åˆ†æ¯”è¾ƒç®€å•ï¼Œå¯åˆ†ä¸ºå¤§å‹é¡¹ç›®ã€ä¸­å°å‹é¡¹ç›®ç­‰ã€‚ æŒ‰è½¯ä»¶å¼€å‘æ¨¡å¼åˆ’åˆ†ï¼Œå¯åˆ†ä¸ºç»„ç»‡å†…éƒ¨é¡¹ç›®ã€ç›´æ¥ä¸ºç”¨æˆ·å¼€å‘çš„å¤–éƒ¨é¡¹ç›®å’Œè½¯ä»¶å¤–åŒ…é¡¹ç›®ã€‚ æŒ‰äº§å“ä¸åŒçš„äº¤ä»˜ç±»å‹å¯åˆ†ä¸ºäº§å“å‹é¡¹ç›®ã€ä¸€æ¬¡å‹é¡¹ç›®ã€‚ æŒ‰è½¯ä»¶å•†ä¸šæ¨¡å¼åˆ’åˆ†ï¼Œå¯åˆ†ä¸ºè½¯ä»¶äº§å“é”€å”®ã€åœ¨çº¿æœåŠ¡ä¸¤ç§æ¨¡å¼ï¼Œæˆ–è€…åˆ†ä¸ºéšéœ€ï¼ˆon\u0002demand/SaaSï¼‰æœåŠ¡æ¨¡å¼å’Œå†…éƒ¨éƒ¨ç½²(on-premise/on-Site)æ¨¡å¼ã€‚ æŒ‰è½¯ä»¶å‘å¸ƒæ–¹å¼å¯åˆ†ä¸ºæ–°é¡¹ç›®ã€é‡å¤é¡¹ç›®ï¼ˆæ—§é¡¹ç›®ï¼‰ï¼Œä¹Ÿå¯åˆ†ä¸ºå®Œæ•´ç‰ˆæœ¬ã€æ¬¡è¦ç‰ˆæœ¬æˆ–æœåŠ¡åŒ…(service pack)ã€ä¿®æ­£è¡¥ä¸åŒ… (patch)ç­‰ã€‚ æŒ‰é¡¹ç›®å¾…å¼€å‘çš„äº§å“è¿›è¡Œåˆ†ç±»ï¼Œå¦‚COCOMOæ¨¡å‹ä¸­ï¼Œå¯åˆ†ä¸ºç»„ç»‡å‹ã€åµŒå…¥å‹å’ŒåŠç‹¬ç«‹å‹ã€‚ æŒ‰ç³»ç»Ÿæ¶æ„åˆ†ï¼Œå¯åˆ†B/Sã€C/Så¤šå±‚ç»“æ„ï¼Œä¹Ÿå¯åˆ†é›†ä¸­å¼ç³»ç»Ÿå’Œåˆ†å¸ƒå¼ç³»ç»Ÿï¼Œæˆ–è€…åˆ†ä¸ºé¢å‘å¯¹è±¡ã€é¢å‘æœåŠ¡ã€é¢å‘ç»„ä»¶ç­‰ç±»å‹ã€‚ æŒ‰æŠ€æœ¯åˆ’åˆ†ï¼Œå¯åˆ†ä¸ºWebåº”ç”¨ã€å®¢æˆ·ç«¯åº”ç”¨ã€ç³»ç»Ÿå¹³å°è½¯ä»¶ç­‰ï¼Œä¹Ÿå¯åˆ†ä¸ºJ2EEã€.Net ç­‰ä¸åŒå¹³å°ä¹‹ä¸Šçš„é¡¹ç›®ã€‚ ç¬¬äºŒç« ï¼šé¡¹ç›®å‡†å¤‡å’Œå¯åŠ¨é¡¹ç›®å»ºè®®ä¹¦é¡¹ç›®å»ºè®®ä¹¦ (project proposal )ï¼Œé¡¾åæ€ä¹‰ï¼Œå°± æ˜¯é¡¹ç›®ç«‹é¡¹ç”³è¯·æŠ¥å‘Šã€‚å®ƒå¯ ä»¥æ¯”è¾ƒç®€è¦ï¼Œä¹Ÿå¯ä»¥æ¯”è¾ƒè¯¦ å°½ï¼Œè€Œé‡ç‚¹æ˜¯å¦‚ä½•å‘æœ‰å…³çš„ æŠ•èµ„æ–¹æˆ–ä¸Šçº§é˜è¿°ç«‹é¡¹çš„å¿… è¦æ€§ã€‚ é¡¹ç›®å»ºè®®ä¹¦çš„å†…å®¹ é¡¹ç›®çš„èƒŒæ™¯ é¡¹ç›®çš„æ„ä¹‰å’Œå¿…è¦æ€§ é¡¹ç›®äº§å“æˆ–æœåŠ¡çš„å¸‚åœºé¢„æµ‹ é¡¹ç›®è§„æ¨¡å’ŒæœŸé™ é¡¹ç›®å»ºè®¾å¿…éœ€çš„æ¡ä»¶ã€å·²å…·å¤‡å’Œå°šä¸å…·å¤‡çš„æ¡ä»¶åˆ†æ æŠ•èµ„ä¼°ç®—å’Œèµ„é‡‘ç­¹æªçš„è®¾æƒ³ å¸‚åœºå‰æ™¯åŠç»æµæ•ˆç›Šåˆæ­¥åˆ†æ å…¶å®ƒéœ€è¦è¯´æ˜çš„æƒ…å†µ å¯è¡Œæ€§åˆ†æå› ç´  å¯è¡Œæ€§åˆ†ææ–¹æ³• æŠ•æ ‡ä¸¤ä¸ªé˜¶æ®µ ç¬¬ä¸€ä¸ªé˜¶æ®µæ˜¯å‚åŠ ç«æ ‡çš„ä¾›åº”å•†åœ¨è§„å®šçš„æ—¶é—´å†…æäº¤æŠ•æ ‡ä¹¦ã€‚ ç¬¬äºŒä¸ªé˜¶æ®µæ˜¯éœ€æ±‚æ–¹ï¼ˆå®¢æˆ·ï¼‰å¯¹æŠ•æ ‡ä¹¦è¿›è¡Œè¯„ä¼°ï¼Œå¾—å‡ºç«æ ‡ç»“æœã€‚ åˆåŒç§ç±» å›ºå®šæ€»ä»·åˆåŒ è´¹ç”¨å¿è¿˜åˆåŒ æ—¶é—´å’Œææ–™åˆåŒ åŠŸèƒ½ç‚¹è®¡è´¹åˆåŒ åˆåŒè¯„å®¡è¿‡ç¨‹ åˆ¶å®šåˆåŒ è¯„å®¡åˆåŒ ç­¾è®¢åˆåŒ è½¯ä»¶å¼€å‘æ¨¡å‹ ç€‘å¸ƒæ¨¡å‹ å¼€å‘è¿‡ç¨‹æ˜¯é€šè¿‡ä¸€ç³» åˆ—è½¯ä»¶æ´»åŠ¨é¡ºåºå±•å¼€ çš„ï¼Œä»ç³»ç»Ÿéœ€æ±‚åˆ†æ å¼€å§‹ç›´åˆ°äº§å“å‘å¸ƒå’Œ ç»´æŠ¤ï¼Œæ¯ä¸ªæ´»åŠ¨éƒ½ä¼š äº§ç”Ÿå¾ªç¯åé¦ˆã€‚ å¿«é€ŸåŸå‹å®ç°æ¨¡å‹ å¢é‡æ¨¡å‹åˆ°æ•æ·æ–¹æ³• æé™ç¼–ç¨‹ æ˜¯ä¸€ç§è½¯ä»¶å·¥ç¨‹æ–¹æ³•å›¾ï¼Œæ˜¯æ•æ·è½¯ä»¶å¼€å‘ä¸­æœ€æœ‰æˆæ•ˆçš„é›†ä¸­æ–¹æ³•å­¦ä¹‹ä¸€ã€‚åŸºæœ¬æ€æƒ³æ˜¯â€œæ²Ÿé€šã€ç®€å•ã€åé¦ˆã€å‹‡æ°”â€ï¼Œä»–ä¸ä¼ ç»Ÿæ–¹æ³•å­¦çš„ä¸åŒåœ¨äºï¼šä»–æ›´å¼ºè°ƒå¯é€‚åº”æ€§ï¼Œè€Œä¸æ˜¯å¯é¢„æµ‹æ€§ï¼ŒXPé¡¹ç›®ä¸€å¼€å§‹å°±æ˜¯æ‰‹æœºç”¨æˆ·æ•…äº‹ï¼Œç”¨æˆ·æ•…äº‹ç”±ç”¨æˆ·ç¼–å†™ï¼Œæ˜¯ä¸€æ®µä¸æŠ€æœ¯æ— å…³çš„æ–‡æœ¬ï¼Œå…¶ç›®çš„åœ¨äºæä¾›ä¸€äº›ç‰¹æ®Šåœºæ™¯çš„è¯¦ç»†æè¿°ï¼Œè€Œä¸æ˜¯ç”¨äºä¼°è®¡ç³»ç»Ÿçš„å¤æ‚æ€§ï¼Œç”¨æˆ·æ•…äº‹çš„æ‰€æœ‰ç»†èŠ‚ï¼Œå¿…é¡»åœ¨å¥¹å®ç°ä¹‹å‰å¾—åˆ°å®¢æˆ·çš„ç¡®è®¤ï¼Œç´§æ¥ç€å°±æ˜¯åˆ¶å®šå‘å¸ƒè®¡åˆ’ï¼Œå‘å¸ƒè®¡åˆ’ç¡®å®šåœ¨ç³»ç»Ÿçš„å“ªä¸ªå‘å¸ƒç‰ˆæœ¬ä¸­æœ‰å“ªäº›ç”¨æˆ·æ•…äº‹éœ€è¦å®ç°ï¼Œæ¯ä¸ªå‘å¸ƒç‰ˆæœ¬éƒ½éœ€è¦ç»è¿‡å¥½å‡ æ¬¡è¿­ä»£ï¼Œæ¯æ¬¡è¿­ä»£å®ç°ä¸€äº›ç”¨æˆ·æ•…äº‹ï¼Œä¸€æ¬¡è¿­ä»£åŒ…æ‹¬å¦‚ä¸‹é˜¶æ®µï¼š è®¡åˆ’ é€‰æ‹©è¦å®ç°çš„ç”¨æˆ·æ•…äº‹åŠå…¶è¦æ˜ç¡®çš„ç»†åˆ™ ç¼–ç  å®ç°ç”¨æˆ·æ•…äº‹ æµ‹è¯• è‡³å°‘æ¯ä¸ªç±»éƒ½è¦æœ‰ç›¸åº”çš„å•å…ƒæµ‹è¯• éªŒæ”¶æµ‹è¯• å¦‚æœæµ‹è¯•æˆåŠŸï¼Œæ–°åŠŸèƒ½å¼€å‘å®Œæˆï¼Œå¦‚æœå¤±è´¥ï¼Œåˆ™è¿›å…¥ä¸‹ä¸€æ¬¡è¿­ä»£ è¡Œä¸ºé©±åŠ¨å¼€å‘ BDDï¼Œæ˜¯ä¸€ç§æ•æ·å¼€å‘çš„æŠ€æœ¯ï¼Œä»–é¼“åŠ±è½¯ä»¶é¡¹ç›®ä¸­çš„å¼€å‘è€…QAå’ŒéæŠ€æœ¯äººå‘˜æˆ–å•†ä¸šå‚ä¸è€…ç›´æ¥çš„åä½œï¼Œåšæ³•åŒ…æ‹¬ï¼šP42 åŠŸèƒ½é©±åŠ¨å¼€å‘ PDDï¼Œé’ˆå¯¹ä¸­å°å‹è½¯ä»¶é¡¹ç›®çš„å¼€å‘æ¨¡å¼ï¼Œæ˜¯ä¸€ä¸ªæ¨¡å‹é©±åŠ¨çš„å¿«é€Ÿå¼€å‘è¿‡ç¨‹ï¼Œä»–å¼ºè°ƒçš„æ˜¯ç®€åŒ–ã€å®ç”¨ï¼Œæ˜“äºè¢«å¼€å‘å›¢é˜Ÿæ¥å—ï¼Œé€‚ç”¨äºéœ€æ±‚ç»å¸¸å˜åŠ¨çš„é¡¹ç›®ã€‚å¼€å‘åˆ†ä¸ºå››ä¸ªé˜¶æ®µï¼š å¼€å‘ä¸€ä¸ªå…¨å±€æ¨¡å‹ å»ºç«‹åŠŸèƒ½åˆ—è¡¨ ä¾æ®å·¥å†œèƒ½æŒ‡å®šè®¡åˆ’ ä¾æ®åŠŸèƒ½è¿›è¡Œè®¾è®¡å’Œå®ç° æ•æ·å¼€å‘æ¨¡å‹Scrum é€šè¿‡ä¸æ–­è¿­ä»£å¼€å‘å’Œå¢é‡å‘å¸ƒï¼Œæœ€ç»ˆäº¤ä»˜ç¬¦åˆç”¨æˆ·ä»·å€¼çš„äº§å“ã€‚ è½¯ä»¶å¼€å‘æ¨¡å‹çš„ç‰¹ç‚¹ æ•æ·å¼€å‘çš„ä¸‰ç§è§’è‰² äº§å“è´Ÿè´£äºº è´Ÿè´£ç»´æŠ¤äº§å“éœ€æ±‚çš„äººï¼Œä»£è¡¨åˆ©ç›Šç›¸å…³è€…çš„åˆ©ç›Š Scrum Master ä¸ºScrumè¿‡ç¨‹è´Ÿè´£çš„äººï¼Œç¡®ä¿Scrumçš„æ­£ç¡®ä½¿ç”¨ï¼Œå¹¶ä½¿å¾—Scrumçš„æ”¶ç›Šæœ€å¤§åŒ–ï¼Œè´Ÿè´£æ‰«é™¤é˜»ç¢é¡¹ç›®è¿›å±•çš„é—®é¢˜ å¼€å‘å›¢é˜Ÿ è‡ªæˆ‘ç®¡ç†å¼€å‘çš„äººç»„æˆçš„è·¨èŒèƒ½å›¢é˜Ÿï¼Œå»ºè®®ä¸€ä¸ªScrumå›¢é˜Ÿ5-9äººï¼Œå¤§äº9äººï¼Œä½¿ç”¨SOSï¼ˆScrum Of Scrumsï¼‰æ¨¡å¼ã€‚ æ•æ·å¼€å‘çš„äº”ä¸ªæ´»åŠ¨ â‘ è®¡åˆ’ä¼š( Sprint Planning Meeting ):åœ¨æ¯ä¸ªå†²åˆºä¹‹åˆï¼Œç”±äº§å“è´Ÿè´£äººè®²è§£éœ€æ±‚ï¼Œå¹¶ç”±åˆ‘å›¢é˜Ÿè¿›è¡Œä¼°ç®—çš„è®¡åˆ’ä¼šè®®ã€‚ â‘¡æ¯æ—¥ç«‹ä¼š( Daily Standup Meeting ):å›¢é˜Ÿæ¯å¤©è¿›è¡Œæ²Ÿé€šçš„å†…éƒ¨çŸ­ä¼šï¼Œå› ä¸€èˆ¬åªæœ‰15åˆ†ä¸”ç«™ç«‹è¿›è¡Œè€Œå¾—åã€‚ â‘¢è¯„å®¡ä¼š( Review Meeting ):åœ¨å†²åˆºç»“æŸå‰ç»™äº§å“è´Ÿè´£äººæ¼”ç¤ºå¹¶æ¥å—è¯„ä»·çš„ä¼šè®®ã€‚ â‘£å›é¡¾ä¼š( Retrospective Meeting ):åœ¨å†²åˆºç»“æŸåå¬å¼€çš„å…³äºè‡ªæˆ‘æŒç»­æ”¹è¿›çš„ä¼šè®®ã€‚ â‘¤è¿­ä»£(Sprint):ä¸€ä¸ªæ—¶é—´å‘¨æœŸ( é€šå¸¸åœ¨2å‘¨åˆ°1ä¸ªæœˆä¹‹é—´)ï¼Œå¼€å‘å›¢é˜Ÿä¼šåœ¨æ­¤æœŸé—´å†…å®Œæˆæ‰€æ‰¿è¯ºçš„ä¸€ç»„éœ€æ±‚é¡¹çš„å¼€å‘ã€‚ é¡¹ç›®ç»„ç»‡ç»“æ„ æ™ºèƒ½å‹ï¼šç»è¥æ´»åŠ¨æŒ‰ç…§èŒèƒ½åˆ’åˆ†æˆéƒ¨é—¨ã€‚é¡¹ç›®åŠŸèƒ½éƒ½åœ¨æœ¬èŒèƒ½éƒ¨ é—¨å†…éƒ¨è®¨è®ºå®Œæˆå†é€’äº¤åˆ°ä¸‹ä¸€ä¸ªéƒ¨é—¨ã€‚å¦‚æœå®ŒæˆæœŸé—´æ¶‰åŠå…¶ä»–èŒ èƒ½éƒ¨é—¨çš„é—®é¢˜ï¼Œåªèƒ½æŠ¥å‘Šç»™æœ¬èŒèƒ½éƒ¨é—¨ç»ç†ï¼Œç”±å„èŒèƒ½éƒ¨é—¨ç»ç† è¿›è¡Œåè°ƒå’Œæ²Ÿé€šã€‚ çº¯é¡¹ç›®å‹ï¼šé¡¹ç›®ç»ç†æ‹¥æœ‰é¢†å¯¼æƒï¼Œé¡¹ç›®å†…æ‰€æœ‰æˆå‘˜ç›´æ¥å‘é¡¹ç›®ç» ç†æ±‡æŠ¥ã€‚æ¯ä¸ªé¡¹ç›®å°±æ˜¯ä¸€ä¸ªç‹¬ç«‹è‡ªä¸»å•ä½ã€‚å®ƒå°±å¦‚åŒä¸€ä¸ªå­å…¬å¸ é‚£æ ·è¿ä½œï¼Œæ‹¥æœ‰å®Œæ•´çš„äººå‘˜é…å¤‡-åƒæŠ€æœ¯äººå‘˜ï¼Œè¡Œæ”¿äººå‘˜ï¼Œè´¢åŠ¡ äººå‘˜ç­‰ã€‚ çŸ©é˜µå‹ï¼šå®ƒæ˜¯èŒèƒ½å‹å’Œçº¯é¡¹ç›®å‹çš„ç»“åˆä½“ã€‚ä½†æ˜¯é¡¹ç›®å†…çš„æˆå‘˜å— é¡¹ç›®ç»ç†å’ŒèŒèƒ½ç»ç†åŒé‡é¢†å¯¼ã€‚ è½¯ä»¶é¡¹ç›®çš„ç»„ç»‡æ¶æ„ é¡¹ç›®å†³ç­–å±‚ï¼Œç®¡ç†å±‚å’Œæ‰§è¡Œå±‚ä¹‹é—´çš„å…³ç³» QAä¸QC QA-è´¨é‡ä¿è¯ï¼Œé€šè¿‡å»ºç«‹å’Œç»´æŒè´¨é‡ç®¡ç†ä½“ç³»æ¥ç¡®ä¿äº§å“è´¨é‡æ²¡æœ‰é—®é¢˜ï¼Œ æ˜¯è¿‡ç¨‹è´¨é‡å®¡è®¡è€…ã€‚åœ¨æˆ‘ä»¬è½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­ï¼ŒQAä¹Ÿå°±æ˜¯è´¨é‡ç»„æˆå‘˜ã€‚ QAæ‰€å…³æ³¨çš„æ˜¯è½¯ä»¶äº§å“è´¨é‡ä¿è¯ä½“ç³»ã€‚ QC-è´¨é‡æ§åˆ¶ï¼Œæ£€éªŒäº§å“çš„è´¨é‡ï¼Œä¿è¯äº§å“ç¬¦åˆå®¢æˆ·çš„éœ€æ±‚ï¼›æ˜¯äº§å“è´¨ é‡æ£€æŸ¥è€…ã€‚åœ¨æˆ‘ä»¬è½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­ï¼ŒQCå…¶å®å°±æ˜¯æµ‹è¯•ç»„æˆå‘˜ã€‚QCæ‰€å…³ æ³¨çš„æ˜¯äº§å“ï¼Œè€Œéç³»ç»Ÿï¼ˆä½“ç³»ï¼‰ã€‚ è½¯ä»¶é¡¹ç›®å¹²ç³»äººå…¶å®å°±æ˜¯è½¯ä»¶é¡¹ç›®å¹²ç³»äººï¼ˆstakeholdersï¼‰ï¼Œæ˜¯æŒ‡ç§¯æå‚ä¸é¡¹ç›®æˆ– å…¶åˆ©ç›Šåœ¨é¡¹ç›®æ‰§è¡Œä¸­æˆ–æˆåŠŸåå—åˆ°ç§¯ææˆ–æ¶ˆæå½±å“çš„ç»„ç»‡å’Œä¸ªäºº ç¬¬ä¸‰ç« ï¼šé¡¹ç›®è®¡åˆ’ä»€ä¹ˆæ˜¯é¡¹ç›®è®¡åˆ’ï¼Ÿè®¡åˆ’æ˜¯äº‹å…ˆç¡®å®šé¡¹ç›®çš„ç›®æ ‡å’Œå®ç°ç›®æ ‡æ‰€éœ€è¦çš„åŸåˆ™ã€æ–¹æ³•ã€ æ­¥éª¤å’Œæ‰‹æ®µç­‰å®Œæ•´æ–¹æ¡ˆçš„ç®¡ç†æ´»åŠ¨ã€‚ è½¯ä»¶é¡¹ç›®è®¡åˆ’ï¼ˆSoftware Project Planningï¼‰çš„ç›®çš„æ˜¯åˆ¶ å®šä¸€å¥—è½¯ä»¶é¡¹ç›®å®æ–½åŠç®¡ç†çš„è§£å†³æ–¹æ¡ˆï¼Œå…¶ä¸»è¦å·¥ä½œåŒ…æ‹¬ç¡® å®šè¯¦ç»†çš„é¡¹ç›®å®æ–½èŒƒå›´ã€å®šä¹‰é€’äº¤çš„å·¥ä½œæˆæœã€è¯„ä¼°å®æ–½è¿‡ ç¨‹ä¸­ä¸»è¦çš„é£é™©ã€åˆ¶å®šé¡¹ç›®å®æ–½çš„ï¼ˆæ—¶é—´ï¼‰è¿›åº¦è®¡åˆ’ã€æˆæœ¬ å’Œé¢„ç®—è®¡åˆ’ã€äººåŠ›èµ„æºè®¡åˆ’ç­‰ è½¯ä»¶é¡¹ç›®è®¡åˆ’çš„ä½œç”¨ æŒ‡å¯¼è½¯ä»¶é¡¹ç›®å®æ–½ å¾—åˆ°é¡¹ç›®ç›¸å…³å¹²ç³»äººçš„æ‰¿è¯º è·å¾—èµ„æºçš„æ‰¿è¯º æ˜ç¡®é¡¹ç›®äººå‘˜çš„åˆ†å·¥å’Œå·¥ä½œè´£ä»» åŠæ—©äº†è§£é¡¹ç›®å­˜åœ¨çš„é—®é¢˜å’Œé£é™© è·å¾—ç»„ç»‡åœ¨é¡¹ç›®é¢„ç®—ä¸Šçš„æ‰¿è¯º æ˜¯è½¯ä»¶é¡¹ç›®å®æ–½ç»“æœè¯„ä¼°çš„ä¾æ® è½¯ä»¶é¡¹ç›®å®æ–½è¿‡ç¨‹çš„æ–‡æ¡£åŒ– é¡¹ç›®è®¡åˆ’çš„å†…å®¹ ç›®æ ‡ ç­–ç•¥ æµç¨‹ æ ‡å‡† è´¨é‡ è¿›åº¦å®‰æ’ é¢„ç®— èµ„æº é£é™© é…ç½®ç®¡ç† é¡¹ç›®è®¡åˆ’ä¸»è¦å†…å®¹è¯´æ˜ ç›®æ ‡ä¸èŒƒå›´ ï¼šèŒƒå›´è§„åˆ’ã€å®šä¹‰åŠå…¶ä»»åŠ¡å·¥ä½œåˆ†è§£ç»“æ„ é¡¹ç›®ä¼°ç®—ï¼šé‡‡ç”¨æ°å½“çš„è¯„ä¼°æŠ€æœ¯ï¼Œå®Œæˆèµ„æºä¼°ç®—ã€æ´»åŠ¨æŒç»­æ—¶é—´ä¼° ç®—ä»¥åŠè´¹ç”¨ä¼°ç®— é£é™©ï¼šä¸€èˆ¬æ€§é£é™©å’Œç‰¹å®šäº§å“çš„é£é™©éƒ½åº”è¯¥è¢«ç³»ç»ŸåŒ–åœ°æ ‡è¯†å‡ºæ¥ï¼Œ å¹¶å»ºç«‹é£é™©æ¡ç›®æ£€æŸ¥è¡¨ èµ„æº ï¼šäººå‘˜ã€ç¡¬ä»¶ã€ç½‘ç»œã€è½¯ä»¶ç­‰éœ€æ±‚å’Œå®‰æ’ï¼Œè¿˜åŒ…æ‹¬é¡¹ç›®ç»„æˆå‘˜ çš„è§’è‰²ã€è´£ä»»å’Œå…·ä½“åˆ†é…çš„ä»»åŠ¡ è¿›åº¦å®‰æ’ï¼šä»»åŠ¡æ’åºã€é‡Œç¨‹ç¢‘è®¾ç½®ç­‰ è·Ÿè¸ªå’Œæ§åˆ¶æœºåˆ¶ï¼šQAã€å˜æ›´æ§åˆ¶ã€é¡¹ç›®æˆå‘˜æŠ¥å‘Šç­‰ é¡¹ç›®è®¡åˆ’çš„æ–¹æ³• æ»šåŠ¨è®¡åˆ’æ–¹æ³• æŒ‰ç…§â€œè¿‘ç»†è¿œç²—â€çš„åŸåˆ™åˆ¶å®šä¸€å®šæ—¶æœŸå†…çš„è®¡åˆ’ï¼Œç„¶åæŒ‰ç…§è®¡åˆ’çš„æ‰§ è¡Œæƒ…å†µå’Œç¯å¢ƒå˜åŒ–ï¼Œé€æ­¥ç»†åŒ–ã€è°ƒæ•´ã€‚ æ»šåŠ¨è®¡åˆ’æ–¹æ³•çš„è¦ç‚¹ï¼š åˆ†è€Œæ²»ä¹‹ï¼šåˆ†ä¸ºå¤šä¸ªé˜¶æ®µï¼Œé’ˆå¯¹ä¸åŒçš„é˜¶æ®µåˆ¶å®šä¸åŒçš„è®¡åˆ’ã€‚ é€æ­¥æ±‚ç²¾ï¼šéšç€æ—¶é—´çš„æ¨ç§»ï¼Œé¢„æµ‹è®¡åˆ—é€æ­¥å˜æˆå®æ–½è®¡åˆ’ã€‚ åŠ¨æ€è§„åˆ’ï¼šä»¥è®¡åˆ’çš„â€œå˜ï¼ˆè°ƒæ•´ï¼‰â€æ¥ä¸»åŠ¨é€‚åº”ç”¨æˆ·éœ€æ±‚å’Œè½¯ä»¶å¼€ å‘ç¯å¢ƒçš„å˜åŒ–ï¼Œå³â€œä»¥å˜åº”å˜â€ã€‚ å’Œè°è¿‡æ¸¡ï¼šå¯ä»¥è§£å†³ç”Ÿäº§çš„è¿ç»­æ€§ä¸è®¡åˆ’çš„é˜¶æ®µæ€§ä¹‹é—´çš„çŸ›ç›¾ WBSæ–¹æ³• WBSæ–¹æ³•æ˜¯ï¼ˆWork Breakdown Structureï¼Œå·¥ä½œåˆ†è§£ç»“æ„ï¼‰ä¸€ ç§å°†å¤æ‚çš„é—®é¢˜åˆ†è§£ä¸ºç®€å•çš„é—®é¢˜ï¼Œç„¶åå†æ ¹æ®åˆ†è§£çš„ç»“æœè¿›è¡Œè®¡åˆ’çš„æ–¹æ³•ã€‚ WBSæ­¥éª¤ åˆ†è§£å·¥ä½œä»»åŠ¡ å®šä¹‰å„é¡¹æ´»åŠ¨/ä»»åŠ¡ä¹‹é—´çš„ä¾èµ–å…³ç³» å®‰æ’è¿›åº¦å’Œèµ„æº ç½‘ç»œè®¡åˆ’æŠ€æœ¯ ç½‘ç»œè®¡åˆ’æ–¹æ³•æ˜¯ä¸€ç§åº”ç”¨ç½‘ç»œæ¨¡å‹ç›´è§‚åœ°è¡¨ç¤ºè½¯ä»¶å¼€å‘ä¼—å¤šå·¥ ä½œï¼ˆå·¥åºï¼‰ä¹‹é—´çš„é€»è¾‘å…³ç³»ä¸æ—¶é—´å…³ç³»ï¼Œå¯¹å®Œæˆè½¯ä»¶å·¥ç¨‹é¡¹ç›®æ‰€éœ€æ—¶ é—´ã€è´¹ç”¨ã€èµ„æºè¿›è¡Œæ±‚è§£å’Œä¼˜åŒ–çš„è®¡åˆ’æ–¹æ³•ï¼Œå…¶åŸºæœ¬ç±»å‹æ˜¯å…³é”®è·¯çº¿ æ³•/è®¡åˆ’è¯„å®¡æŠ€æœ¯ï¼ˆCPMï¼PERTï¼‰ã€‚ æ•æ·å¼€å‘çš„æ»šåŠ¨è®¡åˆ’æ–¹æ³• äº§å“æ„¿æ™¯ï¼ˆVisionï¼‰ï¼Œç›¸å½“äºäº§å“æœ€ç»ˆè¦å®ç°çš„ç›®æ ‡ï¼Œæ˜¯ä¸€ä¸ªé•¿æœŸåŠªåŠ›çš„ç›®æ ‡ï¼Œå¯ ä»¥ç†è§£ä¸ºå•†ä¸šæˆ˜ç•¥ä¸Šçš„ç›®æ ‡ã€‚ äº§å“è·¯çº¿å›¾ï¼ˆRoadmapï¼‰ï¼šæ˜¯ä¸€ä¸ªä¸­é•¿æœŸï¼ˆ3-5å¹´ï¼‰çš„äº§å“è§„åˆ’ï¼Œé€šè¿‡è¿™ä¸ªè·¯çº¿ å›¾åˆ†é˜¶æ®µæ¥å®ç°ä¸Šè¿°çš„äº§å“æ„¿æ™¯ã€‚ å‘å¸ƒè®¡åˆ’ï¼ˆRelease Planningï¼‰ï¼šçŸ­æœŸï¼ˆå¦‚ä¸€å¹´ï¼‰äº§å“å‘å¸ƒè®¡åˆ’ï¼Œæ ¹æ®äº§å“è·¯çº¿å›¾ï¼Œ é€šè¿‡å‘å¸ƒè®¡åˆ’å®ç°å…¶ç¬¬ä¸€ä¸ªå…³é”®çš„é‡Œç¨‹ç¢‘ã€‚ è¿­ä»£è®¡åˆ’ï¼ˆSprint Planningï¼‰ï¼šæ ¹æ®å‘å¸ƒè®¡åˆ’ï¼Œæ¥è§„åˆ’å½“å‰è¿­ä»£è¦å®Œæˆçš„ç›®æ ‡å’Œä»» åŠ¡ï¼ŒåŒ…æ‹¬å…·ä½“çš„äººå‘˜å’Œè¿›åº¦å®‰æ’ã€‚ æ¯æ—¥è®¡åˆ’ï¼ˆDaily Planningï¼‰ï¼šå°±æ˜¯ç¬¬äºŒç« ä»‹ç»çš„Scrumç«™ç«‹ä¼š è½¯ä»¶é¡¹ç›®çš„ç‰¹ç‚¹ è½¯ä»¶å¼€å‘æ˜¯åœ¨ä¸æ–­æ¢ç´¢ã€ç ”ç©¶ä¸­è¿›è¡Œ æœ€ä½³å®è·µè¿˜ä¸å¤Ÿæˆç†Ÿ è½¯ä»¶çš„è‡ªåŠ¨åŒ–å¯¹å·¥å…·çš„ä¾èµ–æ€§ä¹Ÿéå¸¸çªå‡º è½¯ä»¶æ„é€ è¿‡ç¨‹å®é™…æ˜¯ä¸€è®¾è®¡è¿‡ç¨‹ï¼Œæ¯ä¸€ä¸ªè½¯ä»¶äº§å“éƒ½ä¸åŒ ç”±äºè½¯ä»¶æ˜¯è®¾è®¡è¿‡ç¨‹ï¼Œè‡ªåŠ¨åŒ–ç¨‹åº¦æ¯”è¾ƒä½ è½¯ä»¶å˜åŒ–ä¸å®¹æ˜“å®ç°ï¼Œè€Œè½¯ä»¶å˜åŒ–åˆæ˜¯ä¸å¯é¿å…çš„ è½¯ä»¶çš„å˜åŒ–ï¼Œè¿›ä¸€æ­¥å¼•èµ·ç›¸å…³æ–‡æ¡£çš„é¢‘ç¹ä¿®æ”¹ è½¯ä»¶é¡¹ç›®çš„é—®é¢˜ æ—¶é—´ç´§è¿«æ€§ é¡¹ç›®ç‹¬ç‰¹æ€§ è½¯ä»¶é¡¹ç›®çš„ä¸ç¡®å®šæ€§ è½¯ä»¶é¡¹ç›®ç®¡ç†å¯è§†æ€§å·® è½¯ä»¶é¡¹ç›®ç”Ÿäº§åŠ›ä¾èµ–äºè½¯ä»¶äººå‘˜çš„æ½œåŠ›æŒ–æ˜ è½¯ä»¶è®¡åˆ’çš„é”™è¯¯å€¾å‘ å¯¹è®¡åˆ’ä¸é‡è§† ç‰‡é¢è®¡åˆ’ è®¡åˆ’æ²¡æœ‰è€ƒè™‘è¶³å¤Ÿçš„é£é™© è®¡åˆ’è¿‡äºç²—ç³™ è®¡åˆ’çš„åŸåˆ™ ç›®æ ‡æ€§åŸåˆ™ é¢„é˜²æ€§åŸåˆ™ å®¢è§‚æ€§åŸåˆ™ ç³»ç»Ÿæ€§åŸåˆ™ é€‚åº”æ€§åŸåˆ™ åˆ¶å®šè®¡åˆ’çš„è¦ç‚¹ ç›®æ ‡å¯¼å‘ã€‚å¦‚æœä¸€å¼€å§‹å¯¹é¡¹ç›®çš„ç›®æ ‡æ²¡æœ‰ç†è§£æ¸…æ¥šï¼Œé¡¹ç›®è®¡åˆ’å°±ä¼šå‡ºç° åç¦»ï¼Œè€Œé¡¹ç›®å®æ–½æ—¶åç¦»å°±æ›´å‰å®³ é‡è§†ä¸å®¢æˆ·çš„æ²Ÿé€šï¼Œä¸ºæœ€åé¡¹ç›®éªŒæ”¶æ‰“ä¸‹è‰¯å¥½çš„åŸºç¡€ æ”¶é›†è¶³å¤Ÿçš„ä¿¡æ¯ï¼ŒæŒæ¡ä¿¡æ¯è¶Šå¤šï¼Œåˆ¶å®šè®¡åˆ’æ›´ç§‘å­¦ã€æ›´å®¢è§‚ å®¢è§‚ä¸”å®ç”¨ï¼Œåªæœ‰â€œçŸ¥å·²çŸ¥å½¼â€æ‰èƒ½åšå‡ºåˆç†çš„ã€å®¢è§‚çš„é¡¹ç›®è®¡åˆ’ å…ˆä»ä¸‹è‡³ä¸Šè®¡åˆ’ï¼Œç„¶åå†ä»ä¸Šå‘ä¸‹è®¡åˆ’ï¼Œæ„æˆä¸€ä¸ªå®Œæ•´çš„å¾ªç¯è¿‡ç¨‹ å…³æ³¨è®¡åˆ’è¿‡ç¨‹ï¼Œéšæœºåº”å˜ï¼Œå› åŠ¿åˆ©å¯¼ï¼Œä¸æ–­è°ƒæ•´å’Œä¿®æ”¹è®¡åˆ’ï¼Œä»¥ä¿è¯ å®Œæˆé¡¹ç›®çš„ç›®æ ‡ è®¡åˆ’çš„å±‚æ¬¡æ€§ï¼Œå¦‚åˆ†ä¸ºä¸»è®¡åˆ’ã€å­è®¡åˆ’ è½¯ä»¶é¡¹ç›®èŒƒå›´ è½¯ä»¶äº§å“è§„èŒƒï¼Œå³ä¸€ä¸ªè½¯ä»¶äº§å“åº”è¯¥åŒ…å«å“ªäº›åŠŸèƒ½ç‰¹æ€§ï¼Œè¿™å°±æ˜¯äº§å“ éœ€æ±‚æ–‡æ¡£ï¼ˆProduct requirement documentï¼ŒPRDï¼‰æ‰€æè¿°çš„ã€‚ æ›´å…·ä½“çš„è¦æ±‚å°±æ˜¯åŠŸèƒ½è§„æ ¼è¯´æ˜ä¹¦ï¼Œ ä½†è¿™æ˜¯åœ¨è®¡åˆ’è¿‡ç¨‹ä¸­æˆ–ä¹‹åäº§ç”Ÿã€‚ä¸€èˆ¬åœ¨ç¡®å®šPRDçš„è¿‡ç¨‹ä¸­ï¼Œå°±å¼€å§‹ è¿›è¡Œé¡¹ç›®è®¡åˆ’ã€‚ é¡¹ç›®å·¥ä½œèŒƒå›´ï¼Œå³ä¸ºäº†äº¤ä»˜å…·æœ‰ä¸Šè¿°åŠŸèƒ½ç‰¹æ€§çš„äº§å“æ‰€å¿…é¡»è¦åšçš„å·¥ ä½œã€‚å·¥ä½œèŒƒå›´åœ¨ä¸€å®šç¨‹åº¦ä¸Šæ˜¯äº§ç”Ÿé¡¹ç›®è®¡åˆ’çš„åŸºç¡€ã€‚ èµ„æºè®¡åˆ’ é¡¹ç›®èµ„æºè®¡åˆ’ï¼Œæ˜¯æŒ‡é€šè¿‡åˆ†æå’Œè¯†åˆ«é¡¹ç›®çš„èµ„æºéœ€æ±‚ï¼Œ ç¡®å®šå‡ºé¡¹ç›®éœ€è¦æŠ•å…¥çš„èµ„æºã€‚ èµ„æºè®¡åˆ’åŒ…æ‹¬äººåŠ›èµ„æºè®¡åˆ’ã€è½¯ç¡¬ä»¶èµ„æºè®¡åˆ’ã€‚ é¡¹ç›®èµ„æºè®¡åˆ’é‡ç‚¹åœ¨äººåŠ›èµ„æºè®¡åˆ’ï¼Œé‡‡ç”¨æœ‰æ•ˆçš„æ–¹æ³• è¿›è¡ŒäººåŠ›èµ„æºè®¡åˆ’ã€‚ è¿›åº¦è®¡åˆ’åˆ¶å®šåŸåˆ™ é¡¹ç›®çš„å®é™…å‚ä¸äººå‘˜åˆ¶å®šè¿›åº¦ å°½å¯èƒ½åœ°å…ˆå®‰æ’éš¾åº¦é«˜çš„ä»»åŠ¡ï¼Œåå®‰æ’éš¾åº¦ä½çš„äº‹ è¿›åº¦å‰é¢ç´§ï¼Œåé¢æ¾ï¼Œæ¯”è¾ƒå¥½ é¡¹ç›®è¿›åº¦ä¸­éƒ½ä¼šè®¾ç½®è‹¥å¹²ä¸ªé‡Œç¨‹ç¢‘ è¿›åº¦è¡¨ä¸­å¿…é¡»ç•™æœ‰ç¼“å†²æ—¶é—´ å‘ç°é¡¹ç›®åº”äº¤ä»˜çš„æœŸé™ä¸åˆç†ï¼Œåº”è°ƒæ•´è¿›åº¦ å½“éœ€æ±‚å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå°±è¦é‡æ–°è¯„ä¼°è¿›åº¦è¡¨ æˆæœ¬æ„æˆæŒ‰è´¹ç”¨åˆ†ç±»ï¼š åŠ›èµ„æºæˆæœ¬ èµ„äº§ç±»æˆæœ¬ ç®¡ç†è´¹ç”¨ é¡¹ç›®ç‰¹åˆ«è´¹ç”¨ è½¯ä»¶é¡¹ç›® æŒ‰æˆæœ¬ï¼š ç›´æ¥æˆæœ¬æ˜¯é¡¹ç›®æœ¬èº«çš„ä»»åŠ¡æ‰€å¼•èµ·çš„æˆæœ¬ï¼ŒåŒ…æ‹¬ä¸ºè¯¥é¡¹ç›®è´­ä¹°çš„è®¾ å¤‡å’Œè½¯ä»¶å·¥å…·ã€å‚ä¸è¯¥é¡¹ç›®å·¥ä½œçš„äººå‘˜å·¥èµ„ç­‰ã€‚ é—´æ¥æˆæœ¬æ˜¯è®¸å¤šé¡¹ç›®å…±äº«çš„æˆæœ¬ï¼Œä¾‹å¦‚åŠå…¬æ¥¼çš„ç§Ÿé‡‘ã€æ°´ç”µè´¹ç”¨ã€ å…¬å¸ç®¡ç†è´¹ç”¨ã€ç½‘ç»œç¯å¢ƒå’Œé‚®ä»¶æœåŠ¡ç­‰å„ç§é—´æ¥è´¹ç”¨ã€‚ æˆæœ¬è®¡åˆ’ è´¹ç”¨é¢„ç®—ï¼Œåœ¨æˆæœ¬ä¼°ç®—åŸºç¡€ä¹‹ä¸Šï¼Œé’ˆå¯¹å„é¡¹æˆæœ¬æ¥ä¼°ç®—å¯èƒ½äº§ç”Ÿ çš„å…¶ä»–è´¹ç”¨ï¼Œä»è€Œç¡®å®šè´¹ç”¨é¢„ç®— è´¹ç”¨æ§åˆ¶æ˜¯ä¸ºäº†ä¿è¯å®é™…å‘ç”Ÿçš„è´¹ç”¨ä½äºé¢„ç®—ã€‚ä¸€èˆ¬ä¼šé‡‡ç”¨é˜¶æ®µ æ€§æ§åˆ¶å’Œå•é¡¹è´¹ç”¨æ§åˆ¶ç›¸ç»“åˆçš„æ–¹æ³•ï¼Œæ›´å…³é”®æ˜¯éœ€æ±‚å˜æ›´æ§åˆ¶å’Œ è´¨é‡æ§åˆ¶ã€‚ é£é™©è®¡åˆ’ é£é™©è¯†åˆ«ã€é£é™©è¯„ä¼°å’Œé£é™©å¯¹ç­–è®¡åˆ’ é£é™©è®¡åˆ’å¹¶ä¸æ˜¯åœ¨èµ„æºè®¡åˆ’ã€è¿›åº¦è®¡åˆ’å’Œæˆæœ¬è®¡åˆ’ä¹‹åå†åˆ¶å®šï¼Œè€Œæ˜¯ å’Œè¿™äº›è®¡åˆ’åŒæ—¶è¿›è¡Œï¼Œå› ä¸ºè½¯ä»¶é¡¹ç›®çš„é£é™©ä¼šæ¥è‡ªäºå„ä¸ªæ–¹é¢ï¼ŒåŒ…æ‹¬ äººåŠ›èµ„æºé£é™©ã€è¿›åº¦é£é™©å’Œæˆæœ¬é£é™©ç­‰ï¼Œè€Œä¸”åœ¨å¦‚ä½•åº”å¯¹é£é™©æˆ–é’ˆå¯¹ é£é™©é‡‡å–ç›¸åº”çš„å¯¹ç­–æ—¶ï¼Œå¯¹èµ„æºè®¡åˆ’ã€è¿›åº¦è®¡åˆ’éƒ½æœ‰å½±å“ è´¨é‡è®¡åˆ’å†…å®¹ è´¨é‡ç›®æ ‡ï¼ŒåŒ…æ‹¬åŠŸèƒ½ç‰¹æ€§å’ŒéåŠŸèƒ½æ€§ç‰¹æ€§çš„è´¨é‡è¦æ±‚ï¼› è´¨é‡ç›®æ ‡åˆ†è§£ï¼Œæ€»ä½“è´¨é‡ç›®æ ‡åˆ†è§£åˆ°å„ä¸ªé˜¶æ®µæˆ–å„é¡¹ä»»åŠ¡ ç›¸å…³æ ‡å‡†å’Œè§„èŒƒ ç»„ç»‡ä¿è¯æœºåˆ¶ï¼ŒåŒ…æ‹¬ç¡®å®šè´£ä»»äººã€è´¨é‡ä¿è¯äººæˆ–ç®¡ç†äººå‘˜ è´¨é‡å±æ€§æ»¡è¶³çš„ä¼˜å…ˆçº§å’Œæˆæœ¬æ•ˆç›Šåˆ†æ è´¨é‡æ§åˆ¶ç­–ç•¥ï¼ŒåŒ…æ‹¬æµ‹è¯•è¦†ç›–ç‡ã€ä»£ç è¯„å®¡çš„é¢‘ç‡ç­‰ï¼› è´¨é‡ç‰¹æ€§çš„ç›¸äº’ä¾èµ–å…³ç³»çš„åˆ†æï¼Œç¡®å®šè´¨é‡ç‰¹æ€§çš„ä¼˜å…ˆçº§ æ½œåœ¨çš„è´¨é‡é—®é¢˜åˆ†æï¼Œå¹¶æ‰¾å‡ºåº”å¯¹ç­–ç•¥ æµç¨‹è¯„å®¡ã€æµ‹è¯•è®¡åˆ’å’Œæµ‹è¯•ç”¨ä¾‹è¯„å®¡ç­‰æ–¹é¢çš„å…·ä½“è¦æ±‚ï¼› å…¶å®ƒè´¨é‡ä¿è¯æˆ–æ§åˆ¶æªæ–½ã€è´¨é‡ç›¸å…³æ´»åŠ¨ã€‚ é¡¹ç›®è®¡åˆ’å·¥å…· P3 DotProject ç¬¬å››ç« ï¼šé¡¹ç›®ä¼°ç®—é¡¹ç›®ä¼°ç®—çš„åŸºæœ¬å†…å®¹ è§„æ¨¡ä¼°ç®— (size estimation)ï¼šå¦‚ä»£ç è¡Œæ•°ã€åŠŸèƒ½ç‚¹æ•°ã€å¯¹è±¡ç‚¹æˆ–ç‰¹å¾ ç‚¹ç­‰ å·¥ä½œé‡ä¼°ç®—(workload ï½)ï¼šä»»åŠ¡åˆ†è§£å¹¶ç»“åˆäººåŠ›èµ„æºæ°´å¹³æ¥ä¼°ç®— è¿›åº¦ä¼°ç®—(schedule ï½)ï¼šé€šè¿‡å·¥ä½œé‡ä¼°ç®—ã€æœ‰æ•ˆèµ„æºåˆ†é…ç­‰å¯¹é¡¹ç›® è¿›åº¦ç»™å‡ºæ­£ç¡®çš„è¯„ä¼°ã€‚ é£é™©ä¼°ç®—(risk ï½)ï¼šä¸€èˆ¬é€šè¿‡ é£é™©å‘ç”Ÿçš„â€œæ¦‚ç‡å’Œæ‰€å¸¦æ¥çš„æŸå¤±â€æ¥ è¯„ä¼°é£é™©ã€‚ å…¶ä»–ä¼°ç®—ï¼Œå¦‚éœ€æ±‚ç¨³å®šå› å­ã€èµ„æºåˆ©ç”¨æ•ˆç‡ã€æ–‡æ¡£å¤å®¡æ°´å¹³ç­‰ ä¼°ç®—çš„åŸºæœ¬å†…å®¹åŠå…¶å…³ç³» åŸºæœ¬ä¼°ç®—æ–¹æ³• åˆ†è§£æ–¹æ³•ï¼šé‡‡ç”¨â€œåˆ†è€Œæ²»ä¹‹â€çš„ç­–ç•¥ï¼Œå¯¹è½¯ä»¶é¡¹ç›®è¿›è¡Œåˆ† è§£ï¼Œå†é‡‡ç”¨é€æ­¥æ±‚ç²¾çš„æ–¹å¼è¿›è¡Œä¼°ç®—ï¼Œæœ€åé€šè¿‡ç´¯åŠ è·å¾— æ•´ä½“çš„ä¼°ç®—ç»“æœ ç®—æœ¯æ¨¡å‹ï¼Œé€šè¿‡ä¼°ç®—æ¨¡å‹æ¥äº§ç”Ÿä¼°ç®— ä¸“å®¶åˆ¤æ–­æˆ–ç»éªŒæ³•ï¼Œå¦‚å¾·å°”è²æ³•(Delphi technique) æ¯”ä¾‹æ³•æ˜¯åŸºäºç±»æ¯”çš„ä¼°ç®—æŠ€æœ¯ï¼Œæ ¹æ®è¿‡å»ç±»ä¼¼çš„é¡¹ç›®ï¼Œç›´ æ¥è¿›è¡Œç±»æ¯”è·å¾—å½“å‰é¡¹ç›®çš„ä¼°ç®—ç»“æœã€‚ WBSä¼°ç®—æ³• è‡ªé¡¶å‘ä¸‹ä¼°ç®—æ¨¡å¼ï¼Œé¦–å…ˆä¼°ç®—å‡ºé¡¹ç›®ä¸€çº§çš„å·¥ä½œé‡ï¼Œç„¶åå±‚å±‚å¾€ä¸‹åˆ† æ‘Šï¼ŒæŠŠä¸Šä¸€å±‚å·¥ä½œé‡åˆ†æ‘Šåˆ°ä¸‹ä¸€å±‚çš„é˜¶æ®µã€æ´»åŠ¨æˆ–ä»»åŠ¡ã€‚é€šå¸¸ä½¿ç”¨ FPAæ–¹æ³•æˆ– COCOMO II æ¥ä¼°ç®—é¡¹ç›®ä¸€çº§çš„å·¥ä½œé‡ è‡ªåº•å‘ä¸Šä¼°ç®—æ¨¡å¼ï¼Œè¦æ±‚å…ˆä¼°ç®—å‡ºåº•å±‚ä»»åŠ¡/æ´»åŠ¨ä¸€çº§çš„å·¥ä½œé‡ï¼Œç„¶å å±‚å±‚å‘ä¸Šæ±‡æ€»åˆ°é˜¶æ®µå’Œé¡¹ç›®çº§ã€‚é€šå¸¸ä½¿ç”¨ QIF ä¼°ç®—æ–¹æ³•æˆ–ä¸“å®¶åˆ¤æ–­æ¥ ä¼°ç®—é¡¹ç›®ä½å±‚ WBS å…ƒç´ çš„å·¥ä½œé‡ è½¯ä»¶è§„æ¨¡ä¼°ç®— å¾·å°”è²æ³• ä»£ç è¡Œä¼°ç®—æ–¹æ³• LOCæŒ‡æ‰€æœ‰å¯æ‰§è¡Œçš„æºä»£ç è¡Œæ•°ï¼ŒåŒ…æ‹¬æ§åˆ¶è¯­å¥ã€æ•°æ® å®šä¹‰ã€æ•°æ®ç±»å‹å£°æ˜ã€ç­‰ä»·å£°æ˜ã€æ ¼å¼å£°æ˜ç­‰ åŠŸèƒ½ç‚¹åˆ†ææ–¹æ³• åŠŸèƒ½ç‚¹åˆ†ææ³•(FPA)æ˜¯åœ¨éœ€æ±‚åˆ†æé˜¶æ®µåŸºäºç³» ç»ŸåŠŸèƒ½çš„ä¸€ç§è§„æ¨¡ä¼°ç®—æ–¹æ³•ï¼Œå…¶å›½é™…æ ‡å‡† åŠŸèƒ½ç‚¹è®¡ç®—å…ƒç´  å¤–éƒ¨è¾“å…¥æ•°(EI)ï¼šè®¡ç®—æ¯ä¸ªç”¨æˆ·è¾“å…¥ å¤–éƒ¨è¾“å‡ºæ•°(EO)ï¼šè®¡ç®—æ¯ä¸ªç”¨æˆ·è¾“å‡º(æŠ¥è¡¨ã€å±å¹•ã€å‡ºé”™ä¿¡æ¯ ç­‰) å†…éƒ¨é€»è¾‘æ–‡ä»¶(ILF)ï¼šè®¡ç®—æ¯ä¸ªé€»è¾‘çš„ä¸»æ–‡ä»¶ï¼Œå¦‚æ•°æ®çš„ä¸€ä¸ª é€»è¾‘ç»„åˆ å¤–éƒ¨æ¥å£æ–‡ä»¶(EIF)ï¼šè®¡ç®—æ‰€æœ‰æœºå™¨å¯è¯»çš„æ¥å£ï¼Œå¦‚ç£å¸¦æˆ–ç£ ç›˜ä¸Šçš„æ•°æ®æ–‡ä»¶ã€‚ å¤–éƒ¨æŸ¥è¯¢æ•°(EQ)ï¼šä¸€ä¸ªæŸ¥è¯¢è¢«å®šä¹‰ä¸ºä¸€æ¬¡è”æœºè¾“å…¥ï¼Œå®ƒå¯¼è‡´ è½¯ä»¶ä»¥è”æœºè¾“å‡ºçš„æ–¹å¼äº§ç”Ÿå®æ—¶çš„å“åº” æ ‡å‡†æ„ä»¶æ³• è½¯ä»¶ç”±è‹¥å¹²ä¸åŒçš„â€œæ ‡å‡†æ„ä»¶â€ç»„æˆï¼Œè¿™äº›æ„ä»¶å¯¹äºä¸€ä¸ªç‰¹å®šçš„åº”ç”¨é¢†åŸŸè€Œè¨€æ˜¯é€šç”¨çš„ã€‚é¡¹ç›®è®¡åˆ’è€…ä¼°ç®—æ¯ä¸€ä¸ªæ ‡å‡†æ„ä»¶çš„å‡ºç°æ¬¡æ•°ï¼Œç„¶åä½¿ç”¨å†å²é¡¹ç›®æ•°æ®æ¥ç¡®å®šæ¯ä¸ªæ ‡å‡†æ„ä»¶äº¤ä»˜æ—¶çš„å¤§å°ã€‚ ç»¼åˆè®¨è®º ä¸€èˆ¬åœ¨é¡¹ç›®å±‚æ¬¡ä¸Šï¼Œç¼ºå°‘å¯æ¯”æ€§ï¼Œä½†åœ¨æ¨¡å—æˆ–ç»„ä»¶å±‚æ¬¡ ä¸Šã€é˜¶æ®µæ€§ä»»åŠ¡ä¸Šå…·æœ‰å¯æ¯”æ€§ï¼Œå¯ä»¥åŸºäºå†å²æ•°æ®æ¥è¿› è¡Œæ¯”è¾ƒæ¥è·å¾—æ•°æ® åœ¨å®é™…ä¼°ç®—å·¥ä½œä¸­ï¼Œä¸€èˆ¬å…ˆé‡‡ç”¨åˆ†è§£çš„æ–¹æ³•ï¼Œå°†é¡¹ç›®åˆ† è§£åˆ°æŸä¸ªå±‚æ¬¡ä¸Šï¼Œç„¶åå†é‡‡ç”¨å¯¹æ¯”åˆ†ææ–¹æ³•å’Œç»éªŒæ–¹æ³• ä»»ä½•ä¼°ç®—æ–¹æ³•éƒ½è¦ç»“åˆå®é™…æ¥è€ƒè™‘ å·¥ä½œé‡ä¼°ç®— COCOMOæ–¹æ³• æ„é€ æ€§æˆæœ¬æ¨¡å‹(COCOMOï¼šconstructive cost model)æ˜¯ä¸€ç§ç²¾ç¡®ã€æ˜“ äºä½¿ç”¨çš„åŸºäºæ¨¡å‹çš„æˆæœ¬ä¼°ç®—æ–¹æ³•ï¼š åŸºæœ¬COCOMOæ¨¡å‹ï¼Œé™æ€å•å˜é‡æ¨¡å‹ï¼Œç”¨å·²ä¼°ç®—å‡ºæ¥çš„æºä»£ç è¡Œæ•° (LOC)ä¸ºè‡ªå˜é‡çš„å‡½æ•°æ¥è®¡ç®—è½¯ä»¶å¼€å‘å·¥ä½œé‡ã€‚ ä¸­é—´COCOMOæ¨¡å‹ï¼Œåœ¨ç”¨LOCä¸ºè‡ªå˜é‡çš„å‡½æ•°è®¡ç®—è½¯ä»¶å¼€å‘å·¥ä½œé‡çš„ åŸºç¡€ä¸Šï¼Œå†ç”¨æ¶‰åŠäº§å“ã€ç¡¬ä»¶ã€äººå‘˜ã€é¡¹ç›®ç­‰æ–¹é¢å±æ€§çš„å½±å“å› ç´  æ¥è°ƒæ•´å·¥ä½œé‡çš„ä¼°ç®—ã€‚ è¯¦ç»†COCOMOæ¨¡å‹ï¼ŒåŒ…æ‹¬ä¸­é—´COCOMOæ¨¡å‹çš„æ‰€æœ‰ç‰¹æ€§ï¼Œä½†ç”¨ä¸Šè¿°å„ç§ å½±å“å› ç´ è°ƒæ•´å·¥ä½œé‡ä¼°ç®—æ—¶ï¼Œè¿˜è¦è€ƒè™‘å¯¹è½¯ä»¶å·¥ç¨‹è¿‡ç¨‹ä¸­åˆ†æã€è®¾ è®¡ç­‰å„æ­¥éª¤çš„å½±å“ã€‚ COCOMOåŸºæœ¬å˜é‡ DSI(æºæŒ‡ä»¤æ¡æ•°)ï¼Œå®šä¹‰ä¸ºä»£ç è¡Œæ•°ï¼ŒåŒ…æ‹¬é™¤æ³¨é‡Šè¡Œ ä»¥å¤–çš„å…¨éƒ¨ä»£ç ã€‚è‹¥ä¸€è¡Œæœ‰ä¸¤ä¸ªè¯­å¥ï¼Œåˆ™ç®—åšä¸€æ¡ æŒ‡ä»¤ã€‚KDSIå³ä¸ºåƒä»£ç è¡Œæ•°ã€‚ MM(ä¼°ç®—å•ä½ä¸ºäººæœˆ)è¡¨ç¤ºå¼€å‘å·¥ä½œé‡ã€‚ TDEV(ä¼°ç®—å•ä½ä¸ºæœˆ)è¡¨ç¤ºå¼€å‘è¿›åº¦ï¼Œç”±å·¥ä½œé‡å†³å®šã€‚ COCOMOæ¨¡å‹å½±å“å› ç´  äº§å“å› ç´ ï¼šè½¯ä»¶å¯é æ€§ã€æ•°æ®åº“è§„æ¨¡ã€äº§å“å¤æ‚æ€§ã€‚ ç¡¬ä»¶å› ç´ ï¼šæ‰§è¡Œæ—¶é—´é™åˆ¶ã€å­˜å‚¨é™åˆ¶ã€è™šæ‹Ÿæœºæ˜“å˜æ€§ã€ç¯å¢ƒå‘¨ è½¬æ—¶é—´ã€‚ äººçš„å› ç´ ï¼šåˆ†æå‘˜èƒ½åŠ›ã€åº”ç”¨é¢†åŸŸå®é™…ç»éªŒã€ç¨‹åºå‘˜èƒ½åŠ›ã€è™š æ‹Ÿæœºä½¿ç”¨ç»éªŒã€ç¨‹åºè¯­è¨€ä½¿ç”¨ç»éªŒã€‚ é¡¹ç›®å› ç´ ï¼šç°ä»£ç¨‹åºè®¾è®¡æŠ€æœ¯ã€è½¯ä»¶å·¥å…·çš„ä½¿ç”¨ã€å¼€å‘è¿›åº¦é™ åˆ¶ å¤šå˜é‡æ¨¡å‹ é€šè¿‡ç”¨ä¾‹æ¥æè¿°ç³»ç»Ÿçš„éœ€æ±‚æ›´æ¸…æ¥šï¼Œå¯ä»¥åœ¨åŠŸèƒ½ç‚¹å’Œç”¨ä¾‹ä¹‹é—´ å»ºç«‹è‰¯å¥½çš„æ˜ å°„å…³ç³»ï¼Œé¡¹ç›®çš„ä¼°ç®—ä¼šæ›´å‡†ç¡®äº›ã€‚ åŸºäºç”¨ä¾‹çš„å·¥ä½œé‡ä¼°è®¡ ç”¨ä¾‹çš„å±‚æ¬¡ é›†æˆç³»ç»Ÿï¼Œç”±å¤šä¸ªç³»ç»Ÿæ„æˆç»¼åˆç³»ç»Ÿï¼› ç‹¬ç«‹çš„ç³»ç»Ÿï¼Œç”±å¤šä¸ªå­ç³»ç»Ÿç»„æˆï¼› å­ç³»ç»Ÿï¼Œç”±å¤šä¸ªæ¨¡å—æˆ–ç»„ä»¶æ„æˆï¼› æ¨¡å—/ç»„ä»¶ï¼Œç”±å¤šä¸ªç±»ç»„æˆï¼Œä¾‹å¦‚å¯å‡å®šå¹³å‡8ä¸ªç±»æ„æˆä¸€ä¸ªç»„ä»¶ã€‚ ç±»ï¼Œæ— éœ€ç”¨ä¾‹æ¥æè¿°ã€‚ ç”¨ä¾‹ä¼°ç®—æ–¹æ³• åŸºäºç”¨ä¾‹çš„ä¼°ç®—ï¼Œæœ€å¥½è¿˜æ˜¯å’Œ WBSæ–¹æ³•ç»“åˆèµ·æ¥ä½¿ç”¨ ä¸€èˆ¬è®¤ä¸ºç”¨ä¾‹çš„æ•°é‡åœ¨10ï¼50 ä¸ªèŒƒå›´æ¯”è¾ƒåˆé€‚ï¼Œè€Œæ¯ä¸ªç”¨ä¾‹å¯ ä»¥å¸¦æœ‰å‡ åä¸ªç›¸å…³åœºæ™¯ å‡å®šæ¯ä¸€å±‚çš„æ¯ä¸€ä¸ªç»„ä»¶å¹³å‡æœ‰ 10 ä¸ªç”¨ä¾‹ è€ƒè™‘æ€»çš„å·¥ä½œé‡è§„æ¨¡æ—¶ï¼Œéœ€è¦å¯¹ä¸ªåˆ«ç”¨ä¾‹çš„å°æ—¶æ•°åšè¿›ä¸€æ­¥è°ƒæ•´ IBM RMCä¼°ç®—æ–¹æ³• RMC çš„å·¥ä½œé‡ä¼°ç®—é‡‡ç”¨çš„æ˜¯ QIFï¼ˆå®šé‡å½±å“å› å­ï¼‰ä¼°ç®—æ–¹æ³•å’Œ è‡ªåº•å‘ä¸Šä¼°ç®—æ¨¡å¼ï¼Œå¯¹é¡¹ç›®çš„ä»»åŠ¡ã€æ´»åŠ¨ã€é˜¶æ®µã€å­é¡¹ç›®ã€é¡¹ç›® ç­‰è¿›è¡Œè‡ªåº•å‘ä¸Šçš„å±‚å±‚ä¼°ç®— å¯ä»¥å®šä¹‰å¤šä¸ªä¼°ç®—æ¨¡å‹ æ¯ä¸ªä¼°ç®—æ¨¡å‹å¯ä»¥å®šä¹‰ä»»æ„æ•°é‡çš„ä¼°ç®—å› å­ æ¯ä¸ªä¼°ç®—å› å­éƒ½ä¼šå…³è”ä¼°ç®—å…¬å¼ ä½¿ç”¨ä¼°ç®—å…¬å¼æ¥è®¡ç®—è¯¥ä¼°ç®—å› å­å¯¹åº”çš„å·¥ä½œé‡ IBM RMCä¼°ç®—æ­¥éª¤ åˆ›å»ºä¼°ç®—æ¨¡å‹ï¼Œå®šä¹‰ç›¸å…³çš„ä¼°ç®—å› å­ï¼› æŠŠä¼°ç®—æ¨¡å‹çš„ä¼°ç®—å› å­åº”ç”¨åˆ° WBS åº•å±‚å…ƒç´ ï¼Œè®¡ç®—å‡ºå®ƒ ä»¬çš„å·¥ä½œé‡ï¼› å±‚å±‚å‘ä¸Šæ±‡æ€»ï¼Œè®¡ç®—å‡ºé¡¹ç›® WBS ä¸Šå±‚å…ƒç´ ï¼ˆåŒ…æ‹¬é¡¹ç›®æœ¬ èº«ï¼‰çš„å·¥ä½œé‡ã€‚ ä¸åŒåœºæ™¯çš„ä¼°ç®—æ³• åˆåŒç­¾è®¢ä¹‹å‰ï¼Œäº†è§£çš„éœ€æ±‚æ¯”è¾ƒæœ‰é™ï¼Œåªèƒ½äº†è§£åˆ°é¡¹ç›®çš„æ€» ä½“éœ€æ±‚ï¼Œä¸»è¦é‡‡ç”¨â€œç±»æ¯”åˆ†æå’Œç»éªŒåˆ¤æ–­â€ç­‰æ–¹æ³• åŸºäºWBSä¼°ç®—çš„å¤šç»´éªŒè¯ï¼Œè·å¾—ç±»ä¼¼é¡¹ç›®çš„å†å²æ•°æ®ã€è½¯ä»¶ ç”Ÿå‘½å‘¨æœŸçš„ç”Ÿäº§ç‡æ•°æ®å’Œè¯¦ç»†éœ€æ±‚ï¼Œä»è€Œå¯ä»¥ä»ä¸åŒçš„è·¯å¾„ æ¥ä¼°ç®—å·¥ä½œé‡ï¼Œè·å¾—å¤šä¸ªç»“æœï¼Œè¿™äº›ç»“æœå¯ä»¥äº’ç›¸å°è¯ï¼Œä»¥ å‘ç°ä¼°ç®—è¿‡ç¨‹ä¸­çš„ä¸åˆç†ä¹‹å¤„ï¼Œä½¿ä¼°ç®— æ›´å‡†ç¡®ã€‚ éœ€æ±‚å˜æ›´çš„å·¥ä½œé‡ä¼°è®¡ï¼Œå…³é”®æ˜¯éœ€æ±‚å˜æ›´çš„æ³¢åŠèŒƒå›´åˆ†æ è½¯ä»¶é¡¹ç›®ç±»å‹ ç»„ç»‡å‹ï¼šæŒ‡é¡¹ç›®éœ€è¦æœ‰ä¸°å¯Œçš„ä¸“ä¸šç»éªŒï¼ŒåŒæ—¶éœ€æ±‚å…·æœ‰çµæ´»æ€§ã€‚ è¿™æ ·çš„é¡¹ç›®å¯ä»¥ç”±å°å›¢é˜Ÿè¿›è¡Œå¼€å‘ã€‚å¦‚å¼€å‘ä¸šåŠ¡ç³»ç»Ÿå’Œæ•°æ®å¤„ ç†ç³»ç»Ÿçš„é¡¹ç›®éƒ½æ˜¯ç»„ç»‡å‹é¡¹ç›®ã€‚ åµŒå…¥å‹ï¼šæŒ‡è¦æ±‚è¾ƒå°‘çš„ä¸“ä¸šçŸ¥è¯†ï¼Œä½†å¯¹æ¥å£ã€å¯é æ€§ç­‰æœ‰ä¸¥æ ¼ çš„è¦æ±‚ï¼Œå¹¶æœ‰å¤–éƒ¨æ¡ä»¶çš„é™åˆ¶ã€‚ä¾‹å¦‚å¼€å‘å®æ—¶ç³»ç»Ÿæˆ–å¤§å‹æ“ä½œ ç³»ç»Ÿçš„é¡¹ç›®å°±æ˜¯åµŒå…¥å‹é¡¹ç›®ã€‚ åŠç‹¬ç«‹å‹ï¼šæŒ‡éœ€è¦é€‚ä¸­çš„ä¸“ä¸šçŸ¥è¯†ï¼Œä¸åµŒå…¥å‹é¡¹ç›®ç›¸æ¯”å¤–éƒ¨é™ åˆ¶ç›¸å¯¹è¾ƒä¸ºå®½æ¾çš„é¡¹ç›®ã€‚å¦‚å¼€å‘æ•°æ®åº“ç®¡ç†ç³»ç»Ÿå’Œåº“å­˜äº§å“æ§ åˆ¶ç³»ç»Ÿçš„é¡¹ç›®å°±æ˜¯åŠç‹¬ç«‹å‹é¡¹ç›® èµ„æºä¼°ç®—åŸºæœ¬è¿‡ç¨‹ æ ¹æ®WBSè¿›è¡Œä¼°ç®— ç”±å·¥ä½œé‡å’Œå¼€å‘å‘¨æœŸæ¥ä¼°ç®— èµ„æºç‰¹å¾æè¿° èµ„æºåˆ†é…ç»™ä»»åŠ¡ å®šä¹‰é¡¹ç›®è§’è‰² äººå‘˜åˆ†é… å·¥æœŸä¼°ç®—æ–¹æ³• å¸¸ç”¨æ–¹æ³•æ˜¯ä¸“å®¶ï¼ˆç»éªŒï¼‰ä¼°ç®—æ³•ã€åŸºäºå†å²æ•°æ®çš„ç±»æ¯”æ³• å½“é¢ä¸´é«˜åº¦ä¸ç¡®å®šæ€§ä»»åŠ¡æ—¶ï¼Œå¯ä»¥é‡‡ç”¨ä¸‰ç‚¹ä¼°ç®—æ³•æ¥è¿›è¡Œ å·¥æœŸä¼°ç®— è®¡åˆ’æ—¶é—´ =ï¼ˆTä¹è§‚ + 4Ã—Tå¯èƒ½ + Tæ‚²è§‚ï¼‰/6 å·¥æœŸä¼°ç®—ä¸­è¿˜è¦é¢„ç•™ä¸€å®šæ¯”ä¾‹ä½œä¸ºå†—ä½™æ—¶é—´ä»¥åº”ä»˜ é¡¹ç›®é£é™©ã€‚éšç€é¡¹ç›®è¿›å±•ï¼Œå†—ä½™æ—¶é—´å¯ä»¥é€æ­¥å‡å°‘ã€‚ åœ¨åˆ†ææ ‡è¯†é¡¹ç›®æ´»åŠ¨çš„æ—¶å€™ï¼Œæ´»åŠ¨èµ„æºå’Œå†æ—¶çš„åˆ† æå…¶å®æ˜¯åŒæ—¶è¿›è¡Œçš„ã€‚ ç‰¹æ®Šåœºæ™¯å·¥æœŸä¼°ç®—ï¼ˆæ—¥ï¼‰ = å·¥ä½œé‡ä¼°ç®—ï¼ˆäººæ—¥ï¼‰ / äººå‘˜æ•°é‡ï¼ˆäººï¼‰ ä½¿ç”¨è¿™ä¸ªå…¬å¼æ—¶ï¼Œé¿å…äººæœˆä¼°ç®—çš„é”™è¯¯ã€‚è¦å¯¹æ¯ä¸ªäººçš„èƒ½åŠ›è¿› è¡Œåˆ†æï¼Œç¡®å®šä»–ä»¬è‡ªå·±çš„ç­‰ä»·å…³ç³»ï¼Œè¿™æ ·ï¼Œâ€œäººå‘˜æ•°é‡â€ä¸æ˜¯ äººå‘˜çš„è‡ªç„¶æ•°é‡ï¼Œè€Œæ˜¯æ›´å®¢è§‚åæ˜ äººåŠ›çš„ç­‰ä»·æ•°é‡ æŒ‰ç…§å†å²æ•°æ®æ¥ä¼°ç®—å¼€å‘å‘¨æœŸï¼Œå…¶å‡†ç¡®åº¦æ˜¯å¯ä»¥æ¥å—çš„ åœ¨å®é™…ä½¿ç”¨å†å²æ•°æ®ä¼°ç®—æ³•æ—¶ï¼Œç»„ç»‡åº”å»ºç«‹ä¸€ä¸ªå†å²é¡¹ç›®æ•°æ® åº“æ˜¯å¿…è¦çš„ æˆæœ¬ä¼°ç®—æ–¹æ³•åŒæ ·å¯ä»¥ä½¿ç”¨ä¸“å®¶è¯„ä¼°åŠæ³•ã€ç»éªŒæ³•ã€æ¯”ä¾‹æ³•å’ŒWBSæ–¹æ³•ç­‰ æˆæœ¬ä¼°ç®—è¿‡ç¨‹ä¸­ï¼Œè¦ç´§å¯†ç»“åˆé¡¹ç›®è¿›åº¦è®¡åˆ’ã€‚ é¿å…è¿‡äºä¹è§‚æˆ–è€…è¿‡äºä¿å®ˆçš„ä¼°ç®—ã€‚ åœ¨è´¹æ—¶è¾ƒé•¿çš„å¤§å‹é¡¹ç›®ä¸­ï¼Œè¿˜åº”è€ƒè™‘åˆ°ä»Šåçš„èŒå·¥å·¥èµ„ç»“ æ„ã€è®¾å¤‡è´¹ç”¨ä»¥åŠç®¡ç†è´¹ç”¨æ˜¯å¦å‘ç”Ÿè¾ƒå¤§å˜åŒ–ç­‰ åœ¨æœ‰æ–°å‘˜å·¥çš„é¡¹ç›®ä¸­ï¼Œè¿˜åº”è€ƒè™‘å…¶åŸ¹è®­æˆæœ¬ äººåŠ›èµ„æºæˆæœ¬æ˜¯éšç€å›¢é˜Ÿå¼€å‘æ•ˆç‡çš„å˜åŒ–è€Œå˜åŒ–çš„","categories":[{"name":"è½¯ä»¶é¡¹ç›®ç®¡ç†","slug":"è½¯ä»¶é¡¹ç›®ç®¡ç†","permalink":"http://www.octber.xyz/categories/%E8%BD%AF%E4%BB%B6%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86/"}],"tags":[{"name":"è½¯ä»¶é¡¹ç›®ç®¡ç†","slug":"è½¯ä»¶é¡¹ç›®ç®¡ç†","permalink":"http://www.octber.xyz/tags/%E8%BD%AF%E4%BB%B6%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86/"}]},{"title":"è½¯ä»¶æµ‹è¯•-åŸºäºé—®é¢˜é©±åŠ¨æ¨¡å¼","slug":"è½¯ä»¶æµ‹è¯•-åŸºäºé—®é¢˜é©±åŠ¨æ¨¡å¼","date":"2019-06-11T05:16:57.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/06/11/è½¯ä»¶æµ‹è¯•-åŸºäºé—®é¢˜é©±åŠ¨æ¨¡å¼/","link":"","permalink":"http://www.octber.xyz/2019/06/11/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95-%E5%9F%BA%E4%BA%8E%E9%97%AE%E9%A2%98%E9%A9%B1%E5%8A%A8%E6%A8%A1%E5%BC%8F/","excerpt":"å‰è¨€ã€Šè½¯ä»¶æµ‹è¯•-åŸºäºé—®é¢˜é©±åŠ¨æ¨¡å¼ã€‹è¯¾æœ¬å¤ä¹ ","text":"å‰è¨€ã€Šè½¯ä»¶æµ‹è¯•-åŸºäºé—®é¢˜é©±åŠ¨æ¨¡å¼ã€‹è¯¾æœ¬å¤ä¹  ç¬¬ä¸€ç« :è½¯ä»¶æµ‹è¯•å…¥é—¨è½¯ä»¶æµ‹è¯•çš„æ¦‚å¿µè½¯ä»¶æµ‹è¯•æ˜¯è´¯ç©¿æ•´ä¸ªè½¯ä»¶å¼€å‘ç”Ÿå‘½å‘¨æœŸå¯¹è½¯ä»¶äº§å“è¿›è¡ŒéªŒè¯å’Œç¡®è®¤çš„æ´»åŠ¨è¿‡ç¨‹ã€‚å°½å¿«å°½æ—©çš„å‘ç°è½¯ä»¶ä¸­çš„ç¼ºé™·ï¼Œä¹Ÿæ˜¯å¯¹è½¯ä»¶äº§å“è´¨é‡çš„è¯„ä¼°ä»è€Œæä¾›è´¨é‡æœ‰å…³çš„ä¿¡æ¯ã€‚ è½¯ä»¶ç¼ºé™·çš„æ¦‚å¿µè½¯ä»¶ç¼ºé™·ï¼Œå³è½¯ä»¶ä¸­å­˜åœ¨çš„ä»»ä½•ä¸€ç§ç ´åæ­£å¸¸è¿è¡Œèƒ½åŠ›çš„é—®é¢˜ã€é”™è¯¯ï¼Œå…¶ç»“æœä¼šå¯¼è‡´è½¯ä»¶äº§å“åœ¨æŸç§ç¨‹åº¦ä¸Šä¸èƒ½æ»¡è¶³ç”¨æˆ·çš„éœ€è¦ï¼Œè½¯ä»¶ç¼ºé™·åˆ†ä¸ºç¨‹åºå†…éƒ¨çš„é”™è¯¯å’Œç¨‹åºå¤–éƒ¨çš„å¤±æ•ˆï¼›è½¯ä»¶ç¼ºé™·ä¸ä»…æ˜¯ç¨‹åºçš„é”™è¯¯ï¼Œè¿˜åº”è¯¥åŒ…æ‹¬éœ€æ±‚ã€è®¾è®¡ä¸­å­˜åœ¨çš„é—®é¢˜ã€‚ è½¯ä»¶è´¨é‡çš„æ¦‚å¿µç³»ç»Ÿã€ç»„ä»¶æˆ–è¿‡ç¨‹æ»¡è¶³ç‰¹å®šéœ€æ±‚çš„ç¨‹åº¦ï¼Œå’Œæ»¡è¶³å®¢æˆ·/ç”¨æˆ·éœ€æ±‚æˆ–æœŸæœ›çš„ç¨‹åº¦ã€‚è´¨é‡åˆ†ä¸ºå†…éƒ¨è´¨é‡ã€å¤–éƒ¨è´¨é‡å’Œä½¿ç”¨è´¨é‡ã€‚ äº§å“/ä½¿ç”¨è´¨é‡æ¨¡å‹åŠå…¶å±æ€§ å†…éƒ¨/å¤–éƒ¨è´¨é‡æ¨¡å‹åŠå…¶å±æ€§ ä½¿ç”¨è´¨é‡æ¨¡å‹åŠå…¶å±æ€§ è½¯ä»¶æµ‹è¯•çš„ä»·å€¼ä¸å®šä¹‰è¾©è¯çš„ç†è§£æµ‹è¯•ç‹­ä¹‰/å¹¿ä¹‰ç‹­ä¹‰çš„è½¯ä»¶æµ‹è¯•åªæœ‰åŠ¨æ€çš„æ‰§è¡Œè½¯ä»¶æ—¶è¿›è¡Œæµ‹è¯• å¹¿ä¹‰çš„è½¯ä»¶æµ‹è¯•åŒ…æ‹¬é™æ€æµ‹è¯•å’ŒåŠ¨æ€æµ‹è¯•åœ¨å†…çš„å„ç§æµ‹è¯•çš„æ€»ç§° é™æ€/åŠ¨æ€é™æ€æµ‹è¯•åŒ…æ‹¬éœ€æ±‚ã€è®¾è®¡å’Œä»£ç ç­‰çš„è¯„å®¡ã€‚å¼•å…¥é™æ€æµ‹è¯•æ„ä¹‰é‡å¤§ï¼Œèƒ½å¤Ÿå°½æ—©çš„å‘ç°é—®é¢˜ï¼Œæå¤§åœ°é™ä½è½¯ä»¶å¼€å‘æˆæœ¬ã€‚ä¸éœ€è¦è¿è¡Œè½¯ä»¶ç³»ç»Ÿï¼Œè€Œæ˜¯å¯¹è½¯ä»¶çš„åŠæˆå“ï¼ˆå¦‚éœ€æ±‚æ–‡æ¡£ã€è®¾è®¡æ–‡æ¡£ã€ä»£ç ï¼‰è¿›è¡Œè¯„å®¡ï¼Œå³å¼€å±•éœ€æ±‚è¯„å®¡ã€è®¾è®¡è¯„å®¡ã€ä»£ç è¯„å®¡ç­‰æ´»åŠ¨ã€‚ åŠ¨æ€æµ‹è¯•éœ€è¦è¿è¡Œè½¯ä»¶æ‰èƒ½å®Œæˆæµ‹è¯•çš„ä¸€ç§å½¢å¼ è½¯ä»¶æµ‹è¯•çš„å±‚æ¬¡ä¸€å…±æœ‰å››å±‚ï¼š å•å…ƒæµ‹è¯• é›†æˆæµ‹è¯• ç³»ç»Ÿæµ‹è¯• éªŒæ”¶æµ‹è¯• è½¯ä»¶æµ‹è¯•çš„ç±»å‹ æŒ‰æµ‹è¯•çš„å¯¹è±¡æˆ–èŒƒå›´åˆ†ç±»ï¼Œå¦‚å•å…ƒæµ‹è¯•ã€æ–‡æ¡£æµ‹è¯•ã€ç³»ç»Ÿæµ‹è¯•ç­‰ï¼‰ æŒ‰æµ‹è¯•ç›®çš„åˆ†ç±»ï¼Œå¦‚åŠŸèƒ½æµ‹è¯•ã€å›å½’æµ‹è¯•ã€æ€§èƒ½æµ‹è¯•ã€å¯é æ€§æµ‹è¯•ã€å®‰å…¨æ€§æµ‹è¯•å’Œå…¼å®¹æ€§æµ‹è¯•ç­‰ æ ¹æ®æµ‹è¯•è¿‡ç¨‹ä¸­è¢«æµ‹è½¯ä»¶æ˜¯å¦è¢«æ‰§è¡Œï¼Œåˆ†ä¸ºé™æ€æµ‹è¯•å’ŒåŠ¨ æ€æµ‹è¯• æ ¹æ®æ˜¯å¦é’ˆå¯¹ç³»ç»Ÿçš„å†…éƒ¨ç»“æ„å’Œå…·ä½“å®ç°ç®—æ³•æ¥å®Œæˆæµ‹è¯• ï¼Œå¯åˆ†ä¸ºç™½ç›’æµ‹è¯•å’Œé»‘ç›’æµ‹è¯• è½¯ä»¶æµ‹è¯•å’ŒSQAçš„åŒºåˆ«å’Œè”ç³» ç¬¬äºŒç« ï¼šéœ€æ±‚ä¸è®¾è®¡è¯„å®¡é™æ€æµ‹è¯•ï¼ˆè¯„å®¡ï¼‰å½¢å¼åŠå…¶æµç¨‹è¯„å®¡çš„å½¢å¼ï¼šäº’ä¸ºè¯„å®¡ã€èµ°æŸ¥å’Œä¼šè®®è¯„å®¡ç­‰ä¸åŒå½¢å¼ è½¯ä»¶éœ€æ±‚çš„å±‚æ¬¡ å…¶ä¸­ä¸šåŠ¡å±‚æ¬¡åˆåŒ…æ‹¬ï¼š ä¸šåŠ¡éœ€æ±‚ï¼šè§£å†³ä»€ä¹ˆå…³é”®é—®é¢˜ï¼Œæ ¸å¿ƒçš„è¯‰æ±‚æ˜¯ä»€ä¹ˆï¼Œè¾¾åˆ°ä»€ä¹ˆç›®æ ‡ï¼Œç›¸å½“äºäº§å“çš„æ„¿æ™¯ã€‚ ç”¨æˆ·è§’è‰²éœ€æ±‚/å¹²ç³»äººéœ€æ±‚ï¼šç›¸å…³åˆ©ç›Šè€…çš„éœ€æ±‚ï¼Œæ¯ä¸ªç”¨æˆ·è§’è‰²æœ‰ä»€ä¹ˆç‰¹å®šçš„éœ€æ±‚ã€‚ä»ç”¨æˆ·è¡Œä¸ºå»åˆ†æï¼Œå³å¯¹åº”ç”¨ä¾‹å’Œç”¨æˆ·æ•…äº‹ï¼Œè¿ç»´ã€æŠ€æœ¯æ”¯æŒç­‰ç›¸å…³äººå‘˜çš„éœ€æ±‚ï¼Œä¸€èˆ¬ä¹Ÿå¯ä»¥å¹¶å…¥ç”¨æˆ·è§’è‰²çš„éœ€æ±‚ã€‚ åŠŸèƒ½æ€§å’ŒéåŠŸèƒ½éœ€æ±‚ï¼šè½¯ä»¶ä¸ºäº†æ»¡è¶³ä¸Šè¿°ä¹Ÿæ— éœ€æ±‚ï¼ŒåŠç›¸å…³åˆ©ç›Šè€…çš„éœ€æ±‚ï¼Œè€Œå…·å¤‡çš„åŠŸèƒ½å’ŒéåŠŸèƒ½æ€§ï¼ˆç³»ç»Ÿï¼‰çš„èƒ½åŠ›ã€‚ éœ€æ±‚ä¸è®¾è®¡è¯„å®¡æ ‡å‡†æ­£ç¡®æ€§æ£€æŸ¥åœ¨ä»»æ„æ¡ä»¶ä¸‹è½¯ä»¶ç³»ç»Ÿéœ€æ±‚å®šä¹‰ï¼Œä»¥åŠå…¶è¯´æ˜çš„æ­£ç¡®æ€§ å®Œå¤‡æ€§æ¶µç›–ç³»ç»Ÿéœ€æ±‚çš„åŠŸèƒ½ï¼Œæ€§èƒ½ï¼Œè¾“å…¥/è¾“å‡ºï¼Œæ¡ä»¶é™åˆ¶ã€åº”ç”¨èŒƒå›´ç­‰çš„ç¨‹åº¦ï¼Œè¦†ç›–ç‡è¶Šé«˜ï¼Œå®Œå¤‡æ€§è¶Šå¥½ æ˜“ç†è§£æ€§æ–‡æ¡£çš„æè¿°æ€§è¢«ç†è§£çš„å®¹æ˜“ç¨‹åº¦ï¼ŒåŒ…æ‹¬æ¸…æ™°æ€§ã€‚ ä¸€è‡´æ€§æ‰€å®šä¹‰çš„éœ€æ±‚ä¹‹é—´æ²¡æœ‰ç›¸äº’æ’æ–¥ã€å†²çªå’ŒçŸ›ç›¾ï¼Œå‰åä¸€è‡´ æ˜“æµ‹è¯•æ€§å®¹æ˜“è¿›è¡Œç›¸å…³æµ‹è¯• æ˜“è¿½æº¯æ€§æ¯ä¸€é¡¹éœ€æ±‚å®šä¹‰å¯ç¡®å®šå…¶æ¥æº è®¾è®¡è¯„å®¡çš„å±‚æ¬¡ è®¾è®¡è¯„å®¡æ–¹æ³• ä»é«˜å±‚åˆ°åº•å±‚ ä¸æ–­ä»æµ‹è¯•è§’åº¦å»é—®å¼€å‘ å€ŸåŠ©UMLç­‰å»ºæ¨¡å·¥å…· ç¬¬ä¸‰ç« ï¼šå•å…ƒæµ‹è¯•å•å…ƒæµ‹è¯•çš„æ¦‚å¿µå’Œä¸»è¦å½¢å¼å•å…ƒæµ‹è¯•æ˜¯é’ˆå¯¹è½¯ä»¶çš„åŸºæœ¬å·¥ä½œå•å…ƒï¼Œè¿›è¡Œæ­£ç¡®æ€§æ£€éªŒçš„ æµ‹è¯•å·¥ä½œã€‚ å•å…ƒæµ‹è¯•ä¸­ç±»æµ‹è¯•çš„åˆ†ç±» åŠ¨æ€æµ‹è¯• æ–¹æ³•å†…æµ‹è¯• æ–¹æ³•é—´æµ‹è¯• åœ¨æµ‹è¯•ç±»åŠŸèƒ½å®ç°æ—¶ï¼Œåº”è¯¥é¦–å…ˆä¿è¯ç±»æˆå‘˜æ–¹æ³•çš„æ­£ç¡®æ€§ï¼Œç±»æ–¹æ³•çš„æ­£ç¡®è¡Œä¸ºåªæ˜¯ç±»èƒ½å¤Ÿå®ç°è¦æ±‚çš„åŠŸèƒ½åŸºç¡€ã€‚ é™æ€æµ‹è¯• é¦–å…ˆéœ€è¦ä¿è¯è¦æµ‹è¯•çš„ç±»æœ‰å®Œæ•´å’Œæ­£ç¡®çš„è¯´æ˜ï¼Œå¹¶ä¸”å·²ç»åœ¨æ¨¡å‹ç¯å¢ƒä¸‹è¿›è¡Œäº†æµ‹è¯•ï¼Œç±»çš„è§„æ ¼è¯´æ˜ä½¿ç”¨å¯¹è±¡çº¦æŸè¯­è¨€ã€è‡ªç„¶è¯­è¨€æˆ–çŠ¶æ€å›¾è¡¨ç¤ºï¼Œä¸åŒè¯­è¨€çš„è§„èŒƒè¿›è¡Œç›¸åº”ä»£ç è§„èŒƒçš„è¯„å®¡ï¼Œè¿™æ˜¯ç±»çš„é™æ€ä»£ç è¯„å®¡ã€‚ å•å…ƒæµ‹è¯•çš„æ–¹æ³•æµ‹è¯•ç”¨ä¾‹å®ç°è®¾è®¡å¥½çš„æµ‹è¯•æ•°æ®ã€æ‰§è¡Œæ¡ä»¶ä»¥åŠé¢„æœŸæ‰§è¡Œç»“æœç§°ä¸ºæµ‹è¯•ç”¨ä¾‹ ç™½ç›’æµ‹è¯•é€šè¿‡è¢«æµ‹å•å…ƒçš„å†…éƒ¨ç»“æ„æ¥è®¾è®¡æµ‹è¯•ç”¨ä¾‹æ¥è¿›è¡Œçš„æµ‹è¯• é»‘ç›’æµ‹è¯•ä¸å…³æ³¨å†…éƒ¨ä»£ç ï¼Œä»…ä»ç¨‹åºåŠŸèƒ½å’Œæ€§èƒ½ä¸Šè€ƒé‡æ˜¯å¦æ»¡è¶³éœ€æ±‚è€Œè®¾è®¡æµ‹è¯•ç”¨ä¾‹æ¥è¿›è¡Œçš„æµ‹è¯•ï¼Œä¸€èˆ¬ä¸ºæ¥å£æµ‹è¯•æˆ–é›†æˆæµ‹è¯• å•å…ƒä»£ç çš„è‡ªåŠ¨åŒ–æµ‹è¯•çš„æ­¥éª¤ è®¾è®¡æµ‹è¯•ç”¨ä¾‹ ä»å•çº¯åˆ†æç¨‹åºç»“æ„å…¥æ‰‹ï¼Œç”»å‡ºæˆ–è€…ç›´æ¥ä»è¯¦ç»†è®¾è®¡æ–‡æ¡£ä¸­å¾—åˆ°ç¨‹åºæµç¨‹å›¾ï¼Œå°è¯•è®¾è®¡æµ‹è¯•ç”¨ä¾‹ï¼ˆé€‰ç”¨æŸç§è¦†ç›–æ–¹æ³•ï¼‰è¦†ç›–æ‰€æœ‰çš„ä»£ç è¡Œã€‚ è¦†ç›–æ–¹æ³•ï¼š è¯­å¥è¦†ç›– éœ€è¦è®¾è®¡è¶³å¤Ÿå¤šçš„æµ‹è¯•ç”¨ä¾‹ï¼Œä½¿å¾—ç¨‹åºå°†ä¼šæ‰§è¡Œè¢«æµ‹æ–¹æ³•ä¸­æ‰€æœ‰çš„è¯­å¥ï¼Œè¦†ç›–è¯¥æ–¹æ³•çš„æ‰€æœ‰è¯­å¥ï¼Œæ¯”å¦‚ç¨‹åºä¸­çš„if/elseåˆ†æ”¯ï¼Œè¦å…¨éƒ¨æ‰§è¡Œæµ‹è¯•åˆ°ã€‚ è¯­å¥è¦†ç›–æ˜¯é€»è¾‘è¦†ç›–ä¸­çš„ä¸€ç§ï¼Œé€»è¾‘è¦†ç›–å°±æ˜¯é€šè¿‡å¯¹ç¨‹åºé€»è¾‘ç»“æ„çš„éå†ï¼Œå®ç°ç¨‹åºè¦†ç›–çš„ä¸€ç§ç™½ç›’æµ‹è¯•æŠ€æœ¯ã€‚ æ¡ä»¶è¦†ç›– å¯¹åˆ¤å®šæ¡ä»¶ä¹Ÿè¦è¿›è¡Œåˆ†è§£ï¼Œå½“ä¸€ä¸ªåˆ¤å®šæ¡ä»¶ä¸­æœ‰&amp;&amp;æˆ–è€…||å…¶ä»–æ—¶è¦è¿›è¡Œåˆ†è§£ï¼Œå¯¹æ¯ä¸ªæ¡ä»¶éƒ½è¿›è¡Œæµ‹è¯•è¦†ç›–ã€‚ å¦‚ï¼šif(x&gt;=3&amp;&amp;y==0)åˆ†è§£ä¸º x&gt;=3ä¸ºçœŸ/å‡ y==0ä¸ºçœŸ/å‡ åˆ†æ”¯è¦†ç›–(åˆ¤å®šè¦†ç›–) é€šè¿‡è®¾è®¡æ‰§è¡Œè¶³å¤Ÿå¤šçš„æµ‹è¯•ç”¨ä¾‹ï¼Œä½¿å¾—ç¨‹åºä¸­çš„æ¯ä¸ªåˆ¤å®šè¡¨è¾¾å¼çš„å€¼ä¸ºçœŸå’Œä¸ºå‡çš„åˆ†æ”¯éƒ½è¦è‡³å°‘æ‰§è¡Œä¾æ¬¡æµ‹è¯• å¤šé‡æ¡ä»¶è¦†ç›–(æ¡ä»¶ç»„åˆè¦†ç›–) æ˜¯ä¸ºäº†è§£å†³çŸ­è·¯æ“ä½œç¬¦ï¼Œä½¿å¾—æ¯ä¸ªæ¡ä»¶éƒ½æ‰§è¡Œåˆ°ï¼Œå‚ç…§ä¸‹é¢å¤‡æ³¨çš„ä¾‹å­ï¼Œå°±æ˜¯è®©y==0ä¹Ÿèƒ½æ‰§è¡Œåˆ°ï¼Œæ­¤æ—¶x&gt;=3æ˜¯æˆç«‹çš„ï¼Œä¹Ÿå°±æ˜¯x&gt;=3èƒ½å¦æˆç«‹éƒ½è¦å®‰æ’æµ‹è¯•ç”¨ä¾‹ï¼Œä»¥ä¿è¯y==0èƒ½å¤Ÿè¢«æµ‹è¯•åˆ°ï¼Œè¿›è¡Œæ¡ä»¶çš„å…¨è¦†ç›–æµ‹è¯•ã€‚ è·¯å¾„è¦†ç›– æ¯”å¦‚æœ‰ä¸¤ä¸ªif/elseæ¡ä»¶ï¼Œé‚£ä¹ˆå°±æ˜¯2Ã—2=4ä¸­è·¯å¾„ï¼Œæ¯ä¸€æ¡è·¯å¾„ä¸åè¾¹è·¯å¾„çš„ç»„åˆéƒ½è¦è¦†ç›–åˆ°ã€‚ ç¼–å†™æµ‹è¯•ä»£ç  ç¼–å†™æµ‹è¯•è„šæœ¬ æ‰§è¡Œæµ‹è¯• æ‰§è¡Œæµ‹è¯•ä»£ç å³å¯ 123451.å¤‡æ³¨ï¼šå›å½’æµ‹è¯•ï¼šæ˜¯æŒ‡ä¿®æ”¹äº†æ—§ä»£ç åé‡æ–°è¿›è¡Œæµ‹è¯•ï¼Œæµ‹è¯•ä»£ç ä¸å˜ï¼Œä»¥ç¡®è®¤ä¿®æ”¹åçš„ä»£ç æ²¡æœ‰äº§ç”Ÿæ–°çš„é”™è¯¯ï¼Œæˆ–å¯¼è‡´å…¶ä»–ä»£ç å‘ç”Ÿé”™è¯¯ï¼Œå°±å«å›å½’æµ‹è¯•2.å¤‡æ³¨ï¼šçŸ­è·¯æ“ä½œç¬¦å‡ºç°ç±»ä¼¼if(x&gt;&#x3D;3 &amp;&amp; y&#x3D;&#x3D;0)è¿™æ ·çš„åˆ¤æ–­æ¡ä»¶æ—¶ï¼Œå½“ç¼–è¯‘å™¨æ‰§è¡Œåˆ°x&gt;&#x3D;3ä¸æˆç«‹æ—¶ï¼Œå°±ä¸ä¼šå»åˆ¤æ–­y&#x3D;&#x3D;0è¿™ä¸€æ¡ä»¶ï¼Œç›´æ¥è·³è¿‡ï¼Œå³ä¾¿æœ‰é”™ï¼Œä¹Ÿæ£€æŸ¥ä¸åˆ°äº†ã€‚ ç¬¬å››ç« ï¼šæŒç»­é›†æˆæµ‹è¯•é›†æˆæµ‹è¯•çš„æ¦‚å¿µä¸€ç§æ—¨åœ¨æš´éœ²å•å…ƒæ¥å£ä¹‹é—´ã€ç»„ä»¶/ç³»ç»Ÿé—´äº¤äº’æˆ–ååŒå·¥ä½œæ—¶æ‰€å­˜åœ¨çš„ç¼ºé™·çš„æµ‹è¯•ã€‚ é›†æˆæµ‹è¯•çš„å±‚æ¬¡ è½¯ä»¶å•å…ƒä¸è½¯ä»¶å•å…ƒçš„é›†æˆæµ‹è¯• è½¯ä»¶å­ç³»ç»Ÿå’Œå­ç³»ç»Ÿçš„é›†æˆæµ‹è¯• è½¯ä»¶ç³»ç»Ÿå’Œç¬¬ä¸‰æ–¹ç³»ç»Ÿçš„é›†æˆæµ‹è¯• è½¯ä»¶ç³»ç»Ÿå’Œç¡¬ä»¶çš„é›†æˆæµ‹è¯• é›†æˆæµ‹è¯•çš„æ¨¡å¼éæ¸å¢å¼æµ‹è¯•æ¨¡å¼ï¼ˆå·²å®Œæˆæµ‹è¯•çš„æ¨¡å—ï¼‰å…ˆåˆ†åˆ«æµ‹è¯•æ¯ä¸ªæ¨¡å—ï¼Œå†æŠŠæ‰€æœ‰æ¨¡å—æŒ‰è®¾è®¡ è¦æ±‚æ”¾åœ¨ä¸€èµ·ç»„æˆæ‰€è¦çš„ç¨‹åºï¼Œå¦‚å¤§æ£’æ¨¡å¼(Big-bang Integration) æ¸å¢å¼æµ‹è¯•æ¨¡å¼ï¼ˆå·²å®Œæˆæµ‹è¯•çš„æ¨¡å—ï¼‰æŠŠä¸‹ä¸€ä¸ªè¦æµ‹è¯•çš„æ¨¡å—åŒå·²ç»æµ‹è¯•å¥½çš„æ¨¡å—ç»“åˆèµ· æ¥è¿›è¡Œæµ‹è¯•ï¼Œæµ‹è¯•å®Œä»¥åå†æŠŠä¸‹ä¸€ä¸ªå·²æµ‹è¯•çš„æ¨¡å—ç»“åˆè¿›æ¥æµ‹è¯•â€¦ æŒç»­é›†æˆï¼ˆé’ˆå¯¹æ–°å¢çš„ä»£ç ï¼‰æ¯æ—¥æ–°å¢çš„ä»£ç ï¼Œé›†æˆåˆ°æœ€æ–°çš„é¡¹ç›®ä¸­æ—¶ï¼Œå°±ä¼šè¿›è¡Œæµ‹è¯•ï¼Œä½¿å¾—é¡¹ç›®åœ¨æ¯å¤©éƒ½ä¼šæœ‰ä¸€æ¬¡æˆ–å¤šæ¬¡çš„æµ‹è¯•è¿‡ç¨‹ã€‚ é›†æˆæµ‹è¯•çš„ç‰¹ç‚¹é›†æˆæµ‹è¯•ä¾§é‡äºå¯¹æ¥å£çš„æµ‹è¯•ï¼Œæ•°æ®é©±åŠ¨è„šæœ¬ã€‚ æ¥å£ä¹‹é—´ä¼ é€’çš„å‚æ•°æ˜¯å¦ ä¸€è‡´(ä¸ªæ•°ã€å±æ€§ã€é‡çº²) å…¨å±€å˜é‡å¼•ç”¨æ˜¯å¦ä¸€è‡´ æ•°æ®æµä¸€è‡´æ€§å¤„ç† ç¼“å†²åŒºæ•°æ®çš„å¤„ç† æ¥å£æµ‹è¯•è¦ç‚¹ æ¥å£ä¸­æ‰€æœ‰çš„å‚æ•°çš„ä¸åŒç±»å‹çš„æœ‰æ•ˆå€¼éƒ½è¦è¢«æµ‹è¯• å‚æ•°çš„æ¯ä¸ªé”™è¯¯ç±»å‹éƒ½è¦å‡†å¤‡ä¸€ä¸ªå¼‚å¸¸ç”¨ä¾‹ å¦‚ç¼ºçœå€¼ã€ç±»å‹é”™è¯¯ã€èŒƒå›´é”™è¯¯ã€å‚æ•°è¶…è¿‡æœ€å¤§ä½æ•°ã€æ— æ•ˆå€¼ã€ å‚æ•°çš„å…³è”æ€§æ£€æŸ¥ç­‰ æŠŠæ¯ä¸ªå‚æ•°å•ç‹¬ä½œä¸ºæ¡ä»¶æ¥è¿›è¡Œæµ‹è¯•ï¼Œå†è¿›è¡Œå¤šæ¡ä»¶ å…³è”ç»„åˆæµ‹è¯• é›†æˆæµ‹è¯•å‘å±•å†ç¨‹ æŒç»­é›†æˆçš„å†…æ¶µï¼ˆå†…å®¹ï¼‰ æŒç»­æ£€æŸ¥ï¼ˆç”¨å·¥å…·æ‰«æåˆ†æä»£ç ï¼‰ æŒç»­æ„å»ºï¼ˆBuildï¼‰ æŒç»­éƒ¨ç½² æŒç»­éªŒè¯ã€æµ‹è¯• æŒç»­é›†æˆç¯å¢ƒï¼ˆåŸºç¡€è®¾æ–½ï¼‰ æŒç»­æŠ¥å‘Š æµ‹è¯•é‡‘å­—å¡” è‡ªåŠ¨åŒ–æµ‹è¯•çš„è¿‡ç¨‹ è‡ªåŠ¨éƒ¨ç½² æ–¹æ³•ï¼š å€ŸåŠ©æ’ä»¶ï¼šdeploy plugin ç¼–å†™è„šæœ¬ï¼šshellè„šæœ¬ã€winsowsæ‰¹å¤„ç†ã€pythonè„šæœ¬ç­‰ æ„å»ºå‰å®ç°è‡ªåŠ¨é™æ€åˆ†æ æ–¹æ³•å’Œè‡ªåŠ¨éƒ¨ç½²ä¸€æ ·ï¼Œè‡ªåŠ¨é™æ€æµ‹è¯•æŠ¥å‘Š- Sonarå·¥å…·ç”ŸæˆæŠ¥å‘Š æ„å»ºåå®ç°è‡ªåŠ¨éªŒè¯ ç³»ç»ŸåŠŸèƒ½ æ€§èƒ½æµ‹è¯• å®Œæˆæµ‹è¯•è¦ä¾èµ–ç›¸åº”çš„æµ‹è¯•å·¥å…·ï¼Œè¿˜éœ€è¦åšç›¸åº”çš„é…ç½®ã€‚ æŒç»­é›†æˆè¿‡ç¨‹ä½¿ç”¨åˆ°çš„å·¥å…· ä»£ç åº“/ç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼š Git SVN CVS æ„å»ºå·¥å…· Ant Maven Gradle ä»£ç é™æ€åˆ†æå·¥å…· - FindBugs - PMD æµ‹è¯•å·¥å…· JUnit Selenium æŒç»­é›†æˆè°ƒåº¦å·¥å…· Jenkins Travis CI ç¬¬äº”ç« ï¼šç³»ç»ŸåŠŸèƒ½æµ‹è¯•ç³»ç»ŸåŠŸèƒ½æµ‹è¯•çš„å†…å®¹ åŠŸèƒ½ é€»è¾‘ æ¥å£ ç•Œé¢ æ•°æ® æ“ä½œ å¹³å° è½¯ä»¶éœ€æ±‚çš„å±‚æ¬¡ ä¸šåŠ¡éœ€æ±‚ï¼š æµ‹è¯•ç”¨ä¾‹è®¾è®¡æ–¹æ³•ç­‰ä»·ç±»åˆ’åˆ†æ–¹æ³•ç­‰ä»·ç±»æ˜¯æŸä¸ªè¾“å…¥åŸŸçš„å­é›†ï¼Œåœ¨è¯¥å­é›†ä¸­æ¯ä¸ªè¾“å…¥æ•°æ®çš„ä½œç”¨æ˜¯ç­‰æ•ˆçš„ã€‚å°†è¾“å…¥æ•°æ®åˆ†æˆè‹¥å¹²ä¸ªå­é›†ï¼Œä»æ¯ä¸ªå­é›†é€‰å–ä¸€ä¸ªä»£è¡¨æ€§çš„æ•°æ®ä½œä¸ºæµ‹è¯•ç”¨ä¾‹ã€‚ åŸºäºå¯¹è¾“å…¥æˆ–è¾“å‡ºçš„æƒ…å†µçš„è¯„ä¼°ï¼Œç„¶ååˆ’åˆ†æˆä¸¤ä¸ªæˆ–æ›´å¤šçš„å­é›†æ¥è¿›è¡Œæµ‹è¯•ï¼Œå³ä»–æ‰€æœ‰å¯èƒ½çš„è¾“å…¥æ•°æ®ï¼ˆæœ‰æ•ˆçš„æˆ–è€…æ— æ•ˆçš„ï¼‰åˆ’åˆ†æˆè‹¥å¹²ä¸ªç­‰ä»·ç±»ï¼Œä»æ¯ä¸ªç­‰ä»·ç±»ä¸­é€‰æ‹©ä¸€å®šçš„ä»£è¡¨å€¼è¿›è¡Œæµ‹è¯•ï¼Œå¦‚æœç”¨è¿™ä¸ªç­‰ä»·ç±»ä¸­çš„ä»£è¡¨å€¼ä½œä¸ºæµ‹è¯•ç”¨ä¾‹æœªå‘ç°ç¨‹åºé”™è¯¯ï¼Œé‚£ä¹ˆè¯¥ç±»ä¸­å…¶ä»–çš„æ•°æ®ï¼ˆæµ‹è¯•ç”¨ä¾‹ï¼‰ä¹Ÿä¸ä¼šå‘ç”Ÿç¨‹åºçš„é”™è¯¯ã€‚ æœ‰æ•ˆç­‰ä»·ç±» å®Œå…¨æ»¡è¶³ç¨‹åºè§„æ ¼è¯´æ˜ã€æœ‰æ„ä¹‰çš„è¾“å…¥æ•°æ®æ‰€æ„æˆçš„é›†åˆã€‚ æ„ä¹‰ï¼šæ£€éªŒç¨‹åºæ˜¯å¦æ»¡è¶³è§„æ ¼è¯´æ˜æ‰€è§„å®šçš„åŠŸèƒ½å’Œæ€§èƒ½ã€‚ æ— æ•ˆç­‰ä»·ç±» ä¸æ»¡è¶³ç¨‹åºè§„æ ¼è¯´æ˜ã€æ— æ•ˆçš„è¾“å…¥æ•°æ®æ‰€æ„æˆçš„é›†åˆ æ„ä¹‰ï¼šå¯ä»¥æµ‹è¯•ç¨‹åº/ç³»ç»Ÿçš„å®¹é”™æ€§â€”â€”å¯¹å¼‚å¸¸è¾“å…¥æƒ…å†µçš„å¤„ç†ã€‚ åœ¨ç¨‹åºè®¾è®¡ä¸­ï¼Œä¸ä»…è¦ä¿è¯æ‰€æœ‰æœ‰æ•ˆçš„æ•°æ®è¾“å…¥èƒ½äº§ç”Ÿæ­£ç¡®çš„è¾“å‡ºï¼Œè¿˜è¦ä¿è¯é”™è¯¯çš„è¾“å…¥æˆ–è€…æ— æ•ˆè¾“å…¥ä¸­èƒ½å¤Ÿæœ‰å¼‚å¸¸ä¿æŠ¤ è¾¹ç•Œå€¼åˆ†ææ–¹æ³•å–è¾¹ç•Œå€¼è¿›è¡Œæµ‹è¯•åˆ†æï¼Œå–æœ€é è¿‘è¾¹ç•Œçš„ä¸¤ä¸ªå€¼ä½œä¸ºæµ‹è¯•çš„æ•°æ®ã€‚ å†³ç­–è¡¨æ–¹æ³•å€ŸåŠ©è¡¨æ ¼æ–¹å¼å®Œæˆå¯¹è¾“å…¥æ¡ä»¶çš„ç»„åˆè®¾è®¡ï¼Œå·²è¾¾åˆ°å®Œå…¨ç»„åˆè¦†ç›–çš„æµ‹è¯•æ•ˆæœã€‚ æ¯”å¦‚åœ¨æŸä¸€ç½‘é¡µç™»å½•è¿‡ç¨‹ä¸­ï¼š ä¸Šè¿°åˆ¤å®šè¡¨å¯ä»¥çœ‹å‡ºæ¥ç”¨æˆ·åã€å¯†ç ã€éªŒè¯ç æœ‰ä¸€ä¸ªè¾“å…¥é”™è¯¯å°±å’Œæ ‡å‡†ç‰ˆæ²¡æœ‰å…³ç³»äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜å¯ä»¥è¿›è¡Œåˆ¤å®šè¡¨åˆ¤å®šæ¡ä»¶çš„ä¼˜åŒ–ï¼š ç»§ç»­çœ‹ï¼Œæˆ‘ä»¬å‘ç°ç”¨æˆ·åæˆ–å¯†ç æœ‰ä¸€ä¸ªé”™è¯¯ï¼Œåªéœ€è¦è€ƒè™‘éªŒè¯ç ï¼Œäºæ˜¯æˆ‘ä»¬è¿˜å¯ä»¥ä¼˜åŒ–ï¼š å†³ç­–è¡¨æµ‹è¯•çˆ†ç‚¸æ—¶çš„ä¼˜åŒ–æ–¹æ³•ä¸¤ä¸¤ç»„åˆæ–¹æ³•ï¼ˆPairwiseï¼‰æ­£äº¤è¯•éªŒè®¾è®¡æ³• åŸºäºç”¨ä¾‹/åœºæ™¯çš„æµ‹è¯•æ–¹æ³•åŸºäºä¸€ä¸ªæ ¸å¿ƒåœºæ™¯ï¼Œè€ƒè™‘ä¸åŒçš„æ¡ä»¶ï¼Œæˆ–è€…ä¸åŒçš„æµ‹è¯•æ•°æ®ï¼Œè¿›è¡Œåˆ†æè®¾è®¡ç”¨ä¾‹è§‚å¯Ÿå¯¹åº”çš„ç»“æœã€‚ å¦‚ï¼šç”¨æˆ·ç™»å½•æ—¶ï¼Œæ˜¯å¦æ˜¯ç¬¬ä¸€æ¬¡ç™»å½•ï¼Œå¯†ç é•¿åº¦ï¼Œç”¨æˆ·åé•¿åº¦ç­‰ç­‰ å›å½’æµ‹è¯•çš„ç­–ç•¥åŸºäºé£é™©ç­–ç•¥æ¥é€‰æ‹©å›å½’æµ‹è¯•ç”¨ä¾‹ä¼˜å…ˆå˜åŠ¨å¤§çš„ä»£ç è¿›è¡Œæµ‹è¯• å³åˆ¤æ–­å“ªäº›åŒºåŸŸå—ä¿®æ”¹çš„ä»£ç å½±å“çš„å¯èƒ½æ€§å¤§ï¼Œå—åˆ°å½±å“çš„å¯èƒ½æ€§è¶Šå¤§ï¼Œè¶Šè¦ä¼˜å…ˆè€ƒè™‘ã€‚å¦‚æœæµ‹è¯•ç”¨ä¾‹æ²¡æœ‰æ”¶åˆ°å½±å“ï¼Œè¿™äº›ç”¨ä¾‹å°±ä¸é€‰æ‹©ã€‚ åŸºäºæ“ä½œå‰–é¢é€‰æ‹©æµ‹è¯•ä¼˜å…ˆæµ‹è¯•è¾ƒä¸ºé‡è¦çš„ï¼Œä½¿ç”¨é¢‘ç¹çš„åŠŸèƒ½ å¦‚æœæµ‹è¯•ç”¨ä¾‹çš„æ„é€ æ˜¯åŸºäºç”¨æˆ·åŠŸèƒ½ç‰¹æ€§ç»„ç»‡çš„ï¼Œæµ‹è¯•ç”¨ä¾‹çš„åˆ†å¸ƒæƒ…å†µåæ˜ äº†ç³»ç»Ÿçš„å®é™…ä½¿ç”¨æƒ…å†µï¼Œåˆ™é€‰æ‹©è¿™ç§ç­–ç•¥ã€‚ä¼˜å…ˆé€‰æ‹©é‚£äº›æœ€é‡è¦çš„ï¼Œæˆ–è€…æœ€é¢‘ç¹ä½¿ç”¨çš„åŠŸèƒ½æ‰€å…³è”çš„æµ‹è¯•ç”¨ä¾‹ï¼Œæœ‰åŠ©äºå°½æ—©å‘ç°é‚£äº›å¯¹è´¨é‡æœ‰æ˜æ˜¾å½±å“çš„æ•…éšœï¼Œè€Œæ”¾å¼ƒæ¬¡è¦åŠŸèƒ½å…³è”çš„æµ‹è¯•ç”¨ä¾‹ã€‚ é‡‡ç”¨ä»£ç ç›¸ä¾æ€§ï¼ˆç›¸äº’ä¾èµ–çš„å…³ç³»ï¼‰åˆ†æä¼˜å…ˆæµ‹è¯•å’Œå˜åŠ¨ä»£ç æœ‰å…³è”çš„ä»£ç  äº†è§£ä»£ç ä¾èµ–çš„å…³ç³»ï¼Œå»ºç«‹ä»£ç å’Œæµ‹è¯•ç”¨ä¾‹çš„æ˜ å°„å…³ç³»ï¼Œè¿™æ ·ä½†æŸäº›ä»£ç åšäº†ä¿®æ”¹æ—¶ï¼Œå°±èƒ½è¿‡æ ¹æ®ä»£ç çš„ç›¸ä¾æ€§äº†è§£åˆ°å“ªäº›ä»£ç æ”¶åˆ°äº†å½±å“ï¼Œå†æ ¹æ®ä»£ç å’Œæµ‹è¯•ç”¨ä¾‹çš„æ˜ å°„å…³ç³»æ¥é€‰æ‹©å›å½’æµ‹è¯•ç”¨ä¾‹ï¼Œè¿™æ ·çš„ç­–ç•¥ï¼ˆæ–¹æ³•ï¼‰ï¼Œæ›´å®¢è§‚æ›´å‡†ç¡®ã€‚ æœ€å¸¸ç”¨çš„åŠŸèƒ½æµ‹è¯•å·¥å…·ç»„åˆæµ‹è¯•çš„å·¥å…· CTE-XL ACTS é¢å‘æ¥å£çš„Webæµ‹è¯•å·¥å…· JMeterï¼šä¸€èˆ¬æ˜¯æ€§èƒ½æµ‹è¯•ç”¨å…·ï¼Œä¹Ÿå¯ä»¥åšé¢å‘æ¥å£çš„åŠŸèƒ½æµ‹è¯• SoapUIï¼šé¢å‘æ¥å£çš„åŠŸèƒ½æµ‹è¯•å·¥å…· Webè‡ªåŠ¨åŒ–æµ‹è¯•å·¥å…· Selenium+WebDriverå·¥å…· ç¬¬å…­ç« ï¼šç³»ç»Ÿæ€§èƒ½æµ‹è¯•æ€§èƒ½æµ‹è¯•çš„æ¦‚å¿µå’Œç›®æ ‡æ€§èƒ½æµ‹è¯•ï¼ˆperformance testï¼‰å°±æ˜¯ä¸ºäº†å‘ç°ç³»ç»Ÿæ€§èƒ½é—®é¢˜æˆ–è· å–ç³»ç»Ÿæ€§èƒ½ç›¸å…³æŒ‡æ ‡è€Œè¿›è¡Œçš„æµ‹è¯•ã€‚ä¸€èˆ¬åœ¨çœŸå®ç¯å¢ƒã€ç‰¹å®šè´Ÿè½½ æ¡ä»¶ä¸‹ï¼Œé€šè¿‡å·¥å…·æ¨¡æ‹Ÿå®é™…è½¯ä»¶ç³»ç»Ÿçš„è¿è¡ŒåŠå…¶æ“ä½œï¼ŒåŒæ—¶ç›‘æ§æ€§èƒ½å„é¡¹æŒ‡æ ‡ï¼Œæœ€åå¯¹æµ‹è¯•ç»“æœè¿›è¡Œåˆ†æä»¥ç¡®å®šç³»ç»Ÿçš„æ€§èƒ½çŠ¶å†µã€‚ è·å–ç³»ç»Ÿæ€§èƒ½æŸäº›æŒ‡æ ‡æ•°æ® ä¸ºäº†éªŒè¯ç³»ç»Ÿæ˜¯å¦è¾¾åˆ°ç”¨æˆ·æå‡ºçš„æ€§èƒ½æŒ‡æ ‡ å‘ç°ç³»ç»Ÿä¸­å­˜åœ¨çš„æ€§èƒ½ç“¶é¢ˆï¼Œä¼˜åŒ–ç³»ç»Ÿçš„æ€§èƒ½ æ€§èƒ½æµ‹è¯•çš„ç±»å‹æ€§èƒ½åŸºå‡†æµ‹è¯•åœ¨ç³»ç»Ÿæ ‡å‡†é…ç½®ä¸‹è·å¾—æœ‰å…³çš„æ€§èƒ½æŒ‡æ ‡æ•°æ®ï¼Œä½œä¸ºå°†æ¥æ€§èƒ½æ”¹è¿›çš„åŸºçº¿(Baseline) æ€§èƒ½éªŒè¯æµ‹è¯•éªŒè¯ç³»ç»Ÿæ˜¯å¦è¾¾åˆ°äº‹å…ˆå·²å®šä¹‰çš„ç³»ç»Ÿæ€§èƒ½ æŒ‡æ ‡ã€èƒ½å¦æ»¡è¶³ç³»ç»Ÿçš„æ€§èƒ½éœ€æ±‚ æ€§èƒ½è§„åˆ’æµ‹è¯•åœ¨å¤šç§ç‰¹å®šçš„ç¯å¢ƒä¸‹ï¼Œè·å¾—ä¸åŒé…ç½®çš„ç³»ç»Ÿæ€§èƒ½æŒ‡æ ‡ï¼Œä»è€Œå†³å®šç³»ç»Ÿéƒ¨ç½²çš„è½¯ç¡¬ä»¶é…ç½®é€‰å‹ å®¹é‡æµ‹è¯•å¯ä»¥çœ‹ä½œæ€§èƒ½çš„æµ‹è¯•ä¸€ç§ï¼Œå› ä¸ºç³»ç»Ÿçš„å®¹é‡å¯ä»¥çœ‹ä½œæ˜¯ç³»ç»Ÿæ€§èƒ½æŒ‡æ ‡ä¹‹ä¸€ å‹åŠ›/è´Ÿè½½æµ‹è¯•å‹åŠ›æµ‹è¯• (Stress test)ï¼Œä¹Ÿç§°ä¸ºå¼ºåº¦æµ‹è¯•ã€è´Ÿè½½æµ‹è¯•ã€‚å‹åŠ›æµ‹è¯•æ˜¯æ¨¡æ‹Ÿå®é™…åº”ç”¨çš„è½¯ç¡¬ä»¶ç¯å¢ƒ åŠç”¨æˆ·ä½¿ç”¨è¿‡ç¨‹çš„é«˜è´Ÿè½½ã€å¼‚å¸¸è´Ÿè½½ã€è¶…é•¿æ—¶é—´è¿è¡Œï¼Œä»¥æ£€æŸ¥ç¨‹åºå¯¹å¼‚å¸¸æƒ…å†µçš„æŠµæŠ—èƒ½åŠ›ï¼Œæ‰¾å‡º æ€§èƒ½ç“¶é¢ˆã€ä¸ç¨³å®šæˆ–ä¸å¯é ç­‰é—®é¢˜ å¹¶å‘æ€§èƒ½æµ‹è¯• ï¼ˆramp-upï¼‰ ç¨³å®šæ€§å‹åŠ›æµ‹è¯• åœ¨é€‰å®šçš„é«˜è´Ÿè½½ä¸‹ï¼ŒæŒç»­è¿è¡Œ24Hä»¥ä¸Šçš„å‹åŠ›æµ‹è¯•ã€‚è¿™ç±»æµ‹è¯•å¯ä»¥å½’ä¸ºæ€§èƒ½æµ‹è¯•èŒƒå›´å†…ï¼Œå…¶è´¨é‡æ ‡å‡†æ˜¯å„é¡¹æ€§èƒ½æŒ‡æ ‡åœ¨æŒ‡å®šèŒƒå›´å†…ï¼Œè€Œä¸”æ— å†…å­˜æ³„æ¼ï¼Œæ— ç³»ç»Ÿå´©æºƒï¼Œæ— åŠŸèƒ½æ€§æ•…éšœã€‚ ç ´åæ€§å‹åŠ›æµ‹è¯• é€šè¿‡ä¸æ–­åŠ è½½çš„æ‰‹æ–­ï¼Œå¿«é€Ÿé€ æˆç³»ç»Ÿçš„å´©æºƒï¼Œè®©é—®é¢˜å°½å¿«çš„æš´éœ²å‡ºæ¥ï¼Œå…·æœ‰æ˜æ˜¾çš„ç ´å¿«ç‰¹å¾ï¼Œæ˜¯å¯¹ç¨³å®šæ€§å‹åŠ›æµ‹è¯•çš„è¡¥å……ï¼Œæ›´å®¹æ˜“æš´éœ²å¯¼è‡´ç³»ç»Ÿé—®é¢˜çš„çœŸæ­£åŸå› ï¼Œå¯ä»¥å–å®¹é‡æµ‹è¯•ç»“åˆèµ·æ¥è¿›è¡Œï¼Œå¦ä¸€ä¸ªç›®çš„æ˜¯ä½¿å¾—ç³»ç»Ÿå‡ºæ•…éšœï¼Œç„¶åæ£€éªŒç³»ç»Ÿæ˜¯å¦èƒ½å¤Ÿæ¢å¤ï¼Œå¦‚æœèƒ½æ¢å¤ï¼Œå…¶æ¢å¤çš„æ—¶é—´æœ‰å¤šé•¿ï¼Œæ ¹æ®è¿™ä¸ªç»“æœå¯ä»¥åˆ†æå‡ºç³»ç»Ÿçš„å¯æ¢å¤æ€§æ˜¯å¦æ»¡è¶³è®¾è®¡çš„è¦æ±‚ã€‚ ç–²åŠ³å¼ºåº¦æµ‹è¯• æ¸—å…¥æµ‹è¯•ï¼ˆsoak testï¼‰ é€šè¿‡é•¿æ—¶é—´è¿è¡Œï¼Œä½¿é—®é¢˜é€æ¸æ¸—é€å‡ºæ¥ï¼Œä»è€Œå‘ç°å†…å­˜æ³„æ¼ã€åƒåœ¾æ”¶é›†ï¼ˆGCï¼‰æˆ–ç³»ç»Ÿçš„å…¶ä»–é—®é¢˜ï¼Œä»¥æ£€éªŒç³»ç»Ÿçš„å¥å£®æ€§ã€‚ å³°è°·æµ‹è¯•ï¼ˆpeak-rest testï¼‰ é‡‡ç”¨é«˜ä½çªå˜åŠ è½½æ–¹å¼è¿›è¡Œï¼Œå…ˆåŠ è½½åˆ°é«˜æ°´å¹³çš„è´Ÿè½½ï¼Œç„¶åæ€¥å‰§é™ä½è´Ÿè½½ï¼Œç¨å¾®å¹³æ¯ä¸€æ®µæ—¶é—´ï¼Œ å†åŠ è½½åˆ°é«˜æ°´å¹³çš„è´Ÿè½½ï¼Œé‡å¤è¿™æ ·è¿‡ç¨‹ï¼Œå®¹æ˜“å‘ç°é—®é¢˜çš„è››ä¸é©¬è¿¹ï¼Œæœ€ç»ˆæ‰¾åˆ°é—®é¢˜çš„æ ¹æºã€‚ å¤§æ•°æ®é‡æµ‹è¯• ç‹¬ç«‹çš„æ•°æ®é‡æµ‹è¯• é’ˆå¯¹æŸäº›ç³»ç»Ÿå­˜å‚¨ã€ä¼ è¾“ã€ç»Ÿè®¡ã€æŸ¥è¯¢ç­‰ä¸šåŠ¡è¿›è¡Œå¤§æ•°æ®é‡æµ‹è¯• ç»¼åˆæ•°æ®é‡æµ‹è¯• å’Œå‹åŠ›æ€§èƒ½æµ‹è¯•ã€è´Ÿè½½æ€§èƒ½æµ‹è¯•ã€å¹¶å‘æ€§èƒ½æµ‹è¯•ã€ç–²åŠ³æ€§èƒ½æµ‹è¯•ç›¸ç»“åˆçš„ç»¼åˆæµ‹è¯•æ–¹æ¡ˆ è´Ÿè½½ æ¯æ¬¡è¯·æ±‚å‘é€çš„æ•°æ®é‡ (Request Per Second, RPS) å¹¶å‘è¿æ¥æ•° (Simultaneous Connections, SC) æ€è€ƒæ—¶é—´ï¼ˆthinking timeï¼‰ï¼Œç”¨æˆ·å‘å‡ºè¯·æ±‚ä¹‹é—´çš„é—´éš”æ—¶é—´ RPS + SC + Thinking Time = Concurrent users è´Ÿè½½/åŠ è½½æ¨¡å¼ ä¸»è¦æ€§èƒ½æŒ‡æ ‡ ç³»ç»Ÿ/äº‹åŠ¡å¹³å‡å“åº”æ—¶é—´ï¼ˆAverage System/Transaction Response Timeï¼‰ äº‹åŠ¡/äº¤æ˜“å¤„ç†æ•ˆç‡ï¼ˆTransactions per secondï¼ŒTPSï¼‰ Page View (PV): ç”¨æˆ·å‘Serverå‘é€è¯·æ±‚ï¼ŒServerå¤„ç†è¿™æ ·ä¸€æ¬¡çœŸå®çš„è¯·æ±‚ è¿æ¥æ—¶é—´ï¼ˆConnect Timeï¼‰ã€å‘é€æ—¶é—´ï¼ˆSent Timeï¼‰ å¤„ç†æ—¶é—´ï¼ˆProcess Timeï¼‰ã€é¡µé¢ä¸‹è½½æ—¶é—´ ååç‡ï¼ˆThroughputï¼‰æ¯ç§’æœåŠ¡å™¨å¤„ç†çš„HTTPç”³è¯·æ•° æ¯ç§’ç‚¹å‡»æ¬¡æ•°(Hits per Second) æ¯ç§’SSLè¿æ¥æ•° (SSLs Per Second) å†…å­˜å’ŒCPUä½¿ç”¨ç‡ æ€§èƒ½æµ‹è¯•è®¾è®¡å’Œæ‰§è¡Œè¿‡ç¨‹é¦–å…ˆç¡®å®šæ¨¡æ‹Ÿå¹¶å‘çš„ç”¨æˆ·æ•°é‡ï¼ˆå¾€å¾€æ ¹æ®è¯¦ç»†è®¾è®¡Base Lineï¼‰ï¼Œé€‰å®šåŠ è½½æ–¹å¼ï¼ˆä¸€æ¬¡åŠ è½½ï¼Œé€’å¢åŠ è½½ï¼Œé«˜ä½çªå˜ï¼ŒéšæœºåŠ è½½ï¼‰ï¼Œæ¨¡æ‹Ÿç”¨æˆ·æ“ä½œï¼ˆä½¿ç”¨BadBoyå½•åˆ¶è„šæœ¬å¯ä»¥å¯¼å‡ºæˆJMeterçš„æµ‹è¯•è„šæœ¬ï¼‰ï¼Œä½¿ç”¨æ€§èƒ½æµ‹è¯•å·¥å…·ï¼ˆJMeterï¼‰è®¾è®¡è„šæœ¬ï¼Œåœ¨å·¥å…·ä¸­é…ç½®å¹¶å‘çš„çº¿ç¨‹æ•°ï¼ˆæ¨¡æ‹Ÿçš„ç”¨æˆ·æ•°ï¼‰ï¼Œé…ç½®åŠ è½½æ–¹å¼ï¼Œè¿›è¡Œæµ‹è¯•ï¼Œå¾—åˆ°æµ‹è¯•æŠ¥å‘Šï¼ˆååé‡ï¼Œå¼‚å¸¸ç‡ç­‰ç­‰ï¼‰ã€‚ æ€§èƒ½æµ‹è¯•å·¥å…·JMeter (http://jmeter.apache.org) æ€§èƒ½æµ‹è¯•å·¥å…· Apache Flood ï¼ˆhttp://httpd.apache.org/test/flood/ï¼‰Webæ€§èƒ½æµ‹è¯•å·¥å…· Gatling(http://gatling-tool.org )Scalaï¼basedçš„Webæ€§èƒ½æµ‹è¯•å·¥å…· Grinderï¼ˆhttp://grinder.sourceforge.net/ï¼‰åˆ†å¸ƒå¼Webæ€§èƒ½æµ‹è¯•å·¥å…· nGrinderï¼ˆhttp://naver.github.io/ngrinder/ ï¼‰ä¼ä¸šçº§Webæ€§èƒ½æµ‹è¯•å·¥å…· Siegeï¼ˆhttp://www.joedog.org/JoeDog/Siegeï¼‰Webå‹åŠ›æµ‹è¯•å’Œè¯„æµ‹å·¥å…·ã€‚ DBMonster (http://sourceforge.net/projects/dbmonster/ )æ•°æ®åº“å‹åŠ›æµ‹è¯•å·¥å…· ç¬¬ä¸ƒç« ï¼šç³»ç»Ÿå®‰å…¨æ€§æµ‹è¯•å®‰å…¨æ€§æµ‹è¯•çš„æ¦‚å¿µè¿™é‡Œçš„â€œå®‰å…¨æ€§â€æ˜¯æŒ‡ä¿¡æ¯å®‰å…¨ï¼ŒæŒ‡è®¡ç®—æœºç³»ç»Ÿæˆ–ç½‘ç»œä¿æŠ¤ç”¨æˆ·æ•°æ®éšç§˜ï¼Œå®Œæ•´ï¼Œä¿æŠ¤æ•°æ®æ­£å¸¸ä¼ è¾“å’ŒæŠµå¾¡é»‘å®¢ã€ç—…æ¯’çš„èƒ½åŠ›ï¼Œè€Œä¸æ˜¯æŒ‡ç³»ç»Ÿæ•´ä½“çš„å®‰å…¨æ€§ã€‚ å®‰å…¨æµ‹è¯•çš„åŸºæœ¬æ–¹æ³•å®‰å…¨æ¼æ´æµ‹è¯•æ–¹æ³•SASTé™æ€åº”ç”¨å®‰å…¨æµ‹è¯•åªä¸è¿è¡Œè¢«æµ‹è¯•ç¨‹åºï¼Œä»…ä»…é€šè¿‡åˆ†ææ£€æŸ¥åº”ç”¨è½¯ä»¶æºä»£ç æˆ–å­—èŠ‚ç ï¼Œä»¥å‘ç°åº”ç”¨è½¯ä»¶çš„å®‰å…¨æ€§æ¼æ´ã€‚ DASTåŠ¨æ€åº”ç”¨å®‰å…¨æµ‹è¯•é€šè¿‡è¿è¡Œç¨‹åºæ¥æ£€æŸ¥åº”ç”¨è½¯ä»¶çš„å®‰å…¨æ€§é—®é¢˜ï¼Œä¾§é‡ä»ç³»ç»Ÿå¤–éƒ¨æ¥å£æ¥è¿›è¡Œé’ˆå¯¹æ€§çš„æµ‹è¯•ï¼Œæš´éœ²åº”ç”¨ç¨‹åºæ¥å£çš„å®‰å…¨æ€§æ¼æ´ï¼Œæµ‹è¯•å‘ç°çš„é—®é¢˜ï¼Œä¸€èˆ¬èƒ½å¤Ÿç›´è§‚çš„å±•ç¤ºå‡ºæ¥ï¼Œæµ‹è¯•æ‰‹æ®µåŒ…æ‹¬ï¼šæ‰‹å·¥çš„æ¸—é€æµ‹è¯•ï¼ŒDASTçš„å·¥å…·çš„åŠ¨æ€æ‰«ææ£€æŸ¥å’Œä¸¤è€…çš„ç»“åˆã€‚ IASTäº¤äº’å¼åº”ç”¨å®‰å…¨æµ‹è¯•å‰ä¸¤è€…æœ‰ä¸€å®šå±€é™æ€§ï¼Œå¦‚SASTè¯¯æŠ¥ç‡æ¯”è¾ƒé«˜ï¼Œæ— æ³•è¿›è¡Œä¸šåŠ¡é€»è¾‘çš„ç›¸å…³å®‰å…¨æ€§æµ‹è¯•ã€‚IASTæ•´åˆäº†å‰ä¸¤è€…çš„æ–¹æ³•ï¼Œé™ä½äº†è¯¯æŠ¥ç‡ï¼Œå‘é€æ›´å¤šå®‰å…¨æ¼æ´ï¼Œæé«˜æµ‹è¯•æ•ˆç‡ã€‚æ“ä½œéš¾åº¦æ¯”è¾ƒå¤§ã€‚ RASPè¿è¡Œæ—¶åº”ç”¨è‡ªæˆ‘ä¿æŠ¤é‡å†™è½¯ä»¶è®©è½¯ä»¶å¯ä»¥åœ¨è¿è¡Œæ—¶è¢«ç›‘æ§ï¼Œå¯ä»¥æ£€æµ‹åˆ°åº”ç”¨ç¨‹åºåœ¨è¿è¡Œæ—¶å¯èƒ½é‡åˆ°çš„å®‰å…¨é£é™©ï¼ˆå¦‚è¯•å›¾å¾€å†…å­˜ä¸­å†™å…¥å¤§é‡æ•°æ®ã€æœªç»æˆæƒè¯•å›¾è®¿é—®æ•°æ®åº“ï¼‰ï¼Œä»è€Œè‡ªåŠ¨å‘é€è­¦å‘Šä¿¡æ¯ï¼Œæˆ–å®æ—¶ä¸­æ­¢ä¼šè¯ã€‚ æ¨¡ç³Šæµ‹è¯•æ–¹æ³•ä½¿ç”¨å¤§é‡åŠéšæœºçš„æ•°æ®ï¼ˆå¯¹æ•°æ®è¿›è¡Œå˜å¼‚æˆ–ç”±æ¨¡ç³Šæ§åˆ¶å™¨è‡ªåŠ¨äº§ç”Ÿæ•°æ®ï¼‰ï¼Œä½œä¸ºåº”ç”¨ç¨‹åºçš„è¾“å…¥ï¼Œä»¥ç¨‹åºæ˜¯å¦å‡ºç°å¼‚å¸¸è¡Œä¸º/ç»“æœä¸ºæ ‡å¿—ï¼Œæ¥å‘ç°åº”ç”¨ç¨‹åºä¸­å¯èƒ½å­˜åœ¨çš„å®‰å…¨æ¼æ´ã€‚ å®‰å…¨æ€§åŠŸèƒ½æµ‹è¯•æ–¹æ³•å‚è€ƒç¬¬äº”ç«  é™æ€ä»£ç åˆ†ææ–¹æ³•åŠ¨æ€æ¸—é€æµ‹è¯•æ–¹æ³•å®‰å…¨è½¯ä»¶å¼€å‘ç”Ÿå‘½å‘¨æœŸï¼ˆ7ä¸ªæ¥è§¦ç‚¹ï¼‰ æ»¥ç”¨æ¡ˆä¾‹ å®‰å…¨éœ€æ±‚ ä½“ç³»ç»“æ„é£é™©åˆ†æ åŸºäºé£é™©çš„å®‰å…¨æ€§æµ‹è¯• ä»£ç è¯„å®¡ æ¸—é€æµ‹è¯•ï¼ˆOWASP ZAPï¼‰ å®‰å…¨è¿ç»´ äº”ä¸ªå®‰å…¨çº§åˆ«ä¸­å„çº§åˆ«è¦åšå“ªäº›å®‰å…¨æµ‹è¯• ç¬¬å…«ç« ï¼šç§»åŠ¨APPçš„æµ‹è¯•ç§»åŠ¨åº”ç”¨çš„ç‰¹ç‚¹ Android/iOS native &amp; Web View æ··åˆ æ›´æ–°å¾ˆå¿« å¯¹ç”¨æˆ·ä½“éªŒè¦æ±‚é«˜ ç½‘ç»œè¿æ¥ä¸ç¨³å®š é™ä½æµé‡ é™ä½åŠŸè€— ç§»åŠ¨åº”ç”¨ä¸»è¦åšå“ªäº›æµ‹è¯• å…¼å®¹æ€§æµ‹ äº¤äº’æ€§æµ‹è¯• ç”¨æˆ·ä½“éªŒæµ‹è¯• è€—ç”µé‡æµ‹è¯• ç½‘ç»œæµé‡æµ‹è¯• ç½‘ç»œè¿æ¥æµ‹è¯• æ€§èƒ½æµ‹è¯• ç¨³å®šæ€§æµ‹è¯• ç§»åŠ¨åº”ç”¨çš„ä¸“é¡¹æµ‹è¯• è€—ç”µé‡æµ‹è¯• æµé‡æµ‹è¯• ç§»åŠ¨åº”ç”¨ç«¯çš„æ€§èƒ½æµ‹è¯• webå‰ç«¯çš„æ€§èƒ½æµ‹è¯• ç§»åŠ¨Appç«¯nativeæ€§èƒ½æµ‹è¯• åå°æœåŠ¡å™¨æ€§èƒ½æµ‹è¯• ç§»åŠ¨åº”ç”¨ç«¯æµ‹è¯•å·¥å…·è‡ªåŠ¨åŒ–æµ‹è¯•å·¥å…·Android Calabash Robotium Appium UI AutoMator IOS UI Automation Frank ä¸“é¡¹æµ‹è¯•å·¥å…·Android GSam Battary Monitor Pro ç”µé‡æµ‹è¯• IOS Xcode Instrumentsçš„ä¸¤ä¸ªå·¥å…· æ€§èƒ½æµ‹è¯•å·¥å…·ç•¥ ç¬¬ä¹ç« ï¼šåŸºäºæ¨¡å‹çš„è½¯ä»¶æµ‹è¯•åŸºäºæ¨¡å‹çš„æµ‹è¯•æ–¹æ³•ï¼ˆMBTï¼‰çš„æ¦‚å¿µé€šè¿‡æ„å»ºèƒ½å¤Ÿæ­£ç¡®æè¿°è¢«æµ‹è½¯ä»¶ç³»ç»ŸåŠŸèƒ½ç‰¹æ€§çš„æ¨¡å‹ï¼Œç„¶ååŸºäºè¿™ä¸ªæ¨¡å‹ï¼Œäº§ç”Ÿæµ‹è¯•ç”¨ä¾‹ï¼Œå¹¶æ‰§è¡Œè¿™äº›æµ‹è¯•ç”¨ä¾‹çš„è¿‡ç¨‹ã€‚ åŸºæœ¬åŸç† ä¸ºè¢«æµ‹è¯•ç³»ç»Ÿï¼ˆSUTï¼‰å»ºæ¨¡ åŸºäºæ¨¡å‹äº§ç”Ÿæµ‹è¯•ç”¨ä¾‹ å°†æŠ½è±¡çš„æµ‹è¯•å…·ä½“åŒ–ä½¿å¾—æµ‹è¯•ç”¨ä¾‹å…·æœ‰å¯æ‰§è¡Œæ€§ æ‰§è¡Œæµ‹è¯• åˆ†ææµ‹è¯•ç»“æœ æœ‰é™çŠ¶æ€æœºæœ‰é™çŠ¶æ€æœºï¼ˆ Finite State Machine ï¼ŒFSMï¼‰æ˜¯å¯¹è±¡è¡Œä¸ºå»º æ¨¡çš„å·¥å…·ï¼Œä»¥æè¿°å¯¹è±¡åœ¨å…¶ç”Ÿå‘½å‘¨æœŸå†…æ‰€ç»å†çš„çŠ¶æ€åºåˆ—ï¼Œ ä»¥åŠå¦‚ä½•å“åº”æ¥è‡ªå¤–ç•Œçš„å„ç§äº‹ä»¶ å› æœå›¾ä¸èƒ½æ ¹æ®è¾“å…¥æ¡ä»¶çš„ç»„åˆï¼Œç›´æ¥ç¡®å®šæ‰€äº§ç”Ÿçš„ç»“æœï¼Œéœ€è¦è¿›è¡Œå› æœåˆ†æå› æœåˆ†ææ˜¯é€šè¿‡å› æœå›¾æ¥å®Œæˆå› æœå›¾å°±æ˜¯é€»è¾‘åˆ†æçš„å›¾å½¢åŒ–æ–¹æ³•ã€‚ å› æœå›¾çš„åŸºæœ¬å…³ç³»ï¼š ç¬¬åç« ï¼šæµ‹è¯•ä¸ç¼ºé™·ç®¡ç†æµ‹è¯•è®¡åˆ’åŒ…æ‹¬å“ªäº›å†…å®¹ æ˜ç¡®æµ‹è¯•ç›®æ ‡ åˆ†æä¸ç¡®å®šæµ‹è¯•èŒƒå›´ è¯†åˆ«æµ‹è¯•é¡¹åŠå…¶ä¼˜å…ˆçº§ è¯†åˆ«æµ‹è¯•é£é™©ï¼Œé‡‡å–ç›¸åº”å¯¹ç­– æµ‹è¯•å·¥ä½œé‡ä¼°ç®— æµ‹è¯•èµ„æºã€è¿›åº¦ç­‰å®‰æ’ æµ‹è¯•é˜¶æ®µå‡ºå…¥å‡†åˆ™ å‰ä¸‰è€…æ˜¯æµ‹è¯•éœ€æ±‚åˆ†æ æµ‹è¯•å¥—ä»¶/ç”¨ä¾‹çš„æ¦‚å¿µç¼ºé™·çš„ç”Ÿå‘½å‘¨æœŸè½¯ä»¶ç¼ºé™·çš„ç”Ÿå‘½å‘¨æœŸ ä¸€ä¸ªè½¯ä»¶ç¼ºé™·è¢« å‘ç°ã€æŠ¥å‘Šåˆ°è¿™ä¸ªç¼ºé™·è¢«ä¿®å¤ã€éªŒè¯ ç›´è‡³æœ€åå…³é—­çš„å®Œæ•´è¿‡ç¨‹ ç¼ºé™·ç”Ÿå‘½å‘¨æœŸæ˜¯å„ç±»å¼€å‘äººå‘˜ä¸€èµ·å‚ ä¸ã€ååŒæµ‹è¯•çš„è¿‡ç¨‹ è½¯ä»¶ç¼ºé™·ä¸€æ—¦å‘ç°ï¼Œåº”è¿›å…¥ä¸¥å¯†ç›‘æ§ ä¹‹ä¸­ï¼Œç›´è‡³å…¶å…³é—­ï¼ŒåŠæ—¶ä¿®æ­£ç¼ºé™·ï¼Œ ç¼©çŸ­è½¯ä»¶æµ‹è¯•çš„è¿›ç¨‹ï¼Œæé«˜è½¯ä»¶è´¨é‡ã€ å‡å°‘æˆæœ¬ åŸºæœ¬çš„ç¼ºé™·ç”Ÿå‘½å‘¨æœŸ ç¼ºé™·çš„åŸºæœ¬å±æ€§ ä¸¥é‡æ€§ï¼ˆseverityï¼‰è¡¡é‡ç¼ºé™·å¯¹å®¢æˆ·æ»¡æ„åº¦çš„å½±å“ç¨‹åº¦ ç¤ºä¾‹ï¼šè‡´å‘½çš„/fatalã€ä¸¥é‡çš„/criticalã€ä¸€èˆ¬çš„/majorã€å¾®å°çš„/minor ä¼˜å…ˆçº§ (Priority)ï¼šæŒ‡ç¼ºé™·è¢«ä¿®å¤çš„ç´§æ€¥ç¨‹åº¦ å…¶ä»–å±æ€§ï¼š ç¼ºé™·æ ‡è¯†ï¼ˆIDï¼‰ ç¼ºé™·ç±»å‹ï¼ˆtypeï¼‰ï¼Œå¦‚åŠŸèƒ½ã€UIã€æ€§èƒ½ã€æ–‡æ¡£ ç¼ºé™·äº§ç”Ÿå¯èƒ½æ€§ï¼ˆfrequencyï¼‰/å¯å†ç°çš„æ¦‚ç‡ ç¼ºé™·æ¥æºï¼ˆsourceï¼‰ï¼šéœ€æ±‚ã€è®¾è®¡ã€ç¼–ç  ç¼ºé™·åŸå› ï¼ˆcauseï¼‰ï¼šæ•°æ®æ ¼å¼ã€è®¡ç®—é”™è¯¯ã€æ¥å£å‚æ•°ã€ å˜é‡å®šä¹‰ä¸å¼•ç”¨ç­‰ é™„åŠ ä¿¡æ¯ï¼šTrace Logï¼å›¾ç‰‡ï¼å½•åˆ¶è¿™ä¸ªæ“ä½œè¿‡ç¨‹ ç¼ºé™·çš„ä¸¤ç±»ï¼ˆä¸åŒç»´åº¦ï¼‰åŸºæœ¬åˆ†æ æµ‹è¯•å¯¹è±¡å‰–é¢çš„é£é™© æµ‹è¯•å¯¹è±¡æ¯”è¾ƒå¤æ‚ï¼Œåœ¨æµ‹è¯•çš„å¹¿åº¦å’Œæ·±åº¦ã€‚ æµ‹è¯•æ“ä½œå‰–é¢çš„é£é™© æµ‹è¯•æ“ä½œè¿‡ç¨‹ä¸­å­˜åœ¨çš„å„ç§é£é™©ï¼Œå¦‚æµ‹è¯•ç¯å¢ƒå’ŒçœŸå®ç¯å¢ƒå·®å¼‚è¾ƒå¤§ï¼Œæµ‹è¯•æµç¨‹ä¸å¤Ÿå®Œå–„å¯¼è‡´æµ‹è¯•æ‰§è¡Œéš¾ä»¥æ§åˆ¶ã€å›å½’æµ‹è¯•ä¸­ä»¥ç©ºé—´æ¢æ—¶é—´çš„ç­–ç•¥ç­‰ã€‚ é£é™©è¯†åˆ«çš„æœ‰æ•ˆæ–¹æ³•æ˜¯é€šè¿‡å¤´è„‘é£æš´ã€ç¼ºé™·åˆ†æç­‰æ–¹æ³•æŠŠå­˜åœ¨çš„é£é™©éƒ½åˆ—å‡ºæ¥ï¼Œå»ºç«‹é£é™©é¡¹ç›®æ£€æŸ¥è¡¨ã€‚åœ¨æµ‹è¯•è¿‡ç¨‹ä¸­æŒ‰ç…§é£é™©å†…å®¹è¿›è¡Œé€é¡¹æ£€æŸ¥ã€é€ä¸ªç¡®è®¤ï¼Œç¡®å®šå½“å‰é¡¹ç›®å­˜åœ¨çš„æ½œåœ¨é£é™©ã€‚ æ§åˆ¶é£é™©çš„å¯¹ç­– æ¶ˆé™¤æ‰§è¡Œé£é™© é™ä½è¿›åº¦é£é™© å‡å°‘äººå‘˜é£é™©","categories":[{"name":"è½¯ä»¶æµ‹è¯•","slug":"è½¯ä»¶æµ‹è¯•","permalink":"http://www.octber.xyz/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/"}],"tags":[{"name":"è½¯ä»¶æµ‹è¯•","slug":"è½¯ä»¶æµ‹è¯•","permalink":"http://www.octber.xyz/tags/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/"}]},{"title":"FamilyManage-Springbootæ³¨è§£-RequestMappingè¯¦è§£","slug":"FamilyManage-Springbootæ³¨è§£-RequestMappingè¯¦è§£","date":"2019-06-10T07:41:16.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/06/10/FamilyManage-Springbootæ³¨è§£-RequestMappingè¯¦è§£/","link":"","permalink":"http://www.octber.xyz/2019/06/10/FamilyManage-Springboot%E6%B3%A8%E8%A7%A3-RequestMapping%E8%AF%A6%E8%A7%A3/","excerpt":"å‰è¨€ä¸Šä¸€æ¬¡è¯¦è§£äº†@RestControlleræ³¨è§£,å…¶ä¸­åŒ…æ‹¬é‡è¦çš„@Controllerç­‰æ³¨è§£,è¿™æ¬¡æ¥ç ”ç©¶ä¸€ä¸‹å¸¸ç”¨çš„@RequestMappingæ³¨è§£","text":"å‰è¨€ä¸Šä¸€æ¬¡è¯¦è§£äº†@RestControlleræ³¨è§£,å…¶ä¸­åŒ…æ‹¬é‡è¦çš„@Controllerç­‰æ³¨è§£,è¿™æ¬¡æ¥ç ”ç©¶ä¸€ä¸‹å¸¸ç”¨çš„@RequestMappingæ³¨è§£ @RequestMapping This annotation can be used both at the class and at the method level. In most cases, at the method level applications will prefer to use one of the HTTP method specific variants è¿™ä¸ªæ³¨é‡Šå¯ä»¥åœ¨ç±»çº§å’Œæ–¹æ³•çº§ä½¿ç”¨ã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œåœ¨æ–¹æ³•çº§åˆ«ä¸Šï¼Œåº”ç”¨ç¨‹åºæ›´æ„¿æ„ä½¿ç”¨HTTPæ–¹æ³•ç‰¹å®šçš„å˜ä½“ä¹‹ä¸€,è¿™è¡¨æ˜äº†æˆ‘ä»¬ä½¿ç”¨çš„åœºæ™¯ ç±»å¤´ æ–¹æ³•å¤´ å®ƒä¸€å…±æœ‰5ç§è¯·æ±‚çš„æ–¹å¼: 12345* @see GetMapping* @see PostMapping* @see PutMapping* @see DeleteMapping* @see PatchMapping æºç åˆ†æ1234@Target(&#123;ElementType.METHOD, ElementType.TYPE&#125;)@Retention(RetentionPolicy.RUNTIME)@Documented@Mapping å®ƒåŒ…å«ä»¥ä¸Šæ³¨é‡Š ä»–æ˜¯æ–¹æ³•çº§åˆ«,æˆ–è€…ç±»/æ¥å£çº§åˆ« ä»–æ˜¯åœ¨è¿è¡Œæ—¶ç”±VMä¿ç•™çš„ ä»–ä¼šè¢«è®°å½•åˆ°javadocç§,ä½œä¸ºå…¬å…±apiæ¥å£ ä»–æ˜¯ä¸€ä¸ªMapping nameç°åœ¨æˆ‘ä»¬ç»§ç»­çœ‹RequestMappingçš„æºä»£ç  123456789/** * Assign a name to this mapping. * &lt;p&gt;&lt;b&gt;Supported at the type level as well as at the method level!&lt;/b&gt; * When used on both levels, a combined name is derived by concatenation * with &quot;#&quot; as separator. * @see org.springframework.web.servlet.mvc.method.annotation.MvcUriComponentsBuilder * @see org.springframework.web.servlet.handler.HandlerMethodMappingNamingStrategy */String name() default &quot;&quot;; ç®€å•æ¥è¯´å°±æ˜¯ç»™ä½ çš„RequestMappingèµ·ä¸ªåå­—,åœ¨ç±»å‹çº§åˆ«å’Œæ–¹æ³•çº§åˆ«éƒ½æ”¯æŒ!å½“åœ¨è¿™ä¸¤ä¸ªçº§åˆ«ä¸Šä½¿ç”¨æ—¶ï¼Œç»„åˆåç§°ç”±â€œ#â€ä½œä¸ºåˆ†éš”ç¬¦è¿æ¥æ´¾ç”Ÿã€‚ value1234567891011/** * The primary mapping expressed by this annotation. * &lt;p&gt;This is an alias for &#123;@link #path&#125;. For example * &#123;@code @RequestMapping(&quot;/foo&quot;)&#125; is equivalent to * &#123;@code @RequestMapping(path=&quot;/foo&quot;)&#125;. * &lt;p&gt;&lt;b&gt;Supported at the type level as well as at the method level!&lt;/b&gt; * When used at the type level, all method-level mappings inherit * this primary mapping, narrowing it for a specific handler method. */@AliasFor(&quot;path&quot;)String[] value() default &#123;&#125;; é€šè¿‡æ³¨è§£çŸ¥é“å®ƒå’Œpathæ˜¯åŒä¸€ä¸ªæ„æ€,,å¯ä»¥æ˜¯ä¸€ä¸ªæ•°ç»„,é»˜è®¤æ˜¯{} This is an alias for path(). For example @RequestMapping(&quot;/foo&quot;) is equivalent to @RequestMapping(path=&quot;/foo&quot;). path1234567891011121314/** * The path mapping URIs (e.g. &quot;/myPath.do&quot;). * Ant-style path patterns are also supported (e.g. &quot;/myPath/*.do&quot;). * At the method level, relative paths (e.g. &quot;edit.do&quot;) are supported * within the primary mapping expressed at the type level. * Path mapping URIs may contain placeholders (e.g. &quot;/$&#123;connect&#125;&quot;). * &lt;p&gt;&lt;b&gt;Supported at the type level as well as at the method level!&lt;/b&gt; * When used at the type level, all method-level mappings inherit * this primary mapping, narrowing it for a specific handler method. * @see org.springframework.web.bind.annotation.ValueConstants#DEFAULT_NONE * @since 4.2 */@AliasFor(&quot;value&quot;)String[] path() default &#123;&#125;; è¿™é‡Œæ¯”è¾ƒé‡è¦,pathçš„ä¹¦å†™æ–¹å¼å¾ˆä¸°å¯Œ,åº”å½“æ³¨æ„ç§¯ç´¯ method123456789/** * The HTTP request methods to map to, narrowing the primary mapping: * GET, POST, HEAD, OPTIONS, PUT, PATCH, DELETE, TRACE. * &lt;p&gt;&lt;b&gt;Supported at the type level as well as at the method level!&lt;/b&gt; * When used at the type level, all method-level mappings inherit * this HTTP method restriction (i.e. the type-level restriction * gets checked before the handler method is even resolved). */RequestMethod[] method() default &#123;&#125;; æ–¹æ³•ä¸€å…±æœ‰ä¸€ä¸‹é›†ä¸­å¯ä»¥æŒ‡å®š: 12345public enum RequestMethod &#123; GET, HEAD, POST, PUT, PATCH, DELETE, OPTIONS, TRACE&#125; è¿™äº›éƒ½åº”è¯¥è¯¦ç»†äº†è§£ä¸€ä¸‹,åœ¨å®æˆ˜ä¸­å…·ä½“åº”ç”¨ params12345678910111213141516171819/** * The parameters of the mapped request, narrowing the primary mapping. * &lt;p&gt;Same format for any environment: a sequence of &quot;myParam=myValue&quot; style * expressions, with a request only mapped if each such parameter is found * to have the given value. Expressions can be negated by using the &quot;!=&quot; operator, * as in &quot;myParam!=myValue&quot;. &quot;myParam&quot; style expressions are also supported, * with such parameters having to be present in the request (allowed to have * any value). Finally, &quot;!myParam&quot; style expressions indicate that the * specified parameter is &lt;i&gt;not&lt;/i&gt; supposed to be present in the request. * &lt;p&gt;&lt;b&gt;Supported at the type level as well as at the method level!&lt;/b&gt; * When used at the type level, all method-level mappings inherit * this parameter restriction (i.e. the type-level restriction * gets checked before the handler method is even resolved). * &lt;p&gt;Parameter mappings are considered as restrictions that are enforced at * the type level. The primary path mapping (i.e. the specified URI value) * still has to uniquely identify the target handler, with parameter mappings * simply expressing preconditions for invoking the handler. */String[] params() default &#123;&#125;; æ˜ å°„è¯·æ±‚çš„å‚æ•°ï¼Œç¼©å°ä¸»æ˜ å°„ã€‚ é€‚ç”¨äºä»»ä½•ç¯å¢ƒçš„ç›¸åŒæ ¼å¼:â€œmyParam=myValueâ€æ ·å¼è¡¨è¾¾å¼åºåˆ—ï¼Œåªæœ‰åœ¨å‘ç°æ¯ä¸ªå‚æ•°éƒ½å…·æœ‰ç»™å®šå€¼æ—¶æ‰æ˜ å°„è¯·æ±‚ã€‚è¡¨è¾¾å¼å¯ä»¥é€šè¿‡ä½¿ç”¨â€œ!â€=â€è¿ç®—ç¬¦ï¼Œå¦‚â€myParam!=myValueâ€ã€‚è¿˜æ”¯æŒâ€œmyParamâ€æ ·å¼è¡¨è¾¾å¼ï¼Œè¿™äº›å‚æ•°å¿…é¡»å‡ºç°åœ¨è¯·æ±‚ä¸­(å…è®¸æœ‰ä»»ä½•å€¼)ã€‚æœ€å,â€!â€œmyParamâ€æ ·å¼è¡¨è¾¾å¼è¡¨ç¤ºæŒ‡å®šçš„å‚æ•°ä¸åº”è¯¥å‡ºç°åœ¨è¯·æ±‚ä¸­ã€‚ åœ¨ç±»å‹çº§åˆ«å’Œæ–¹æ³•çº§åˆ«éƒ½æ”¯æŒ!å½“åœ¨ç±»å‹çº§ä½¿ç”¨æ—¶ï¼Œæ‰€æœ‰æ–¹æ³•çº§æ˜ å°„éƒ½ç»§æ‰¿è¿™ä¸ªå‚æ•°é™åˆ¶(å³åœ¨è§£æå¤„ç†ç¨‹åºæ–¹æ³•ä¹‹å‰æ£€æŸ¥ç±»å‹çº§é™åˆ¶)ã€‚ å‚æ•°æ˜ å°„è¢«è®¤ä¸ºæ˜¯åœ¨ç±»å‹çº§åˆ«å¼ºåˆ¶æ‰§è¡Œçš„é™åˆ¶ã€‚ä¸»è·¯å¾„æ˜ å°„(å³æŒ‡å®šçš„URIå€¼)ä»ç„¶å¿…é¡»æƒŸä¸€åœ°æ ‡è¯†ç›®æ ‡å¤„ç†ç¨‹åºï¼Œå‚æ•°æ˜ å°„åªæ˜¯è¡¨ç¤ºè°ƒç”¨å¤„ç†ç¨‹åºçš„å…ˆå†³æ¡ä»¶ã€‚ header12345678910111213141516171819202122/** * The headers of the mapped request, narrowing the primary mapping. * &lt;p&gt;Same format for any environment: a sequence of &quot;My-Header=myValue&quot; style * expressions, with a request only mapped if each such header is found * to have the given value. Expressions can be negated by using the &quot;!=&quot; operator, * as in &quot;My-Header!=myValue&quot;. &quot;My-Header&quot; style expressions are also supported, * with such headers having to be present in the request (allowed to have * any value). Finally, &quot;!My-Header&quot; style expressions indicate that the * specified header is &lt;i&gt;not&lt;/i&gt; supposed to be present in the request. * &lt;p&gt;Also supports media type wildcards (*), for headers such as Accept * and Content-Type. For instance, * &lt;pre class=&quot;code&quot;&gt; * &amp;#064;RequestMapping(value = &quot;/something&quot;, headers = &quot;content-type=text/*&quot;) * &lt;/pre&gt; * will match requests with a Content-Type of &quot;text/html&quot;, &quot;text/plain&quot;, etc. * &lt;p&gt;&lt;b&gt;Supported at the type level as well as at the method level!&lt;/b&gt; * When used at the type level, all method-level mappings inherit * this header restriction (i.e. the type-level restriction * gets checked before the handler method is even resolved). * @see org.springframework.http.MediaType */String[] headers() default &#123;&#125;; æ”¯æŒåª’ä½“ç±»å‹é€šé…ç¬¦(*)ï¼Œç”¨äºAcceptå’ŒContent-Typeç­‰å¤´éƒ¨,æ¯”å¦‚: 1@RequestMapping(value = &quot;/something&quot;, headers = &quot;content-type=text/*&quot;) consumes123456789101112131415161718/** * The consumable media types of the mapped request, narrowing the primary mapping. * &lt;p&gt;The format is a single media type or a sequence of media types, * with a request only mapped if the &#123;@code Content-Type&#125; matches one of these media types. * Examples: * &lt;pre class=&quot;code&quot;&gt; * consumes = &quot;text/plain&quot; * consumes = &#123;&quot;text/plain&quot;, &quot;application/*&quot;&#125; * &lt;/pre&gt; * Expressions can be negated by using the &quot;!&quot; operator, as in &quot;!text/plain&quot;, which matches * all requests with a &#123;@code Content-Type&#125; other than &quot;text/plain&quot;. * &lt;p&gt;&lt;b&gt;Supported at the type level as well as at the method level!&lt;/b&gt; * When used at the type level, all method-level mappings override * this consumes restriction. * @see org.springframework.http.MediaType * @see javax.servlet.http.HttpServletRequest#getContentType() */String[] consumes() default &#123;&#125;; åœ¨æ³¨è§†ä¸­ä¹Ÿç»™å‡ºäº†ç”¨æ³• 12consumes = &quot;text/plain&quot;consumes = &#123;&quot;text/plain&quot;, &quot;application/*&quot;&#125; produces1234567891011121314151617181920/** * The producible media types of the mapped request, narrowing the primary mapping. * &lt;p&gt;The format is a single media type or a sequence of media types, * with a request only mapped if the &#123;@code Accept&#125; matches one of these media types. * Examples: * &lt;pre class=&quot;code&quot;&gt; * produces = &quot;text/plain&quot; * produces = &#123;&quot;text/plain&quot;, &quot;application/*&quot;&#125; * produces = MediaType.APPLICATION_JSON_UTF8_VALUE * &lt;/pre&gt; * &lt;p&gt;It affects the actual content type written, for example to produce a JSON response * with UTF-8 encoding, &#123;@link org.springframework.http.MediaType#APPLICATION_JSON_UTF8_VALUE&#125; should be used. * &lt;p&gt;Expressions can be negated by using the &quot;!&quot; operator, as in &quot;!text/plain&quot;, which matches * all requests with a &#123;@code Accept&#125; other than &quot;text/plain&quot;. * &lt;p&gt;&lt;b&gt;Supported at the type level as well as at the method level!&lt;/b&gt; * When used at the type level, all method-level mappings override * this produces restriction. * @see org.springframework.http.MediaType */String[] produces() default &#123;&#125;; It affects the actual content type written, for example to produce a JSON response with UTF-8 encoding, å®ƒä¼šå½±å“å®é™…ç¼–å†™çš„å†…å®¹ç±»å‹ï¼Œä¾‹å¦‚ç”Ÿæˆä¸€ä¸ªå¸¦æœ‰UTF-8ç¼–ç çš„JSONå“åº” ç»¼åˆä»¥ä¸Šçš„ç®€ä»‹æˆ‘ä»¬å¸¸ç”¨çš„å…¶å®ä¹Ÿå°±æ˜¯å‰é¢å‡ ä¸ª,åé¢çš„ä¸æ˜¯å¾ˆå¸¸ç”¨ æœ€åæˆ‘ä»¬å…ˆæ¥äº†è§£ä¸€ä¸‹@Mappingè¿™ä¸ªæ³¨è§£ @Mappingæºç åˆ†æ12345@Target(&#123;ElementType.ANNOTATION_TYPE&#125;)@Retention(RetentionPolicy.RUNTIME)public @interface Mapping &#123;&#125; ä»–æ˜¯RUNTIMEçš„æ³¨é‡Šç±»å‹,å¾ˆå¥½ç†è§£,ä»–çš„è§£é‡Šæ˜¯: 1Meta annotation that indicates a web mapping annotation. è¡¨ç¤ºwebæ˜ å°„æ³¨é‡Šçš„å…ƒæ³¨é‡Šã€‚","categories":[{"name":"FamilyManage","slug":"FamilyManage","permalink":"http://www.octber.xyz/categories/FamilyManage/"}],"tags":[{"name":"FamilyManage","slug":"FamilyManage","permalink":"http://www.octber.xyz/tags/FamilyManage/"}]},{"title":"FamilyManageå¼€å‘-æ·±å…¥Springbootæ³¨é‡Š","slug":"FamilyManageå¼€å‘-æ·±å…¥Springbootæ³¨é‡Š","date":"2019-06-09T07:47:51.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/06/09/FamilyManageå¼€å‘-æ·±å…¥Springbootæ³¨é‡Š/","link":"","permalink":"http://www.octber.xyz/2019/06/09/FamilyManage%E5%BC%80%E5%8F%91-%E6%B7%B1%E5%85%A5Springboot%E6%B3%A8%E9%87%8A/","excerpt":"å‰è¨€Springbootæœ€å…³é”®çš„å°±æ˜¯ä¼˜ç§€çš„æ³¨è§£,å¹³æ—¶ä½¿ç”¨éƒ½æ²¡æœ‰æ³¨æ„åº•å±‚çš„åŸç†,è™½ç„¶æˆ‘ä¹Ÿçœ‹ä¸äº†å¤šä¹ˆçš„æ·±,å°½é‡å§","text":"å‰è¨€Springbootæœ€å…³é”®çš„å°±æ˜¯ä¼˜ç§€çš„æ³¨è§£,å¹³æ—¶ä½¿ç”¨éƒ½æ²¡æœ‰æ³¨æ„åº•å±‚çš„åŸç†,è™½ç„¶æˆ‘ä¹Ÿçœ‹ä¸äº†å¤šä¹ˆçš„æ·±,å°½é‡å§ æ³¨é‡Šå¤§å…¨æœ‰ä¸€ä¸ªåšå®¢è®°å½•çš„æ¯”è¾ƒè¯¦ç»†:https://blog.csdn.net/weixin_40753536/article/details/81285046 å½“ç„¶è¿™ä¸ªæ²¡æœ‰åº•å±‚åŸç†,æˆ‘å¸Œæœ›äº†è§£çš„æ˜¯åº•å±‚çš„åŸç† @RestController 12345@Target(ElementType.TYPE)@Retention(RetentionPolicy.RUNTIME)@Documented@Controller@ResponseBody RestControlleræ˜¯ç”±@Controllerå’Œ@ResponseBodyç»„æˆ,ä¹Ÿå°±æ˜¯å®ƒæ—¢æ˜¯ä¸€ä¸ªController,ä¹Ÿæ˜¯ç›´æ¥è¿”å›ç»“æœçš„,ä¸åšè·¯ç”±è·³è½¬ æˆ‘ä»¬ä¸€ä¸ªä¸€ä¸ªäº†è§£: @Target 123456789101112@Documented@Retention(RetentionPolicy.RUNTIME)@Target(ElementType.ANNOTATION_TYPE)public @interface Target &#123; /** * Returns an array of the kinds of elements an annotation type * can be applied to. * @return an array of the kinds of elements an annotation type * can be applied to */ ElementType[] value();&#125; java.lang.annotation.Target ç”¨äºè®¾å®šæ³¨è§£èŒƒå›´ java.lang.annotation.ElementType Targeté€šè¿‡ElementTypeæ¥æŒ‡å®šæ³¨è§£é€‚ç”¨èŒƒå›´çš„æšä¸¾é›†åˆ Targetæœ‰ä¸€ä¸ªElementType[]çš„æ•°ç»„,è€ŒRestControllerä¸­çš„@Targetä¼ å…¥äº†ElementTypeä¸­çš„TYPEç±»å‹,ElementTypeæ˜¯ä»€ä¹ˆ?æœ‰å“ªäº›ç±»å‹? 123456789101112131415161718192021222324252627282930313233343536373839public enum ElementType &#123; /** Class, interface (including annotation type), or enum declaration */ TYPE, /** Field declaration (includes enum constants) */ FIELD, /** Method declaration */ METHOD, /** Formal parameter declaration */ PARAMETER, /** Constructor declaration */ CONSTRUCTOR, /** Local variable declaration */ LOCAL_VARIABLE, /** Annotation type declaration */ ANNOTATION_TYPE, /** Package declaration */ PACKAGE, /** * Type parameter declaration * * @since 1.8 */ TYPE_PARAMETER, /** * Use of a type * * @since 1.8 */ TYPE_USE&#125; ElementTypeæ˜¯ä¸€ä¸ªæšä¸¾ç±»å‹,æ­¤æšä¸¾ç±»å‹çš„å¸¸é‡æä¾›äº†Javaç¨‹åºä¸­å£°æ˜çš„å…ƒç´ çš„ç®€å•åˆ†ç±»ã€‚ è¿™äº›å¸¸é‡ä¸Targetå…ƒæ³¨é‡Šç±»å‹ï¼Œç”¨äºæŒ‡å®šä½¿ç”¨æ³¨é‡Šç±»å‹çš„åˆæ³•ä½ç½®ã€‚ **ANNOTATION_TYPE**æ³¨é‡Šç±»å‹å£°æ˜ **CONSTRUCTOR**æ„é€ å‡½æ•°å£°æ˜ **FIELD**å­—æ®µå£°æ˜(åŒ…æ‹¬æšä¸¾å¸¸é‡) **LOCAL_VARIABLE**å±€éƒ¨å˜é‡å£°æ˜ **METHOD**æ–¹æ³•å£°æ˜ **PACKAGE**åŒ…ç”³æŠ¥ **PARAMETER**å‚æ•°å£°æ˜ **TYPE**ç±»ã€æ¥å£(åŒ…æ‹¬æ³¨é‡Šç±»å‹)æˆ–æšä¸¾å£°æ˜ åœ¨@RestControllerä¸­ä½¿ç”¨@Target(ElementType.TYPE),è¡¨æ˜@RestControlleræ˜¯ä¸€ä¸ªç±»/æ¥å£(åŒ…æ‹¬æ³¨é‡Šç±»å‹)æˆ–æšä¸¾å£°æ˜,è§„å®šäº†è¿™ä¸ªç±»çš„ç”¨é€” @Retention 12345678910@Documented@Retention(RetentionPolicy.RUNTIME)@Target(ElementType.ANNOTATION_TYPE)public @interface Retention &#123; /** * Returns the retention policy. * @return the retention policy */ RetentionPolicy value();&#125; æŒ‡ç¤ºè¦ä¿ç•™å¸¦æ³¨é‡Šç±»å‹çš„æ³¨é‡Šçš„æ—¶é—´ã€‚å¦‚æœæ³¨é‡Šç±»å‹å£°æ˜ä¸­æ²¡æœ‰ä¿ç•™æ³¨é‡Šï¼Œåˆ™ä¿ç•™ç­–ç•¥é»˜è®¤ä¸ºRetentionPolicy.CLASS åªæœ‰å½“å…ƒæ³¨é‡Šç±»å‹ç›´æ¥ç”¨äºæ³¨é‡Šæ—¶ï¼Œä¿ç•™å…ƒæ³¨é‡Šæ‰æœ‰æ•ˆã€‚å¦‚æœå…ƒæ³¨é‡Šç±»å‹åœ¨å¦ä¸€ä¸ªæ³¨é‡Šç±»å‹ä¸­ç”¨ä½œæˆå‘˜ç±»å‹ï¼Œåˆ™æ²¡æœ‰ä»»ä½•æ•ˆæœã€‚ é¦–å…ˆå®ƒæ˜¯ä¸€ä¸ª@Target(ElementType.ANNOTATION_TYPE)æ³¨é‡Šç±»å‹å£°æ˜ é»˜è®¤ä½¿ç”¨RetentionPolicy,è¿™æ˜¯ä¸€ä¸ªæšä¸¾ç±»å‹,åŒ…æ‹¬: SOURCE CLASS RUNTIME è€Œ@RestControllerå°±æ˜¯RUNTIMEçš„ç±»å‹,è¿™ä¸‰ç§ç±»å‹æ˜¯ä»€ä¹ˆæ„æ€äº†? **CLASS**æ³¨é‡Šå°†ç”±ç¼–è¯‘å™¨è®°å½•åœ¨ç±»æ–‡ä»¶ä¸­ï¼Œè€Œä¸å¿…åœ¨è¿è¡Œæ—¶ç”±VMä¿ç•™ã€‚ **RUNTIME**æ³¨é‡Šå°†ç”±ç¼–è¯‘å™¨è®°å½•åœ¨ç±»æ–‡ä»¶ä¸­ï¼Œå¹¶åœ¨è¿è¡Œæ—¶ç”±VMä¿ç•™ï¼Œå› æ­¤å¯ä»¥åå°„åœ°è¯»å–æ³¨é‡Šã€‚ **SOURCE**æ³¨é‡Šå°†è¢«ç¼–è¯‘å™¨ä¸¢å¼ƒã€‚ åˆ™è¡¨ç¤º@RestControlleræ˜¯ä¸€ä¸ªåœ¨è¿è¡Œæ—¶ç”±VMä¿ç•™çš„ç±»,é€šè¿‡å¼ºå¤§çš„åå°„æœºåˆ¶è¿›è¡Œæ“ä½œ @Documented 12345@Documented@Retention(RetentionPolicy.RUNTIME)@Target(ElementType.ANNOTATION_TYPE)public @interface Documented &#123;&#125; è¿™æ˜¯ä¸€ä¸ªå¾ˆåŸºç¡€å¾ˆç®€å•çš„æ³¨é‡Š,æ ¹æ®ä¹‹å‰çš„æ³¨é‡Šæˆ‘ä»¬çŸ¥é“å®ƒæ˜¯ä¸€ä¸ªRuntimeçš„Retention,å¹¶ä¸”æ˜¯ä¸€ä¸ªElementType.ANNOTATION_TYPE)æ³¨é‡Šç±»å‹,æ²¡æœ‰æˆå‘˜æ–¹æ³• ä»–çš„ä½œç”¨å¾ˆç®€å•:å¦‚æœç”¨@Ducumentedå¯¹ç±»å‹å£°æ˜è¿›è¡Œæ³¨é‡Šï¼Œåˆ™å®ƒçš„æ³¨é‡Šå°†æˆä¸ºå¸¦æ³¨é‡Šå…ƒç´ çš„å…¬å…±APIçš„ä¸€éƒ¨åˆ†, @Controller 123456789101112131415@Target(&#123;ElementType.TYPE&#125;)@Retention(RetentionPolicy.RUNTIME)@Documented@Componentpublic @interface Controller &#123; /** * The value may indicate a suggestion for a logical component name, * to be turned into a Spring bean in case of an autodetected component. * @return the suggested component name, if any (or empty String otherwise) */ @AliasFor(annotation = Component.class) String value() default &quot;&quot;;&#125; @Controlleræ˜¯ä¸€ä¸ªæˆ‘ä»¬ç»å¸¸ä½¿ç”¨ç¼ºä¸çŸ¥é“åŸç†çš„æ³¨è§£,æˆ‘ä»¬é¦–å…ˆæ ¹æ®ä»–çš„æºä»£ç äº†è§£,æ–‡æ¡£ä¸­åªè¯´**æŒ‡ç¤ºå¸¦æ³¨é‡Šçš„ç±»æ˜¯â€œæ§åˆ¶å™¨â€(ä¾‹å¦‚webæ§åˆ¶å™¨)**ã€‚ä½†æ˜¯æˆ‘ä»¬è¿˜éœ€è¦æ·±ç©¶ @Target({ElementType.TYPE})@Retention(RetentionPolicy.RUNTIME)@Documented@Component å…¶ä¸­å‰ä¸‰ä¸ªæ³¨é‡Šæˆ‘ä»¬æ˜ç™½å…¶ä¸­çš„æ„æ€,é‚£ä¹ˆç¬¬å››ä¸ªæ˜¯ä»€ä¹ˆæ„æ€å‘¢? @Component 1234567891011121314@Target(ElementType.TYPE)@Retention(RetentionPolicy.RUNTIME)@Documented@Indexedpublic @interface Component &#123; /** * The value may indicate a suggestion for a logical component name, * to be turned into a Spring bean in case of an autodetected component. * @return the suggested component name, if any (or empty String otherwise) */ String value() default &quot;&quot;;&#125; è¢«æ ‡æ³¨çš„ç±»å°†ä¼šæ˜¯ä¸€ä¸ªâ€ç»„ä»¶â€ å¸¸ç”¨çš„å‡ ä¸ªç”¨æ¥æ ‡è®°stereotypeçš„annotationã€‚ @Componentï¼Œ@Controllerï¼Œ@Repositoryï¼Œ@Serviceã€‚ è¿™å››ä¸ªéƒ½åœ¨org.springframework.stereotypeåŒ…ä¸‹é¢ï¼Œåé¢3ä¸ªéƒ½å±äº@Componentã€‚ å¯ä»¥ç†è§£ä¸º@Componentæ˜¯@Controllerï¼Œ@Repositoryï¼Œ@Serviceçš„åŸºç±»ã€‚ @Componentæ˜¯ç”¨æ¥æ ‡è®°ä»»ä½•è¢«Springç®¡ç†çš„ç»„ä»¶ã€‚ @Controllerç”¨æ¥æ ‡è®°presentationå±‚ï¼ˆæ¯”å¦‚web controllerï¼‰ã€‚ @Repositoryç”¨æ¥æ ‡è®°persistenceå±‚ï¼ˆæ¯”å¦‚DAOï¼‰ã€‚ @Serviceç”¨æ¥æ ‡è®°serviceå±‚ã€‚ Annotation Type Description Component Indicates that an annotated class is a â€œcomponentâ€.æŒ‡ç¤ºå¸¦æ³¨é‡Šçš„ç±»æ˜¯â€œç»„ä»¶â€ã€‚ Controller Indicates that an annotated class is a â€œControllerâ€ (e.g.)æŒ‡ç¤ºå¸¦æ³¨é‡Šçš„ç±»æ˜¯â€œæ§åˆ¶å™¨â€ Indexed Indicate that the annotated element represents a stereotype for the index.æŒ‡ç¤ºå¸¦æ³¨é‡Šçš„å…ƒç´ è¡¨ç¤ºç´¢å¼•çš„æ„é€ å‹ã€‚ Repository Indicates that an annotated class is a â€œRepositoryâ€, originally defined by Domain-Driven Design (Evans, 2003) as â€œa mechanism for encapsulating storage, retrieval, and search behavior which emulates a collection of objectsâ€.æŒ‡ç¤ºå¸¦æ³¨é‡Šçš„ç±»æ˜¯â€œå­˜å‚¨åº“â€ï¼Œæœ€åˆç”±é¢†åŸŸé©±åŠ¨è®¾è®¡(Evansï¼Œ2003)å®šä¹‰ä¸ºâ€œä¸€ç§å°è£…å­˜å‚¨ã€æ£€ç´¢å’Œæœç´¢è¡Œä¸ºçš„æœºåˆ¶ï¼Œè¯¥æœºåˆ¶æ¨¡æ‹Ÿå¯¹è±¡çš„é›†åˆâ€ã€‚ Service Indicates that an annotated class is a â€œServiceâ€, originally defined by Domain-Driven Design (Evans, 2003) as â€œan operation offered as an interface that stands alone in the model, with no encapsulated state.â€æŒ‡ç¤ºå¸¦æ³¨é‡Šçš„ç±»æ˜¯â€œæœåŠ¡â€ï¼Œæœ€åˆç”±é¢†åŸŸé©±åŠ¨è®¾è®¡(Evansï¼Œ2003)å®šä¹‰ä¸ºâ€œä½œä¸ºç‹¬ç«‹äºæ¨¡å‹çš„æ¥å£æä¾›çš„æ“ä½œï¼Œæ²¡æœ‰å°è£…çŠ¶æ€â€ã€‚ @AliasForå¯ä»¥çœ‹åˆ°åœ¨@Controlleræ³¨è§£ä¸­çš„String Value() default â€œâ€;å¤´ä¸Šçš„æ³¨è§£@AliasFor(annotation = Component.class),è¯¥å€¼å¯èƒ½è¡¨ç¤ºå¯¹é€»è¾‘ç»„ä»¶åç§°çš„å»ºè®®ï¼Œåœ¨è‡ªåŠ¨æ£€æµ‹ç»„ä»¶çš„æƒ…å†µä¸‹è½¬æ¢ä¸ºSpring beanã€‚ AliasForåŒ…å«çš„æ³¨é‡Š: 123@Retention(RetentionPolicy.RUNTIME)@Target(ElementType.METHOD)@Documented ä»–æ˜¯ä¸€ä¸ªæ–¹æ³•ç”³æ˜ ä»–æ˜¯ä¸€ä¸ªè¿è¡Œæ—¶ç”±VMä¿ç•™çš„çš„ç±» æ³¨é‡Šå°†ç”±javadocè®°å½• å®˜æ–¹çš„è§£é‡Š:@AliasForæ˜¯ä¸€ä¸ªæ³¨é‡Šï¼Œç”¨äºå£°æ˜æ³¨é‡Šå±æ€§çš„åˆ«åã€‚ @AliasFor is an annotation that is used to declare aliases for annotation attributes. ä½¿ç”¨åœºæ™¯ **æ³¨é‡Šä¸­çš„æ˜¾å¼åˆ«å:**åœ¨å•ä¸ªæ³¨é‡Šä¸­ï¼Œå¯ä»¥å¯¹ä¸€å¯¹å±æ€§å£°æ˜@AliasForï¼Œä»¥è¡¨æ˜å®ƒä»¬æ˜¯å½¼æ­¤å¯äº’æ¢çš„åˆ«åã€‚ **å…ƒæ³¨é‡Šä¸­å±æ€§çš„æ˜¾å¼åˆ«å:**å¦‚æœ@AliasForçš„annotation()å±æ€§è¢«è®¾ç½®ä¸ºä¸å£°æ˜å®ƒçš„æ³¨é‡Šä¸åŒçš„æ³¨é‡Šï¼Œåˆ™å±æ€§()è¢«è§£é‡Šä¸ºå…ƒæ³¨é‡Šä¸­å±æ€§çš„åˆ«å(å³ï¼Œæ˜¾å¼å…ƒæ³¨é‡Šå±æ€§è¦†ç›–)ã€‚è¿™å…è®¸ç²¾ç¡®åœ°æ§åˆ¶æ³¨é‡Šå±‚æ¬¡ç»“æ„ä¸­è¦†ç›–å“ªäº›å±æ€§ã€‚äº‹å®ä¸Šï¼Œä½¿ç”¨@AliasForç”šè‡³å¯ä»¥ä¸ºå…ƒæ³¨é‡Šçš„valueå±æ€§å£°æ˜åˆ«åã€‚ **éšå¼æ³¨é‡Šä¸­çš„åˆ«å:**å¦‚æœä¸€ä¸ªæˆ–å¤šä¸ªå±æ€§åœ¨ä¸€ä¸ªå£°æ˜æ³¨é‡Šçš„å±æ€§è¦†ç›–ç›¸åŒå…ƒæ³¨é‡Šå±æ€§(ç›´æ¥æˆ–é—´æ¥)æ¨ªè·¨,è¿™äº›å±æ€§å°†è¢«è§†ä¸ºä¸€ç»„éšå«çš„åˆ«åä¸ºå½¼æ­¤,å¯¼è‡´è¡Œä¸ºç±»ä¼¼äºåœ¨ä¸€ä¸ªæ³¨é‡Šä¸­æ˜ç¡®çš„åˆ«åã€‚ åœ¨Springçš„ä¼—å¤šæ³¨è§£ä¸­ï¼Œç»å¸¸ä¼šå‘ç°å¾ˆå¤šæ³¨è§£çš„ä¸åŒå±æ€§èµ·ç€ç›¸åŒçš„ä½œç”¨ï¼Œæ¯”å¦‚@RequestMappingçš„valueå±æ€§å’Œpathå±æ€§ï¼Œè¿™å°±éœ€è¦åšä¸€äº›åŸºæœ¬çš„é™åˆ¶ï¼Œæ¯”å¦‚valueå’Œpathçš„å€¼ä¸èƒ½å†²çªï¼Œæ¯”å¦‚ä»»æ„è®¾ç½®valueæˆ–è€…è®¾ç½®pathå±æ€§çš„å€¼ï¼Œéƒ½èƒ½å¤Ÿé€šè¿‡å¦ä¸€ä¸ªå±æ€§æ¥è·å–å€¼ç­‰ç­‰ã€‚ä¸ºäº†ç»Ÿä¸€å¤„ç†è¿™äº›æƒ…å†µï¼ŒSpringåˆ›å»ºäº†@AliasForæ ‡ç­¾ã€‚ â€‹ ä¾‹å­: 1234567891011121314@Target(&#123;ElementType.METHOD, ElementType.TYPE&#125;)@Retention(RetentionPolicy.RUNTIME)@Documented@Mappingpublic @interface RequestMapping &#123; @AliasFor(&quot;path&quot;) String[] value() default &#123;&#125;; @AliasFor(&quot;value&quot;) String[] path() default &#123;&#125;; //...&#125; ä¸Šè¿°ä»£ç æ˜¯RequestMappdingçš„Pathå’ŒValue,æˆ‘ä»¬åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­çŸ¥é“è¿™ä¸¤ä¸ªå±æ€§çš„æ„æ€æ˜¯ä¸€æ ·çš„,é€šè¿‡äº’ç›¸æ˜¾ç¤ºçš„æ ‡æ³¨,è¡¨æ˜è¿™ä¸¤è€…ä¸èƒ½å‘ç”Ÿå†²çª,æ˜¯å”¯ä¸€çš„ å†æ¯”å¦‚å°±åœ¨@AliasForçš„æºä»£ç ä¸­æœ‰ä¸¤ä¸ªå±æ€§å°±æ˜¯ä¸€æ ·çš„: 1234@AliasFor(&quot;attribute&quot;)String value() default &quot;&quot;;@AliasFor(&quot;value&quot;)String attribute() default &quot;&quot;; è€Œæˆ‘ä»¬ç–‘æƒ‘çš„@AliasFor(annotation = Component.class),ä¹Ÿæ˜¯è¡¨ç¤ºæˆ‘ä»¬çš„æ³¨è§£çš„ç±»å‹,é»˜è®¤æ˜¯ Annotation.class è¿™æ ·æˆ‘ä»¬å°±å…¨éƒ¨äº†è§£äº†@Controlleräº†,ç°åœ¨æˆ‘ä»¬æ¥äº†è§£ä¸€ä¸‹@ResponseBody @ResponseBodyAnnotation that indicates a method return value should be bound to the web response body. Supported for annotated handler methods. è§£é‡Šè¿‡æ¥å°±æ˜¯:è¿™ä¸ªæ³¨è§£è¡¨æ˜è¿™æ˜¯ä¸€ä¸ªæ–¹æ³•ç”¨æ¥æ±Ÿâ€å€¼â€è¿”å›åˆ°ç½‘é¡µè¿”å›ä½“ä¸­,è€Œä¸æ˜¯è·³è½¬è·¯ç”± æºä»£ç : 123456@Target(&#123;ElementType.TYPE, ElementType.METHOD&#125;)@Retention(RetentionPolicy.RUNTIME)@Documentedpublic @interface ResponseBody &#123;&#125; åˆ°æ­¤æˆ‘ä»¬ä¹å…«RestControllerå…¨éƒ¨ç†è§£å®Œæ¯•,å½“ç„¶è¿˜æ¬ ç¼ºå¾ˆå¤š,ä¹‹åç»§ç»­å­¦ä¹ ","categories":[{"name":"FamilyManage","slug":"FamilyManage","permalink":"http://www.octber.xyz/categories/FamilyManage/"}],"tags":[{"name":"FamilyManage","slug":"FamilyManage","permalink":"http://www.octber.xyz/tags/FamilyManage/"}]},{"title":"å…³äºåœ¨æ­å·æ»¨æ±ŸåŒºç§Ÿæˆ¿çš„ä¸€äº›å»ºè®®","slug":"å…³äºåœ¨æ­å·æ»¨æ±ŸåŒºç§Ÿæˆ¿çš„ä¸€äº›å»ºè®®","date":"2019-06-09T05:39:35.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/06/09/å…³äºåœ¨æ­å·æ»¨æ±ŸåŒºç§Ÿæˆ¿çš„ä¸€äº›å»ºè®®/","link":"","permalink":"http://www.octber.xyz/2019/06/09/%E5%85%B3%E4%BA%8E%E5%9C%A8%E6%9D%AD%E5%B7%9E%E6%BB%A8%E6%B1%9F%E5%8C%BA%E7%A7%9F%E6%88%BF%E7%9A%84%E4%B8%80%E4%BA%9B%E5%BB%BA%E8%AE%AE/","excerpt":"å‰è¨€2019å¹´6æœˆ1å·-2019å¹´6æœˆ2å·åœ¨æ­å·æ»¨æ±ŸåŒºä½æˆ¿è®°å½•","text":"å‰è¨€2019å¹´6æœˆ1å·-2019å¹´6æœˆ2å·åœ¨æ­å·æ»¨æ±ŸåŒºä½æˆ¿è®°å½• æ¦‚è¿°ç”±äºè¦åœ¨æ’ç”Ÿç”µå­å®ä¹ å¾ˆé•¿ä¸€æ®µæ—¶é—´,åªèƒ½åœ¨æ»¨æ±ŸåŒºä½æˆ¿,æå‰è¿‡å»è€ƒå¯Ÿä¸€ä¸‹,æœ‰ä¸€äº›å¿ƒå¾—ä½†æ„¿èƒ½å¸®å¾—ä¸Šå¿™ ç§Ÿæˆ¿æ¸ é“ä¸€èˆ¬æ¥è¯´ä½æˆ¿æ¸ é“æœ‰ä»¥ä¸‹è¿™äº›: ç§Ÿæˆ¿APPä¸Šæ‰¾æˆ¿ ç¤¾äº¤APPä¸Šæ‰¾æˆ¿ å¾®ä¿¡ç¾¤/QQç¾¤æ‰¾æˆ¿ çº¿ä¸‹æ‰¾æˆ¿ ä»–ä»¬çš„ç‰¹ç‚¹æ˜¯: ä½æˆ¿APPä¸Šæ‰¾æˆ¿: è‡ªå¦‚APP:ä¸å»ºè®®,å‡ºåçš„å‡æˆ¿æº,ç”²é†›æˆ¿ 58åŒåŸAPP:ä¸å»ºè®®,ä¸­ä»‹å¾ˆå¤š,ä»–ä¼šå¸¦ä½ çœ‹å¾ˆå¤šå¤„æˆ¿æº,æœ€åä½ ä¸å¾—ä¸ç­¾,è´¹ç”¨æ‚ä¹±,å¾—ä¸åˆ°ä¿éšœ,ä¸­ä»‹è´¹é«˜,æˆ¿å­å“è´¨å¾—ä¸åˆ°ä¿éšœ å®‰å±…å®¢APP:ä¸å»ºè®®ä½ çœ‹å›¾å°±çŸ¥é“è‚¯å®šæ˜¯å‡çš„ zuber:æ¨è,zuberä¸Šç»å¤§å¤šæ•°éƒ½æ˜¯æˆ¿ä¸»è‡ªå·±çš„åŸæˆ·å‹,åˆç§Ÿåå¤š,ç…§ç‰‡çœŸå®,æœ‰å½•åƒ,å¯ä»¥ç›´æ¥è”ç³»æˆ¿ç§Ÿçœ‹æˆ¿ å…¶ä»–APP:ä¸çŸ¥é“(æ¯”å¦‚â€é—²é±¼â€,æ²¡äº†è§£è¿‡,æ„Ÿè§‰ä¸ä¸“ä¸š) ç¤¾äº¤APPä¸Šæ‰¾æˆ¿: è±†ç“£:æ¨è,ä¸Šé¢ä¸ä»…ä»…æœ‰å¾ˆå¤šä¼˜è´¨æˆ¿æº,è€Œä¸”æœ‰å¯¹åº”æ­å·æ»¨æ±ŸåŒºçš„ç§Ÿæˆ¿ç¾¤(å¾®ä¿¡ç¾¤) çŸ¥ä¹ä»€ä¹ˆçš„,ä¸æ¨è,åˆ«çš„ä¸çŸ¥é“ å¾®ä¿¡ç¾¤/QQç¾¤æ‰¾æˆ¿:æ¨è,ä¸€èˆ¬éƒ½æ˜¯æˆ¿ä¸»æˆ–è€…äºŒæˆ¿ä¸»,çœŸå®å¯é ,çœ‹æˆ¿æ¯”è¾ƒæ–¹ä¾¿,å½“ç„¶æ™ºå•†å¾—å¤Ÿç”¨,è¦ç”„åˆ« çº¿ä¸‹æ‰¾æˆ¿:ä¸å»ºè®®,ä½ ä»¥ä¸ºä¼šåœ¨å¢™ä¸Š,ç»ç’ƒä¸Šè´´å¹¿å‘Š,å…¶å®éƒ½æ²¡æœ‰ æ€»ç»“:å»ºè®®åœ¨zuberä¸Šæˆ–è€…è±†ç“£ä¸Š,æˆ–è€…ç¾¤é‡Œæ‰¾3-5å®¶æˆ¿ä¸»,è‡ªå·±æ’ä¸€ä¸ªæ—¥ç¨‹,å»çœ‹æˆ¿ ä½æˆ¿ä»·æ ¼ ç§Ÿæˆ¿APPä¸Šæ‰¾æˆ¿: è¾ƒä¾¿å®œ(å°å¿ƒäº¤äº†æ™ºå•†ç¨) ç¤¾äº¤APPä¸Šæ‰¾æˆ¿: ä¸­ç­‰ å¾®ä¿¡ç¾¤/QQç¾¤æ‰¾æˆ¿: åè´µ çº¿ä¸‹æ‰¾æˆ¿: æ²¡æ‰¾è¿‡ æ€»ç»“:ä¸€èˆ¬æ¥è¯´,ä»·æ ¼åœ¨(1500-3000)å¯ä»¥ç§Ÿåˆ°(è¾ƒå·®-è¾ƒå¥½)çš„å§å®¤(æ³¨æ„æ˜¯ä¸€ä¸ªå§å®¤,ä¸€èˆ¬å¯ä»¥ä½1-2äºº,ä¸æ˜¯æ•´ç§Ÿ) ä½æˆ¿æ–¹å¼ æ•´ç§Ÿ:å¯ä»¥è€ƒè™‘,ä½†æ˜¯æ¯”è¾ƒè´µ,ä½ ä½œä¸ºäºŒæˆ¿ä¸»,éœ€è¦è€ƒè™‘å¾ˆå¤šäº‹æƒ…,é™¤éèº«è¾¹æœ‰å¾ˆå¤šäººä¸€èµ·,ä¸è¦è€ƒè™‘,å‡ºäº†äº‹æƒ…è¿˜å¾—è‡ªå·±æè…°åŒ… åˆç§Ÿ:å»ºè®®åˆç§Ÿ,ä½†æ˜¯è¦æ³¨æ„: å…¶ä»–ç§Ÿå®¢:æ³¨æ„ä»–ä»¬çš„èº«ä»½,å·¥ä½œ,å¹´çºª,æ—¥å¸¸ä¹ æƒ¯,å¦‚æœæœ‰å¹´çºªæ¯”è¾ƒå¤§çš„,åŠå¤œå·¥ä½œçš„,æ²¡æœ‰å·¥ä½œçš„ä¹‹ç±»çš„,è¦æ³¨æ„ç”„åˆ«ä»–ä»¬çš„ç´ è´¨ å«ç”Ÿæ¡ä»¶:åˆç§Ÿå¤§å®¶ç”¨ä¸€å¥—å®¢å…,å¦‚æœä½ æ²¡æœ‰ç‹¬å«,ä½ è¿˜è¦è€ƒè™‘å’Œåˆ«äººä¸€èµ·ç”¨å«ç”Ÿé—´,å¦‚æœå¤§å®¶æ²¡æœ‰å«ç”Ÿè¡¨æ‰“æ‰«å«ç”Ÿ,è¯´åˆ°åº•è¿˜æ˜¯ç´ è´¨é—®é¢˜ ç”·ç”Ÿçš„è¯æ³¨æ„å¥³ç”Ÿ,å¥³ç”Ÿçš„è¯æ³¨æ„ç”·ç”Ÿ,æ‡‚?ä¸€ä¸ªäººå ç”¨å«ç”Ÿé—´ä¸€å°æ—¶ä¸å‡ºæ¥,ä½ ä¸Šä¸ä¸Šç­? æ€»ç»“: å»ºè®®åˆç§Ÿ,æ³¨æ„èˆå‹ç´ è´¨,æ³¨æ„å¤§å®¶çš„ç”Ÿæ´»æ—¥ç¨‹ æ»¨æ±ŸåŒºæ¦‚è¿°è·ç¦»ä¸€èˆ¬æ¥è¯´,ä»¥æ’ç”Ÿå¤§å¦ä¸ºä¸­å¿ƒ,3.5å…¬é‡Œä»¥å†…æ˜¯æ¯”è¾ƒåˆç†çš„,äº²æµ‹2.2ä¸¤å…¬é‡Œéª‘è‡ªè¡Œè½¦(å…±äº«å•è½¦)è¦å°†è¿‘18åˆ†é’Ÿ,æ¯å¤©è¿™ä¹ˆä¸€è¶Ÿ,çœŸçš„æŒºç´¯,å»ºè®®ä¿æŒåœ¨2.5å…¬é‡Œä»¥å†…,é™¤éé‡Œå–œæ¬¢å¤§æ—©æ™¨é”»ç‚¼èº«ä½“ ä½æˆ¿ç‚¹(æŒ‰ç…§æˆ‘æ¨èçš„é¡ºåº)1. å¤ªé˜³å›½é™…/å›½ä¿¡å˜‰å›­/å½©è™¹è±ªåº­ æ¨èæŒ‡æ•°:äº”é¢—æ˜Ÿ æ¨èç†ç”±: è·ç¦»è¿‘(1.2å…¬é‡Œ) ç¯å¢ƒå¥½:é«˜æ¡£å°åŒº,æ¨±èŠ±è·‘é“,æ±Ÿæ™¯æˆ¿,å®‰ä¿å¥½ ç´ è´¨é«˜:ä½æˆ·ç´ è´¨å¥½ åœ°é“è¿‘ åŸæˆ·å‹ ç¼ºç‚¹: ä»·æ ¼è´µ:2500-3500ä¸€ä¸ªä¸»å§,2000èµ·æ­¥å…¶ä»–å§å®¤ ç‰©ä¸šè´µ,100å·¦å³ä¸€ä¸ªæœˆ 2. æ±Ÿç•”äº‘åº æ¨èæŒ‡æ•°:å››é¢—æ˜Ÿ æ¨èç†ç”± ä»·æ ¼åˆç†:2000å·¦å³ è·ç¦»é€‚ä¸­:2.8å…¬é‡Œ ä¸­æ¡£å°åŒº ç¼ºç‚¹: ç¨å¾®æœ‰ç‚¹è¿œ æˆ¿é—´ç¨å·®ï¼Œä½†æ˜¯è¿˜è¡Œï¼Œå½“ç„¶æ²¡æ³•å’Œç¬¬ä¸€ä¸ªæ¨èçš„æ¯” å«ç”Ÿç¨å·® 3. ä¸´æ±ŸèŠ±å›­ æ¨èæŒ‡æ•°:ä¸‰é¢—æ˜Ÿ æ¨èç†ç”±ï¼š ä»·æ ¼ä¾¿å®œï¼š2000ä»¥ä¸‹ ç¼ºç‚¹ï¼š è·ç¦»è¿œï¼š3å…¬é‡Œä»¥ä¸Š 4.æ»¨æ±Ÿæµ¦æ²¿æ˜Ÿæ±‡è£é‚¸å°åŒº æ¨èæŒ‡æ•°:ä¸¤é¢—æ˜Ÿâ€‹ æ¨èç†ç”±ï¼š æ¥¼ä¸‹æœ‰åœ°é“ çœŸçš„ä¾¿å®œï¼š1600å·¦å³ ç¼ºç‚¹ï¼š è·ç¦»è¿œï¼š4å…¬é‡Œ 5.å®é¾™åŸé™„è¿‘/é€šç­–å¹¿åœºé™„è¿‘/ç¢§æ°´è±ªå›­ æ¨èæŒ‡æ•°:ä¸€é¢—å¿ƒ æ¨èç†ç”±: åˆ«å¢… ç¼ºç‚¹: ä¸­ä»‹ æ€»ç»“: è‡ªå·±ç¢ç£¨æŠŠ,éƒ¨åˆ†åœ°åŒºæˆ‘æœ‰å›¾,ç§èŠæˆ‘è¦,QQ:925474088,å‡å±ä¸ªäººæ„è§ ç»†èŠ‚ è·ç¦»å¾ˆé‡è¦,ä¸å»ºè®®è¶…è¿‡2.5å…¬é‡Œ å«ç”Ÿå¾ˆé‡è¦ èˆå‹å¾ˆé‡è¦ ä½æˆ¿1å¹´èµ·æ­¥,åç»­éœ€è¦è‡ªå·±è½¬ç§Ÿ æ’ç”Ÿå¤§å¦é™„è¿‘æ²¡æœ‰åœ°é“ç«™,æœ€è¿‘çš„åœ°é“ç«™æœ‰ä¸¤å…¬é‡Œå¤šä¸€ç‚¹å¤§æ¦‚,æ‰€ä»¥é‚£ä¸ªæ¥¼ä¸‹æœ‰åœ°é“çš„æ²¡ç”¨,é¢„è®¡2020-2021å¹´èƒ½ä¿®å¥½è·¯è¿‡æ’ç”Ÿçš„åœ°é“","categories":[{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"http://www.octber.xyz/categories/%E6%97%A5%E8%AE%B0/"}],"tags":[{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"http://www.octber.xyz/tags/%E6%97%A5%E8%AE%B0/"}]},{"title":"FamilyManageå¼€å‘-SpringShiro","slug":"FamilyManageå¼€å‘-SpringShiro","date":"2019-06-07T09:22:53.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/06/07/FamilyManageå¼€å‘-SpringShiro/","link":"","permalink":"http://www.octber.xyz/2019/06/07/FamilyManage%E5%BC%80%E5%8F%91-SpringShiro/","excerpt":"å‰è¨€FamilyManageé¡¹ç›®çš„åå°éƒ¨åˆ†ï¼Œæœ€æ ¸å¿ƒçš„ä¸€éƒ¨åˆ†ä¸€å®šæ˜¯å®‰å…¨æ§åˆ¶å’Œæƒé™æ§åˆ¶ã€‚ è¿™ä¸€æ¬¡ï¼Œæˆ‘ä»¬å°±æ¥äº†è§£ä¸€ä¸‹ä»€ä¹ˆæ˜¯Spring Shiro","text":"å‰è¨€FamilyManageé¡¹ç›®çš„åå°éƒ¨åˆ†ï¼Œæœ€æ ¸å¿ƒçš„ä¸€éƒ¨åˆ†ä¸€å®šæ˜¯å®‰å…¨æ§åˆ¶å’Œæƒé™æ§åˆ¶ã€‚ è¿™ä¸€æ¬¡ï¼Œæˆ‘ä»¬å°±æ¥äº†è§£ä¸€ä¸‹ä»€ä¹ˆæ˜¯Spring Shiro ä»€ä¹ˆæ˜¯Spring Shiro Apache Shiro æ˜¯ Java çš„ä¸€ä¸ªå®‰å…¨ï¼ˆæƒé™ï¼‰æ¡†æ¶ã€‚ Shiro å¯ä»¥éå¸¸å®¹æ˜“çš„å¼€å‘å‡ºè¶³å¤Ÿå¥½çš„åº”ç”¨ï¼Œå…¶ä¸ä»…å¯ä»¥ç”¨åœ¨ JavaSE ç¯å¢ƒï¼Œä¹Ÿå¯ä»¥ç”¨åœ¨ JavaEE ç¯å¢ƒã€‚ Shiro å¯ä»¥å®Œæˆï¼šè®¤è¯ã€æˆæƒã€åŠ å¯†ã€ä¼šè¯ç®¡ç†ã€ä¸Web é›†æˆã€ç¼“å­˜ ç­‰ã€‚ ä¸‹è½½ï¼šhttp://shiro.apache.org/ åŸºæœ¬åŠŸèƒ½ Authenticationï¼šèº«ä»½è®¤è¯/ç™»å½•ï¼ŒéªŒè¯ç”¨æˆ·æ˜¯ä¸æ˜¯æ‹¥æœ‰ç›¸åº”çš„èº«ä»½ï¼› Authorizationï¼šæˆæƒï¼Œå³æƒé™éªŒè¯ï¼ŒéªŒè¯æŸä¸ªå·²è®¤è¯çš„ç”¨æˆ·æ˜¯å¦æ‹¥æœ‰æŸä¸ªæƒé™ï¼›å³åˆ¤æ–­ç”¨ æˆ·æ˜¯å¦èƒ½è¿›è¡Œä»€ä¹ˆæ“ä½œï¼Œå¦‚ï¼šéªŒè¯æŸä¸ªç”¨æˆ·æ˜¯å¦æ‹¥æœ‰æŸä¸ªè§’è‰²ã€‚æˆ–è€…ç»†ç²’åº¦çš„éªŒè¯æŸä¸ªç”¨æˆ· å¯¹æŸä¸ªèµ„æºæ˜¯å¦å…·æœ‰æŸä¸ªæƒé™ï¼› Session Managerï¼šä¼šè¯ç®¡ç†ï¼Œå³ç”¨æˆ·ç™»å½•åå°±æ˜¯ä¸€æ¬¡ä¼šè¯ï¼Œåœ¨æ²¡æœ‰é€€å‡ºä¹‹å‰ï¼Œå®ƒçš„æ‰€æœ‰ ä¿¡æ¯éƒ½åœ¨ä¼šè¯ä¸­ï¼›ä¼šè¯å¯ä»¥æ˜¯æ™®é€š JavaSE ç¯å¢ƒï¼Œä¹Ÿå¯ä»¥æ˜¯ Web ç¯å¢ƒçš„ï¼› Cryptographyï¼šåŠ å¯†ï¼Œä¿æŠ¤æ•°æ®çš„å®‰å…¨æ€§ï¼Œå¦‚å¯†ç åŠ å¯†å­˜å‚¨åˆ°æ•°æ®åº“ï¼Œè€Œä¸æ˜¯æ˜æ–‡å­˜å‚¨ Web Supportï¼šWeb æ”¯æŒï¼Œå¯ä»¥éå¸¸å®¹æ˜“çš„é›†æˆåˆ°Web ç¯å¢ƒï¼› Cachingï¼šç¼“å­˜ï¼Œæ¯”å¦‚ç”¨æˆ·ç™»å½•åï¼Œå…¶ç”¨æˆ·ä¿¡æ¯ã€æ‹¥æœ‰çš„è§’è‰²/æƒé™ä¸å¿…æ¯æ¬¡å»æŸ¥ï¼Œè¿™æ ·å¯ ä»¥æé«˜æ•ˆç‡ï¼› Concurrencyï¼šShiro æ”¯æŒå¤šçº¿ç¨‹åº”ç”¨çš„å¹¶å‘éªŒè¯ï¼Œå³å¦‚åœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­å¼€å¯å¦ä¸€ä¸ªçº¿ç¨‹ï¼Œèƒ½ æŠŠæƒé™è‡ªåŠ¨ä¼ æ’­è¿‡å»ï¼› Testingï¼šæä¾›æµ‹è¯•æ”¯æŒï¼› Run Asï¼šå…è®¸ä¸€ä¸ªç”¨æˆ·å‡è£…ä¸ºå¦ä¸€ä¸ªç”¨æˆ·ï¼ˆå¦‚æœä»–ä»¬å…è®¸ï¼‰çš„èº«ä»½è¿›è¡Œè®¿é—®ï¼› Remember Meï¼šè®°ä½æˆ‘ï¼Œè¿™ä¸ªæ˜¯éå¸¸å¸¸è§çš„åŠŸèƒ½ï¼Œå³ä¸€æ¬¡ç™»å½•åï¼Œä¸‹æ¬¡å†æ¥çš„è¯ä¸ç”¨ç™» å½•äº† Shiroæ¶æ„ Subjectï¼šåº”ç”¨ä»£ç ç›´æ¥äº¤äº’çš„å¯¹è±¡æ˜¯ Subjectï¼Œä¹Ÿå°±æ˜¯è¯´ Shiro çš„å¯¹å¤– API æ ¸å¿ƒå°±æ˜¯ Subjectã€‚Subject ä»£è¡¨äº†å½“å‰â€œç”¨æˆ·â€ï¼Œ è¿™ä¸ªç”¨æˆ·ä¸ä¸€å®š æ˜¯ä¸€ä¸ªå…·ä½“çš„äººï¼Œä¸å½“å‰åº”ç”¨äº¤äº’çš„ä»»ä½•ä¸œè¥¿éƒ½æ˜¯ Subjectï¼Œå¦‚ç½‘ç»œçˆ¬è™«ï¼Œ æœºå™¨äººç­‰ï¼›ä¸ Subject çš„æ‰€æœ‰äº¤äº’éƒ½ä¼šå§”æ‰˜ç»™ SecurityManagerï¼› Subject å…¶å®æ˜¯ä¸€ä¸ªé—¨é¢ï¼ŒSecurityManager æ‰æ˜¯å®é™…çš„æ‰§è¡Œè€…ï¼› SecurityManagerï¼šå®‰å…¨ç®¡ç†å™¨ï¼›å³æ‰€æœ‰ä¸å®‰å…¨æœ‰å…³çš„æ“ä½œéƒ½ä¼šä¸ SecurityManager äº¤äº’ï¼›ä¸”å…¶ç®¡ç†ç€æ‰€æœ‰ Subjectï¼›å¯ä»¥çœ‹å‡ºå®ƒæ˜¯ Shiro çš„æ ¸å¿ƒï¼Œå®ƒè´Ÿè´£ä¸ Shiro çš„å…¶ä»–ç»„ä»¶è¿›è¡Œäº¤äº’ï¼Œå®ƒç›¸å½“äº SpringMVC ä¸­ DispatcherServlet çš„è§’è‰² Realmï¼šShiro ä» Realm è·å–å®‰å…¨æ•°æ®ï¼ˆå¦‚ç”¨æˆ·ã€è§’è‰²ã€æƒé™ï¼‰ï¼Œå°±æ˜¯è¯´ SecurityManager è¦éªŒè¯ç”¨æˆ·èº«ä»½ï¼Œé‚£ä¹ˆå®ƒéœ€è¦ä» Realm è·å–ç›¸åº”çš„ç”¨æˆ· è¿›è¡Œæ¯”è¾ƒä»¥ç¡®å®šç”¨æˆ·èº«ä»½æ˜¯å¦åˆæ³•ï¼›ä¹Ÿéœ€è¦ä» Realm å¾—åˆ°ç”¨æˆ·ç›¸åº”çš„è§’è‰²/ æƒé™è¿›è¡ŒéªŒè¯ç”¨æˆ·æ˜¯å¦èƒ½è¿›è¡Œæ“ä½œï¼›å¯ä»¥æŠŠ Realm çœ‹æˆ DataSourceã€‚å¯ä»¥æœ‰ 1 ä¸ªæˆ–å¤šä¸ª Realmï¼Œå¯ä»¥è®¤ä¸ºæ˜¯å®‰å…¨å®ä½“æ•°æ®æºï¼Œå³ç”¨äºè·å–å®‰å…¨å®ä½“ çš„ï¼›å¯ä»¥æ˜¯JDBC å®ç°ï¼Œä¹Ÿå¯ä»¥æ˜¯å†…å­˜å®ç°ç­‰ç­‰ï¼›ç”±ç”¨æˆ·æä¾›ï¼›æ‰€ä»¥ä¸€èˆ¬åœ¨åº”ç”¨ä¸­éƒ½éœ€è¦ å®ç°è‡ªå·±çš„ Realmï¼› Authenticatorï¼šè´Ÿè´£ Subject è®¤è¯ï¼Œæ˜¯ä¸€ä¸ªæ‰©å±•ç‚¹ï¼Œå¯ä»¥è‡ªå®šä¹‰å®ç°ï¼›å¯ä»¥ä½¿ç”¨è®¤è¯ ç­–ç•¥ï¼ˆAuthentication Strategyï¼‰ï¼Œå³ä»€ä¹ˆæƒ…å†µä¸‹ç®—ç”¨æˆ·è®¤è¯é€šè¿‡äº†ï¼› Authorizerï¼šæˆæƒå™¨ã€å³è®¿é—®æ§åˆ¶å™¨ï¼Œç”¨æ¥å†³å®šä¸»ä½“æ˜¯å¦æœ‰æƒé™è¿›è¡Œç›¸åº”çš„æ“ä½œï¼›å³æ§åˆ¶ç€ç”¨æˆ·èƒ½è®¿é—®åº”ç”¨ä¸­çš„å“ªäº›åŠŸèƒ½ï¼› SessionManagerï¼šç®¡ç† Session ç”Ÿå‘½å‘¨æœŸçš„ç»„ä»¶ï¼›è€Œ Shiro å¹¶ä¸ä»…ä»…å¯ä»¥ç”¨åœ¨ Web ç¯å¢ƒï¼Œä¹Ÿå¯ä»¥ç”¨åœ¨å¦‚æ™®é€šçš„ JavaSE ç¯å¢ƒ CacheManagerï¼šç¼“å­˜æ§åˆ¶å™¨ï¼Œæ¥ç®¡ç†å¦‚ç”¨æˆ·ã€è§’è‰²ã€æƒé™ç­‰çš„ç¼“å­˜çš„ï¼›å› ä¸ºè¿™äº›æ•°æ® åŸºæœ¬ä¸Šå¾ˆå°‘æ”¹å˜ï¼Œæ”¾åˆ°ç¼“å­˜ä¸­åå¯ä»¥æé«˜è®¿é—®çš„æ€§èƒ½ Cryptographyï¼šå¯†ç æ¨¡å—ï¼ŒShiro æé«˜äº†ä¸€äº›å¸¸è§çš„åŠ å¯†ç»„ä»¶ç”¨äºå¦‚å¯†ç åŠ å¯†/è§£å¯†ã€‚ ç¼–å†™Shiroé…ç½®ç±»Shiroé…ç½®çš„æœ€é‡è¦çš„ä¸‰ä¸ªå°±æ˜¯Subjectï¼ˆç”¨æˆ·ä¸»ä½“ï¼‰ï¼ŒWebSecurityManagerï¼ˆå®‰å…¨ç®¡ç†å™¨ï¼‰ã€Realmï¼ˆè‡ªå®šä¹‰éªŒè¯ï¼‰å’ŒShiroFilterFactoryï¼ˆè¿‡æ»¤å™¨ï¼‰ï¼Œå®‰å…¨ç®¡ç†å™¨é€šè¿‡å¯¹ç”¨æˆ·ä¸»ä½“è¿›è¡ŒéªŒè¯ï¼Œè€ŒéªŒè¯çš„æ–¹å¼ç”¨æˆ·å¯ä»¥è¿›è¡Œè‡ªå®šä¹‰ï¼Œå¦‚æœæˆ‘ä»¬è¿˜éœ€è¦è¿›è¡ŒåŠ å¯†å¤„ç†ç­‰æ“ä½œï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦è¿›è¡ŒHashedCredentialsMatcherçš„é…ç½® é…ç½®DefaultWebSecurityManager123456789/** * æƒé™ç®¡ç†ï¼Œé…ç½®ä¸»è¦æ˜¯Realmçš„ç®¡ç†è®¤è¯ */@Bean(name = &quot;securityManager&quot;)public DefaultWebSecurityManager defaultSecurityManager()&#123; DefaultWebSecurityManager defaultWebSecurityManager = new DefaultWebSecurityManager(); defaultWebSecurityManager.setRealm(shiroRealm()); return defaultWebSecurityManager;&#125; ä»£ç ä¸­çš„shiroRealm()å°±æ˜¯æˆ‘ä»¬éœ€è¦è‡ªå®šä¹‰çš„éªŒè¯æ–¹æ³•ã€‚ è‡ªå®šä¹‰éªŒè¯æ–¹æ³•ShiroRealm1234567891011/** * è‡ªå®šä¹‰éªŒè¯æ–¹æ³• * @return */@Beanpublic ShiroRealm shiroRealm()&#123; ShiroRealm shiroRealm = new ShiroRealm(); //åŠ å…¥åŠ å¯†ç®—æ³• shiroRealm.setCredentialsMatcher(shiroHashedCredentialsMatcher()); return shiroRealm;&#125; è¿™ä¸ªShiroRealmå°±æ˜¯æˆ‘ä»¬éœ€è¦è‡ªå®šä¹‰çš„éªŒè¯æ–¹æ³•ï¼Œé‚£ä¹ˆæˆ‘ç°åœ¨æ¥ç¼–å†™ä¸€ä¸ªShiroRealmç±»å®šåˆ¶æˆ‘ä»¬çš„éªŒè¯æ–¹æ³•ï¼Œå®ƒéœ€è¦ç»§æ‰¿è‡ªAuthorizingRealmï¼Œå°±éœ€è¦å®ç°å…¶ä¸­çš„é‡è¦æ–¹æ³•ï¼š 1.doGetAuthenticationInfo(AuthenticationToken token)1234567891011/** * åˆ¤æ–­ç”¨æˆ·æ˜¯å¦åœ¨ç¼“å­˜è®°å½•(å³Shiroæ˜¯å¦Remember user)å’Œç™»å½• * @param token è¯¥å‡­è¯æ¥è‡ªå®¢æˆ·ç«¯ä¼ æ¥çš„ç”¨æˆ·ä¿¡æ¯ * @return * @throws AuthenticationException */@Overrideprotected AuthenticationInfo doGetAuthenticationInfo(AuthenticationToken token) throws AuthenticationException &#123; ... ... return null;&#125; æˆ‘ä»¬é€šè¿‡æºç è¿›è¡Œåˆ†æï¼šAuthenticationTokenæ˜¯ä»€ä¹ˆä¸œè¥¿å‘¢ï¼Ÿ 1public interface AuthenticationToken extends Serializable é€šè¿‡æºç æˆ‘ä»¬çŸ¥é“ä»–æ˜¯ä¸€ä¸ªå¯åºåˆ—åŒ–çš„æ¥å£ç±» æˆ‘ä»¬çœ‹å®ƒç±»å¤´çš„æ³¨é‡Š 1234567891011121314151617181920212223242526272829303132333435363738/** * &lt;p&gt;An &lt;tt&gt;AuthenticationToken&lt;/tt&gt; is a consolidation of an account&#x27;s principals and supporting * credentials submitted by a user during an authentication attempt. * &lt;p/&gt; * &lt;p&gt;The token is submitted to an &#123;@link Authenticator Authenticator&#125; via the * &#123;@link Authenticator#authenticate(AuthenticationToken) authenticate(token)&#125; method. The * Authenticator then executes the authentication/log-in process. * &lt;p/&gt; * &lt;p&gt;Common implementations of an &lt;tt&gt;AuthenticationToken&lt;/tt&gt; would have username/password * pairs, X.509 Certificate, PGP key, or anything else you can think of. The token can be * anything needed by an &#123;@link Authenticator&#125; to authenticate properly. * &lt;p/&gt; * &lt;p&gt;Because applications represent user data and credentials in different ways, implementations * of this interface are application-specific. You are free to acquire a user&#x27;s principals and * credentials however you wish (e.g. web form, Swing form, fingerprint identification, etc) and * then submit them to the Shiro framework in the form of an implementation of this * interface. * &lt;p/&gt; * &lt;p&gt;If your application&#x27;s authentication process is username/password based * (like most), instead of implementing this interface yourself, take a look at the * &#123;@link UsernamePasswordToken UsernamePasswordToken&#125; class, as it is probably sufficient for your needs. * &lt;p/&gt; * &lt;p&gt;RememberMe services are enabled for a token if they implement a sub-interface of this one, called * &#123;@link RememberMeAuthenticationToken RememberMeAuthenticationToken&#125;. Implement that interface if you need * RememberMe services (the &lt;tt&gt;UsernamePasswordToken&lt;/tt&gt; already implements this interface). * &lt;p/&gt; * &lt;p&gt;If you are familiar with JAAS, an &lt;tt&gt;AuthenticationToken&lt;/tt&gt; replaces the concept of a * &#123;@link javax.security.auth.callback.Callback&#125;, and defines meaningful behavior * (&lt;tt&gt;Callback&lt;/tt&gt; is just a marker interface, and of little use). We * also think the name &lt;em&gt;AuthenticationToken&lt;/em&gt; more accurately reflects its true purpose * in a login framework, whereas &lt;em&gt;Callback&lt;/em&gt; is less obvious. * * @see RememberMeAuthenticationToken * @see HostAuthenticationToken * @see UsernamePasswordToken * @since 0.1 */ æˆ‘ä»¬å¯ä»¥è·å¾—è¿™äº›ä¿¡æ¯ï¼š AuthenticationToken is a consolidation of an accountâ€™s principals and supportingï¼šå®ƒæ˜¯å¯¹å¸æˆ·ä¸»ä½“å’Œæ”¯æŒçš„æ•´åˆã€‚ credentials submitted by a user during an authentication attemptï¼šç”¨æˆ·åœ¨èº«ä»½éªŒè¯å°è¯•æœŸé—´æäº¤çš„å‡­æ®ã€‚å½“ç„¶é€šè¿‡ç±»åæˆ‘ä»¬ä¹Ÿèƒ½çŸ¥é“ï¼Œè¿™æ˜¯ä¸€ç§å‡­æ®Tokenã€‚ Common implementations of an AuthenticationToken would have username/password pairs, X.509 Certificate, PGP key, or anything else you can think of. The token can beï¼šæ˜¾è€Œæ˜“è§ï¼Œè¿™ä¸ªç±»è®¤ä¸ºå®ç°è¿™ä¸ªæ¥å£çš„ç±»ï¼Œåº”å½“æä¾›ä¸€äº›æ¯”å¦‚ç”¨æˆ·å/å¯†ç è¿™ç§ç”¨æˆ·ç™»å½•çš„å‡­è¯ï¼Œæˆ–è€…æ˜¯å…¶ä»–ä½ è®¤ä¸ºå¯ä»¥éªŒè¯ç”¨æˆ·çš„å‡­æ® If your application authentication process is username/password based(like most), instead of implementing this interface yourself, take a look at the &#123;@link UsernamePasswordToken UsernamePasswordToken&#125; class, as it is probably sufficient for your needs. 1234567891011121314151617181920è¿™é‡Œå°±æ˜¯é‡ç‚¹äº†ï¼Œæ—¢ç„¶è¿™ä¸ªç±»æ˜¯ä¸€ä¸ªæ¥å£ç±»ï¼Œå®ç°å…¶ç±»çš„æ—¶å€™è¯´è¿‡äº†è¦æ³¨æ„å¯¹ç”¨æˆ·ç™»é™†çš„å‡­æ®è¿›è¡Œä¸€äº›å¤„ç†ï¼Œé‚£ä¹ˆè¿™ä¸€è¡Œæ³¨é‡Šå°±éå¸¸é‡è¦ï¼šä»–è¯´å¦‚æœä½ çš„éªŒè¯è¿‡ç¨‹æ˜¯åŸºäºç”¨æˆ·å&#x2F;å¯†ç çš„æ–¹å¼ï¼Œä½ å¯èƒ½éœ€è¦çœ‹çœ‹UsernamePasswordTokenè¿™ä¸ªç±»ï¼Œä»–å¯èƒ½ä¼šç»™ä½ æä¾›ä½ æ‰€éœ€è¦çš„ã€‚- å†å¾€åè¿˜æœ‰å¯¹RememberMeAuthenticationTokenå’ŒCallbackçš„é™ˆè¿°ï¼Œæ˜¾è€Œæ˜“è§ã€‚å›å¤´æ¥çœ‹æˆ‘ä»¬çš„è¿™ä¸ªç±»ï¼Œåˆšåˆšæˆ‘å¹¶æ²¡æœ‰å†™å‡ºè¿™ä¸ªå‡½æ•°å†…éƒ¨çš„ä»£ç ï¼Œç°åœ¨æ¥çœ‹çœ‹æˆ‘æ˜¯æ€ä¹ˆå†™çš„ï¼š&#96;&#96;&#96;java@Override protected AuthenticationInfo doGetAuthenticationInfo(AuthenticationToken token) throws AuthenticationException &#123; UsernamePasswordToken userToken &#x3D; (UsernamePasswordToken) token; User user &#x3D; IUserService.findByName(userToken.getUsername()); if(user !&#x3D; null) &#123; &#x2F;&#x2F;è¯¥å¯¹è±¡ä¼šè®°å½•åœ¨Shiroä¸­è®¤ä¸ºæ˜¯info,ç™»å½•å’Œç¼“å­˜åˆ¤æ–­æ—¶ä½¿ç”¨ SimpleAuthenticationInfo simpleAuthenticationInfo &#x3D; new SimpleAuthenticationInfo(user, user.getPassword(),EncodeUtil.getSalt(user.getUserId()),getName()); return simpleAuthenticationInfo; &#125; return null; &#125; æˆ‘ä½¿ç”¨äº†UsernamePasswordTokenï¼Œä¸Šæ–‡è¯´è¿‡ï¼Œä»–å®ç°äº†AuthenticationTokenï¼Œæˆ‘çš„åº”ç”¨ç¨‹åºä¸­æ­£æ˜¯ä½¿ç”¨äº†è¿™ç§ç”¨æˆ·å+å¯†ç çš„éªŒè¯æ–¹å¼ï¼Œé‚£ä¹ˆå°†tokenå¼ºåˆ¶è½¬åŒ–æˆè¿™ç§ç±»å‹ä¹Ÿä¸ä¸ºå¥‡æ€ªï¼Œç°åœ¨æˆ‘ä»¬æ¥çœ‹çœ‹UsernamePasswordTokenè¿™ä¸ªç±»ï¼Œæ ¹æ®æºä»£ç ï¼š 1public class UsernamePasswordToken implements HostAuthenticationToken, RememberMeAuthenticationToken æˆ‘ä»¬çŸ¥é“ä»–å®ç°äº†HostAuthenticationToken, RememberMeAuthenticationTokenè¿™ä¸¤ä¸ªç±»ï¼Œè€Œç¬¬ä¸€ä¸ªåˆå®ç°äº†AuthenticationTokenï¼Œæ˜¾è€Œæ˜“è§äº†ã€‚ 1public interface HostAuthenticationToken extends AuthenticationToken å®ƒåªæœ‰ä¸€ä¸ªæ–¹æ³•é‚£å°±æ˜¯è¿”å›å®¢æˆ·ç«¯çš„hoståå­—ã€‚ 123456789101112131415/** * Returns the host name of the client from where the * authentication attempt originates or if the Shiro environment cannot or * chooses not to resolve the hostname to improve performance, this method * returns the String representation of the client&#x27;s IP address. * &lt;p/&gt; * When used in web environments, this value is usually the same as the * &#123;@code ServletRequest.getRemoteHost()&#125; value. * * @return the fully qualified name of the client from where the * authentication attempt originates or the String representation * of the client&#x27;s IP address is hostname resolution is not * available or disabled. */String getHost(); çœ‹çœ‹ç¬¬äºŒä¸ªRememberMeAuthenticationTokenæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ 123456789101112public interface RememberMeAuthenticationToken extends AuthenticationToken &#123; /** * Returns &#123;@code true&#125; if the submitting user wishes their identity (principal(s)) to be remembered * across sessions, &#123;@code false&#125; otherwise. * * @return &#123;@code true&#125; if the submitting user wishes their identity (principal(s)) to be remembered * across sessions, &#123;@code false&#125; otherwise. */ boolean isRememberMe();&#125; æ˜¾è€Œæ˜“è§ä»–ä¹Ÿç»§æ‰¿äº†AuthenticationTokenï¼Œä»–ä¹Ÿåªæœ‰ä¸€ä¸ªæ–¹æ³•ï¼Œé‚£å°±æ˜¯â€œè®°ä½æˆ‘ï¼Ÿâ€ï¼Œå®¢æˆ·åœ¨ä¸€æ¬¡ç™»å½•åå°†è®°ä½ï¼Œä¹‹åå¯ä»¥ä¸ç”¨é‡å¤ç™»å½•ã€‚æˆ–è®¸è‹±æ–‡æ›´é€‚åˆä½ çš„å£å‘³ï¼Ÿ 1234567891011/** * An &#123;@code AuthenticationToken&#125; that indicates if the user wishes their identity to be remembered across sessions. * &lt;p/&gt; * Note however that when a new session is created for the corresponding user, that user&#x27;s identity would be * remembered, but they are &lt;em&gt;NOT&lt;/em&gt; considered authenticated. Please see the * &#123;@link org.apache.shiro.subject.Subject#isRemembered()&#125; JavaDoc for an in-depth explanation of the semantic * differences of what it means to be remembered vs. authenticated. * * @see org.apache.shiro.subject.Subject#isRemembered() * @since 0.9 */ è¿”å›æ¥çœ‹æˆ‘ä»¬å½“å‰è¿™ä¸ªç±»UsernamePasswordTokenï¼Œä»–èƒ½å¤Ÿå¤„ç†â€œè®°ä½æˆ‘â€çš„åŠŸèƒ½åŒæ—¶èƒ½å¤ŸçŸ¥é“å®¢æˆ·ç«¯çš„åå­—ï¼Œé™¤å»ä¸€äº›åŸºæœ¬çš„æ„é€ å‡½æ•°ï¼Œæˆ‘ä»¬çœ‹çœ‹ä»–æœ‰ä»€ä¹ˆç‰¹æ®Šå‡½æ•°å‘¢ï¼Ÿ ä»–æœ‰username/passwordçš„setterå’Œgetterï¼Œæœ‰æ¸…ç©ºå‡­æ®çš„clearæ–¹æ³•ï¼Œä»…æ­¤è€Œå·²ï¼Œé‚£ä¹ˆæˆ‘ä»¬æƒ³åœ¨doGetAuthenticationInfoä¸­åˆ¤æ–­ç”¨æˆ·æ˜¯å¦åœ¨ç¼“å­˜è®°å½•ä¸­ï¼ˆæ˜¯å¦å·²ç»â€œè®°ä½æˆ‘â€ï¼‰çš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡getUsername()çš„æ–¹æ³•è·å¾—ç”¨æˆ·åï¼Œé€šè¿‡ç”¨æˆ·åè°ƒç”¨Serviceä¸­çš„æ–¹æ³•è·å¾—æŒ‡å®šç”¨æˆ·ã€‚ SimpleAuthenticationInfç°åœ¨æˆ‘ä»¬éœ€è¦æ¥çœ‹å¦ä¸€ä¸ªä¸œè¥¿AuthenticationInfoï¼Œå› ä¸ºä»–å’Œä¸Šè¿°ä»£ç ä¸­çš„SimpleAuthenticationInfoæœ‰å…³ç³»ï¼Œåœ¨æˆ‘ä»¬æ‰¾åˆ°å¯¹åº”ç”¨æˆ·çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¦‚ä½•å¤„ç†å‘¢ï¼Ÿ æˆ‘ä»¬çœ‹æºä»£ç ä¸­çš„æ³¨é‡Šï¼š 12&lt;code&gt;AuthenticationInfo&lt;/code&gt; represents a Subject&#x27;s (aka user&#x27;s) stored account information relevant to the* authentication/log-in process only. ä»–ä»£è¡¨ç€ä¸€ä¸ªSubjectï¼ˆå®¢æˆ·ä¸»ä½“ï¼‰å‚¨å­˜çš„è´¦å·ä¿¡æ¯å’Œè®¤è¯/ç™»å½•è¿‡ç¨‹æœ‰å…³ã€‚é‚£ä¹ˆä»–å’ŒAuthenticationTokenæœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ AuthenticationInfoæä¾›çš„æ˜¯represent already-verified and stored account dataï¼Œå°±æ˜¯å·²ç»å‡†å¤‡å¥½çš„ï¼Œå‚¨å­˜å¥½çš„è´¦æˆ·ä¿¡æ¯ AuthenticationTokençš„ä½œç”¨æ˜¯ï¼š 123AuthenticationToken represents data* submitted for any given login attempt (which may or may not successfully match the verified and stored account* &lt;code&gt;AuthenticationInfo&lt;/code&gt;). ä»–å¯¹ä»»ä½•çš„ç™»å½•è¯·æ±‚ï¼Œä¸ç®¡èƒ½ä¸èƒ½å¤Ÿé€šè¿‡éªŒè¯è¿›è¡Œç¡®è®¤å’Œå‚¨å­˜çš„ä¿¡æ¯ï¼Œéƒ½ä¼šè¿›è¡Œå¤„ç†ã€‚ äº†è§£äº†è¿™ä¸ªï¼Œæˆ‘ä»¬å›å¤´çœ‹è¿™ä¸ªç±»ï¼š 1public class SimpleAuthenticationInfo implements MergableAuthenticationInfo, SaltedAuthenticationInfo å°±æ˜¯æˆ‘ä»¬åˆšåˆšæåŠçš„æˆ‘ä»¬ä½¿ç”¨çš„è¿™ä¸ªç±»ä»–å®ç°çš„MergableAuthenticationInfo, SaltedAuthenticationInfoæœ‰ä»€ä¹ˆç‰¹ç‚¹å‘¢ï¼Ÿ MergableAuthenticationInfoï¼š 1public interface MergableAuthenticationInfo extends AuthenticationInfo ä»–å°±æ˜¯ç»§æ‰¿è‡ªAuthenticationInfoè¿™ä¸ªç±»ï¼Œä»–æœ‰ä»€ä¹ˆä½œç”¨å‘¢ï¼Ÿ 1void merge(AuthenticationInfo info); é‚£å°±æ˜¯åˆå¹¶ï¼Œç®€è€Œè¨€ä¹‹ä¸è¦é‡å¤å‘—ï¼Œç›¸åŒçš„ç”¨æˆ·ä¸è¦åˆ›å»ºå¤šæ¬¡ï¼Œæˆ‘ä»¬è¿˜éœ€è¦è®°å½•æœ€æ–°çš„ä¸€ä¸ªå³å¯ã€‚ SaltedAuthenticationInfoï¼š 1public interface SaltedAuthenticationInfo extends AuthenticationInfo ä»–ä¹Ÿæ˜¯ç»§æ‰¿è‡ªAuthenticationInfoï¼Œæ˜¾è€Œæ˜“è§è¿™æ˜¯ä¸€ä¸ªç”¨äºâ€œåŠ ç›â€çš„å·¥å…·ï¼Œä»–çš„åŠŸèƒ½å°±æ˜¯ï¼š 1ByteSource getCredentialsSalt(); è·å¾—Saltç›ï¼ŒåŠ ç›æ˜¯ä¸ªéå¸¸é‡è¦çš„è¿‡ç¨‹ï¼Œå¯¹äºå®‰å…¨æ€§æœ‰äº†è¿›ä¸€æ­¥çš„ä¿éšœï¼Œå¦‚æœæˆ‘ä»¬è¿›è¡Œäº†åŠ ç›æ“ä½œï¼Œé‚£ä¹ˆè¿™ä¸ªç±»å°±æ´¾å¾—ä¸Šç”¨åœºäº†ã€‚ åˆ†æè¿‡è¿™ä¸¤ä¸ªäº†ç±»åŠä»–ä»¬çš„çˆ¶ç±»ï¼Œæˆ‘ä»¬å°±ç†è§£äº†SimpleAuthenticationInfoæ˜¯åšä»€ä¹ˆçš„äº†ï¼š æˆ‘ä»¬å¯ä»¥ç”¨ä»–å…¶ä¸­çš„æ„é€ æ–¹æ³•ï¼Œå¯¹å®¢æˆ·é…ç½®å¾ˆå¤šå±æ€§ï¼Œæ¯”å¦‚ï¼š 12345public SimpleAuthenticationInfo(Object principal, Object hashedCredentials, ByteSource credentialsSalt, String realmName) &#123; this.principals = new SimplePrincipalCollection(principal, realmName); this.credentials = hashedCredentials; this.credentialsSalt = credentialsSalt;&#125; è®¾ç½®ç”¨æˆ·å¯¹è±¡ï¼Œç”¨æˆ·å¯†ç ï¼Œç›ï¼Œç”¨æˆ·åç­‰ç­‰ï¼Œå°†è¿™ä¸ªå¯¹è±¡ä½œä¸ºdoGetAuthenticationInfoå‡½æ•°çš„è¿”å›å€¼ï¼Œæˆ‘ä»¬å°±åšå®Œäº†æœ¬æ¬¡æ“ä½œï¼Œå½“ç„¶å¦‚æœæŸ¥ä¸åˆ°ç”¨æˆ·ï¼Œè¿”å›nullå³å¯ã€‚ 2.doGetAuthorizationInfo(PrincipalCollection principals)è¿™ä¸ªåŠŸèƒ½æˆ‘ä»¬åšä»€ä¹ˆå‘¢ï¼Ÿå®šä¹‰å¦‚ä½•è·å–ç”¨æˆ·çš„è§’è‰²å’Œæƒé™çš„é€»è¾‘ï¼Œç»™shiroåšæƒé™åˆ¤æ–­ã€‚ PrincipalCollection æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿä»–å°±æ˜¯ç¼“å­˜ä¸­çš„ç”¨æˆ·å‡­è¯ï¼Œä½ å¦‚æœé—®æˆ‘ç¼“å­˜æ€ä¹ˆæ¥çš„ï¼Œé‚£ä¹ˆä½ ä¸Šè¾¹çš„ä¸€å®šæ²¡ç†è§£ï¼Œå°±æ˜¯**doGetAuthenticationInfo(AuthenticationToken token)**æ³¨å…¥çš„å‘€ï¼ æ—¢ç„¶è¿™ä¸ªå‡½æ•°æ˜¯å®šä¹‰å¦‚ä½•è·å–ç”¨æˆ·çš„è§’è‰²å’Œæƒé™çš„é€»è¾‘çš„ï¼Œé‚£ä¹ˆå¦‚ä½•è·å¾—å‘¢ï¼Ÿ 1String username = (String) super.getAvailablePrincipal(principals); æˆ‘ä»¬é€šè¿‡superä¸­çš„getAvailablePrincipalæ–¹æ³•ï¼Œè·å¾—å¯ç”¨çš„ç”¨æˆ·å‡­æ®ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬çš„ç”¨æˆ·åï¼Œæœ‰äº†ç”¨æˆ·åæˆ‘ä»¬å°±èƒ½å¾—åˆ°è¿™ä¸ªç”¨æˆ·çš„æ‰€æœ‰ä¿¡æ¯ï¼ˆæˆ–è€…ä¸ºnullï¼‰ï¼š 123456789User user = IUserService.findByName(username);if(user != null)&#123; SimpleAuthorizationInfo info = new SimpleAuthorizationInfo(); Set&lt;String&gt; roles = user.getRoleList().stream().map(role -&gt; role.getRoleName()).collect(Collectors.toSet()); //å­˜æ”¾ç”¨æˆ·æƒé™ info.setRoles(roles); return info;&#125;return null; æœ‰çš„è¯é‚£æœ€å¥½ï¼Œæˆ‘ä»¬å®šä¹‰ä»–çš„æƒé™è§’è‰²ï¼Œå¹¶setRolesè®¾ç½®è¿›å»ï¼Œè¿™é‡Œä½¿ç”¨çš„æ˜¯Seté›†ï¼Œä¹Ÿå°±æ˜¯ä¸å…è®¸é‡å¤ï¼Œè¿”å›è¿™ä¸ªinfoå°±æ‹¥æœ‰äº†è§’è‰²ï¼Œä¹‹åæˆ‘ä»¬è¿›è¡Œåˆ¤æ–­çš„æ—¶å€™å°±çŸ¥é“è¿™ä¸ªç”¨æˆ·æœ‰å“ªäº›è§’è‰²å’Œæƒé™èƒ½åšä»€ä¹ˆäº‹æƒ…ã€‚ å¥½äº†ï¼Œåˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å°±å®šåˆ¶åŒ–äº†éªŒè¯æ–¹æ³•ï¼Œå®Œæˆäº†ShiroRealm é…ç½®ShiroFilterFactoryBeanè¿‡æ»¤å™¨è¿‡æ»¤å™¨ï¼Œé¡¾åæ€ä¹‰ï¼Œè®¾ç½®å¯¹åº”çš„è¿‡æ»¤æ¡ä»¶å’Œè·³è½¬æ¡ä»¶ã€‚ 12@Beanpublic ShiroFilterFactoryBean shiroFilterFactoryBean(DefaultWebSecurityManager securityManager) è¿™ä¸ªå‡½æ•°çš„è¿”å›å€¼æ˜¯ShiroFilterFactoryBeanï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹æºæ–‡ä»¶ä¸­çš„ä»‹ç»ï¼š To prevent configuration duplication, this implementation provides the following properties to allow you to set relevant values in only one place: ç¿»è¯‘è¿‡æ¥å°±æ˜¯ï¼šä¸ºäº†é˜²æ­¢é…ç½®é‡å¤ï¼Œè¿™ä¸ªå®ç°æä¾›äº†ä»¥ä¸‹å±æ€§ï¼Œå…è®¸æ‚¨åªåœ¨ä¸€ä¸ªåœ°æ–¹è®¾ç½®ç›¸å…³å€¼: è¿™äº›å±æ€§å°±æ˜¯ï¼š setLoginUrl(String) 123- &#96;&#96;&#96; setSuccessUrl(String) setUnauthorizedUrl(String) 1234567891011121314ä½¿ç”¨è¿™ä¸‰ä¸ªæœ‰ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿ&#96;Then at startup, any values specified via these 3 properties will be applied to all configured Filter instances so you don&#39;t have to specify them individually on each filter instance. To ensure your own custom filters benefit from this convenience, your filter implementation should subclass one of the 3 mentioned earlier.&#96;ç¿»è¯‘è¿‡æ¥å°±æ˜¯ï¼š&#96;ç„¶ååœ¨å¯åŠ¨æ—¶ï¼Œé€šè¿‡è¿™3ä¸ªå±æ€§æŒ‡å®šçš„ä»»ä½•å€¼éƒ½å°†åº”ç”¨äºæ‰€æœ‰å·²é…ç½®çš„è¿‡æ»¤å™¨å®ä¾‹ï¼Œè¿™æ ·æ‚¨å°±ä¸å¿…åœ¨æ¯ä¸ªè¿‡æ»¤å™¨å®ä¾‹ä¸Šåˆ†åˆ«æŒ‡å®šå®ƒä»¬ã€‚ä¸ºäº†ç¡®ä¿æ‚¨è‡ªå·±çš„è‡ªå®šä¹‰è¿‡æ»¤å™¨èƒ½å¤Ÿä»è¿™ç§ä¾¿åˆ©ä¸­è·ç›Šï¼Œæ‚¨çš„è¿‡æ»¤å™¨å®ç°åº”è¯¥ç»§æ‰¿å‰é¢æåˆ°çš„ä¸‰ä¸ªè¿‡æ»¤å™¨ä¹‹ä¸€ã€‚&#96;1. ç”³è¯·ä¸€ä¸ªShiroFilterFactoryBean:&#96;&#96;&#96;javaShiroFilterFactoryBean shiroFilterFactoryBean &#x3D; new ShiroFilterFactoryBean();shiroFilterFactoryBean.setSecurityManager(securityManager); å®šä¹‰ä¸€ä¸ªMapæ¥å‚¨å­˜äº†è·¯ç”±è§„åˆ™ 1234567891011Map&lt;String, String&gt; map = new LinkedHashMap&lt;&gt;();// æ¯”å¦‚é™æ€èµ„æºmap.put(&quot;/*.html&quot;,&quot;anon&quot;);map.put(&quot;/**/*.css&quot;,&quot;anon&quot;);map.put(&quot;/**/*.js&quot;,&quot;anon&quot;);map.put(&quot;/**/*.png&quot;,&quot;anon&quot;);map.put(&quot;/**/*.jpg&quot;,&quot;anon&quot;);map.put(&quot;/**/*.jpeg&quot;,&quot;anon&quot;);map.put(&quot;/**/*.html&quot;,&quot;anon&quot;);shiroFilterFactoryBean.setFilterChainDefinitionMap(map); è®¾ç½®ç™»å½•é¡µé¢ 1shiroFilterFactoryBean.setLoginUrl(&quot;/*/login&quot;); è¿”å›return 1return shiroFilterFactoryBean; é…ç½®ShiroRealmçš„beanä¸Šæ–‡æåˆ°é…ç½®è‡ªå®šä¹‰çš„ShiroRealm,æˆ‘ä»¬éœ€è¦åœ¨ShiroConfigä¸­å°†å…¶ä½œä¸ºbeanæ³¨å…¥ 1234567891011121314/** * è‡ªå®šä¹‰éªŒè¯æ–¹æ³•åŠ å…¥åˆ°å®¹å™¨ä¸­ * å½“å‰ä½¿ç”¨çš„ä¸æ˜¯æ¡†æ¶é»˜è®¤çš„ç®€å•å¯†ç åŒ¹é…æ–¹æ³• * è¯¥æ–¹æ˜¯MD5åŠ ç›çš„å¯¹ç§°åŠ å¯†ç®—æ³• * * @return ShiroRealm */ @Bean public ShiroRealm shiroRealm()&#123; ShiroRealm shiroRealm = new ShiroRealm(); //åŠ å…¥åŠ å¯†ç®—æ³• shiroRealm.setCredentialsMatcher(shiroHashedCredentialsMatcher()); return shiroRealm; &#125; ä»£ç ä¸­æåˆ°çš„setCredentialsMatcher,ä¹Ÿæ˜¯ä¸‹ä¸€æ­¥è¦è°ˆåˆ°çš„ é…ç½®å¯†ç æ ¡éªŒè§„åˆ™HashedCredentialsMatcher1234567891011121314151617/** * å¯†ç æ ¡éªŒè§„åˆ™HashedCredentialsMatcher * è¿™ä¸ªç±»æ˜¯ä¸ºäº†å¯¹å¯†ç è¿›è¡Œç¼–ç çš„ * é˜²æ­¢å¯†ç åœ¨æ•°æ®åº“é‡Œæ˜ç ä¿å­˜ ,å½“ç„¶åœ¨ç™»é™†è®¤è¯çš„æ—¶å€™ * è¿™ä¸ªç±»ä¹Ÿè´Ÿè´£å¯¹formé‡Œè¾“å…¥çš„å¯†ç è¿›è¡Œç¼–ç  * å¤„ç†è®¤è¯åŒ¹é…å¤„ç†å™¨ï¼šå¦‚æœè‡ªå®šä¹‰éœ€è¦å®ç°ç»§æ‰¿HashedCredentialsMatcher */ @Bean(&quot;hashedCredentialsMatcher&quot;) public HashedCredentialsMatcher shiroHashedCredentialsMatcher() &#123; HashedCredentialsMatcher credentialsMatcher = new HashedCredentialsMatcher(); //æŒ‡å®šåŠ å¯†æ–¹å¼ä¸ºMD5 credentialsMatcher.setHashAlgorithmName(&quot;MD5&quot;); //åŠ å¯†æ¬¡æ•° credentialsMatcher.setHashIterations(1024); credentialsMatcher.setStoredCredentialsHexEncoded(true); return credentialsMatcher; &#125; æ¥äº†è§£ä¸€ä¸‹HashedCredentialsMatcheræ˜¯ä»€ä¹ˆ?å®˜ç½‘åœ°å€ å®ç°çš„ä¹‹ç±»: Md2CredentialsMatcher, Md5CredentialsMatcher, Sha1CredentialsMatcher, Sha256CredentialsMatcher, Sha384CredentialsMatcher, Sha512CredentialsMatcher è¯ä¹¦æ•£åˆ—æ˜¯ä¿æŠ¤ç”¨æˆ·ç§æœ‰å‡­æ®(å¯†ç ã€å¯†é’¥ç­‰)æ—¶æœ€å¸¸è§çš„å®‰å…¨æŠ€æœ¯ä¹‹ä¸€ã€‚å¤§å¤šæ•°å¼€å‘äººå‘˜ä»æ¥ä¸æƒ³ä»¥æ™®é€šçš„å½¢å¼å­˜å‚¨ç”¨æˆ·çš„å‡­æ®ï¼Œä»»ä½•äººéƒ½å¯ä»¥æŸ¥çœ‹ï¼Œå› æ­¤ä»–ä»¬é€šå¸¸ä¼šåœ¨å°†ç”¨æˆ·çš„å‡­æ®ä¿å­˜åˆ°æ•°æ®å­˜å‚¨åŒºä¹‹å‰å¯¹å…¶è¿›è¡Œæ•£åˆ—ã€‚ è¿™ä¸ªç±»(åŠå…¶å­ç±»)åŠŸèƒ½å¦‚ä¸‹ï¼š æ•£åˆ—AuthenticationTokenç”¨æˆ·åœ¨ç™»å½•æœŸé—´æä¾›çš„å‡­æ®ã€‚ å°†æ­¤æ•£åˆ—å€¼ç›´æ¥ä¸AuthenticationInfoå­˜å‚¨åœ¨ç³»ç»Ÿä¸­çš„å‡­æ®(å­˜å‚¨å¸æˆ·å‡­æ®é¢„è®¡å·²ç»ä»¥æ•£åˆ—å½¢å¼å‡ºç°)ã€‚ å¦‚æœè¿™ä¸¤ä¸ªå€¼æ˜¯equalï¼Œåˆ™æäº¤çš„å‡­æ®åŒ¹é…ï¼Œå¦åˆ™ä¸åŒ¹é…ã€‚ è¿‡ç¨‹å¾ˆå¥½ç†è§£,ä½†æ˜¯æˆ‘ä»¬è¿˜åº”å½“ç»§ç»­ä½¿ç”¨â€åŠ ç›â€ ç›æ¸å’Œå¤šé‡æ•£åˆ—è¿­ä»£ å› ä¸ºç®€å•çš„æ•£åˆ—é€šå¸¸å¯¹å®‰å…¨çš„åº”ç”¨ç¨‹åºä¸å¤Ÿå¥½ï¼Œè¿™ä¸ªç±»ä¹Ÿæ”¯æŒâ€˜ç›æâ€™å’Œå¤šä¸ªæ•£åˆ—è¿­ä»£ã€‚è¯·è¯»è¿™ç¯‡ç²¾å½©çš„æ–‡ç«  æ•£åˆ—Javaæ–‡ç«  è‹¥è¦äº†è§£ç›æ¸å’Œå¤šæ¬¡è¿­ä»£ï¼Œä»¥åŠæ‚¨å¯èƒ½éœ€è¦ä½¿ç”¨å®ƒä»¬çš„åŸå› ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹æ“ä½œã€‚(æ³¨ï¼šç¬¬5æ¡â€œä¸ºä½•åŠ ç›ï¼Ÿâ€å’Œ6â€œåŠ å¼ºå¯¹æŠ—æ”»å‡»è€…çš„æ”»å‡»â€)ã€‚æˆ‘ä»¬è¿˜åº”è¯¥æ³¨æ„åˆ°ï¼ŒShiroçš„æ‰€æœ‰Hashå®ç°(ä¾‹å¦‚ï¼ŒMd5Hash``Sha1Hashç­‰)é€šè¿‡é‡è½½æ„é€ å‡½æ•°æ”¯æŒç›æå’Œå¤šä¸ªæ•£åˆ—è¿­ä»£ã€‚ æ¥çœ‹ä¸€ä¸‹æˆ‘ä½¿ç”¨åˆ°çš„Api void setHashAlgorithmName(String hashAlgorithmName)è®¾ç½®Hash algorithmNameåœ¨ä¸ºå‡­æ®åŒ¹é…æ‰§è¡Œæ•£åˆ—æ—¶ä½¿ç”¨ã€‚ void setHashIterations(int hashIterations)è®¾ç½®æäº¤çš„æ¬¡æ•°ã€‚AuthenticationTokenåœ¨ä¸ç³»ç»Ÿä¸­å­˜å‚¨çš„å‡­æ®è¿›è¡Œæ¯”è¾ƒä¹‹å‰ï¼Œå°†å¯¹å…¶å‡­è¯è¿›è¡Œæ•£åˆ—ã€‚ void setStoredCredentialsHexEncoded(boolean storedCredentialsHexEncoded)å¦‚æœç³»ç»Ÿå­˜å‚¨çš„å‡­æ®æ•£åˆ—æ˜¯å¦å·²ç¼–ç ï¼Œåˆ™è®¾ç½®æŒ‡ç¤ºç¬¦ã€‚ æˆ‘ä»¬ä½¿ç”¨è¿™æ ·çš„åŠ å¯†æ–¹å¼,é…ç½®åˆ°ShiroRealmä¸­å» è¿™æ ·,æœ€åŸºæœ¬çš„é…ç½®å°±å‘Šä¸€æ®µè½,å¾ˆå¤šåœ°æ–¹è¿˜æ˜¯éœ€è¦ä¿®æ”¹çš„,æ—¥åå†è°ˆ","categories":[{"name":"FamilyManage","slug":"FamilyManage","permalink":"http://www.octber.xyz/categories/FamilyManage/"}],"tags":[{"name":"FamilyManage","slug":"FamilyManage","permalink":"http://www.octber.xyz/tags/FamilyManage/"}]},{"title":"FamilyManageå¼€å‘-Springbootåç«¯","slug":"FamilyManageå¼€å‘-Springbootåç«¯","date":"2019-06-07T09:01:44.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/06/07/FamilyManageå¼€å‘-Springbootåç«¯/","link":"","permalink":"http://www.octber.xyz/2019/06/07/FamilyManage%E5%BC%80%E5%8F%91-Springboot%E5%90%8E%E7%AB%AF/","excerpt":"å‰è¨€æœ¬é¡¹ç›®çš„åç«¯é‡‡ç”¨Springbootæ¡†æ¶è¿›è¡Œå¼€å‘ã€‚","text":"å‰è¨€æœ¬é¡¹ç›®çš„åç«¯é‡‡ç”¨Springbootæ¡†æ¶è¿›è¡Œå¼€å‘ã€‚ å¼€å‘çš„IDEæˆ‘é‡‡ç”¨InteliJ IDEAï¼Œä½¿ç”¨Mavenä½œä¸ºç‰ˆæœ¬æ§åˆ¶å·¥å…·ï¼Œæ²¡æœ‰ä½¿ç”¨Gradleæ˜¯å› ä¸ºè™½ç„¶Gradleæ›´ä¸ºç®€æ´ï¼Œä½†æ˜¯çµæ´»æ€§å¤ªé«˜ï¼Œè™½ç„¶Mavenå†™çš„æ›´ä¸ºç¹çï¼Œä½†æ˜¯é€»è¾‘æ€§æ›´å¼ºï¼Œçœ‹èµ·æ¥ç»“æ„æ›´ä¸ºæ¸…æ™°ã€‚ é™„å½•æˆ‘åˆ›å»ºæ—¶çš„pom.xmlï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;2.1.5.RELEASE&lt;/version&gt; &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt; &lt;/parent&gt; &lt;groupId&gt;onlypear&lt;/groupId&gt; &lt;artifactId&gt;familygrow&lt;/artifactId&gt; &lt;version&gt;1.0.0-FAMILY&lt;/version&gt; &lt;name&gt;familygrow&lt;/name&gt; &lt;description&gt;family grow web server&lt;/description&gt; &lt;properties&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;2.0.1&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;scope&gt;runtime&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.projectlombok&lt;/groupId&gt; &lt;artifactId&gt;lombok&lt;/artifactId&gt; &lt;optional&gt;true&lt;/optional&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.shiro&lt;/groupId&gt; &lt;artifactId&gt;shiro-spring-boot-web-starter&lt;/artifactId&gt; &lt;version&gt;1.4.0&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt; ç›®å‰ä½¿ç”¨åˆ°çš„ Spring Shiro å®‰å…¨æ§åˆ¶ï¼ˆæƒé™æ§åˆ¶ï¼‰ Mybatis å®šåˆ¶åŒ–å¤„ç†SQL MySQL ä½¿ç”¨è…¾è®¯äº‘ä¸»æœºé…ç½®çš„MySQL Lombok ç¼–è¯‘æ—¶ç”Ÿæˆï¼Œç®€åŒ–ä»£ç  å°†æ¥ä½¿ç”¨çš„ RabbitMQ æ¶ˆæ¯é˜Ÿåˆ— Redis ç¼“å­˜ Spring Cloud Mail é‚®ä»¶æœåŠ¡ OSS å¯¹è±¡å‚¨å­˜ ã€‚ã€‚ã€‚","categories":[{"name":"FamilyManage","slug":"FamilyManage","permalink":"http://www.octber.xyz/categories/FamilyManage/"}],"tags":[{"name":"FamilyManage","slug":"FamilyManage","permalink":"http://www.octber.xyz/tags/FamilyManage/"}]},{"title":"FamilyManageå¼€å‘-Vueåˆ›å»ºé¡¹ç›®","slug":"FamilyManageå¼€å‘-Vueåˆ›å»ºé¡¹ç›®","date":"2019-06-06T12:38:41.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/06/06/FamilyManageå¼€å‘-Vueåˆ›å»ºé¡¹ç›®/","link":"","permalink":"http://www.octber.xyz/2019/06/06/FamilyManage%E5%BC%80%E5%8F%91-Vue%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE/","excerpt":"å‰è¨€æœ¬èŠ‚é€šè¿‡Vue-cli v3.6.3åˆ›å»ºVueé¡¹ç›®ã€‚","text":"å‰è¨€æœ¬èŠ‚é€šè¿‡Vue-cli v3.6.3åˆ›å»ºVueé¡¹ç›®ã€‚ åˆ›å»ºnrmé¦–å…ˆæˆ‘ä»¬ä½¿ç”¨nrmè®¾ç½®ï¼Œå¼€å‘çš„npm registry ç®¡ç†å·¥å…· nrm, èƒ½å¤ŸæŸ¥çœ‹å’Œåˆ‡æ¢å½“å‰ä½¿ç”¨çš„registryã€‚nrmçš„å®‰è£…åŠåŸºæœ¬æ“ä½œï¼š 12345npm install -g nrmnrm lsnrm use [name] # æˆ‘ä½¿ç”¨nrm use taobaonrm helpnrm home [name] # æŸ¥çœ‹å¯¹åº”æºçš„å®˜ç½‘ ç¬¬ä¸€æ­¥åˆ›å»ºVueé¡¹ç›®æˆ‘ä»¬åªéœ€è¦ 1vue create family-manage ç¬¬ä¸€æ¬¡ä¼šè®©æˆ‘ä»¬é€‰æ‹©please pick a presetï¼Œä½¿ç”¨é»˜è®¤æˆ–è€…æ‰‹åŠ¨é…ç½® è¿™é‡Œå°±æœ‰å¿…è¦ä¸€ä¸€çœ‹ä¸€ä¸‹éƒ½æ˜¯äº›ä»€ä¹ˆä¸œè¥¿äº†ã€‚ Babel å®˜ç½‘èµ°ä¸€æ³¢ï¼šhttps://babeljs.io æ¨èä¸€æ³¢ä¼˜ç§€åšæ–‡ï¼šhttps://www.cnblogs.com/gg1234/p/7168750.html æ¬è¿å·¥ï¼š babelå®˜ç½‘æ­£ä¸­é—´ä¸€è¡Œé»„è‰²å¤§å­—å†™ç€â€œbabel is a javascript compilerâ€ï¼Œç¿»è¯‘ä¸€ä¸‹å°±æ˜¯babelæ˜¯ä¸€ä¸ªjavascriptè½¬è¯‘å™¨ã€‚ä¸ºä»€ä¹ˆä¼šæœ‰babelå­˜åœ¨å‘¢ï¼ŸåŸå› æ˜¯javascriptåœ¨ä¸æ–­çš„å‘å±•ï¼Œä½†æ˜¯æµè§ˆå™¨çš„å‘å±•é€Ÿåº¦è·Ÿä¸ä¸Šã€‚ä»¥es6ä¸ºä¾‹ï¼Œes6ä¸­ä¸ºjavascriptå¢åŠ äº†ç®­å¤´å‡½æ•°ã€å—çº§ä½œç”¨åŸŸç­‰æ–°çš„è¯­æ³•å’ŒSymbolã€Promiseç­‰æ–°çš„æ•°æ®ç±»å‹ï¼Œä½†æ˜¯è¿™äº›è¯­æ³•å’Œæ•°æ®ç±»å‹å¹¶ä¸èƒ½å¤Ÿé©¬ä¸Šè¢«ç°åœ¨çš„æµè§ˆå™¨å…¨éƒ¨æ”¯æŒï¼Œä¸ºäº†èƒ½åœ¨ç°æœ‰çš„æµè§ˆå™¨ä¸Šä½¿ç”¨jsæ–°çš„è¯­æ³•å’Œæ–°çš„æ•°æ®ç±»å‹ï¼Œå°±éœ€è¦ä½¿ç”¨ä¸€ä¸ªè½¬è¯‘å™¨ï¼Œå°†javascriptä¸­æ–°å¢çš„ç‰¹æ€§è½¬ä¸ºç°ä»£æµè§ˆå™¨èƒ½ç†è§£çš„å½¢å¼ã€‚babelå°±æ˜¯åšè¿™ä¸ªæ–¹é¢çš„è½¬åŒ–å·¥ä½œã€‚ æ˜¾è€Œæ˜“è§æˆ‘ä»¬åº”å½“é€‰æ‹©Balbel TypeScriptä¸€ä¸‹å†…å®¹æ¥è‡ªäº Hongtenã€‚ TypeScriptæ˜¯JavaScriptç±»å‹çš„è¶…é›†ï¼Œå¹¶ä¸”å¯ä»¥ç¼–è¯‘ä¸ºçº¯JavaScriptã€‚åœ¨ä»»ä½•æµè§ˆå™¨ï¼Œé›†ç¾¤ï¼ˆæœåŠ¡å™¨ï¼‰ï¼Œæ“ä½œç³»ç»Ÿä¸Šé¢éƒ½å¯ä»¥è¿è¡Œï¼Œè€Œä¸”è¿˜å¼€æºã€‚TypeScriptçš„æ¥æºäºå¾®è½¯çš„å›¢é˜Ÿã€‚ TypeScript æ˜¯ JavaScript çš„å¼ºç±»å‹ç‰ˆæœ¬ã€‚ç„¶ååœ¨ç¼–è¯‘æœŸå»æ‰ç±»å‹å’Œç‰¹æœ‰è¯­æ³•ï¼Œç”Ÿæˆçº¯ç²¹çš„ JavaScript ä»£ç ã€‚ç”±äºæœ€ç»ˆåœ¨æµè§ˆå™¨ä¸­è¿è¡Œçš„ä»ç„¶æ˜¯ JavaScriptï¼Œæ‰€ä»¥ TypeScript å¹¶ä¸ä¾èµ–äºæµè§ˆå™¨çš„æ”¯æŒï¼Œä¹Ÿå¹¶ä¸ä¼šå¸¦æ¥å…¼å®¹æ€§é—®é¢˜ã€‚ TypeScript æ˜¯ JavaScript çš„è¶…é›†ï¼Œè¿™æ„å‘³ç€ä»–æ”¯æŒæ‰€æœ‰çš„ JavaScript è¯­æ³•ã€‚å¹¶åœ¨æ­¤ä¹‹ä¸Šå¯¹ JavaScript æ·»åŠ äº†ä¸€äº›æ‰©å±•ï¼Œå¦‚ class / interface / module ç­‰ã€‚è¿™æ ·ä¼šå¤§å¤§æå‡ä»£ç çš„å¯é˜…è¯»æ€§ã€‚ä½¿ç”¨è¿‡Javaçš„åŒå­¦å°±æ›´èƒ½å¤Ÿæ˜ç™½è¿™ä¸ªé“ç†ã€‚ å¼ºç±»å‹è¯­è¨€çš„ä¼˜åŠ¿åœ¨äºé™æ€ç±»å‹æ£€æŸ¥ï¼Œæ¦‚æ‹¬æ¥è¯´ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ç‚¹ï¼š é™æ€ç±»å‹æ£€æŸ¥ é™æ€ç±»å‹æ£€æŸ¥å¯ä»¥é¿å…å¾ˆå¤šä¸å¿…è¦çš„é”™è¯¯ï¼Œ ä¸ç”¨åœ¨è°ƒè¯•çš„æ—¶å€™æ‰å‘ç°é—®é¢˜ ã€‚ IDE æ™ºèƒ½æç¤º åœ¨ TypeScript è¿™ä¸€ç±»è¯­è¨€ä¹‹å‰ï¼Œ JavaScript çš„æ™ºèƒ½æç¤ºåŸºæœ¬å®Œå…¨ä¾èµ– IDE æä¾›çš„çŒœæµ‹ (åœ¨çŒœæµ‹çš„è´¨é‡ä¸Šï¼Œ Visual Studio å’Œ brackets æ˜¯æˆ‘è§è¿‡çš„æœ€å¥½çš„)ã€‚ å±€é™æ€§å°±æ˜¯ï¼Œ è¿™ç§çŒœæµ‹å¯èƒ½å¹¶ä¸æ­£ç¡®ï¼Œ å¹¶ä¸”ä¹Ÿç¼ºä¹æ›´å¤šçš„è¾…åŠ©ä¿¡æ¯ï¼Œ æ‰€ä»¥è¦æ­£ç¡®ä½¿ç”¨ä¸€ä¸ªç±»åº“ï¼Œ å¾—ä¸æ–­åœ°åœ¨æ–‡æ¡£å’Œ IDE ä¹‹é—´åˆ‡æ¢ï¼Œ å½±å“å¿ƒæƒ…å’Œæ•ˆç‡ã€‚ è€Œ TypeScript ä¸ä»…è‡ªå·±å†™çš„ç±»åº“æœ‰ä¸°å¯Œçš„ç±»å‹ä¿¡æ¯ï¼Œ ä¹Ÿå¯ä»¥å¯¹å…¶ä»–çº¯ JS é¡¹ç›®è¿›è¡Œç±»å‹æ ‡æ³¨ (DefinitelyTyped)ï¼Œ ä¾¿äºä½¿ç”¨è€…ç›´æ¥åœ¨ IDE ä¸­æµè§ˆ APIï¼Œ æ•ˆç‡å¤§å¢ã€‚ è€Œå¯¹äºè‡ªå·±çš„æˆ–è€…å›¢é˜Ÿçš„ä»£ç ï¼Œ å¥½å¤„ä¹Ÿå¾ˆæ˜æ˜¾ã€‚ å›¢é˜Ÿçš„ä»£ç è‡ªå·±ä¸ä¸€å®šèƒ½æŠŠå„ç§æ¥å£è®°å¾—æ»šç“œçƒ‚ç†Ÿï¼Œ è‡ªå·±çš„ä»£ç å¦‚æœè§„æ¨¡å¤§äº†ä¹Ÿå¾ˆéš¾è®°å…¨ï¼Œ è¿™ä¸ªæ—¶å€™å†å»ç¿»æºæ–‡ä»¶ã€‚ã€‚ã€‚ ä»£ç é‡æ„ ä¸”ä¸è¯´æˆ‘è¿™ç§ç»å¸¸çº ç»“å˜é‡åçš„ä¼šæ—¶ä¸æ—¶çœ‹æŸä¸ªå˜é‡åä¸é¡ºçœ¼ï¼Œ æ”¹ä¹‹çš„æƒ…å†µã€‚ æœ‰æ—¶å€™çš„ç¡®éœ€è¦ä¿®æ”¹ä¸€äº›å˜é‡/å±æ€§/æ–¹æ³•åï¼Œ ç‰µæ¶‰åˆ°å±æ€§å’Œæ–¹æ³•çš„æ—¶å€™ï¼Œ å¾ˆå¤šæ”¹åŠ¨æ˜¯è·¨æ–‡ä»¶çš„ï¼Œ ä¸åƒæ™®é€šå˜é‡å¯ä»¥ç®€å•å®šä½ scopeï¼Œ å±æ€§æ–¹æ³•åçš„é‡å‘½åå¯¹äº JS æ¥è¯´å¼‚å¸¸ç—›è‹¦ï¼Œ ä¸€æ–¹é¢æ˜¯ä¿®æ”¹æœ¬èº«å°±ä¸æ–¹ä¾¿ï¼Œ å¦ä¸€æ–¹é¢æ˜¯æ”¹äº†è¿˜ä¸ç¡®å®šè¯¥æ”¹çš„æ˜¯ä¸æ˜¯æ”¹äº†ï¼Œ ä¸è¯¥æ”¹çš„æ˜¯ä¸æ˜¯ä¹Ÿæ”¹äº†ã€‚ è€Œ TypeScript çš„é™æ€ç±»å‹ç³»ç»Ÿå°±å¯ä»¥è¾ƒä¸ºå®Œç¾çš„è§£å†³è¿™ä¸ªé—®é¢˜ (è¿™ä¸ªåœ°æ–¹è¿˜ç‰µæ¶‰åˆ°ä¸€äº›æœ€ä½³å®è·µï¼Œ å°±æš‚ä¸æ·±å…¥äº†)ã€‚ å¯è¯»æ€§ å¯¹äºé˜…è¯»ä»£ç çš„äººæ¥è®²ï¼Œ å„ç§ä¾¿åˆ©çš„ç±»å‹ä¸€ç›®äº†ç„¶ï¼Œ æ›´å®¹æ˜“æ˜ç™½ä½œè€…çš„æ„å›¾ã€‚TypeScript è™½ç„¶æ˜¯å¼ºç±»å‹è¯­è¨€ï¼Œä½†æ˜¯å¦‚æœå¯¹è±¡è¢«å£°æ˜ä¸ºäº† any ç±»å‹ï¼Œå°±ä¼šå¿½ç•¥æ‰€æœ‰çš„ç±»å‹æ£€æŸ¥ã€‚è¿™ç§çµæ´»çš„ç»“æ„ä¿è¯äº†ä»–å¯ä»¥åœ¨ä¿è¯æ•´ä½“æœ‰å¼ºç±»å‹æ£€æŸ¥ä¼˜åŠ¿çš„åŒæ—¶ï¼Œåœ¨ä¸€äº›ç»†èŠ‚é—®é¢˜ä¸Šä¿æŒå¼±ç±»å‹çš„çµæ´»ã€‚TypeScript æœ¬èº«æ˜¯å¼€æºçš„ï¼Œè¿™æ„å‘³ç€å¼€å‘è€…å¯ä»¥è‡ªç”±ä¿®æ”¹å…¶æºä»£ç ï¼ŒåŒæ—¶ TypeScript çš„æ¶æ„è®¾è®¡ä¹Ÿå¾ˆä¼˜ç§€ï¼Œæä¾›äº†å……åˆ†çš„ API æ¥å£æ–¹ä¾¿å¼€å‘è€…è¿›è¡Œè¿›ä¸€æ­¥æ‰©å±•ã€‚é¡ºä¾¿è¯´ä¸€ä¸‹ï¼ŒTypeScript ç¼–è¯‘å™¨æœ¬èº«æ˜¯ç”¨ TypeScript å¼€å‘çš„ã€‚æ„å»ºæµç¨‹æ˜¯å…ˆç”¨æ—§ç‰ˆæœ¬çš„ TypeScirptCompilerã€‚js å°†æ–°ç‰ˆæœ¬çš„ TypeScript Language çš„ TypeScriptæºä»£ç ç¼–è¯‘æˆæ–°çš„ TypeScriptCompilerã€‚jsï¼Œå¬èµ·æ¥å¾ˆå‰å®³çš„æ ·å­ã€‚ç”±äºå…¶å¼€æºæ€§ï¼Œé€šè¿‡ TypeScript Compiler APIï¼Œå¼€å‘è€…å¯ä»¥è‡ªå·±å®ç°ç¼–è¯‘å™¨ï¼ˆæ¯”å¦‚æ·»åŠ å¢é‡ç¼–è¯‘å’Œè‡ªåŠ¨ç¼–è¯‘ï¼Œå¤§å¹…æå‡ç¼–è¯‘é€Ÿåº¦ï¼‰ï¼Œè‡ªå®šä¹‰è¯­æ³•æ£€æŸ¥ï¼Œä»¥åŠè‡ªå®šä¹‰è¾“å‡ºç»“æ„ç­‰ã€‚ ç”±äºç¼–è¯‘å™¨æ ¸å¿ƒçµæ´»çš„ç»“æ„ï¼Œå¼€å‘è€…åªéœ€è¦ç®€å•çš„æ·»åŠ ä¸€äº›ä»£ç ï¼Œå°±å¯ä»¥åœ¨ IDE ä¸­æ”¯æŒ TypeScript çš„è¯¸å¤šç‰¹æ€§ã€‚ç™½é¹­å¼•æ“æ˜¯åŸºäº TypeScript çš„å¼€æº HTML5 æ¸¸æˆå¼•æ“ã€‚ç™½é¹­å¼•æ“çš„åç»­ç‰ˆæœ¬ä¼šåˆ©ç”¨è¿™äº›ç‰¹æ€§ä¸æ–­å®Œå–„å¼•æ“è‡ªèº«ã€‚ä¸¾ä¾‹ï¼Œæˆ‘ä»¬çš„ IDE Egret Wing å°±åˆ©ç”¨äº† TypeScript Service API å®ç°äº†äº†ä»£ç æ™ºèƒ½æç¤ºç­‰åŠŸèƒ½ã€‚æ–‡æ¡£ç”Ÿæˆå·¥å…·ä¹Ÿæ˜¯é€šè¿‡æ‰©å±• TypeScript Compiler API å®ç°çš„ã€‚ æˆ‘è®¤ä¸º TypeScript æ˜¯ä¸€é¡¹éå¸¸å€¼å¾—å­¦ä¹ çš„æ–°æŠ€æœ¯ï¼Œç”±äºä»–æ˜¯ JavaScript çš„è¶…é›†ï¼Œå¯¹ JavaScript å¼€å‘è€…æ¥è¯´å…¥é—¨é—¨æ§›å¾ˆä½ï¼ˆç›¸å¯¹äº Dart / CoffeeScript ç­‰å…¶ä»– JavaScript å˜ç§æ¥è¯´ ï¼‰ã€‚ PWAPWAï¼šProgressive Web Appï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬è¦ä½¿ç”¨PWAå‘¢ï¼Ÿ æ¬è¿å·¥ï¼šhttps://www.jianshu.com/p/098af61bbe04 PWAæ˜¯Progressive Web Appçš„è‹±æ–‡ç¼©å†™ï¼Œ ç¿»è¯‘è¿‡æ¥å°±æ˜¯æ¸è¿›å¼å¢å¼ºWEBåº”ç”¨ï¼Œ æ˜¯Google åœ¨2016å¹´æå‡ºçš„æ¦‚å¿µï¼Œ2017å¹´è½åœ°çš„webæŠ€æœ¯ã€‚ç›®çš„å°±æ˜¯åœ¨ç§»åŠ¨ç«¯åˆ©ç”¨æä¾›çš„æ ‡å‡†åŒ–æ¡†æ¶ï¼Œåœ¨ç½‘é¡µåº”ç”¨ä¸­å®ç°å’ŒåŸç”Ÿåº”ç”¨ç›¸è¿‘çš„ç”¨æˆ·ä½“éªŒçš„æ¸è¿›å¼ç½‘é¡µåº”ç”¨ã€‚ ç®€å•æ¥è¯´ï¼Œå¦‚æœä½ çš„é¡¹ç›®ï¼Œæ‰“ç®—åŒ…è£…æˆä¸€ä¸ªAPPï¼Œä½ å¯èƒ½éœ€è¦è¿™ä¸ªæŠ€æœ¯ã€‚ Router å®˜æ–¹ï¼šhttps://router.vuejs.org/zh/ Vue Router æ˜¯ Vue.js å®˜æ–¹çš„è·¯ç”±ç®¡ç†å™¨ã€‚å®ƒå’Œ Vue.js çš„æ ¸å¿ƒæ·±åº¦é›†æˆï¼Œè®©æ„å»ºå•é¡µé¢åº”ç”¨å˜å¾—æ˜“å¦‚åæŒã€‚åŒ…å«çš„åŠŸèƒ½æœ‰ï¼š åµŒå¥—çš„è·¯ç”±/è§†å›¾è¡¨ æ¨¡å—åŒ–çš„ã€åŸºäºç»„ä»¶çš„è·¯ç”±é…ç½® è·¯ç”±å‚æ•°ã€æŸ¥è¯¢ã€é€šé…ç¬¦ åŸºäº Vue.js è¿‡æ¸¡ç³»ç»Ÿçš„è§†å›¾è¿‡æ¸¡æ•ˆæœ ç»†ç²’åº¦çš„å¯¼èˆªæ§åˆ¶ å¸¦æœ‰è‡ªåŠ¨æ¿€æ´»çš„ CSS class çš„é“¾æ¥ HTML5 å†å²æ¨¡å¼æˆ– hash æ¨¡å¼ï¼Œåœ¨ IE9 ä¸­è‡ªåŠ¨é™çº§ è‡ªå®šä¹‰çš„æ»šåŠ¨æ¡è¡Œä¸º è¿™ä¸ªæ¯”è¾ƒåŸºç¡€äº†ï¼Œæˆ‘ä»¬è‚¯å®šéœ€è¦å‹¾é€‰çš„ã€‚ Vuexæ¯ä¸€ä¸ª Vuex åº”ç”¨çš„æ ¸å¿ƒå°±æ˜¯ storeï¼ˆä»“åº“ï¼‰ã€‚â€œstoreâ€åŸºæœ¬ä¸Šå°±æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œå®ƒåŒ…å«ç€ä½ çš„åº”ç”¨ä¸­å¤§éƒ¨åˆ†çš„**çŠ¶æ€ (state)**ã€‚Vuex å’Œå•çº¯çš„å…¨å±€å¯¹è±¡æœ‰ä»¥ä¸‹ä¸¤ç‚¹ä¸åŒï¼š Vuex çš„çŠ¶æ€å­˜å‚¨æ˜¯å“åº”å¼çš„ã€‚å½“ Vue ç»„ä»¶ä» store ä¸­è¯»å–çŠ¶æ€çš„æ—¶å€™ï¼Œè‹¥ store ä¸­çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆç›¸åº”çš„ç»„ä»¶ä¹Ÿä¼šç›¸åº”åœ°å¾—åˆ°é«˜æ•ˆæ›´æ–°ã€‚ ä½ ä¸èƒ½ç›´æ¥æ”¹å˜ store ä¸­çš„çŠ¶æ€ã€‚æ”¹å˜ store ä¸­çš„çŠ¶æ€çš„å”¯ä¸€é€”å¾„å°±æ˜¯æ˜¾å¼åœ°æäº¤ (commit) mutationã€‚è¿™æ ·ä½¿å¾—æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°è·Ÿè¸ªæ¯ä¸€ä¸ªçŠ¶æ€çš„å˜åŒ–ï¼Œä»è€Œè®©æˆ‘ä»¬èƒ½å¤Ÿå®ç°ä¸€äº›å·¥å…·å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°äº†è§£æˆ‘ä»¬çš„åº”ç”¨ã€‚ æˆ‘ä»¬éœ€è¦å¯¹ç”¨æˆ·çš„æƒé™è¿›è¡ŒåŒºåˆ«çš„è¯ï¼Œåœ¨å…¨å±€èŒƒå›´å†…è¿›è¡Œæ ‡è¯†ï¼Œé‚£ä¹ˆè‚¯å®šéœ€è¦ç”¨çš„åˆ°Vuexã€‚ Css Pre-processorsCssé¢„å¤„ç†ï¼Œæˆ‘ä»¬å¸¸ç”¨çš„å°±æ˜¯ï¼Œä¸‰ä¸ª CSS é¢„å¤„ç†å™¨ï¼šSassã€LESS å’Œ Stylus CSSé¢„å¤„ç†å™¨å®šä¹‰äº†ä¸€ç§æ–°çš„è¯­è¨€ï¼ŒåŸºæœ¬çš„æ€æƒ³æ˜¯ç”¨ä¸€ç§ä¸“é—¨çš„ç¼–ç¨‹è¯­è¨€ï¼Œå¼€å‘è€…åªéœ€è¦ä½¿ç”¨è¿™ç§è¯­è¨€è¿›è¡Œç¼–ç å·¥ä½œï¼Œå‡å°‘æ¯ç‡¥æ— å‘³çš„CSSä»£ç çš„ç¼–å†™è¿‡ç¨‹çš„åŒæ—¶ï¼Œå®ƒèƒ½è®©ä½ çš„CSSå…·å¤‡æ›´åŠ ç®€æ´ã€é€‚åº”æ€§æ›´å¼ºã€å¯è¯»æ€§æ›´åŠ ã€å±‚çº§å…³ç³»æ›´åŠ æ˜æ˜¾ã€æ›´æ˜“äºä»£ç çš„ç»´æŠ¤ç­‰è¯¸å¤šå¥½å¤„ã€‚ Linter / Formatteræˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨ESLintæ¥è¿›è¡Œä»£ç è§„èŒƒçš„è®¾ç½® Testingé€‰æ‹©æµ‹è¯•æ–¹å¼ é€‰æ‹©Unitæµ‹è¯•æ–¹å¼ é€‰æ‹©E2Eæµ‹è¯•æ–¹å¼ è¿™ä¸¤è€…æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ å‰ç«¯å®ç°è‡ªåŠ¨åŒ–å°±è¦å€ŸåŠ©åˆ°unitå’Œe2eç«¯åˆ°ç«¯[æµ‹è¯•]äº†(javascript:;) ä¸€.unitæµ‹è¯• ç«™åœ¨ç¨‹åºå‘˜çš„è§’åº¦æµ‹è¯• unitæµ‹è¯•æ˜¯æŠŠä»£ç çœ‹æˆæ˜¯ä¸€ä¸ªä¸ªçš„ç»„ä»¶ã€‚ä»è€Œå®ç°æ¯ä¸€ä¸ªç»„ä»¶çš„å•ç‹¬æµ‹è¯•ï¼Œæµ‹è¯•å†…å®¹ä¸»è¦æ˜¯ç»„ä»¶å†…æ¯ä¸€ä¸ªå‡½æ•°çš„è¿”å›ç»“æœæ˜¯ä¸æ˜¯å’ŒæœŸæœ›å€¼ä¸€æ ·ã€‚ ä¾‹å¦‚ï¼š è€Œä»£ç è¦†ç›–ç‡æ˜¯æŒ‡ä»£ç ä¸­æ¯ä¸€ä¸ªå‡½æ•°çš„æ¯ä¸€ä¸­æƒ…å†µçš„æµ‹è¯•æƒ…å†µï¼Œä¸Šè¿°æµ‹è¯•çš„ä»£ç è¦†ç›–ç‡æ˜¯100% è¿™æ ·ä»£ç è¦†ç›–ç‡æ˜¯50%ï¼Œå› ä¸ºelseæƒ…å†µæ²¡æœ‰æµ‹è¯•åˆ° äºŒ.e2eæµ‹è¯• ç«™åœ¨ç”¨æˆ·è§’åº¦çš„æµ‹è¯• e2eæµ‹è¯•æ˜¯æŠŠæˆ‘ä»¬çš„ç¨‹åºå ªç§°æ˜¯ä¸€ä¸ªé»‘ç›’å­ï¼Œæˆ‘ä¸æ‡‚ä½ å†…éƒ¨æ˜¯æ€ä¹ˆå®ç°çš„ï¼Œæˆ‘åªè´Ÿè´£æ‰“å¼€æµè§ˆå™¨ï¼ŒæŠŠæµ‹è¯•å†…å®¹åœ¨é¡µé¢ä¸Šè¾“å…¥ä¸€éï¼Œçœ‹æ˜¯ä¸æ˜¯æˆ‘æƒ³è¦å¾—åˆ°çš„ç»“æœã€‚ ä¸¤è€…çš„å­˜åœ¨éƒ½æ˜¯å¾ˆæœ‰æ„ä¹‰çš„ã€‚ unitæµ‹è¯•æ˜¯ç¨‹åºå‘˜å†™å¥½è‡ªå·±çš„é€»è¾‘åå¯ä»¥å¾ˆå®¹æ˜“çš„æµ‹è¯•è‡ªå·±çš„é€»è¾‘è¿”å›çš„æ˜¯ä¸æ˜¯éƒ½æ­£ç¡®ã€‚ e2eä»£ç æ˜¯æµ‹è¯•æ‰€æœ‰çš„éœ€æ±‚æ˜¯ä¸æ˜¯éƒ½å¯ä»¥æ­£ç¡®çš„å®Œæˆï¼Œè€Œä¸”æœ€ç»ˆè¦çš„æ˜¯åœ¨ä»£ç é‡æ„ï¼Œjsæ”¹åŠ¨å¾ˆå¤šä¹‹åï¼Œéœ€è¦å¯¹éœ€æ±‚è¿›è¡Œæµ‹è¯•çš„æ—¶å€™æµ‹è¯•ä»£ç æ˜¯ä¸éœ€è¦æ”¹å˜çš„ï¼Œä½ ä¹Ÿä¸ç”¨æ‹…å¿ƒåœ¨é‡æ„åä¸èƒ½è¾¾åˆ°å®¢æˆ·çš„éœ€æ±‚ã€‚ ç¬¬äºŒæ­¥ æç¤ºæˆ‘ä»¬â€œUse class-style component syntaxâ€ï¼Œé‚£ä¹ˆè¿™æ˜¯æ˜¯å¦ä½¿ç”¨classé£æ ¼çš„ç»„ä»¶è¯­æ³• æ˜¯å¦ä½¿ç”¨babelåšè½¬ä¹‰ï¼Œæˆ‘ä»¬é€‰æ‹©æ˜¯ å®˜æ–¹ï¼šhttps://router.vuejs.org/zh/guide/essentials/history-mode.html vue-router` é»˜è®¤ hash æ¨¡å¼ â€”â€” ä½¿ç”¨ URL çš„ hash æ¥æ¨¡æ‹Ÿä¸€ä¸ªå®Œæ•´çš„ URLï¼Œäºæ˜¯å½“ URL æ”¹å˜æ—¶ï¼Œé¡µé¢ä¸ä¼šé‡æ–°åŠ è½½ã€‚ vue-routeæœ‰ä¸¤ç§æ¨¡å¼ï¼šhistoryæ¨¡å¼å’Œhashæ¨¡å¼ã€‚ hashæ¨¡å¼ï¼ˆvue-routeré»˜è®¤hashæ¨¡å¼ï¼‰hashæ¨¡å¼èƒŒåçš„åŸç†æ˜¯onhashchangeäº‹ä»¶ã€‚ 1234window.onhashchange=function()&#123; let hash=location.hash.slice(1); document.body.style.color=hash;&#125; ï¼ˆlocaltionæ˜¯jsé‡Œç®¡ç†åœ°å€æ çš„å†…ç½®å¯¹è±¡ï¼Œæ˜¯windowå¯¹è±¡çš„ä¸€éƒ¨åˆ†ï¼Œå¯é€šè¿‡window.localtionè®¿é—®ï¼Œåœ¨w3cshoolé‡Œçš„è¯¦ç»†ä»‹ç»)ç”±äºhashå‘ç”Ÿå˜åŒ–çš„urléƒ½ä¼šè¢«æµè§ˆå™¨è®°å½•ä¸‹æ¥ï¼Œä½¿å¾—æµè§ˆå™¨çš„å‰è¿›åé€€éƒ½å¯ä»¥ä½¿ç”¨äº†ï¼Œå°½ç®¡æµè§ˆå™¨æ²¡æœ‰äº²æ±‚æœåŠ¡å™¨ï¼Œä½†æ˜¯é¡µé¢çŠ¶æ€å’Œurlå…³è”èµ·æ¥ã€‚åæ¥äººä»¬ç§°å…¶ä¸ºå‰ç«¯è·¯ç”±ï¼Œæˆä¸ºå•é¡µåº”ç”¨æ ‡é…ã€‚ æ¯”å¦‚http://www.abc.com/#/indexï¼Œhashå€¼ä¸º#/indexã€‚hashæ¨¡å¼çš„ç‰¹ç‚¹åœ¨äºhashå‡ºç°åœ¨urlä¸­ï¼Œä½†æ˜¯ä¸ä¼šè¢«åŒ…æ‹¬åœ¨HTTPè¯·æ±‚ä¸­ï¼Œå¯¹åç«¯æ²¡æœ‰å½±å“ï¼Œä¸ä¼šé‡æ–°åŠ è½½é¡µé¢ã€‚ historyæ¨¡å¼historyæ¨¡å¼åˆ©ç”¨äº†HTML5 History Interfaceä¸­æ–°å¢çš„pushState()å’ŒreplaceState()æ–¹æ³•ã€‚MDNç›¸å…³ä»‹ç»ï¼ˆéœ€è¦ç‰¹å®šæµè§ˆå™¨æ”¯æŒï¼‰ã€‚è¿™ä¸¤ä¸ªæ–¹æ³•åº”ç”¨äºæµè§ˆå™¨çš„å†å²è®°å½•æ ˆï¼Œæä¾›äº†å¯¹å†å²è®°å½•è¿›è¡Œä¿®æ”¹çš„åŠŸèƒ½ã€‚åªæ˜¯å½“ä»–ä»¬è¿›è¡Œä¿®æ”¹æ—¶ï¼Œè™½ç„¶ä¿®æ”¹äº†urlï¼Œä½†æµè§ˆå™¨ä¸ä¼šç«‹å³å‘åç«¯å‘é€è¯·æ±‚ã€‚å½“ä½¿ç”¨historyæ¨¡å¼æ—¶ï¼Œurlå°±åƒæ­£å¸¸çš„url,ä¾‹å¦‚http://abc.com/user/idç›¸æ¯”hashæ¨¡å¼æ›´åŠ å¥½çœ‹ã€‚ç‰¹åˆ«æ³¨æ„ï¼Œhistoryæ¨¡å¼éœ€è¦åå°é…ç½®æ”¯æŒã€‚å¦‚æœåå°æ²¡æœ‰æ­£ç¡®é…ç½®ï¼Œè®¿é—®æ—¶ä¼šè¿”å›404ã€‚é€šè¿‡history apiï¼Œæˆ‘ä»¬ä¸¢å¼ƒäº†ä¸‘é™‹çš„#ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªç¼ºç‚¹ï¼Œå½“åˆ·æ–°æ—¶ï¼Œå¦‚æœæœåŠ¡å™¨ä¸­æ²¡æœ‰ç›¸åº”çš„ç›¸åº”æˆ–è€…èµ„æºï¼Œä¼šåˆ†åˆ†é’Ÿåˆ·å‡ºä¸€ä¸ª404æ¥ï¼ˆåˆ·æ–°éœ€è¦è¯·æ±‚æœåŠ¡å™¨ï¼‰ã€‚æ‰€ä»¥historyæ¨¡å¼ä¸æ€•å‰è¿›ï¼Œä¸æ€•åé€€ï¼Œå°±æ€•åˆ·æ–°ã€‚ hashæ¨¡å¼å’Œhistoryæ¨¡å¼å¯¹æ¯”pushState()è®¾ç½®æ–°çš„urlå¯ä»¥æ˜¯å’Œå½“å‰urlåŒæºçš„ä»»æ„url;hashåªå¯ä¿®æ”¹#åé¢çš„éƒ¨åˆ†ï¼Œåªèƒ½è®¾ç½®å½“å‰urlåŒæ–‡æ¡£çš„urlã€‚pushState()è®¾ç½®çš„æ–°urlå¯ä¸å½“å‰urlä¸€è‡´ï¼Œè¿™æ ·ä¹Ÿä¼šæŠŠè®°å½•æ·»åŠ åˆ°æ ˆä¸­ï¼›hashå¿…é¡»è®¾ç½®ä¸å½“å‰urlä¸åŒçš„urlçš„ï¼Œæ‰ä¼šè§¦å‘åŠ¨ä½œå°†è®°å½•æ·»åŠ åˆ°æ ˆä¸­ã€‚pushState()é€šè¿‡stateObjectå‚æ•°å¯ä»¥æ·»åŠ ä»»æ„ç±»å‹çš„æ•°æ®åˆ°è®°å½•ä¸­ï¼›hashåªå¯æ·»åŠ çŸ­å­—ç¬¦ä¸²ã€‚pushState()å¯é¢å¤–è®¾ç½®titleå±æ€§ä¾›åç»­ä½¿ç”¨ã€‚ä¸è¿‡ï¼Œhashæ¨¡å¼ä¹Ÿæœ‰æ¯”historyæ¨¡å¼ä¼˜åŠ¿çš„åœ°æ–¹ã€‚ hashæ¨¡å¼ä¸‹ï¼Œä»…hashç¬¦å·ä¹‹å‰çš„urlä¼šè¢«åŒ…å«åœ¨è¯·æ±‚ä¸­ï¼Œåç«¯å¦‚æœæ²¡æœ‰åšåˆ°å¯¹è·¯ç”±çš„å…¨è¦†ç›–ï¼Œä¹Ÿä¸ä¼šè¿”å›404é”™è¯¯ã€‚historyæ¨¡å¼ä¸‹ï¼Œå‰ç«¯çš„urlå¿…é¡»å’Œå®é™…å‘åç«¯å‘èµ·è¯·æ±‚çš„urlä¸€è‡´ï¼Œå¦‚http://abc.com/user/id,åç«¯å¦‚æœæ²¡æœ‰å¯¹user/idçš„è·¯ç”±å¤„ç†ï¼Œå°†è¿”å›404é”™è¯¯ã€‚historyæ¨¡å¼å®˜æ–¹æ–‡æ¡£4.åº”ç”¨åœºæ™¯å¯¹äºä¸€èˆ¬çš„Vue+Vue-router+Webpack+XXXå½¢å¼1çš„Webå¼€å‘åœºæ™¯ï¼Œç”¨historyæ¨¡å¼å³å¯ï¼Œåç«¯ç”¨Apachæˆ–Nginxè¿›è¡Œè·¯ç”±çš„ç®€å•é…ç½®ï¼ŒåŒæ—¶æ­é…å‰ç«¯è·¯ç”±çš„404é¡µé¢æ”¯æŒã€‚ä¸Šè¿°åŒºåˆ«æ¥è‡ªäºE_li_na å¦‚æœä¸æƒ³è¦å¾ˆä¸‘çš„ hashï¼Œæˆ‘ä»¬å¯ä»¥ç”¨è·¯ç”±çš„ history æ¨¡å¼ï¼Œè¿™ç§æ¨¡å¼å……åˆ†åˆ©ç”¨ history.pushState API æ¥å®Œæˆ URL è·³è½¬è€Œæ— é¡»é‡æ–°åŠ è½½é¡µé¢ã€‚ æ®è¯´Sassæ¨èä½¿ç”¨dart-sassï¼Œæœ€æ–°çš„æ›´æ–°ä¼šæ”¾åœ¨è¿™ä¸ªé‡Œé¢ï¼Œä½†æ˜¯ä½¿ç”¨node-sassçš„ä¹Ÿå¾ˆå¤šã€‚ è¯¢é—®é¡¹ç›®çš„ä»€ä¹ˆæ—¶å€™æ ¡éªŒæ ¼å¼(1æ˜¯ä¿å­˜æ—¶ï¼Œ2æ˜¯æäº¤æ—¶)ã€‚ è¯¢é—®é¡¹ç›®çš„æµ‹è¯•æ¡†æ¶ï¼Œæˆ‘å°±æ˜¯ç”¨Jestäº†ï¼Œå› ä¸ºæˆ‘åšæµ‹è¯•ä¸å¤šï¼Œä¹Ÿä¸æ˜¯å¾ˆäº†è§£ã€‚ é€‰æ‹©E2Eçš„æµ‹è¯•æ–¹å¼ï¼Œæ³¨æ„ç¬¬ä¸€ä¸ªåªèƒ½åœ¨Chromeä¸Šè¿›è¡Œ è¯¢é—®é¡¹ç›®çš„é…ç½®æ–‡ä»¶å­˜æ”¾åœ¨å“ªå„¿ï¼ˆ1æ˜¯ç‹¬ç«‹æ–‡ä»¶ï¼Œ2æ˜¯åœ¨package.jsonï¼‰è¿™é‡Œé€‰æ‹©ç‹¬ç«‹çš„æ–‡ä»¶ï¼Œé€‰æ‹©2åœ¨åç»­é…ç½®postcsé€‚é…æ—¶å­˜åœ¨é—®é¢˜ã€‚ éšåå›è½¦æˆ‘ä»¬è¿›è¡Œé¡¹ç›®çš„æ„å»º","categories":[{"name":"FamilyManage","slug":"FamilyManage","permalink":"http://www.octber.xyz/categories/FamilyManage/"}],"tags":[{"name":"FamilyManage","slug":"FamilyManage","permalink":"http://www.octber.xyz/tags/FamilyManage/"}]},{"title":"JMeterä»‹ç»åŠä½¿ç”¨","slug":"JMeterçš„ä»‹ç»å’Œå…·ä½“ç”¨æ³•","date":"2019-05-20T11:04:35.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/05/20/JMeterçš„ä»‹ç»å’Œå…·ä½“ç”¨æ³•/","link":"","permalink":"http://www.octber.xyz/2019/05/20/JMeter%E7%9A%84%E4%BB%8B%E7%BB%8D%E5%92%8C%E5%85%B7%E4%BD%93%E7%94%A8%E6%B3%95/","excerpt":"ä»€ä¹ˆæ˜¯JMeterApache JMeteræ˜¯Apacheç»„ç»‡å¼€æ”¾æºä»£ç çš„é¡¹ç›®ï¼Œæ˜¯ä¸€ä¸ªçº¯Javaçš„æ¡Œé¢åº”ç”¨ï¼Œç”¨äºå‹åŠ›æµ‹è¯•å’Œæ€§èƒ½æµ‹è¯•ï¼Œä»–æœ€åˆè¢«è®¾è®¡ç”¨äºwebåº”ç”¨æµ‹è¯•ï¼Œä½†åæ¥æ‰©å±•åˆ°å…¶ä»–æµ‹è¯•é¢†åŸŸï¼Œç”¨äºåˆ†æä¸åŒå‹åŠ›æ¡ä»¶ä¸‹çš„æ€»ä½“æ€§èƒ½æƒ…å†µã€‚","text":"ä»€ä¹ˆæ˜¯JMeterApache JMeteræ˜¯Apacheç»„ç»‡å¼€æ”¾æºä»£ç çš„é¡¹ç›®ï¼Œæ˜¯ä¸€ä¸ªçº¯Javaçš„æ¡Œé¢åº”ç”¨ï¼Œç”¨äºå‹åŠ›æµ‹è¯•å’Œæ€§èƒ½æµ‹è¯•ï¼Œä»–æœ€åˆè¢«è®¾è®¡ç”¨äºwebåº”ç”¨æµ‹è¯•ï¼Œä½†åæ¥æ‰©å±•åˆ°å…¶ä»–æµ‹è¯•é¢†åŸŸï¼Œç”¨äºåˆ†æä¸åŒå‹åŠ›æ¡ä»¶ä¸‹çš„æ€»ä½“æ€§èƒ½æƒ…å†µã€‚ è·å–JMeter JDK &gt; 1.8 å®˜æ–¹ä¸‹è½½ é¦–å…ˆè®¾ç½®è¯­è¨€ä¸ºä¸­æ–‡ options-&gt;select language-&gt;Chinese JMeterç›®å½• binï¼šå¯æ‰§è¡Œæ–‡ä»¶ jmeter.batæ˜¯windowsçš„å¯åŠ¨æ–‡ä»¶ jmeter.logæ˜¯æ—¥å¿—æ–‡ä»¶ jmeter.shæ˜¯Linuxçš„å¯åŠ¨æ–‡ä»¶ jmeter.propertisæ˜¯é…ç½®æ–‡ä»¶ jmeter-server.batæ˜¯windowsåˆ†å¸ƒå¼æµ‹è¯•è¦ç”¨åˆ°çš„æœåŠ¡å™¨é…ç½® jmeter-serveæ˜¯linuxåˆ†å¸ƒå¼æµ‹è¯•è¦ç”¨åˆ°çš„æœåŠ¡å™¨é…ç½® docsï¼šæ¥å£æ–‡æ¡£ç›®å½• extrasï¼šæ‹“å±•æ’ä»¶ç›®å½• libï¼šæ‰€ç”¨åˆ°çš„æ’ä»¶ç›®å½•ï¼Œé‡Œé¢å…¨æ˜¯jaråŒ…ï¼Œjmeterä¼šè‡ªåŠ¨åœ¨JMETER_HOME/libå’Œextç›®å½•ä¸‹å¯»æ‰¾éœ€è¦çš„ç±»ã€‚ Licensesï¼šjmeterçš„è¯ä¹¦ç›®å½• printable_docsï¼šç”¨æˆ·ä½¿ç”¨æ‰‹å†Œ JMeterå·¥å…·ç»„æˆéƒ¨åˆ† èµ„æºç”Ÿæˆå™¨ï¼šç”¨äºç”Ÿæˆæµ‹è¯•è¿‡ç¨‹ä¸­æœåŠ¡å™¨ï¼Œè´Ÿè½½æœºçš„èµ„æºä»£ç  ç”¨æˆ·è¿è¡Œå™¨ï¼šé€šå¸¸æ˜¯ä¸€ä¸ªè„šæœ¬è¿è¡Œå¼•æ“ï¼Œæ ¹æ®è„šæœ¬è¦æ±‚æ¨¡æ‹ŸæŒ‡å®šç”¨æˆ·è¡Œä¸º æŠ¥è¡¨ç”Ÿæˆå™¨ï¼šæ ¹æ®æµ‹è¯•ä¸­å®æ—¶çš„æ•°æ®ç”ŸæˆæŠ¥è¡¨ï¼Œæä¾›å¯è§†åŒ–æ•°æ®æ˜¾ç¤º è´Ÿè½½å‘ç”Ÿå™¨ï¼šç”¨äºäº§ç”Ÿè´Ÿè½½ï¼Œé€šå¸¸ä»¥å¤šçº¿ç¨‹æˆ–æ˜¯å¤šè¿›ç¨‹çš„æ–¹å¼æ¨¡æ‹Ÿç”¨æˆ·è¡Œä¸º Test Plan æµ‹è¯•è®¡åˆ’ç”¨æ¥æè¿°ä¸€ä¸ªæ€§èƒ½æµ‹è¯•ï¼ŒåŒ…å«ä¸æœ¬æ¬¡æ€§èƒ½æµ‹è¯•æ‰€æœ‰ç›¸å…³çš„åŠŸèƒ½ã€‚ä¹Ÿå°±æ˜¯è¯´æ€§èƒ½æµ‹è¯•çš„æ‰€æœ‰å†…å®¹æ˜¯åŸºäºä¸€ä¸ªè®¡åˆ’çš„ã€‚ Threadsï¼ˆUsersï¼‰çº¿ç¨‹ ç”¨æˆ· Test Plan-&gt;æ·»åŠ -&gt;çº¿ç¨‹ï¼ˆç”¨æˆ·ï¼‰-&gt;setUpçº¿ç¨‹ç»„ setup thread groupä¸€ç§ç‰¹æ®Šç±»å‹çš„ThreadGroupï¼Œå¯ç”¨äºæ‰§è¡Œé¢„æµ‹è¯•æ“ä½œï¼Œè¿™äº›çº¿ç¨‹çš„è¡Œä¸ºå®Œå…¨æƒ³ä¸€ä¸ªæ­£å¸¸çš„çº¿ç¨‹ç»„è¿œè§ã€‚ä¸åŒçš„æ˜¯ï¼Œè¿™äº›ç±»å‹çš„çº¿ç¨‹æ‰§è¡Œæµ‹è¯•å‰è¿›è¡Œå®šæœŸçº¿ç¨‹ç»„çš„æ‰§è¡Œï¼Œç±»ä¼¼init()çš„åŠŸèƒ½ã€‚ Test Plan-&gt;æ·»åŠ -&gt;çº¿ç¨‹ï¼ˆç”¨æˆ·ï¼‰-&gt;tearDownçº¿ç¨‹ç»„ tearDown thread groupä¸€ç§ç‰¹æ®Šç±»å‹çš„ThreadGroupï¼Œå¯ç”¨äºæ‰§è¡Œæµ‹è¯•ååŠ¨ä½œï¼Œç±»ä¼¼äºend() Test Plan-&gt;æ·»åŠ -&gt;çº¿ç¨‹ï¼ˆç”¨æˆ·ï¼‰-&gt;çº¿ç¨‹ç»„ thread groupè¿™ä¸ªå°±æ˜¯æˆ‘ä»¬é€šå¸¸æ·»åŠ è¿è¡Œçš„çº¿ç¨‹ï¼Œå¯ä»¥çœ‹åšä¸€ä¸ªè™šæ‹Ÿç”¨æˆ·ç»„ï¼Œçº¿ç¨‹ç»„ä¸­çš„æ¯ä¸€ä¸ªçº¿ç¨‹éƒ½å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªè™šæ‹Ÿç”¨æˆ·ï¼Œçº¿ç¨‹ç»„ä¸­åŒ…å«çš„çº¿ç¨‹æ•°é‡åœ¨æµ‹è¯•æ‰§è¡Œè¿‡ç¨‹ä¸­æ˜¯ä¸ä¼šå‘ç”Ÿæ”¹å˜çš„ï¼Œç±»ä¼¼action() æ·»åŠ çº¿ç¨‹ç»„åçš„ç•Œé¢ï¼š æµ‹è¯•ç‰‡æ®µ Test Fragment Test Plan-&gt;æ·»åŠ -&gt;æµ‹è¯•ç‰‡æ®µ-&gt;æµ‹è¯•ç‰‡æ®µ æµ‹è¯•ç‰‡æ®µå…ƒç´ æ˜¯æ§åˆ¶å™¨ä¸Šçš„ä¸€ä¸ªç‰¹æ®Šçš„çº¿ç¨‹ç»„ï¼Œä»–ä¸çº¿ç¨‹ç»„çš„ä¸åŒçš„æ˜¯ä»–ä¸è¢«æ‰§è¡Œï¼Œé™¤éä»–æ˜¯ä¸€ä¸ªæœ¨å—æ§åˆ¶å™¨æˆ–è€…æ˜¯è¢«æ§åˆ¶å™¨è¢«å¼•ç”¨æ‰ä¼šæ‰§è¡Œ é…ç½®å…ƒä»¶ Config Element Test Plan-&gt;æ·»åŠ -&gt;é…ç½®å…ƒä»¶ ç”¨äºæä¾›å¯¹é™æ€æ•°æ®é…ç½®çš„æ”¯æŒï¼Œå¦‚CSV Data Set Config å¯ä»¥å°†æœ¬åœ°æ•°æ®æ–‡ä»¶å½¢æˆæ•°æ®æ± Data Pool å®šæ—¶å™¨ Timer Test Plan-&gt;æ·»åŠ -&gt;å®šæ—¶å™¨ å®šæ—¶å™¨ç”¨äºæ“ä½œä¹‹é—´è®¾ç½®ç­‰å¾…æ—¶é—´ï¼Œç­‰å¾…æ—¶é—´æ˜¯æ€§èƒ½æµ‹è¯•ä¸­å¸¸ç”¨çš„æ§åˆ¶å®¢æˆ·ç«¯QPSçš„æ‰‹æ®µï¼Œç±»ä¼¼äºâ€œæ€è€ƒæ—¶é—´â€ï¼Œæ¯”å¦‚æˆ‘ä»¬è®¾ç½®åœ¨1000ä¸ªçº¿ç¨‹æ²¡æœ‰å¯åŠ¨å®Œä¹‹å‰ä¸è¿›è¡Œæ“ä½œç­‰ã€‚ å‰ç½®å¤„ç†å™¨ Per Processors Test Plan-&gt;æ·»åŠ -&gt;å‰ç½®å¤„ç†å™¨ ç”¨äºåœ¨å®é™…çš„è¯·æ±‚å‘å‡ºä¹‹å‰å¯¹å³å°†å‘å‡ºçš„è¯·æ±‚è¿›è¡Œç‰¹æ®Šå¤„ç†ã€‚æ¯”å¦‚å¯¹HTTP URLé‡å†™ä¿®å¤ç¬¦è¿™å¯ä»¥å®ç°URLé‡å†™ã€‚ åç½®å¤„ç†å™¨ Post Processors Test Plan-&gt;æ·»åŠ -&gt;åç½®å¤„ç†å™¨ ç”¨äºå¯¹å‘å‡ºè¯·æ±‚åå¾—åˆ°çš„å“åº”æ•°æ®è¿›è¡Œå¤„ç†ï¼Œä¸€èˆ¬ç”¨æ¥æå–ç›¸åº”ä¸­çš„ç‰¹å®šæ•°æ®ã€‚ æ–­è¨€ Assertions Test Plan-&gt;æ·»åŠ -&gt;æ–­è¨€ æ–­è¨€ç”¨äºæ£€æŸ¥æµ‹è¯•ä¸­å¾—åˆ°çš„å“åº”æ•°æ®æ˜¯å¦ç¬¦åˆé¢„æœŸï¼Œä¸€èˆ¬ç”¨æ¥è®¾ç½®æ£€æŸ¥ç‚¹ï¼Œç”¨ä»¥ä¿è¯æ€§èƒ½æµ‹è¯•è¿‡ç¨‹ä¸­çš„æ•°æ®äº¤äº’æ˜¯å¦ä¸é¢„æœŸä¸€è‡´ã€‚ ç›‘å¬å™¨ Listener Test Plan-&gt;æ·»åŠ -&gt;ç›‘å¬å™¨ æ˜¯ç”¨æ¥å¯¹æµ‹è¯•ç»“æœæ•°æ®è¿›è¡Œå¤„ç†å’Œå¯è§†åŒ–å±•ç¤ºçš„ä¸€ç³»åˆ—å…ƒä»¶ã€‚æ¯”å¦‚å›¾å½¢ç»“æœï¼ŒæŸ¥çœ‹ç»“æœæ ‘ï¼ŒèšåˆæŠ¥å‘Šç­‰ã€‚ å–æ ·å™¨ Sample çº¿ç¨‹ç»„-&gt;æ·»åŠ -&gt;å–æ ·å™¨ æ€§èƒ½æµ‹è¯•ä¸­å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œè®°å½•å“åº”ä¿¡æ¯ï¼Œè®°å½•å“åº”æ—¶é—´çš„æœ€å°å•å…ƒï¼ŒJMeteråŸç”Ÿæ”¯æŒå¤šç§ä¸åŒçš„samplerï¼Œå¦‚HTTP Request Samplerï¼ŒFTPï¼ŒTCPï¼ŒJDBCç­‰ã€‚ é€»è¾‘æ§åˆ¶å™¨ çº¿ç¨‹ç»„-&gt;æ·»åŠ -&gt;é€»è¾‘æ§åˆ¶å™¨ æ§åˆ¶test planä¸­samplerèŠ‚ç‚¹å‘é€è¯·æ±‚çš„é€»è¾‘é¡ºåºçš„æ§åˆ¶å™¨ï¼Œå¸¸ç”¨çš„æœ‰ifæ§åˆ¶å™¨ï¼Œswitch controllerç­‰æ§åˆ¶å™¨ è¿˜æœ‰ä¸€ç±»ï¼Œç”¨äºæ§åˆ¶sampleræ¥èŠ‚ç‚¹çš„ï¼Œå¦‚äº‹åŠ¡æ§åˆ¶å™¨ï¼Œååé‡æ§åˆ¶å™¨ Jmeterè„šæœ¬å½•åˆ¶ä½¿ç”¨BadBoyå½•åˆ¶å®˜æ–¹ä¸‹è½½åœ°å€ï¼š http://www.badboy.com.au/download/ BadBoyæ˜¯ä»€ä¹ˆï¼Ÿä»–æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å·¥å…·ï¼Œæ—¨åœ¨å¸®åŠ©æµ‹è¯•å’Œå¼€å‘å¤æ‚çš„åŠ¨æ€åº”ç”¨ã€‚ æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿çš„å¼€å§‹å½•åˆ¶ï¼Œè¾“å…¥urlåœ°å€ï¼Œå›è½¦è®¿é—®ï¼Œå°±å¼€å§‹å½•åˆ¶ä½ æ‰€æœ‰çš„åŠ¨ä½œã€‚ ä½¿ç”¨æˆ‘ä»¬å¯ä»¥åœ¨file-&gt;exportä¸ºjmeterçš„æ ¼å¼ï¼ˆ.jmxï¼‰ï¼Œéšåjmeterå¯¼å…¥è¿›æ¥ï¼Œå°±å¯ä»¥çœ‹åˆ°ä¹‹å‰æ“ä½œçš„æ‰€æœ‰stepã€‚å¹¶ä¸”å¯ä»¥è¿›è¡Œç›¸åº”çš„å›æ”¾ã€‚ BadBoy æ£€æŸ¥ç‚¹ä¸å‚æ•°åŒ–æ£€æŸ¥ç‚¹ï¼ˆæ–­è¨€ï¼‰è®¾ç½®é€‰æ‹©è¦æ£€æŸ¥çš„æ–‡å­—ï¼Œç„¶åå†Tools-&gt;step1é‡Œæ·»åŠ æ–­è¨€ï¼Œå†å›æ”¾ Tools-&gt;Add Assertion for Selection æ·»åŠ æ–­è¨€ï¼Œä¼šç”Ÿæˆä¸€ä¸ªcheck for XXX å½•åˆ¶é—®é¢˜åœ¨å½•åˆ¶è¿‡ç¨‹ä¸­å¦‚æœæŠ¥è¿™ä¸ªé”™è¯¯ï¼š å…¶å®è¿™ä¸æ˜¯ä»€ä¹ˆé—®é¢˜ï¼Œå¹¶ä¸å½±å“å½•åˆ¶ï¼Œå¦‚æœæƒ³è¦å…³é—­è¿™ä¸ªï¼Œæˆ‘ä»¬å¯ä»¥æ‰¾åˆ°å¯¹åº”çš„æµè§ˆå™¨ï¼Œè¿›å…¥Interneté…ç½®ä¸­åœ¨é«˜çº§ä¸­é€‰ä¸Šä¸‹é¢çš„ä¸¤ä¸ªå±æ€§å³å¯ å½•åˆ¶ç•Œé¢ å¯¼å…¥JMeter æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æˆ‘ä»¬å½•åˆ¶æ“ä½œæ—¶å€™çš„stepå®Œå…¨å‘ˆç°åœ¨äº†Jmeterä¸­ å‚æ•°åŒ–","categories":[{"name":"è½¯ä»¶æµ‹è¯•","slug":"è½¯ä»¶æµ‹è¯•","permalink":"http://www.octber.xyz/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/"}],"tags":[{"name":"JMeter","slug":"JMeter","permalink":"http://www.octber.xyz/tags/JMeter/"}]},{"title":"Hexoæ’ä»¶ä½¿ç”¨","slug":"Hexoæ’ä»¶ä½¿ç”¨","date":"2019-05-19T12:46:08.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/05/19/Hexoæ’ä»¶ä½¿ç”¨/","link":"","permalink":"http://www.octber.xyz/2019/05/19/Hexo%E6%8F%92%E4%BB%B6%E4%BD%BF%E7%94%A8/","excerpt":"å‰è¨€æƒ³ä¼˜é›…çš„ä½¿ç”¨Hexoè¿™ä¸ªåšå®¢è¿˜æ˜¯å¾ˆä¸å®¹æ˜“çš„ï¼Œéœ€è¦å­¦ä¼šä½¿ç”¨ä¸€äº›æ’ä»¶ï¼Œè€Œæœ‰çš„æ’ä»¶ä¹‹é—´æœ‰ä¸€å®šçš„å†²çªï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œä¸€äº›ä¿®æ”¹ï¼Œæ‰èƒ½å®Œç¾çš„é€‚é…æˆ‘ä»¬çš„åšå®¢ã€‚","text":"å‰è¨€æƒ³ä¼˜é›…çš„ä½¿ç”¨Hexoè¿™ä¸ªåšå®¢è¿˜æ˜¯å¾ˆä¸å®¹æ˜“çš„ï¼Œéœ€è¦å­¦ä¼šä½¿ç”¨ä¸€äº›æ’ä»¶ï¼Œè€Œæœ‰çš„æ’ä»¶ä¹‹é—´æœ‰ä¸€å®šçš„å†²çªï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œä¸€äº›ä¿®æ”¹ï¼Œæ‰èƒ½å®Œç¾çš„é€‚é…æˆ‘ä»¬çš„åšå®¢ã€‚ hexo-abbrlinkåŸç”Ÿçš„Hexoåšå®¢ç”Ÿæˆçš„ç›®å½•æ˜¯:year/:month/:day/:titleï¼Œè¿™å°±ä½¿å¾—æˆ‘ä»¬çš„urlä¸­æºå¸¦å¤§é‡ä¸­æ–‡ï¼Œæœ‰äº›äººé€šè¿‡hexo new titleä½¿ç”¨è‹±æ–‡çš„titleï¼Œè¿™å½“ç„¶å¯è¡Œçš„ï¼Œä½†æ˜¯è¿™ä¸ä»£è¡¨ä½ çš„titleå°±ä¸€å®šæ˜¯å”¯ä¸€ç¡®å®šçš„ï¼Œè¿™ä¹Ÿä¸æ–¹ä¾¿æ—¥åå¯¹æ–‡ç« è¿›è¡Œæ•´ç†ï¼Œä¹Ÿä¸æ–¹ä¾¿æˆ‘ä»¬æ¨å¹¿ï¼Œæ¯”å¦‚æ¨å¹¿åˆ°ç™¾åº¦ç«™ä¸Šï¼Œè¿›è¡ŒSEOæ˜¯éå¸¸ä¸æ–¹ä¾¿çš„ã€‚ è€Œè¿™ä¸€æ¬¾æ’ä»¶å°±å¯ä»¥ä¸ºæˆ‘ä»¬çš„æ–‡ç« ç”Ÿä¸€ä¸ªå›ºå®šä¸å˜è€Œä¸”å”¯ä¸€çš„åœ°å€ï¼Œå°±ç®—ä½ ä¿®æ”¹æ–‡ç« çš„titleï¼Œä¹Ÿä¸ä¼šå¯¹urlå‘ç”Ÿå˜åŒ–çš„æ’ä»¶ã€‚ æˆ‘ä»¬åªéœ€è¦npm install hexo-abbrlink --saveå³å¯ éšååœ¨æˆ‘ä»¬çš„ä¸»é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œç›¸åº”çš„é…ç½®ï¼š 1234permalink: :year/:month/:day/:abbrlink.htmlabbrlink: alg: crc32 # ç®—æ³•ï¼šcrc16(default) and crc32 rep: hex # è¿›åˆ¶ï¼šdec(default) and hex åœ¨ä½¿ç”¨äº†è¿™ä¸ªæ’ä»¶åï¼Œéœ€è¦æ‰§è¡Œä¸€æ¬¡hexo clean &amp;&amp; hexo gï¼Œå¦åˆ™ä¹‹å‰çš„åšæ–‡å¯èƒ½ä¼šå˜ä¸ºundefinedï¼Œéœ€è¦å…ˆcleanä¸€ä¸‹ã€‚ hexo-asset-imageè¿™ä¸€æ¬¾æ’ä»¶æ˜¯ä¸ºæˆ‘ä»¬ä¸ºæ–‡ç« ä¸­æ’å…¥å›¾ç‰‡æä¾›æ–¹ä¾¿çš„ï¼Œæˆ‘ä»¬éœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­å¯ç”¨ï¼š 1post_asset_folder: true å®‰è£…æ–¹æ³•æ˜¯ä¸€æ ·çš„: 1npm install --save hexo-asset-image å®‰è£…å¥½åå½“æˆ‘ä»¬æ–°å»ºåšæ–‡çš„æ—¶å€™ï¼Œå°±ä¼šä¸ºæˆ‘ä»¬åœ¨åŒçº§ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªåå­—ä¸ºtitleçš„æ–‡ä»¶å¤¹ï¼Œå­˜æ”¾åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹é‡Œé¢çš„å›¾ç‰‡ï¼Œåœ¨æˆ‘ä»¬éƒ¨ç½²åå¯ä»¥é¡ºåˆ©æ˜¾ç¤ºã€‚ hexo-generator-index-pin-topå¦‚æœä½ æƒ³ç½®é¡¶æŸä¸€ç¯‡åšæ–‡çš„è¯ï¼Œå°±ç”¨çš„ä¸Šè¿™ä¸ªæ’ä»¶äº†ï¼Œå®‰è£…æ–¹å¼ä¸è¯´äº†ï¼Œç›´æ¥è¯´æ€ä¹ˆç”¨ï¼š æœ€ååœ¨é€‚å½“çš„åœ°æ–¹ï¼Œæ¯”å¦‚è¯´æˆ‘æ˜¯åœ¨aiticlesçš„æ ‡é¢˜å¤„åŠ ä¸Šäº†ç½®é¡¶çš„ä»£ç ï¼š 12345&lt;% if (post.top) &#123; %&gt;&lt;i class=&quot;fa fa-thumb-tack&quot;&gt;&lt;/i&gt;&lt;font color=7D26CD&gt;ç½®é¡¶&lt;/font&gt;&lt;span class=&quot;post-meta-divider&quot;&gt;|&lt;/span&gt;&lt;% &#125; %&gt; æœ€ç»ˆæ•ˆæœï¼š hexo-wordcountè¿™æ˜¯ç”¨äºç»Ÿè®¡æ–‡ç« å­—æ•°å’Œé˜…è¯»å¸‚åœºçš„æ’ä»¶ï¼Œå› ä¸ºicaruså·²ç»æœ‰äº†è¿™æ ·çš„åŠŸèƒ½ï¼Œæ‰€ä»¥æˆ‘åªæä¸€ä¸‹ï¼Œ é…ç½®å¯ä»¥è¿™æ ·ï¼š 1234post_wordcount: item_text: true wordcount: true min2read: true hexo-baidu-url-submitæœ‰ä¸€ä½å¤§ç¥å†™çš„ç‰¹åˆ«å¥½ï¼Œæˆ‘å°±çœ‹ä»–é…ç½®çš„å¦¥å¦¥çš„ï¼Œä¸è¯´äº†ï¼Œä¼ é€é—¨ï¼š Hexoæ’ä»¶ä¹‹ç™¾åº¦ä¸»åŠ¨æäº¤é“¾æ¥ hexo-blog-encryptæ–‡ç« åŠ å¯†çš„æ’ä»¶ï¼Œéå¸¸å¥½ç”¨ï¼Œä¹Ÿéå¸¸ç®€å•ï¼š ä»¥ä¸‹å†…å®¹æ¥è‡ªå®˜æ–¹æ–‡æ¡£ï¼š å…·ä½“çš„ä½¿ç”¨æ–¹æ³•é¦–å…ˆï¼Œä½ éœ€è¦åœ¨ _config.yml ä¸­å¯ç”¨è¯¥æ’ä»¶1234# Security##encrypt: enable: true ç»™æ–‡ç« æ·»åŠ å¯†ç ï¼š12345678910---title: hello worlddate: 2016-03-30 21:18:02tags: - fdsfadsfa - fdsafsdafpassword: Mikeabstract: Welcome to my blog, enter password to read.message: Welcome to my blog, enter password to read.--- password: æ˜¯è¯¥åšå®¢åŠ å¯†ä½¿ç”¨çš„å¯†ç  abstract: æ˜¯è¯¥åšå®¢çš„æ‘˜è¦ï¼Œä¼šæ˜¾ç¤ºåœ¨åšå®¢çš„åˆ—è¡¨é¡µ message: è¿™ä¸ªæ˜¯åšå®¢æŸ¥çœ‹æ—¶ï¼Œå¯†ç è¾“å…¥æ¡†ä¸Šé¢çš„æè¿°æ€§æ–‡å­— å¯¹ TOC è¿›è¡ŒåŠ å¯†å¦‚æœä½ æœ‰ä¸€ç¯‡æ–‡ç« ä½¿ç”¨äº† TOCï¼Œä½ éœ€è¦ä¿®æ”¹æ¨¡æ¿çš„éƒ¨åˆ†ä»£ç ã€‚è¿™é‡Œç”¨ landscape ä½œä¸ºä¾‹å­ï¼š ä½ å¯ä»¥åœ¨ hexo/themes/landscape/layout/_partial/article.ejs æ‰¾åˆ° article.ejsã€‚ ç„¶åæ‰¾åˆ° &lt;% post.content %&gt; è¿™æ®µä»£ç ï¼Œé€šå¸¸åœ¨30è¡Œå·¦å³ã€‚ ä½¿ç”¨å¦‚ä¸‹çš„ä»£ç æ¥æ›¿ä»£å®ƒ: 1234567891011&lt;% if(post.toc &#x3D;&#x3D; true)&#123; %&gt; &lt;div id&#x3D;&quot;toc-div&quot; class&#x3D;&quot;toc-article&quot; &lt;% if (post.encrypt &#x3D;&#x3D; true) &#123; %&gt;style&#x3D;&quot;display:none&quot; &lt;% &#125; %&gt;&gt; &lt;strong class&#x3D;&quot;toc-title&quot;&gt;Index&lt;&#x2F;strong&gt; &lt;% if (post.encrypt &#x3D;&#x3D; true) &#123; %&gt; &lt;%- toc(post.origin, &#123;list_number: true&#125;) %&gt; &lt;% &#125; else &#123; %&gt; &lt;%- toc(post.content, &#123;list_number: true&#125;) %&gt; &lt;% &#125; %&gt; &lt;&#x2F;div&gt;&lt;% &#125; %&gt;&lt;%- post.content %&gt; ä¿®æ”¹åŠ å¯†æ¨¡æ¿ å¦‚æœä½ å¯¹é»˜è®¤çš„ä¸»é¢˜ä¸æ»¡æ„ï¼Œæˆ–è€…å¸Œæœ›ä¿®æ”¹é»˜è®¤çš„æç¤ºå’Œæ‘˜è¦å†…å®¹ï¼Œä½ å¯ä»¥æ·»åŠ å¦‚ä¸‹é…ç½®åœ¨ _config.yml ä¸­ã€‚ 1234567891011121314151617181920# Security##encrypt: enable: true default_abstract: the content has been encrypted, enter the password to read.&lt;&#x2F;br&gt; default_message: Please enter the password to read. default_template: &lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdnjs.cloudflare.com&#x2F;ajax&#x2F;libs&#x2F;jquery&#x2F;3.3.1&#x2F;jquery.min.js&quot;&gt;&lt;&#x2F;script&gt; &lt;div id&#x3D;&quot;hbe-security&quot;&gt; &lt;div class&#x3D;&quot;hbe-input-container&quot;&gt; &lt;input type&#x3D;&quot;password&quot; class&#x3D;&quot;hbe-form-control&quot; id&#x3D;&quot;pass&quot; placeholder&#x3D;&quot;&#123;&#123;message&#125;&#125;&quot; &#x2F;&gt; &lt;label for&#x3D;&quot;pass&quot;&gt;&#123;&#123;message&#125;&#125;&lt;&#x2F;label&gt; &lt;div class&#x3D;&quot;bottom-line&quot;&gt;&lt;&#x2F;div&gt; &lt;&#x2F;div&gt; &lt;&#x2F;div&gt; &lt;div id&#x3D;&quot;decryptionError&quot; style&#x3D;&quot;display:none;&quot;&gt;&#123;&#123;decryptionError&#125;&#125;&lt;&#x2F;div&gt; &lt;div id&#x3D;&quot;noContentError&quot; style&#x3D;&quot;display:none;&quot;&gt;&#123;&#123;noContentError&#125;&#125;&lt;&#x2F;div&gt; &lt;div id&#x3D;&quot;encrypt-blog&quot; style&#x3D;&quot;display:none&quot;&gt; &#123;&#123;content&#125;&#125; &lt;&#x2F;div&gt; å¯ä»¥çœ‹è§ï¼Œå’Œä¸Šé¢çš„é…ç½®æ–‡ä»¶å¯¹æ¯”æ¥çœ‹ï¼Œå¤šäº† default_template å’Œ default_abstract å’Œ default_message é…ç½®é¡¹ã€‚ default_abstract : è¿™ä¸ªæ˜¯æŒ‡åœ¨æ–‡ç« åˆ—è¡¨é¡µï¼Œæˆ‘ä»¬çœ‹åˆ°çš„åŠ å¯†æ–‡ç« æè¿°ã€‚å½“ç„¶è¿™æ˜¯å¯¹æ‰€æœ‰åŠ å¯†æ–‡ç« ç”Ÿæ•ˆçš„ã€‚ default_message : è¿™ä¸ªåœ¨æ–‡ç« è¯¦æƒ…é¡µçš„å¯†ç è¾“å…¥æ¡†ä¸Šæ–¹çš„æè¿°æ€§æ–‡å­—ã€‚ default_template : è¿™ä¸ªæ˜¯æŒ‡åœ¨æ–‡ç« è¯¦æƒ…é¡µï¼Œæˆ‘ä»¬çœ‹åˆ°çš„è¾“å…¥å¯†ç é˜…è¯»çš„æ¨¡æ¿ï¼ŒåŒç†ï¼Œè¿™ä¸ªä¹Ÿæ˜¯é’ˆå¯¹æ‰€æœ‰æ–‡ç« çš„ å¼€å§‹çš„è§£å¯†éƒ¨åˆ†éœ€è¦ç”± div åŒ…è£¹ï¼Œè€Œä¸” div çš„ id å¿…é¡» æ˜¯ â€˜hbe-securityâ€™ï¼Œè§£å¯†åä»¥ä¾¿äºéšè—ã€‚ æœ€åçš„ content æ˜¾ç¤º div çš„ id å¿…é¡» æ˜¯ â€˜encrypt-blogâ€™ï¼ŒåŒæ—¶ä¸ºäº†å¥½çœ‹ï¼Œä¹Ÿå¸Œæœ›è¿›è¡Œéšè—ã€‚ åŒæ—¶ï¼Œå¿…é¡»è¦æœ‰ä¸€ä¸ª input è¾“å…¥æ¡†ï¼Œid å¿…é¡»æ˜¯â€passâ€ï¼Œç”¨æ¥ä¾›ç”¨æˆ·è¾“å…¥å¯†ç ã€‚ è¾“å…¥å¯†ç ä¹‹åï¼ŒåŠ¡å¿…è¦æœ‰ä¸€ä¸ªè§¦å‘å™¨ï¼Œç”¨æ¥è°ƒç”¨ â€˜decryptAESâ€™ å‡½æ•°ã€‚æ ·ä¾‹ä¸­ä»¥ button æ¥è§¦å‘ã€‚ å¦‚æœä½ å¸Œæœ›å¯¹æŸä¸€ç¯‡ç‰¹å®šçš„æ–‡ç« åšç‰¹æ®Šå¤„ç†ï¼Œè¿™æœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥è¾¾åˆ°è¿™ä¸ªæ•ˆæœ, åœ¨åšå®¢çš„æºæ–‡ä»¶æ·»åŠ  template é…ç½®: 123456789101112131415161718192021222324---title: hello worlddate: 2016-03-30 21:18:02tags: - fdsfadsfa - fdsafsdafpassword: Mikeabstract: Welcome to my blog, enter password to read.message: Welcome to my blog, enter password to read.template: &lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdnjs.cloudflare.com&#x2F;ajax&#x2F;libs&#x2F;jquery&#x2F;3.3.1&#x2F;jquery.min.js&quot;&gt;&lt;&#x2F;script&gt; &lt;div id&#x3D;&quot;hbe-security&quot;&gt; &lt;div class&#x3D;&quot;hbe-input-container&quot;&gt; &lt;input type&#x3D;&quot;password&quot; class&#x3D;&quot;hbe-form-control&quot; id&#x3D;&quot;pass&quot; placeholder&#x3D;&quot;&#123;&#123;message&#125;&#125;&quot; &#x2F;&gt; &lt;label for&#x3D;&quot;pass&quot;&gt;&#123;&#123;message&#125;&#125;&lt;&#x2F;label&gt; &lt;div class&#x3D;&quot;bottom-line&quot;&gt;&lt;&#x2F;div&gt; &lt;&#x2F;div&gt; &lt;&#x2F;div&gt; &lt;div id&#x3D;&quot;decryptionError&quot; style&#x3D;&quot;display:none;&quot;&gt;&#123;&#123;decryptionError&#125;&#125;&lt;&#x2F;div&gt; &lt;div id&#x3D;&quot;noContentError&quot; style&#x3D;&quot;display:none;&quot;&gt;&#123;&#123;noContentError&#125;&#125;&lt;&#x2F;div&gt; &lt;div id&#x3D;&quot;encrypt-blog&quot; style&#x3D;&quot;display:none&quot;&gt; &#123;&#123;content&#125;&#125; &lt;&#x2F;div&gt;--- å›è°ƒå¦‚æœæ‚¨éœ€è¦åœ¨æ–‡ç« è§£å¯†ä¹‹åè°ƒç”¨ä¸€äº›ä»£ç ï¼Œæ‚¨å¯ä»¥å‚è€ƒä»¥ä¸‹é…ç½®ï¼š 123456encrypt: enable: true callback: |- initLightGallery() initImageResize() initTocBot() åœ¨callback ä¹‹åçš„è¿™ä¸ªç¬¦å·|-ä»£è¡¨å¤šè¡Œçš„yamlå€¼ å¦‚æœæ‚¨åœ¨å…¶ä»–jsæ–‡ä»¶é‡Œé¢å®šä¹‰äº†å‡½æ•°ï¼Œæ‚¨å¯ä»¥åœ¨è¿™é‡Œè°ƒç”¨å®ƒä»¬ï¼Œæˆ–è€…æ‚¨ä¹Ÿå¯ä»¥åœ¨callbackè¿™é‡Œå†™ä¸Šæ‚¨è‡ªå·±çš„ä»£ç é€»è¾‘ï¼Œæ¯”å¦‚$(&#39;#someId&#39;).lightGallery()ï¼Œä¸Šé¢çš„initXXX()åªæ˜¯ç¤ºä¾‹ï¼Œæ‚¨ä¸åº”è¯¥ç›´æ¥å¤åˆ¶ä¸Šé¢çš„é…ç½®ã€‚ åœç®—å­ipè®¡æ•°ç»Ÿè®¡è¿™ä¸ªå¾ˆç®€å•ï¼Œåªéœ€è¦åŠ å‡ è¡Œä»£ç ï¼Œä¸è¿‡æˆ‘å‘ç°æ¯æ¬¡åœ¨æ‰“å¼€ç½‘ç«™æ—¶å€™éƒ½ä¼šå¡è¿™ä¹ˆä¸€ä¸‹ï¼Œå’Œè¿™ä¸ªè²Œä¼¼æœ‰å…³ç³»ï¼Œemmmmï¼Œæ‰€ä»¥æˆ‘ä¸æ˜¯å¾ˆå–œæ¬¢è¿™ä¸ªã€‚ ä¼ é€é—¨ï¼šåœç®—å­æ•™ç¨‹ leancloud-storageè¿™ä¸ªæ¯”è¾ƒéº»çƒ¦ï¼Œæ˜¯æ·»åŠ commentè¯„è®ºçš„ï¼šValineè¯„è®º è¯·ç§»æ­¥æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ï¼šhttp://www.zhaojun.im/hexo-valine-admin/ æ•ˆæœå°±æ˜¯è¿™æ ·çš„ï¼š å¥½çœ‹æ˜¯æŒºå¥½çœ‹ï¼Œä¸è¿‡æ²¡äººè¯„è®ºå°±å¾ˆå°´å°¬emmmã€‚ã€‚ã€‚ hexo-abbrlinkå’Œhexo-asset-imageå†²çªæ€ä¹ˆåŠåœ¨è¿™ä¸¤ä¸ªåŒæ—¶ä½¿ç”¨çš„æ—¶å€™ï¼Œå›¾ç‰‡ä¼šå› ä¸ºå›¾ç‰‡è·¯ç”±åŒ…å«äº†æ–‡ç« åè€Œæ— æ³•æ˜¾ç¤ºï¼Œè¿™å°±å¾ˆéš¾å—ï¼Œé€šé€šè¿‡ä¿®æ”¹/node_modules/hexo-asset-image/index.jsä¿®æ”¹äº†è·¯ç”±è·å–æ–¹å¼ï¼ŒæˆåŠŸæ˜¾ç¤ºäº†å›¾ç‰‡ï¼Œå› ä¸ºä¿®æ”¹çš„æ˜¯ä¾èµ–æ–‡ä»¶ï¼Œæ‰€ä»¥å½“ä½ åˆ é™¤äº†/node_modulesæˆ–è€…ä½ è¿˜äº†ç”µè„‘é‡æ–°æ‹‰äº†é¡¹ç›®è¿›è¡Œnpm installçš„æ—¶å€™ï¼Œè¿™éƒ¨åˆ†ä»£ç å°±æ²¡æœ‰äº†ï¼Œè®°å¾—å¤‡ä»½å¥½ï¼Œé‚£ä¹ˆæˆ‘ä¿®æ”¹çš„å†…å®¹æ˜¯ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556&#x27;use strict&#x27;;var cheerio = require(&#x27;cheerio&#x27;);// http://stackoverflow.com/questions/14480345/how-to-get-the-nth-occurrence-in-a-stringfunction getPosition(str, m, i) &#123; return str.split(m, i).join(m).length;&#125;hexo.extend.filter.register(&#x27;after_post_render&#x27;, function(data)&#123; var config = hexo.config; if(config.post_asset_folder)&#123; var link = data.permalink; // ç¬¬ä¸€å¤„æ”¹åŠ¨ link = link.replace(&#x27;.html&#x27;, &#x27;/&#x27;); var beginPos = getPosition(link, &#x27;/&#x27;, 3) + 1; // In hexo 3.1.1, the permalink of &quot;about&quot; page is like &quot;.../about/index.html&quot;. var endPos = link.lastIndexOf(&#x27;/&#x27;) + 1; link = link.substring(beginPos, endPos); var toprocess = [&#x27;excerpt&#x27;, &#x27;more&#x27;, &#x27;content&#x27;]; for(var i = 0; i &lt; toprocess.length; i++)&#123; var key = toprocess[i]; var $ = cheerio.load(data[key], &#123; ignoreWhitespace: false, xmlMode: false, lowerCaseTags: false, decodeEntities: false &#125;); $(&#x27;img&#x27;).each(function()&#123; // For windows style path, we replace &#x27;\\&#x27; to &#x27;/&#x27;. var src = $(this).attr(&#x27;src&#x27;).replace(&#x27;\\\\&#x27;, &#x27;/&#x27;); if(!/http[s]*.*|\\/\\/.*/.test(src))&#123; // For &quot;about&quot; page, the first part of &quot;src&quot; can&#x27;t be removed. // In addition, to support multi-level local directory. var linkArray = link.split(&#x27;/&#x27;).filter(function(elem)&#123; return elem != &#x27;&#x27;; &#125;); var srcArray = src.split(&#x27;/&#x27;).filter(function(elem)&#123; return elem != &#x27;&#x27;; &#125;); if(linkArray[linkArray.length - 1] == srcArray[0]) &#123; srcArray.shift(); &#125; // ç¬¬äºŒå¤„æ”¹åŠ¨ srcArray.shift(); src = srcArray.join(&#x27;/&#x27;); $(this).attr(&#x27;src&#x27;, &#x27;/&#x27; + link + src); &#125; &#125;); data[key] = $.html(); &#125; &#125;&#125;); ä¸€å…±ä¸¤å¤„ä¿®æ”¹ï¼Œç¬¬ä¸€å¤„æ˜¯å°†è·¯ç”±ä¸­çš„.htmlå˜ä¸º/ï¼Œè¿™æ˜¯å› ä¸ºæˆ‘åœ¨è®¾ç½®æ–‡ç« è®¿é—®è·¯ç”±çš„æ—¶å€™è®¾ç½®ä¸ºäº†permalink: :year/:month/:day/:abbrlink.htmlï¼Œæ‰€ä»¥è¦å»æ‰htmlæ¢ä¸º/ï¼Œæ°”å€™æ·»åŠ äº†ä¸€ä¸ªsrcArray.shift()è¿™ä¸ªçš„ä½œç”¨æ˜¯åˆ é™¤æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œåˆ é™¤çš„æ­£æ˜¯ä¸­æ–‡æ ‡é¢˜çš„åå­—ï¼Œè¿™ä¸€å±‚ç›®å½•æ˜¯å¤šä½™çš„ã€‚ å¦‚æœä½ å­˜åœ¨é—®é¢˜ï¼Œè¯·åœ¨ä¸‹é¢è¯„è®ºï¼Œæˆ–è€…è”ç³»æˆ‘çš„é‚®ç®±ï¼š&#57;&#50;&#53;&#52;&#x37;&#x34;&#48;&#x38;&#56;&#x40;&#113;&#x71;&#x2e;&#x63;&#x6f;&#109;","categories":[{"name":"Hexo","slug":"Hexo","permalink":"http://www.octber.xyz/categories/Hexo/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"http://www.octber.xyz/tags/Hexo/"}]},{"title":"å°†Hexoéƒ¨ç½²åœ¨CentOsæœåŠ¡å™¨ä¸Š","slug":"å°†Hexoéƒ¨ç½²åœ¨CentOsæœåŠ¡å™¨ä¸Š","date":"2019-05-18T14:26:54.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/05/18/å°†Hexoéƒ¨ç½²åœ¨CentOsæœåŠ¡å™¨ä¸Š/","link":"","permalink":"http://www.octber.xyz/2019/05/18/%E5%B0%86Hexo%E9%83%A8%E7%BD%B2%E5%9C%A8CentOs%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A/","excerpt":"å‰è¨€å°†Hexoéƒ¨ç½²åœ¨CentOsæœåŠ¡å™¨ä¸Šï¼Œä¹‹åå†™ã€‚","text":"å‰è¨€å°†Hexoéƒ¨ç½²åœ¨CentOsæœåŠ¡å™¨ä¸Šï¼Œä¹‹åå†™ã€‚","categories":[{"name":"ç¯å¢ƒæ­å»º","slug":"ç¯å¢ƒæ­å»º","permalink":"http://www.octber.xyz/categories/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"http://www.octber.xyz/tags/Hexo/"}]},{"title":"é…ç½®CentOsçš„gitä»¥åŠéƒ¨ç½²SSHå…¬é’¥","slug":"é…ç½®CentOsçš„gitä»¥åŠéƒ¨ç½²SSHå…¬é’¥","date":"2019-05-18T12:41:15.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/05/18/é…ç½®CentOsçš„gitä»¥åŠéƒ¨ç½²SSHå…¬é’¥/","link":"","permalink":"http://www.octber.xyz/2019/05/18/%E9%85%8D%E7%BD%AECentOs%E7%9A%84git%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2SSH%E5%85%AC%E9%92%A5/","excerpt":"å‰è¨€åœ¨è‡ªå·±çš„æœåŠ¡å™¨ä¸Šéƒ¨ç½²GitæœåŠ¡å™¨ï¼Œæ˜¯ä¸€ä»¶éå¸¸é‡è¦çš„äº‹æƒ…ï¼Œå½“ä½ æœ‰é¡¹ç›®éœ€è¦è‡ªåŠ¨éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šçš„æ—¶å€™ï¼Œåœ¨æœåŠ¡å™¨ä¸Šå»ºç«‹ä»“åº“ï¼Œä¸€é”®pushä¸Šå»ï¼Œè€Œä¸æ˜¯æ‰‹åŠ¨æ‰“åŒ…æ–‡ä»¶å¤¹å¤åˆ¶å’±å»ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸ä¾¿æ·çš„è¿‡ç¨‹ï¼Œæœ¬èŠ‚å†…å®¹æœåŠ¡äºâ€œå¦‚ä½•å°†Hexoä¸Šä¼ åˆ°æœåŠ¡å™¨ä¸Šå¹¶å®ç°è‡ªåŠ¨éƒ¨ç½²â€ã€‚","text":"å‰è¨€åœ¨è‡ªå·±çš„æœåŠ¡å™¨ä¸Šéƒ¨ç½²GitæœåŠ¡å™¨ï¼Œæ˜¯ä¸€ä»¶éå¸¸é‡è¦çš„äº‹æƒ…ï¼Œå½“ä½ æœ‰é¡¹ç›®éœ€è¦è‡ªåŠ¨éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šçš„æ—¶å€™ï¼Œåœ¨æœåŠ¡å™¨ä¸Šå»ºç«‹ä»“åº“ï¼Œä¸€é”®pushä¸Šå»ï¼Œè€Œä¸æ˜¯æ‰‹åŠ¨æ‰“åŒ…æ–‡ä»¶å¤¹å¤åˆ¶å’±å»ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸ä¾¿æ·çš„è¿‡ç¨‹ï¼Œæœ¬èŠ‚å†…å®¹æœåŠ¡äºâ€œå¦‚ä½•å°†Hexoä¸Šä¼ åˆ°æœåŠ¡å™¨ä¸Šå¹¶å®ç°è‡ªåŠ¨éƒ¨ç½²â€ã€‚ æœåŠ¡å™¨ç¯å¢ƒæˆ‘ä½¿ç”¨çš„æ˜¯CentOs 7.Xç‰ˆæœ¬ 64ä½ï¼Œ6.Xç‰ˆæœ¬å·²ç»æ”¾å¼ƒç»´æŠ¤ï¼Œä¸å»ºè®®å¤§å®¶ä½¿ç”¨ã€‚ å› ä¸ºCentOså·²ç»å†…ç½®äº†OpenSSHï¼Œå¦‚æœä½ çš„ç³»ç»Ÿæ²¡æœ‰ï¼Œéœ€è¦è‡ªè¡Œä¸‹è½½ï¼ŒæŸ¥çœ‹sshçš„ç‰ˆæœ¬çš„æ–¹å¼æ˜¯ssh -Vï¼Œè¯·æ³¨æ„ï¼Œåœ¨linuxä¸­å¤§å°å†™æ˜¯æ•æ„Ÿçš„ï¼Œå¦‚æœä½ çš„Vå°å†™ï¼Œæ˜¯ä¸èƒ½æ­£ç¡®å¾—å‡ºç»“æœçš„ã€‚ä¸‹é¢æ˜¯æˆ‘çš„è¾“å‡ºç»“æœï¼š è¯¾ä»¶æˆ‘å·²ç»æœ‰äº†OpenSSLç¯å¢ƒã€‚ å®‰è£…Gité¦–å…ˆæˆ‘è¦è¯´çš„æ˜¯Gitï¼ŒGithubï¼ŒGitLabçš„åŒºåˆ«ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰äººéƒ½çŸ¥é“è¿™ä¸ªåŒºåˆ«çš„ã€‚ Gitï¼šæ˜¯ä¸€ä¸ªç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œç‰ˆæœ¬æ§åˆ¶æ˜¯ä¸€ç§è®°å½•ä¸€ä¸ªæˆ–è‹¥å¹²æ–‡ä»¶å†…å®¹å˜åŒ–ï¼Œä»¥ä¾¿å°†æ¥æŸ¥é˜…ç‰¹å®šç‰ˆæœ¬ä¿®è®¢æƒ…å†µçš„ç³»ç»Ÿã€‚æœ‰äº†ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œå°±å¯ä»¥ä¸ç”¨æ‹…å¿ƒæ–‡ä»¶ä¸¢å¤±ï¼Œä¸å°å¿ƒè¯¯ä¿®æ”¹æ–‡ä»¶ç­‰ç­‰â€œäº‹æ•…â€ï¼Œè€Œä¸”ä½ å¯ä»¥éšä¾¿å›åˆ°å†å²è®°å½•çš„æŸä¸ªæ—¶åˆ»ã€‚ SVN, CVSè¿™ç±»æ—©æœŸçš„é›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œéƒ½æœ‰ä¸€ä¸ªå•ä¸€çš„é›†ä¸­ç®¡ç†çš„æœåŠ¡å™¨ï¼Œä¿å­˜æ‰€æœ‰æ–‡ä»¶çš„ä¿®è®¢ç‰ˆæœ¬ï¼Œè€ŒååŒå·¥ä½œçš„äººä»¬éƒ½é€šè¿‡å®¢æˆ·ç«¯è¿åˆ°è¿™å°æœåŠ¡å™¨ï¼Œå–å‡ºæœ€æ–°çš„æ–‡ä»¶æˆ–è€…æäº¤æ›´æ–°ã€‚ ä¸ºä»€ä¹ˆé€‰ç”¨åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Ÿ æˆ‘ä»¬ç°åœ¨ä½¿ç”¨çš„å¤§å¤šéƒ½æ˜¯åƒGitè¿™æ ·çš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œå› ä¸ºå®¢æˆ·ç«¯å¹¶ä¸åªæ˜¯è·å–æœ€æ–°çš„ç‰ˆæœ¬æ–‡ä»¶ï¼Œè€Œæ˜¯å§ä»£ç ä»“åº“å®Œæ•´çš„é•œåƒä¸‹æ¥ã€‚ä¸€æ—¦æœåŠ¡å™¨å‘ç”Ÿæ•…éšœï¼Œäº‹åå¯ä»¥ä½¿ç”¨ä»»ä½•ä¸€ä¸ªé•œåƒå‡ºæ¥çš„æœ¬åœ°ä»“åº“è¿›è¡Œå›å¤ï¼Œå› ä¸ºæ¯ä¸€æ¬¡çš„æå–æ“ä½œï¼Œå®é™…ä¸Šéƒ½æ˜¯ä¸€æ¬¡å¯¹ä»£ç ä»“åº“çš„å®Œæ•´å¤‡ä»½ã€‚ è®°ä½ä¸€ä¸ªäºº Linus Torvaldsï¼Œä»–ä¸å½“å¼€åˆ›äº†Linuxæ“ä½œç³»ç»Ÿï¼Œè¿˜å¼€å‘äº†Gitï¼Œè€Œç°åœ¨çš„Androidåº•å±‚å°±æ˜¯åŸºäºæ›´æ”¹è¿‡çš„Linuxç³»ç»Ÿã€‚è¿™æ˜¯ä»–çš„githubåœ°å€ï¼šhttps://github.com/torvalds ä¸Šé¢æœ‰Linuxçš„æºç ï¼ä½ éš¾é“ä¸æ„Ÿå…´è¶£ï¼Ÿ GitHubï¼šè¿™ä¸ªå¤§å®¶å°±æ›´ç†Ÿæ‚‰äº†ï¼Œä»–æ˜¯åœ¨çº¿çš„åŸºäºGitçš„æ‰“ç æ‰˜ç®¡æœåŠ¡ï¼Œå¤§å®¶å‡ ä¹æ¯å¤©éƒ½åœ¨ç”¨ã€‚ Gitlabï¼šå¾ˆå¤šäººæŠŠè¿™ä¸ªå’ŒGitHubæ··ä¸ºä¸€è°ˆï¼Œéš¾ä»¥åŒºåˆ†ï¼Œå…¶å®å¾ˆç®€å•ï¼Œé¦–å…ˆä»–ä»¬éƒ½æ˜¯åŸºäºWebçš„ç‰ˆæœ¬æ§åˆ¶ç•Œé¢ï¼ŒæœåŠ¡äºäº’è”ç½‘ï¼Œgithubå¯ä»¥ç›´æ¥æ³¨å†Œä½¿ç”¨ï¼ŒäºŒgitlabéœ€è¦éƒ¨ç½²åˆ°æœåŠ¡å™¨ï¼Œä¸€ä¸ªæ˜¯åˆ«äººçš„ï¼Œä¸€ä¸ªæ˜¯è‡ªå·±çš„ã€‚ è®²äº†è¿™ä¹ˆå¤šï¼Œæˆ‘ä»¬å¯ä»¥å¼€å§‹å®‰è£…Gitäº†ã€‚ 1yum install -y git å¦‚æ­¤ç®€å•ï¼ŒéªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸï¼Œæˆ‘ä»¬åªéœ€è¦è¾“å…¥ 1git --version è¿™æ˜¯æˆ‘å®é™…æ“ä½œçš„æˆªå›¾ æ—¢ç„¶æ˜¯ç‰ˆæœ¬æ§åˆ¶ï¼Œé‚£ä¹ˆå°±æ¶‰åŠè°å»è¿›è¡Œè¿™ä¸ªæ§åˆ¶ï¼Œæˆ‘ä»¬å°±éœ€è¦è®¾ç½®ä¸“é—¨ç®¡ç†gitçš„è´¦å·ã€‚ 12345678910# æ·»åŠ gitè´¦æˆ·adduser git# ä¿®æ”¹gitçš„å¯†ç passwd git# éœ€è¦æ ¹æ®æç¤ºè¾“å…¥ä¸¤æ¬¡# æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸcd /homels -al æˆ‘çš„æ•ˆæœå›¾ï¼š gitçš„æƒé™ç®¡ç†è¿™å°±æ˜¯æˆ‘ä»¬é‡ç‚¹è¦è®²çš„ï¼Œå› ä¸ºæˆ‘æ˜¯ä¸ªäººå¼€å‘ï¼Œæˆ‘åœ¨ä¸€ä¸ªå°çš„å¤–åŒ…å…¬å¸åšå¼€å‘çš„æ—¶å€™ï¼Œç”±äºå›¢é˜Ÿä¸å¤§ï¼Œä½¿ç”¨çš„ä¹Ÿéƒ½æ˜¯SSHå…¬é’¥è¿›è¡Œç®¡ç†ï¼Œä½†æ˜¯å¦‚æœå¤§ä¸€ç‚¹çš„å›¢é˜Ÿï¼Œå°±å»ºè®®ä½¿ç”¨gitoliteæˆ–è€…gitosisè¿›è¡Œç®¡ç†ï¼Œä¸€ä¸ªæ˜¯Perlå¼€å‘ï¼Œä¸€ä¸ªæ˜¯Pythonå¼€å‘ï¼Œè¿™é‡Œå°±ä¸èµ˜è¿°äº†ï¼Œå› ä¸ºæˆ‘ä»¬ç”¨åˆ°çš„æ˜¯SSHå…¬é’¥éƒ¨ç½²ã€‚ æˆ‘ä»¬è¿›è¡Œä¸€ä¸‹æ“ä½œï¼š 12345678910111213# è¿›å…¥åˆ°gitè´¦æˆ·çš„ä¸»ç›®å½•cd /home/git# åˆ›å»º.sshç›®å½•ï¼Œå½“ç„¶å¦‚æœä½ å·²ç»æœ‰äº†ï¼Œå½“æˆ‘æ²¡è¯´mkdir .sshcd .ssh# åˆ›å»ºæƒé™keysæ–‡ä»¶touch authorized_keys# 5. è®¾ç½®æƒé™ï¼Œæ­¤æ­¥éª¤ä¸èƒ½çœç•¥ï¼Œè€Œä¸”æƒé™å€¼ä¹Ÿä¸è¦æ”¹ï¼Œä¸ç„¶ä¼šæŠ¥é”™ã€‚$ chmod 700 /home/git/.ssh/$ chmod 600 /home/git/.ssh/authorized_keys éšåæˆ‘ä»¬éœ€è¦æŠŠæœ¬åœ°çš„id_rsa.pubæ–‡ä»¶çš„å†…å®¹å¤åˆ¶åˆ°authorized_keysï¼Œå¦‚ä½•ç”Ÿæˆæœ¬åœ°SSHç§˜é’¥æˆ‘å·²ç»ä»‹ç»è¿‡äº†ï¼Œåœ¨æˆ‘ä¹‹å‰çš„åšå®¢ï¼Œå…³äºHexoå¦‚ä½•éƒ¨ç½²åˆ°Github Pagesçš„å†…å®¹ä¸­å»ºå›½ï¼Œå¯ä»¥å‚è€ƒã€‚ æ–‡ä»¶ä¼ è¾“åˆ°æœåŠ¡å™¨ä¸Šåå¦‚ä½•å¤åˆ¶å†…å®¹åˆ°æƒé™keysæ–‡ä»¶ä¸­å¯ä»¥å‚è€ƒå‘½ä»¤ï¼š cat id_rsa.pub &gt;&gt; authorized_keys æˆ‘ä»¬åœ¨æœ¬åœ°ä½¿ç”¨ssh git@æœåŠ¡å™¨åœ°å€çš„æ–¹å¼å°±å¯ä»¥ä½¿ç”¨gitè´¦å·ç™»å½•æœåŠ¡å™¨ï¼Œå½“ç„¶è¿™å¹¶ä¸å®‰å…¨ã€‚ å…è®¸ä½¿ç”¨è¿™ç§æ–¹å¼ç™»å½•æœåŠ¡å™¨è¿™å¾ˆä¸å®‰å…¨ï¼Œä¸€å®šè¦å…³é—­ï¼Œè¿™ä¸€ç‚¹æˆ‘ä¹‹åä¼šè®² åˆ›å»ºGitä»“åº“å¦‚æœæˆ‘ä»¬è¦åˆ›å»ºä¸€ä¸ªgitä»“åº“é‚£ä¹ˆå¾ˆç®€å•ï¼Œä½¿ç”¨â€“bareè¡¨ç¤ºåˆ›å»ºä¸€ä¸ªè£¸ä»“åº“ï¼Œå·¥ä½œåŒºæ²¡æœ‰æ–‡ä»¶ã€‚ 1git init --bare æœ¬åœ°å°±å¯ä»¥é€šè¿‡ä¸€ä¸‹æ–¹å¼è¿›è¡Œcloneç­‰æ“ä½œ 1git cline git@æœåŠ¡å™¨åœ°å€ip ç¦æ­¢å®¢æˆ·ç«¯shellç™»å½•ä¿®æ”¹/etc/passwdæ–‡ä»¶ 1vim /etc/passwd æ‰¾åˆ°è¿™å¥è¯ï¼š 123456git:x:1000:1000::/home/git:/bin/bash# æ”¹æˆgit:x:1000:1000::/home/git:/bin/git-shell# ! :wq å³å¯ ä¸ºä»€ä¹ˆä¸ç›´æ¥ç”¨GitLabæ²¡è¯´ä¸å¯ä»¥ï¼Œè€Œä¸”å¾ˆå¥½ï¼Œä¸è¿‡å»ºè®®2Gä¸€ä¸‹å†…å­˜çš„æœåŠ¡å™¨ä¸è¦ä½¿ç”¨ï¼Œåšä¸»æˆ‘å°±æ˜¯å› ä¸ºç©·ä¹°ä¸èµ·å¥½çš„æœåŠ¡å™¨ï¼Œæ‰€ä»¥æ‰è¿™æ ·è¿‡çš„ã€‚ ç–¯ç‹‚æš—ç¤ºæ‰“èµï¼Ÿï¼Ÿ","categories":[{"name":"ç¯å¢ƒéƒ¨ç½²","slug":"ç¯å¢ƒéƒ¨ç½²","permalink":"http://www.octber.xyz/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/"}],"tags":[{"name":"Git","slug":"Git","permalink":"http://www.octber.xyz/tags/Git/"}]},{"title":"CentOsä¸‹é…ç½®node.jså…¨å±€ç¯å¢ƒ","slug":"CentOsä¸‹é…ç½®node-jså…¨å±€ç¯å¢ƒ","date":"2019-05-18T12:21:15.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/05/18/CentOsä¸‹é…ç½®node-jså…¨å±€ç¯å¢ƒ/","link":"","permalink":"http://www.octber.xyz/2019/05/18/CentOs%E4%B8%8B%E9%85%8D%E7%BD%AEnode-js%E5%85%A8%E5%B1%80%E7%8E%AF%E5%A2%83/","excerpt":"å‰è¨€ä¹‹åå¡«å‘ï¼š å‚è€ƒåšæ–‡ï¼š https://www.cnblogs.com/wandiao/p/7237231.html https://www.cnblogs.com/baby123/p/6955396.html","text":"å‰è¨€ä¹‹åå¡«å‘ï¼š å‚è€ƒåšæ–‡ï¼š https://www.cnblogs.com/wandiao/p/7237231.html https://www.cnblogs.com/baby123/p/6955396.html","categories":[{"name":"ç¯å¢ƒæ­å»º","slug":"ç¯å¢ƒæ­å»º","permalink":"http://www.octber.xyz/categories/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"}],"tags":[{"name":"node.js","slug":"node-js","permalink":"http://www.octber.xyz/tags/node-js/"}]},{"title":"CentOSé…ç½®MySQLå¡«å‘-Linuxé˜²ç«å¢™å’Œå¤–éƒ¨è®¿é—®","slug":"CentOSé…ç½®MySQLå¡«å‘-Linuxé˜²ç«å¢™å’Œå¤–éƒ¨è®¿é—®","date":"2019-05-18T10:48:44.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/05/18/CentOSé…ç½®MySQLå¡«å‘-Linuxé˜²ç«å¢™å’Œå¤–éƒ¨è®¿é—®/","link":"","permalink":"http://www.octber.xyz/2019/05/18/CentOS%E9%85%8D%E7%BD%AEMySQL%E5%A1%AB%E5%9D%91-Linux%E9%98%B2%E7%81%AB%E5%A2%99%E5%92%8C%E5%A4%96%E9%83%A8%E8%AE%BF%E9%97%AE/","excerpt":"å‰è¨€åœ¨æ‹¥æœ‰ä¸ªäººæœåŠ¡å™¨åï¼Œéå¸¸é‡è¦çš„ä¸€ä»¶äº‹å°±æ˜¯éƒ¨ç½²è‡ªå·±çš„MySQLï¼Œæˆ‘é€‰ç”¨äº†MySQL5.7çš„ç‰ˆæœ¬ï¼Œç›¸æ¯”MySQL5.5åŠä»¥ä¸‹ç‰ˆæœ¬ï¼Œ5.7ä½¿ç”¨Innodbæ•°æ®åº“å­˜å‚¨å¼•æ“ï¼Œå¢æ·»äº†äº‹åŠ¡çš„æœºåˆ¶ï¼Œè¿™ä¸¤è€…éå¸¸é‡è¦ã€‚å®‰è£…MySQLå¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§ä½¿ç”¨yumæºï¼Œæˆ–è€…ä½¿ç”¨Dockerå®‰è£…MySQLå®¹å™¨ï¼Œè¿™ä¸¤è€…æˆ‘éƒ½ä½¿ç”¨è¿‡ï¼Œä¸è¿‡è¿™æ¬¡æˆ‘ä½¿ç”¨äº†å®å¡”Linuxé¢æ¿è™½ç„¶æ— è„‘å®‰è£…ï¼Œä½†æ˜¯çœäº‹ä¸å°‘ã€‚","text":"å‰è¨€åœ¨æ‹¥æœ‰ä¸ªäººæœåŠ¡å™¨åï¼Œéå¸¸é‡è¦çš„ä¸€ä»¶äº‹å°±æ˜¯éƒ¨ç½²è‡ªå·±çš„MySQLï¼Œæˆ‘é€‰ç”¨äº†MySQL5.7çš„ç‰ˆæœ¬ï¼Œç›¸æ¯”MySQL5.5åŠä»¥ä¸‹ç‰ˆæœ¬ï¼Œ5.7ä½¿ç”¨Innodbæ•°æ®åº“å­˜å‚¨å¼•æ“ï¼Œå¢æ·»äº†äº‹åŠ¡çš„æœºåˆ¶ï¼Œè¿™ä¸¤è€…éå¸¸é‡è¦ã€‚å®‰è£…MySQLå¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§ä½¿ç”¨yumæºï¼Œæˆ–è€…ä½¿ç”¨Dockerå®‰è£…MySQLå®¹å™¨ï¼Œè¿™ä¸¤è€…æˆ‘éƒ½ä½¿ç”¨è¿‡ï¼Œä¸è¿‡è¿™æ¬¡æˆ‘ä½¿ç”¨äº†å®å¡”Linuxé¢æ¿è™½ç„¶æ— è„‘å®‰è£…ï¼Œä½†æ˜¯çœäº‹ä¸å°‘ã€‚ MySQLå¡«å‘å®‰è£…å¥½å¤–éƒ¨æ— æ³•è®¿é—®ï¼Ÿæˆ‘ä¹‹å‰ä¸€ç›´ä»¥ä¸ºæ˜¯æ²¡æœ‰grantç›¸å…³æƒé™ç»™rootï¼Œrootåªæœ‰localhostçš„æƒé™ï¼Œä¹Ÿå°±æ˜¯åªæœ‰æœ¬æœºæ‰èƒ½è®¿é—®ï¼Œä½†æ˜¯æˆ‘åœ¨æœ¬æœºèµ‹äºˆæƒé™åï¼Œå‘ç°åœ¨æˆ‘è‡ªå·±çš„ç”µè„‘ä¸Šæµ·å¸‚è®¿é—®ä¸åˆ°ï¼Œè¿™å°±å¾ˆéš¾å—ã€‚å½“ç„¶grantæƒé™æ˜¯å¿…è¦çš„æ­¥éª¤ï¼Œä½†æ˜¯è¿˜æœ‰ä¸€ä¸ªéå¸¸é‡è¦çš„æ“ä½œã€‚ è®¾ç½®Linuxé˜²ç«å¢™æˆ‘ä»¬éœ€è¦å¯¹3306ç«¯å£è¿›è¡Œè®¾ç½®ï¼š é˜²ç«å¢™è®¾ç½® 1service iptables status ç»“æœï¼š æ˜¾ç„¶ï¼Œæç¤ºæˆ‘ä»¬iptables.serviceä¸å­˜åœ¨ï¼ŒCentOS7é»˜è®¤çš„é˜²ç«å¢™ä¸æ˜¯iptablesï¼Œè€Œæ˜¯firewalle ######åœæ­¢firewalldæœåŠ¡ 1systemctl stop firewalld ç»“æœï¼š æ²¡æœ‰æç¤ºé”™è¯¯å°±æ˜¯å¯¹å’¯ï¼Œæˆ‘ä»¬ç»§ç»­ ######ç¦ç”¨firewalldæœåŠ¡ 1systemctl mask firewalld ä½ å¯èƒ½ä¼šå¥½æ°”ï¼Œåœæ­¢åä¸ºä»€ä¹ˆè¿˜è¦ç¦ç”¨ï¼Œæœ‰ä»€ä¹ˆæ„ä¹‰ï¼Ÿ æ³¨é”€æœåŠ¡æ„å‘³ç€ï¼š è¯¥æœåŠ¡åœ¨ç³»ç»Ÿé‡å¯çš„æ—¶å€™ä¸ä¼šå¯åŠ¨ è¯¥æœåŠ¡æ— æ³•è¿›è¡Œåšsystemctl start/stopæ“ä½œ è¯¥æœåŠ¡æ— æ³•è¿›è¡Œsystemctl enable/disableæ“ä½œ ç»“æœï¼š å¦‚æœæˆ‘ä»¬è¦å¼€å¯çš„è¯ï¼Œå¼€å¯å‘½ä»¤ä¸ºï¼š 1systemctl unmask firewalld æ‰§è¡Œç»“æœä¸ºï¼š éšåæˆ‘ä»¬å°±éœ€è¦å®‰è£…iptables-services 1yum install iptables-services ç»“æœä¸ºï¼š æœŸé—´éœ€è¦è¾“å…¥ä¸€ä¸ªyå³å¯ï¼Œè¡¨ç¤ºyesï¼ è®¾ç½®å¼€æœºå¯åŠ¨ 1systemctl enable iptables ç»“æœä¸ºï¼š ç„¶åæŸ¥çœ‹çŠ¶æ€ 1service iptables status iptablesï¼šæœªè¿è¡Œé˜²ç«å¢™ã€‚ æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå¹¶æœªå¯åŠ¨ã€‚å¼€å¯é˜²ç«å¢™ 1service iptables start æˆ‘ä»¬ç°åœ¨éœ€è¦ï¼Œå…³é—­é˜²ç«å¢™ï¼Œæ¥å¼€æ”¾ç«¯å£ï¼š 1service iptables stop Linux é˜²ç«å¢™å¼€æ”¾3306ç«¯å£ å¼€æ”¾ç«¯å£å‘½ä»¤ï¼š 1/sbin/iptables -I INPUT -p tcp --dport 3306 -j ACCEPT åˆ°æ­¤æˆ‘ä»¬å°±ç»“æŸäº†æœ¬æ¬¡æ“ä½œ è®¾ç½®MySQLçš„Rootæƒé™åœ¨æœ¬åœ°è¿›å…¥MySQLï¼š 1mysql -h localhost -u root -p éšåè¾“å…¥å¯†ç è¿›å…¥ï¼Œç»“æœï¼š è¾“å…¥èµ‹äºˆæƒé™çš„ä»£ç å³å¯ 1GRANT ALL PRIVILEGES ON *.* TO &#x27;root&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;password&#x27; WITH GRANT OPTION; è¿™å¥è¯æ„æ€å¾ˆç®€å•ï¼Œèµ‹äºˆrootæ‰€æœ‰æƒé™åˆ°*.*ä¹Ÿå°±æ˜¯æ‰€æœ‰è®¿é—®ï¼Œè€Œä¸æ˜¯localhostï¼Œé€šè¿‡ä¸€ä¸ªpasswordéªŒè¯å°±å¯ä»¥ç™»å½•ã€‚ æ˜¾ç¤ºQuery OK, 0 rows affected, 1 warning (0.01 sec)å¤§åŠŸå‘Šæˆ è¿™æ ·æˆ‘ä»¬çš„MySQLå°±ç®—å®Œå…¨éƒ¨ç½²å¥½äº†ã€‚æˆ‘ä»¬åœ¨è‡ªå·±çš„ç”µè„‘ä¸Šè¿æ¥æˆåŠŸï¼š è½¬è½½ä¸€ç¯‡ä¼˜ç§€çš„åšæ–‡è½¬è‡ªï¼šhttp://blog.csdn.net/huxu981598436/article/details/54864260 å¼€å¯ç«¯å£å‘½ä»¤è¾“å…¥firewall-cmd â€“query-port=6379/tcpï¼Œå¦‚æœè¿”å›ç»“æœä¸ºnoï¼Œé‚£ä¹ˆè¯æ˜6379ç«¯å£ç¡®å®æ²¡æœ‰å¼€å¯ã€‚ è¾“å…¥firewall-cmd â€“add-port=6379/tcpï¼Œå°†6379ç«¯å£å¼€å¯ï¼Œè¿”å›successã€‚ 1ã€firewalldçš„åŸºæœ¬ä½¿ç”¨è§£é™¤å±è”½ ï¼ˆmaskï¼‰systemctl unmask firewalld.service å¯åŠ¨ï¼š systemctl start firewalld æŸ¥çœ‹çŠ¶æ€ï¼š systemctl status firewalld åœæ­¢ï¼š systemctl disable firewalld ç¦ç”¨ï¼š systemctl stop firewalld 2.systemctlæ˜¯CentOS7çš„æœåŠ¡ç®¡ç†å·¥å…·ä¸­ä¸»è¦çš„å·¥å…·ï¼Œå®ƒèåˆä¹‹å‰serviceå’Œchkconfigçš„åŠŸèƒ½äºä¸€ä½“ã€‚å¯åŠ¨ä¸€ä¸ªæœåŠ¡ï¼šsystemctl start firewalld.serviceå…³é—­ä¸€ä¸ªæœåŠ¡ï¼šsystemctl stop firewalld.serviceé‡å¯ä¸€ä¸ªæœåŠ¡ï¼šsystemctl restart firewalld.serviceæ˜¾ç¤ºä¸€ä¸ªæœåŠ¡çš„çŠ¶æ€ï¼šsystemctl status firewalld.serviceåœ¨å¼€æœºæ—¶å¯ç”¨ä¸€ä¸ªæœåŠ¡ï¼šsystemctl enable firewalld.serviceåœ¨å¼€æœºæ—¶ç¦ç”¨ä¸€ä¸ªæœåŠ¡ï¼šsystemctl disable firewalld.serviceæŸ¥çœ‹æœåŠ¡æ˜¯å¦å¼€æœºå¯åŠ¨ï¼šsystemctl is-enabled firewalld.serviceæŸ¥çœ‹å·²å¯åŠ¨çš„æœåŠ¡åˆ—è¡¨ï¼šsystemctl list-unit-files|grep enabledæŸ¥çœ‹å¯åŠ¨å¤±è´¥çš„æœåŠ¡åˆ—è¡¨ï¼šsystemctl â€“failed 3.é…ç½®firewalld-cmdæŸ¥çœ‹ç‰ˆæœ¬ï¼š firewall-cmd â€“version æŸ¥çœ‹å¸®åŠ©ï¼š firewall-cmd â€“help æ˜¾ç¤ºçŠ¶æ€ï¼š firewall-cmd â€“state æŸ¥çœ‹æ‰€æœ‰æ‰“å¼€çš„ç«¯å£ï¼š firewall-cmd â€“zone=public â€“list-ports æ›´æ–°é˜²ç«å¢™è§„åˆ™ï¼š firewall-cmd â€“reload æŸ¥çœ‹åŒºåŸŸä¿¡æ¯: firewall-cmd â€“get-active-zones æŸ¥çœ‹æŒ‡å®šæ¥å£æ‰€å±åŒºåŸŸï¼š firewall-cmd â€“get-zone-of-interface=eth0 æ‹’ç»æ‰€æœ‰åŒ…ï¼šfirewall-cmd â€“panic-on å–æ¶ˆæ‹’ç»çŠ¶æ€ï¼š firewall-cmd â€“panic-off æŸ¥çœ‹æ˜¯å¦æ‹’ç»ï¼š firewall-cmd â€“query-panic é‚£æ€ä¹ˆå¼€å¯ä¸€ä¸ªç«¯å£å‘¢ æ·»åŠ firewall-cmd â€“zone=public â€“add-port=80/tcp â€“permanent ï¼ˆâ€“permanentæ°¸ä¹…ç”Ÿæ•ˆï¼Œæ²¡æœ‰æ­¤å‚æ•°é‡å¯åå¤±æ•ˆï¼‰ é‡æ–°è½½å…¥firewall-cmd â€“reload æŸ¥çœ‹80/tcp åˆ é™¤ firewall-cmd â€“zone= public â€“remove-port=80/tcp â€“permanent ====================================================== iptablesæ˜¯linuxä¸‹çš„é˜²ç«å¢™ï¼ŒåŒæ—¶ä¹Ÿæ˜¯æœåŠ¡åç§°ã€‚ service iptables status æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€ service iptables start å¼€å¯é˜²ç«å¢™ service iptables stop å…³é—­é˜²ç«å¢™ service iptables restart é‡å¯é˜²ç«å¢™ é˜²ç«å¢™å¼€æ”¾ç‰¹å®šç«¯å£ï¼š â‘ æ–‡ä»¶/etc/sysconfig/iptables â‘¡æ·»åŠ ï¼š -A RH-Firewall-1-INPUT -m state --state NEW -m tcp -p tcp --dport 8080 -j ACCEPT â˜…æ•°å­—8080ä»£è¡¨å¼€æ”¾8080ç«¯å£ï¼Œä¹Ÿå¯ä»¥æ”¹æˆå…¶ä»–çš„ç«¯å£â˜… â‘¢é‡å¯é˜²ç«å¢™ä¿å­˜å¯¹é˜²ç«å¢™çš„è®¾ç½® serivce iptables save æŸ¥çœ‹iptablesè§„åˆ™åŠç¼–å· iptables -nL â€“line-number å…³é—­æ‰€æœ‰çš„INPUT FORWARDï¼ˆè½¬å‘ï¼‰ OUTPUTçš„æ‰€æœ‰ç«¯å£ iptables -P INPUT DROP iptables -P FORWARD DROP iptables -P OUTPUT DROP åªæ‰“å¼€22ç«¯å£ iptables -A INPUT -p tcp â€“dport 22 -j ACCEPT iptables -A OUTPUT -p tcp â€“sport 22 -j ACCEPT å‚æ•°è®²è§£ï¼šâ€“A å‚æ•°å°±çœ‹æˆæ˜¯æ·»åŠ ä¸€æ¡è§„åˆ™ â€“p æŒ‡å®šæ˜¯ä»€ä¹ˆåè®®ï¼Œæˆ‘ä»¬å¸¸ç”¨çš„tcp åè®®ï¼Œå½“ç„¶ä¹Ÿæœ‰udpï¼Œä¾‹å¦‚53ç«¯å£çš„DNS â€“dport å°±æ˜¯ç›®æ ‡ç«¯å£ï¼Œå½“æ•°æ®ä»å¤–éƒ¨è¿›å…¥æœåŠ¡å™¨ä¸ºç›®æ ‡ç«¯å£ â€“sport æ•°æ®ä»æœåŠ¡å™¨å‡ºå»ï¼Œåˆ™ä¸ºæ•°æ®æºç«¯å£ä½¿ç”¨ â€“j å°±æ˜¯æŒ‡å®šæ˜¯ ACCEPT -æ¥æ”¶ æˆ–è€… DROP ä¸æ¥æ”¶ ç¦æ­¢æŸä¸ªIPè®¿é—®iptables -A INPUT -p tcp -s 192.168.1.2 -j DROP â€“s å‚æ•°æ˜¯æ¥æºï¼ˆå³192.168.1.2ï¼‰ åé¢æ‹’ç»å°±æ˜¯DROP åˆ é™¤è§„åˆ™iptables -D INPUT 2 åˆ é™¤INPUTé“¾ç¼–å·ä¸º2çš„è§„åˆ™ é¢˜å¤–è¯æœåŠ¡å™¨ä½¿ç”¨ä¸¤å¹´äº†ï¼ŒMySQLçš„éƒ¨ç½²ä¹Ÿæè¿‡å¾ˆå¤šæ¬¡ï¼Œå…¶å®å»ºè®®å¤§å®¶ä½¿ç”¨Dockerè¿›è¡Œéƒ¨ç½²ï¼Œæ˜¯æœ€å¥½çš„ï¼Œä¹‹å‰çš„åšå®¢ä½¿ç”¨wordpressä¹Ÿè®°å½•è¿‡ï¼Œå¯æƒœç”±äºæ•°æ®åº“æ²¡æœ‰å¤‡ä»½å¥½ï¼Œä¸¢å¤±äº†æ•°æ®ï¼Œç°åœ¨å†ä¸€æ¬¡è¿›è¡Œè®°å½•ã€‚","categories":[{"name":"ç¯å¢ƒæ­å»º","slug":"ç¯å¢ƒæ­å»º","permalink":"http://www.octber.xyz/categories/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"}],"tags":[{"name":"MySQL","slug":"MySQL","permalink":"http://www.octber.xyz/tags/MySQL/"}]},{"title":"å˜é‡å‘½åå°å·¥å…·","slug":"å˜é‡å‘½åå°å·¥å…·","date":"2019-05-18T05:15:50.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/05/18/å˜é‡å‘½åå°å·¥å…·/","link":"","permalink":"http://www.octber.xyz/2019/05/18/%E5%8F%98%E9%87%8F%E5%91%BD%E5%90%8D%E5%B0%8F%E5%B7%A5%E5%85%B7/","excerpt":"å‰è¨€æˆ‘ä»¬åœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­ç»å¸¸é‡åˆ°å˜é‡åä¸çŸ¥é“æ€ä¹ˆèµ·çš„æƒ…å†µï¼Œä¸­å›½çš„ç¨‹åºå‘˜æ—¥å¸¸å‡†å¤‡ä¸€ä¸ªæœ‰é“è¯å…¸ä¹Ÿæ˜¯å¾ˆæ­£å¸¸çš„äº‹æƒ…ï¼Œå¤§ç¥å°±å¦å½“åˆ«è®ºäº†ï¼Œå°¤å…¶æ˜¯é‡åˆ°åŒæ ·çš„æ„æ€éœ€è¦å¤šä¸ªå˜é‡çš„æ—¶å€™","text":"å‰è¨€æˆ‘ä»¬åœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­ç»å¸¸é‡åˆ°å˜é‡åä¸çŸ¥é“æ€ä¹ˆèµ·çš„æƒ…å†µï¼Œä¸­å›½çš„ç¨‹åºå‘˜æ—¥å¸¸å‡†å¤‡ä¸€ä¸ªæœ‰é“è¯å…¸ä¹Ÿæ˜¯å¾ˆæ­£å¸¸çš„äº‹æƒ…ï¼Œå¤§ç¥å°±å¦å½“åˆ«è®ºäº†ï¼Œå°¤å…¶æ˜¯é‡åˆ°åŒæ ·çš„æ„æ€éœ€è¦å¤šä¸ªå˜é‡çš„æ—¶å€™ CODELFè¿™æ˜¯ä¸€ä¸ªç¥å¥‡çš„ç½‘ç«™ï¼Œä¸å¤šè¯´äº†ï¼Œä¼ é€é—¨ï¼šhttps://unbug.github.io/codelf/","categories":[{"name":"å·¥å…·é›†","slug":"å·¥å…·é›†","permalink":"http://www.octber.xyz/categories/%E5%B7%A5%E5%85%B7%E9%9B%86/"}],"tags":[{"name":"Utils","slug":"Utils","permalink":"http://www.octber.xyz/tags/Utils/"}]},{"title":"Hexoä¸»é¢˜-Icarusä¸»é¢˜","slug":"Hexoä¸»é¢˜-Icarusä¸»é¢˜","date":"2019-05-18T00:32:14.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/05/18/Hexoä¸»é¢˜-Icarusä¸»é¢˜/","link":"","permalink":"http://www.octber.xyz/2019/05/18/Hexo%E4%B8%BB%E9%A2%98-Icarus%E4%B8%BB%E9%A2%98/","excerpt":"ç‰¹åˆ«é¸£è°¢ä½œè€…ï¼šAokilinæ¥æºï¼šCSDNåŸæ–‡ï¼šhttps://blog.csdn.net/marvine/article/details/89816846 Hexoä¸»é¢˜è¯´èµ·ä¸»é¢˜ï¼Œè¿™é‡Œé¦–å…ˆçœ‹å®˜æ–¹çš„ä¸»é¢˜å•†åº—https://hexo.io/themes/","text":"ç‰¹åˆ«é¸£è°¢ä½œè€…ï¼šAokilinæ¥æºï¼šCSDNåŸæ–‡ï¼šhttps://blog.csdn.net/marvine/article/details/89816846 Hexoä¸»é¢˜è¯´èµ·ä¸»é¢˜ï¼Œè¿™é‡Œé¦–å…ˆçœ‹å®˜æ–¹çš„ä¸»é¢˜å•†åº—https://hexo.io/themes/ ä¸å¾—ä¸è¯´ï¼Œä½¿ç”¨æœ€å¹¿æ³›çš„ä¸»é¢˜å¹¶ä¸æ˜¯åšä¸»æˆ‘ç”¨çš„ä¸»é¢˜ï¼Œè€Œæ˜¯nexTï¼š å®˜æ–¹åœ°å€ ä»–çš„ä¸€ä¸ªåŠŸèƒ½æˆ‘éå¸¸å–œæ¬¢ï¼Œé‚£å°±æ˜¯å·¦è¾¹æ˜¾ç¤ºæ–‡ç« çš„ç›®å½•ï¼Œå¹¶ä¸”ç‚¹å‡»å¯ä»¥è·³è½¬è¿‡å»ã€‚ ä¸»é¢˜å¤§æ°”ï¼Œè€çœ‹ï¼Œç¡®å®æ˜¯ä¸€ä¸ªå¥½çš„é€‰æ‹©ã€‚ è€Œæˆ‘ä½¿ç”¨çš„æ˜¯ä¸€ä¸ªåä¸ºä¼Šå¡æ´›æ–¯ï¼ˆIcarusï¼‰çš„ä¸»é¢˜ï¼šå®˜æ–¹åœ°å€ æˆ‘å–œæ¬¢ä»–çš„åŸå› ä¹Ÿå¾ˆç®€å•ï¼š æ–‡ç« ä¸»å›¾å¾ˆç¾è§‚ å¸ƒå±€æ‰å¹³åŒ–å¸ƒå±€å¾ˆå¥½çœ‹ å°å·¥å…·æ¯”è¾ƒå¤šï¼Œå¾ˆä¸°å¯Œ å­—ä½“ä¹Ÿå¾ˆå¥½çœ‹ é…ç½®æ–‡ä»¶å¦‚æœä½ å’Œæˆ‘ä¸€çœ¼é€‰ç”¨çš„ä¼Šå¡æ´›æ–¯ï¼Œé‚£ä¹ˆä½ å¯ä»¥ç»§ç»­å¾€ä¸‹çœ‹ï¼Œçœ‹çœ‹æˆ‘çš„ä¸»é¢˜é…ç½® 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129...# æ³¨æ„ï¼šlanguageä¸çŸ¥é“ä¸ºä»€ä¹ˆä¸èµ·ä½œç”¨ï¼Œéœ€è¦æ”¹ä¸€äº›åœ°æ–¹ï¼Œè¯·çœ‹**å¤‡æ³¨ 1**language: ch...# æ³¨æ„ï¼šæ­¤å¤„çš„menuæœ¬æ¥æ˜¯è‹±æ–‡ï¼Œä¸è¦æŒ‡æœ›ä»–ä¼šæŒ‰ç…§è¯­è¨€å˜æˆä¸­æ–‡ï¼Œæ‰‹åŠ¨å†™æˆä¸­æ–‡å³å¯ï¼Œè¯·çœ‹**å¤‡æ³¨ 1**navbar: # Navigation bar menu links menu: ä¸»é¡µ: / å½’æ¡£: /archives åˆ†ç±»: /categories æ ‡ç­¾: /tags å…³äº: /about # Navigation bar links to be shown on the right links: My Github: icon: fab fa-github url: &#x27;https://github.com/OctoberTian&#x27;...# æ³¨æ„ï¼šå¦‚æœä½ æƒ³è®©ä½ çš„æ–‡ç« åœ¨newçš„æ—¶å€™æœ‰è‡ªåŠ¨ç”Ÿæˆthumbnailç­‰ï¼Œå¯ä»¥åœ¨æ­¤è®¾ç½®ã€‚è¯·çœ‹**å¤‡æ³¨ 2**article: # Code highlight theme # https://github.com/highlightjs/highlight.js/tree/master/src/styles highlight: atom-one-light # Whether to show article thumbnail images thumbnail: true # Whether to show estimate article reading time readtime: true...# æ³¨æ„ï¼šè¿™æ˜¯å¼€å¯è¯„è®ºåŠŸèƒ½ï¼Œè¿™ä¸€éƒ¨åˆ†æˆ‘ä¼šå•ç‹¬ä¸€ç¯‡åšå®¢è®²Hexoä¸­çš„æ’ä»¶å’Œå°åŠŸèƒ½ï¼Œè¯·æŒç»­å…³æ³¨comment: # Name of the comment plugin type: valine app_id: *** app_key: *** notify: false verify: false placeholder: çœ‹äº†è¿™ä¹ˆä¹…ä¸è¯„ä»·ä¸€ä¸‹å—ï¼Ÿ guest_info: nick,mail,link pagesize: 10 shortname: ä¸èƒ½ä¸ºç©º...# æ³¨æ„ï¼šè¿™æ˜¯æ‰“èµåŠŸèƒ½ï¼Œimagesæ–‡ä»¶å¤¹æ˜¯ä¸»é¢˜æ–‡ä»¶å¤¹sourceä¸‹çš„imagesdonate: - # Donation entry name type: alipay # Qrcode image URL qrcode: &#x27;/images/wechat.png&#x27; - # Donation entry name type: wechat # Qrcode image URL qrcode: &#x27;/images/wechat.png&#x27; -...# æ³¨æ„ï¼šè¿™é‡Œæ˜¯ä¾§è¾¹æ çš„è®¾ç½®ï¼Œstickyè¡¨ç¤ºåœ¨ä½ æ»‘åŠ¨æ–‡ç« æ—¶ï¼Œå·¦å³ä¾§è¾¹æ æ˜¯å¦ä¸€èµ·æ»‘åŠ¨sidebar: # left sidebar settings left: # Whether the left sidebar is sticky when page scrolls sticky: false # right sidebar settings right: # Whether the right sidebar is sticky when page scrolls sticky: false...# æ³¨æ„ï¼šä¸¤éçš„å°ç»„ä»¶ï¼Œç”±äºä¸‰åˆ—æ˜¾ç¤ºä¼šæŠŠæ–‡ç« åˆ—æå¾—å¤ªå°ï¼Œäºæ˜¯æˆ‘æŠŠæ‰€æœ‰çš„éƒ¨ä»¶éƒ½ç§»åŠ¨åˆ°äº†å³è¾¹ï¼Œä¼šç¾è§‚ä¸€ç‚¹ã€‚widgets: - # Widget name type: profile # Where should the widget be placed, left or right position: right # Author name to be shown in the profile widget author: October å æœˆ # Title of the author to be shown in the profile widget author_title: Coding Man # Author&#x27;s current location to be shown in the profile widget location: China # Path or URL to the avatar to be shown in the profile widget avatar: &#x27;http://file.octber.xyz/avatar.png&#x27; # Email address for the Gravatar to be shown in the profile widget gravatar: &#x27;https://github.com/OctoberTian&#x27; # Whether to show avatar image rounded or square avatar_rounded: true # Path or URL for the follow button follow_link: &#x27;https://github.com/OctoberTian&#x27; # Links to be shown on the bottom of the profile widget social_links: Github: icon: fab fa-github name: &#x27;Github&#x27; url: &#x27;https://github.com/OctoberTian&#x27; Coding: icon: fab fa-github name: &#x27;Coding&#x27; url: &#x27;https://dev.tencent.com/u/OctCoding&#x27; - # Widget name type: toc # Where should the widget be placed, left or right position: right - # Widget name type: category # Where should the widget be placed, left or right position: right - # Widget name type: tagcloud # Where should the widget be placed, left or right position: right - # Widget name type: recent_posts # Where should the widget be placed, left or right position: right - # Widget name type: archive # Where should the widget be placed, left or right position: right - # Widget name type: tag # Where should the widget be placed, left or right position: right å…¶ä»–é…ç½®æš‚æ—¶è®¾ä¸ºé»˜è®¤ï¼Œæœ‰å…´è¶£å¯ä»¥è‡ªå·±è°ƒè¯•ä¸€ä¸‹ã€‚ å¤‡æ³¨ 1: å…³äºè¯­è¨€çš„é—®é¢˜è¯­è¨€çš„å‘æˆ‘è¸©äº†å¾ˆä¹…ï¼Œé¦–å…ˆæ‰¾åˆ°languageæ–‡ä»¶å¤¹ï¼Œå°±åœ¨ä¸»é¢˜æ–‡ä»¶çš„æ ¹ç›®å½•ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œä¸­æ–‡çš„å¯¹åº”ymlæ˜¯zh_Ch,è‹±æ–‡æ˜¯enï¼Œä½†æ˜¯æˆ‘åœ¨é…ç½®æ–‡ä»¶é‡Œä¿®æ”¹äº†languageä¸ºâ€™zh_Châ€™å´æ€ä¹ˆéƒ½ä¸èµ·ä½œç”¨ï¼Œæœ€åæˆ‘å‘ç°è¿™ä¹ˆä¸€å¤„ä»£ç ï¼š æ‰“å¼€layoutä¸‹çš„layout.ejs: 1&lt;html &lt;%- has_config(&#x27;language&#x27;) ? &#x27; lang=&quot;&#x27; + get_config(&#x27;language&#x27;).substring(0, 2) + &#x27;&quot;&#x27; : &#x27;&#x27; %&gt;&gt; å¯ä»¥çœ‹åˆ°ï¼Œä»–ä»é…ç½®æ–‡ä»¶ä¸­å–å‡ºå¯¹åº”languageçš„é…ç½®ï¼Œä½†æ˜¯å´subString(0, 2)ï¼Œé‚£ä¹ˆå–å‡ºzh_Chå°±ä¼šå˜æˆzhï¼Œäºæ˜¯æˆ‘æŠŠlanguageæ–‡ä»¶ä¸‹çš„zh_Ch.ymlæ–‡ä»¶åæ”¹æˆäº†ch.ymlã€‚ æ‰“å¼€common/scripts.ejsçœ‹åˆ° 1&lt;script&gt;moment.locale(&quot;&lt;%= get_config(&#x27;language&#x27;, &#x27;en&#x27;) %&gt;&quot;);&lt;/script&gt; æˆ‘æŠŠenæ”¹æˆch ä½†æ˜¯å‘ç°ä»ç„¶ä¸èƒ½å˜ä¸ºä¸­æ–‡ï¼Œäºæ˜¯æˆ‘ç›´æ¥æŠŠé…ç½®æ–‡ä»¶ä¸­Menuçš„å†…å®¹æ‰‹åŠ¨æ”¹æˆä¸­æ–‡ï¼Œå¤§åŠŸå‘Šæˆã€‚ å¤‡æ³¨ 2ï¼š articleå¦‚ä½•ä¸ºæˆ‘ä»¬çš„æ¯ç¯‡æ–‡ç« æ·»åŠ ä¸»å›¾å‘¢ï¼Ÿè¿™ä¸ªé—®é¢˜ä¸€ç›´æŸ¥ä¸åˆ°ï¼Œå›°æ‰°äº†å¾ˆä¹…ï¼Œå…¶å®å°±æ˜¯é…ç½®thumbnailä¸ºtrueï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨æ–‡ç« çš„é…ç½®é‡Œï¼Œæ·»åŠ thumbnailè¿˜æœ‰å›¾ç‰‡ç›®å½•ï¼Œå°±å¯ä»¥ç”Ÿæˆæ–‡ç« ä¸»å›¾ï¼Œæ•ˆæœå°±æ˜¯ï¼š è¿™æ ·å°±éå¸¸çš„ç¾è§‚ï¼Œä½†æ˜¯ä½ å¯èƒ½ä¼šé‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œå›¾ç‰‡æ— æ³•åŠ è½½ï¼Œè¿™ç¡®å®æ˜¯ä¸€ä¸ªé—®é¢˜ï¼Œè·¯å¾„å¦‚ä½•é€‰æ‹©ï¼Œè¿™ä¸ªä¸»é¢˜åœ¨ç”Ÿæˆé™æ€æ–‡ä»¶çš„æ—¶å€™ï¼ŒæŒ‰ç…§æ—¶é—´/year/month/day/name/pictureæ¥æ‰¾ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨åŠ ä¸Šå‰ç¼€æ—¶é—´å‰ç¼€ï¼Œæ¯”å¦‚æˆ‘è¿™ç¯‡æ–‡ç« ï¼š ä½ å¯èƒ½è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯æ¯æ¬¡éƒ½æ¥å†™titleï¼Œdateï¼Œtagsè¿™äº›æ ‡ç­¾ï¼Œéå¸¸çš„è´¹åŠ²ï¼Œå…³äºå¦‚ä½•å¿«é€Ÿçš„å†™ä¸€ç¯‡åšæ–‡æˆ‘ä¼šå•ç‹¬ä½œä¸ºä¸€ä¸ªåšæ–‡æ¥è®²ï¼Œè¯·æŒç»­å…³æ³¨ã€‚","categories":[{"name":"Hexo","slug":"Hexo","permalink":"http://www.octber.xyz/categories/Hexo/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"http://www.octber.xyz/tags/Hexo/"}]},{"title":"é¸Ÿå“¥çš„Linuxç§æˆ¿èœ(é›¶)è®¡ç®—å™¨æ¦‚è®º","slug":"é¸Ÿå“¥çš„Linuxç§æˆ¿èœ-é›¶-è®¡ç®—å™¨æ¦‚è®º","date":"2019-05-17T12:13:58.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/05/17/é¸Ÿå“¥çš„Linuxç§æˆ¿èœ-é›¶-è®¡ç®—å™¨æ¦‚è®º/","link":"","permalink":"http://www.octber.xyz/2019/05/17/%E9%B8%9F%E5%93%A5%E7%9A%84Linux%E7%A7%81%E6%88%BF%E8%8F%9C-%E9%9B%B6-%E8%AE%A1%E7%AE%97%E5%99%A8%E6%A6%82%E8%AE%BA/","excerpt":"0.1 è®¡ç®—æœºï¼šè¾…åŠ©äººè„‘çš„å¥½å·¥å…·0.1.1 è®¡ç®—æœºç¡¬ä»¶çš„äº”å¤§å•å…ƒ é¦–å…ˆæˆ‘ä»¬éœ€è¦çŸ¥é“ä»€ä¹ˆå«è®¡ç®—å™¨ ï¼š æ¥å—ç”¨æˆ·è¾“å…¥æŒ‡ä»¤ä¸æ•°æ®ï¼Œç»ç”±ä¸­å¤®å¤„ç†å™¨çš„æ•°å­¦ä¸é€»è¾‘å•å…ƒè¿ç®—å¤„ç†åï¼Œ ä»¥äº§ç”Ÿæˆ–å‚¨å­˜æˆæœ‰ç”¨çš„ä¿¡æ¯ã€‚ è®¡ç®—æœºç¡¬ä»¶çš„5å¤§å•å…ƒ è®¡ç®—æœºæ˜¯ç”±å‡ ä¸ªå•å…ƒæ‰€ç»„æˆçš„ï¼ŒåŒ…æ‹¬è¾“å…¥å•å…ƒã€ è¾“å‡ºå•å…ƒã€CPU å†…éƒ¨çš„æ§åˆ¶å•å…ƒã€ç®—æ•°é€»è¾‘å•å…ƒä¸ä¸»å­˜å‚¨å™¨äº”å¤§éƒ¨åˆ†ã€‚","text":"0.1 è®¡ç®—æœºï¼šè¾…åŠ©äººè„‘çš„å¥½å·¥å…·0.1.1 è®¡ç®—æœºç¡¬ä»¶çš„äº”å¤§å•å…ƒ é¦–å…ˆæˆ‘ä»¬éœ€è¦çŸ¥é“ä»€ä¹ˆå«è®¡ç®—å™¨ ï¼š æ¥å—ç”¨æˆ·è¾“å…¥æŒ‡ä»¤ä¸æ•°æ®ï¼Œç»ç”±ä¸­å¤®å¤„ç†å™¨çš„æ•°å­¦ä¸é€»è¾‘å•å…ƒè¿ç®—å¤„ç†åï¼Œ ä»¥äº§ç”Ÿæˆ–å‚¨å­˜æˆæœ‰ç”¨çš„ä¿¡æ¯ã€‚ è®¡ç®—æœºç¡¬ä»¶çš„5å¤§å•å…ƒ è®¡ç®—æœºæ˜¯ç”±å‡ ä¸ªå•å…ƒæ‰€ç»„æˆçš„ï¼ŒåŒ…æ‹¬è¾“å…¥å•å…ƒã€ è¾“å‡ºå•å…ƒã€CPU å†…éƒ¨çš„æ§åˆ¶å•å…ƒã€ç®—æ•°é€»è¾‘å•å…ƒä¸ä¸»å­˜å‚¨å™¨äº”å¤§éƒ¨åˆ†ã€‚ æ•´éƒ¨ä¸»æœºçš„é‡ç‚¹åœ¨äºä¸­å¤®å¤„ç†å™¨ (Central Processing Unit, CPU)ï¼ŒCPU ä¸ºä¸€ä¸ªå…·æœ‰ç‰¹å®šåŠŸèƒ½çš„èŠ¯ç‰‡ï¼Œé‡Œå¤´å«æœ‰å¾®æŒ‡ä»¤é›†ï¼Œå¦‚æœä½ æƒ³è¦è®©ä¸»æœºè¿›è¡Œä»€ä¹ˆç‰¹å¼‚çš„åŠŸèƒ½ï¼Œå°±å¾—è¦å‚è€ƒè¿™é¢— CPU æ˜¯å¦æœ‰ç›¸å…³å†…å»ºçš„å¾®æŒ‡ä»¤é›†æ‰å¯ä»¥ã€‚ ç”±äº CPU çš„å·¥ä½œä¸»è¦åœ¨äºç®¡ç†ä¸è¿ç®—ï¼Œå› æ­¤åœ¨ CPU å†…åˆå¯åˆ†ä¸ºä¸¤ä¸ªä¸»è¦çš„å•å…ƒï¼Œåˆ†åˆ«æ˜¯ï¼š ç®—æ•°é€»è¾‘å•å…ƒä¸æ§åˆ¶å•å…ƒã€‚ å…¶ä¸­ç®—æ•°é€»è¾‘å•å…ƒä¸»è¦è´Ÿè´£ç¨‹åºè¿ç®—ä¸é€»è¾‘åˆ¤æ–­ï¼Œæ§åˆ¶å•å…ƒåˆ™ä¸»è¦åœ¨åè°ƒå„å‘¨è¾¹ç»„ä»¶ä¸å„å•å…ƒé—´çš„å·¥ä½œã€‚ CPUè¯»å–çš„æ•°æ®éƒ½æ˜¯ä»ä¸»å‚¨å­˜å™¨ä¸­æ¥çš„ çœ‹ä¸‹å›¾çš„è®¡ç®—æœºäº”å¤§å•å…ƒç»“æ„å›¾ï¼Œå°±éå¸¸å¥½ç†è§£ï¼š è¾“å…¥å•å…ƒä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è§çš„å¤–éƒ¨è®¾å¤‡ï¼Œæ¯”å¦‚é¼ æ ‡é”®ç›˜ç­‰ç­‰ï¼Œè¾“å…¥çš„ä¿¡å·éƒ½ä¼šè¿›å…¥ä¸»å‚¨å­˜åŒºï¼Œè€Œæˆ‘ä»¬ç¡¬ä»¶ä¸­çš„æ•°æ®è¦æƒ³è¿›å…¥CPUè¿ç®—ï¼Œä¹Ÿè¦å…ˆè¿›å…¥ä¸»å‚¨å­˜åŒºï¼Œå¯è§è¿™ä¸€éƒ¨åˆ†æ˜¯å¤šä¹ˆçš„é‡è¦ã€‚ 0.1.2 CPUæ¶æ„ å‰é¢è¯´è¿‡CPUä¼šåŒ…å«ä¸€äº›å¾®æŒ‡ä»¤é›†ï¼Œæ‰€ä»¥æŒ‰ç…§å¾®æŒ‡ä»¤æ˜¯å¦å¤æ‚åˆ†ä¸ºäº†ä¸¤ç§CPUæ¶æ„ï¼š ç²¾ç®€æŒ‡ä»¤é›† RISC å¾®æŒ‡ä»¤é›†è¾ƒä¸ºç²¾ç®€ï¼Œæ¯ä¸ªæŒ‡ä»¤çš„è¿è¡Œæ—¶é—´éƒ½å¾ˆçŸ­ï¼Œå®Œæˆçš„åŠ¨ä½œä¹Ÿå¾ˆå•çº¯ï¼ŒæŒ‡ä»¤çš„æ‰§è¡Œæ•ˆèƒ½è¾ƒä½³ï¼› ä½†æ˜¯è‹¥è¦åšå¤æ‚çš„äº‹æƒ…ï¼Œå°±è¦ç”±å¤šä¸ªæŒ‡ä»¤æ¥å®Œæˆã€‚å¸¸è§çš„ RISC å¾®æŒ‡ä»¤é›† CPU ä¸»è¦ä¾‹å¦‚ç”²éª¨æ–‡ (Oracle) å…¬å¸çš„ SPARC ç³»åˆ—ã€ IBM å…¬å¸çš„ Power Architecture (åŒ…æ‹¬ PowerPC) ç³»åˆ—ã€ä¸å®‰è°‹å…¬å¸ (ARM Holdings) çš„ ARM CPU ç³»åˆ—ç­‰ã€‚ï¼Œç›®å‰ä¸–ç•Œä¸Šä½¿ç”¨èŒƒå›´æœ€å¹¿çš„ CPU å¯èƒ½å°±æ˜¯ ARM è¿™ç§æ¶æ„çš„å‘¢ å¤æ‚æŒ‡ä»¤é›† CISC ä¸ RISC ä¸åŒçš„ï¼ŒCISC åœ¨å¾®æŒ‡ä»¤é›†çš„æ¯ä¸ªå°æŒ‡ä»¤å¯ä»¥æ‰§è¡Œä¸€äº›è¾ƒä½é˜¶çš„ç¡¬ä»¶æ“ä½œï¼ŒæŒ‡ä»¤æ•°ç›®å¤šè€Œä¸”å¤æ‚ï¼Œ æ¯æ¡æŒ‡ä»¤çš„é•¿åº¦å¹¶ä¸ç›¸åŒã€‚å› ä¸ºæŒ‡ä»¤æ‰§è¡Œè¾ƒä¸ºå¤æ‚æ‰€ä»¥æ¯æ¡æŒ‡ä»¤èŠ±è´¹çš„æ—¶é—´è¾ƒé•¿ï¼Œ ä½†æ¯æ¡ä¸ªåˆ«æŒ‡ä»¤å¯ä»¥å¤„ç†çš„å·¥ä½œè¾ƒä¸ºä¸°å¯Œã€‚å¸¸è§çš„ CISC å¾®æŒ‡ä»¤é›† CPU ä¸»è¦æœ‰ AMDã€Intelã€VIA ç­‰çš„ x86 æ¶æ„çš„ CPUã€‚ç”±äº AMDã€Intelã€VIA æ‰€å¼€å‘å‡ºæ¥çš„ x86 æ¶æ„ CPU è¢«å¤§é‡ä½¿ç”¨äºä¸ªäººè®¡ç®—æœº(Personal computer)ç”¨é€”ä¸Šé¢ï¼Œ å› æ­¤ï¼Œä¸ªäººè®¡ç®—æœºå¸¸è¢«ç§°ä¸º x86 æ¶æ„çš„è®¡ç®—æœºï¼é‚£ä¸ºä½•ç§°ä¸º x86 æ¶æ„(æ³¨ 8)å‘¢ï¼Ÿ è¿™æ˜¯å› ä¸ºæœ€æ—©çš„é‚£é¢— Intel å‘å±•å‡ºæ¥çš„ CPU ä»£å·ç§°ä¸º 8086ï¼Œåæ¥ä¾æ­¤æ¶æ„åˆå¼€å‘å‡º 80286, 80386â€¦ï¼Œ å› æ­¤è¿™ç§æ¶æ„çš„ CPU å°±è¢«ç§°ä¸º x86 æ¶æ„äº†ã€‚åœ¨ 2003 å¹´ä»¥å‰ç”± Intel æ‰€å¼€å‘çš„ x86 æ¶æ„ CPU ç”± 8 ä½å‡çº§åˆ° 16ã€32 ä½ï¼Œåæ¥ AMD ä¾æ­¤æ¶æ„ä¿®æ”¹æ–°ä¸€ä»£çš„ CPU ä¸º 64 ä½ï¼Œ ä¸ºäº†åŒºåˆ«ä¸¤è€…çš„å·®å¼‚ï¼Œå› æ­¤ 64 ä½çš„ä¸ªäººè®¡ç®—æœº CPU åˆè¢«ç»Ÿç§°ä¸º x86_64 çš„æ¶æ„å–”ï¼ä¸€èˆ¬ 32 ä½çš„ CPU æ‰€èƒ½è¯»å†™çš„æœ€å¤§æ•°æ®é‡ï¼Œå¤§æ¦‚å°±æ˜¯ 4GB å·¦å³ã€‚ 0.1.3 å…¶ä»–å•å…ƒçš„è®¾å¤‡ ç³»ç»Ÿå•å…ƒï¼šç³»ç»Ÿå•å…ƒåŒ…æ‹¬ CPU ä¸å†…å­˜åŠä¸»æ¿ç›¸å…³ç»„ä»¶ã€‚è€Œä¸»æ¿ä¸Šå¤´å…¶å®è¿˜æœ‰å¾ˆå¤šçš„è¿æ¥ç•Œé¢ä¸ç›¸å…³çš„é€‚é…å¡ï¼ŒåŒ…æ‹¬é¸Ÿå“¥è¿‘æœŸå¸¸ä½¿ç”¨çš„ PCI-E 10G ç½‘ç»œå¡ã€ ç£ç›˜é˜µåˆ—å¡ã€è¿˜æœ‰æ˜¾ç¤ºé€‚é…å™¨ç­‰ç­‰ã€‚å°¤å…¶æ˜¯æ˜¾ç¤ºé€‚é…å™¨ï¼Œè¿™ä¸œè¥¿å¯¹äºç© 3D æ¸¸æˆæ¥è¯´æ˜¯éå¸¸é‡è¦çš„ä¸€ç¯ï¼Œä»–ä¸æ˜¾ç¤ºçš„ç²¾è‡´åº¦ã€è‰²å½©ä¸åˆ†è¾¨ç‡éƒ½æœ‰å…³ç³»ã€‚ è®°å¿†å•å…ƒï¼šåŒ…æ‹¬ä¸»å­˜å‚¨å™¨ (main memory, RAM) ä¸è¾…åŠ©å†…å­˜ï¼Œå…¶ä¸­è¾…åŠ©å†…å­˜å…¶å®å°±æ˜¯å¤§å®¶å¸¸å¬åˆ°çš„ã€å‚¨å­˜è£…ç½®ã€å•°ï¼åŒ…æ‹¬ç¡¬ç›˜ã€è½¯ç›˜ã€å…‰ç›˜ã€ç£å¸¦ç­‰ç­‰çš„ã€‚ è¾“å…¥ã€è¾“å‡ºå•å…ƒï¼šåŒæ—¶æ¶µç›–è¾“å…¥è¾“å‡ºçš„è®¾å¤‡æœ€å¸¸è§çš„å¤§æ¦‚å°±æ˜¯è§¦æ‘¸å±äº†ã€‚è‡³äºå•çº¯çš„è¾“å…¥è®¾å¤‡åŒ…æ‹¬å‰é¢æåˆ°çš„é”®ç›˜é¼ æ ‡ä¹‹å¤–ï¼Œç›®å‰çš„ä½“æ„Ÿè£…ç½®ä¹Ÿæ˜¯é‡è¦çš„è¾“å…¥è®¾å¤‡å–”ï¼ è‡³äºè¾“å‡ºè®¾å¤‡æ–¹é¢ï¼Œé™¤äº†å±å¹•å¤–ï¼Œæ‰“å°æœºã€éŸ³æ•ˆå–‡å­ã€HDMI ç”µè§†ã€æŠ•å½±æœºã€è“èŠ½è€³æœºç­‰ç­‰ï¼Œéƒ½ç®—å–”ï¼ 0.1.4 è¿ä½œæµç¨‹æˆ‘ä»¬å½¢è±¡çš„æŒ‰ç…§äººçš„æœºåˆ¶æ¥æ¯”å–»ä¸€ä¸‹ï¼š CPU=è„‘è¢‹ç“œå­ï¼šæ¯ä¸ªäººä¼šä½œçš„äº‹æƒ…éƒ½ä¸ä¸€æ ·(å¾®æŒ‡ä»¤é›†çš„å·®å¼‚)ï¼Œä½†ä¸»è¦éƒ½æ˜¯é€è¿‡è„‘è¢‹ç“œå­æ¥è¿›è¡Œåˆ¤æ–­ä¸æ§åˆ¶èº«ä½“å„éƒ¨åˆ†çš„æ´»åŠ¨ï¼› ä¸»å­˜å‚¨å™¨=è„‘è¢‹ä¸­æ”¾ç½®æ­£åœ¨è¢«æ€è€ƒçš„æ•°æ®çš„åŒºå—ï¼šåœ¨å®é™…æ´»åŠ¨è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬çš„è„‘è¢‹ç“œå­éœ€è¦æœ‰å¤–ç•Œåˆºæ¿€çš„æ•°æ® (ä¾‹å¦‚å…‰çº¿ã€ç¯å¢ƒã€è¯­è¨€ç­‰) æ¥åˆ†æï¼Œé‚£è¿™äº›äº’åŠ¨æ•°æ®æš‚æ—¶å­˜æ”¾çš„åœ°æ–¹å°±æ˜¯ä¸»å­˜å‚¨å™¨ï¼Œä¸»è¦æ˜¯ç”¨æ¥æä¾›ç»™è„‘è¢‹ç“œå­åˆ¤æ–­ç”¨çš„ä¿¡æ¯ã€‚ ç¡¬ç›˜=è„‘è¢‹ä¸­æ”¾ç½®å›å¿†çš„è®°å¿†åŒºå—ï¼šè·Ÿåˆšåˆšçš„ä¸»å­˜å‚¨å™¨ä¸åŒï¼Œä¸»å­˜å‚¨å™¨æ˜¯æä¾›è„‘è¢‹ç›®å‰è¦æ€è€ƒä¸å¤„ç†çš„ä¿¡æ¯ï¼Œä½†æ˜¯æœ‰äº›ç”Ÿæ´»çäº‹æˆ–å…¶ä»–æ²¡æœ‰è¦ç«‹åˆ»å¤„ç†çš„äº‹æƒ…ï¼Œ å°±å½“æˆå›å¿†å…ˆæ”¾ç½®åˆ°è„‘è¢‹çš„è®°å¿†æ·±å¤„å§ï¼é‚£å°±æ˜¯ç¡¬ç›˜ï¼ä¸»è¦ç›®çš„æ˜¯å°†é‡è¦çš„æ•°æ®è®°å½•èµ·æ¥ï¼Œä»¥ä¾¿æœªæ¥å°†è¿™äº›é‡è¦çš„ç»éªŒå†æ¬¡çš„ä½¿ç”¨ï¼› ä¸»æ¿=ç¥ç»ç³»ç»Ÿï¼šå¥½åƒäººç±»çš„ç¥ç»ä¸€æ ·ï¼Œå°†æ‰€æœ‰é‡è¦çš„ç»„ä»¶è¿æ¥èµ·æ¥ï¼ŒåŒ…æ‹¬æ‰‹è„šçš„æ´»åŠ¨éƒ½æ˜¯è„‘è¢‹ç“œå­å‘å¸ƒå‘½ä»¤åï¼Œ é€è¿‡ç¥ç»(ä¸»æ¿)ä¼ å¯¼ç»™æ‰‹è„šæ¥è¿›è¡Œæ´»åŠ¨å•Šï¼ å„é¡¹æ¥å£è®¾å¤‡=äººä½“ä¸å¤–ç•Œæ²Ÿé€šçš„æ‰‹ã€è„šã€çš®è‚¤ã€çœ¼ç›ç­‰ï¼šå°±å¥½åƒæ‰‹è„šä¸€èˆ¬ï¼Œæ˜¯äººä½“ä¸å¤–ç•Œäº’åŠ¨çš„é‡è¦å…³é”®ï¼ æ˜¾ç¤ºé€‚é…å™¨=è„‘è¢‹ä¸­çš„å½±åƒï¼šå°†æ¥è‡ªçœ¼ç›çš„åˆºæ¿€è½¬æˆå½±åƒååœ¨è„‘è¢‹ä¸­å‘ˆç°ï¼Œæ‰€ä»¥æ˜¾ç¤ºé€‚é…å™¨æ‰€äº§ç”Ÿçš„æ•°æ®æºä¹Ÿæ˜¯ CPU æ§åˆ¶çš„ã€‚ ç”µæºä¾›åº”å™¨ (Power)=å¿ƒè„ï¼šæ‰€æœ‰çš„ç»„ä»¶è¦èƒ½è¿ä½œå¾—è¦æœ‰è¶³å¤Ÿçš„ç”µåŠ›ä¾›ç»™æ‰è¡Œï¼è¿™ç”µåŠ›ä¾›ç»™å°±å¥½åƒå¿ƒè„ä¸€æ ·ã€‚å¦‚æœå¿ƒè„ä¸å¤ŸåŠ›ï¼Œ é‚£ä¹ˆå…¨èº«ä¹Ÿå°±æ— æ³•åŠ¨å¼¹çš„ï¼å¿ƒè„ä¸ç¨³å®šå‘¢ï¼Ÿé‚£ä½ çš„èº«ä½“å½“ç„¶å¯èƒ½æ–­æ–­ç»­ç»­çš„ï½ä¸ç¨³å®šï¼ 0.1.5 è®¡ç®—æœºç”¨é€”çš„åˆ†ç±» è¶…çº§è®¡ç®—æœº(Supercomputer)è¶…çº§è®¡ç®—æœºæ˜¯è¿ä½œé€Ÿåº¦æœ€å¿«çš„è®¡ç®—æœºï¼Œä½†æ˜¯ä»–çš„ç»´æŠ¤ã€æ“ä½œè´¹ç”¨ä¹Ÿæœ€é«˜ï¼ä¸»è¦æ˜¯ç”¨äºéœ€è¦æœ‰é«˜é€Ÿè®¡ç®—çš„è®¡åˆ’ä¸­ã€‚ ä¾‹å¦‚ï¼šå›½é˜²å†›äº‹ã€æ°”è±¡é¢„æµ‹ã€å¤ªç©ºç§‘æŠ€ï¼Œç”¨åœ¨æ¨¡æ‹Ÿçš„é¢†åŸŸè¾ƒå¤šã€‚è¯¦æƒ…ä¹Ÿå¯ä»¥å‚è€ƒï¼š å›½å®¶é«˜é€Ÿç½‘ç»œä¸è®¡ç®—ä¸­å¿ƒ http://www.nchc.org.tw çš„ä»‹ç»ï¼ è‡³äºå…¨ä¸–ç•Œæœ€å¿«é€Ÿçš„å‰ 500 å¤§è¶…çº§è®¡ç®—æœºï¼Œåˆ™è¯·å‚è€ƒï¼šhttp://www.top500.orgã€‚ å¤§å‹è®¡ç®—æœº(Mainframe Computer)å¤§å‹è®¡ç®—æœºé€šå¸¸ä¹Ÿå…·æœ‰æ•°ä¸ªé«˜é€Ÿçš„ CPUï¼ŒåŠŸèƒ½ä¸Šè™½ä¸åŠè¶…çº§è®¡ç®—æœºï¼Œä½†ä¹Ÿå¯ç”¨æ¥å¤„ç†å¤§é‡èµ„æ–™ä¸å¤æ‚çš„è¿ç®—ã€‚ ä¾‹å¦‚å¤§å‹ä¼ä¸šçš„ä¸»æœºã€å…¨å›½æ€§çš„è¯åˆ¸äº¤æ˜“æ‰€ç­‰æ¯å¤©éœ€è¦å¤„ç†æ•°ç™¾ä¸‡ç¬”æ•°æ®çš„ä¼ä¸šæœºæ„ï¼Œ æˆ–è€…æ˜¯å¤§å‹ä¼ä¸šçš„æ•°æ®åº“æœåŠ¡å™¨ç­‰ç­‰ã€‚ è¿·ä½ è®¡ç®—æœº(Minicomputer)è¿·ä½ è®¡ç®—æœºä»ä¿æœ‰å¤§å‹è®¡ç®—æœºåŒæ—¶æ”¯æŒå¤šç”¨æˆ·çš„ç‰¹æ€§ï¼Œä½†æ˜¯ä¸»æœºå¯ä»¥æ”¾åœ¨ä¸€èˆ¬ä½œä¸šåœºæ‰€ï¼Œ ä¸å¿…åƒå‰ä¸¤ä¸ªå¤§å‹è®¡ç®—æœºéœ€è¦ç‰¹æ®Šçš„ç©ºè°ƒåœºæ‰€ã€‚é€šå¸¸ç”¨æ¥ä½œä¸ºç§‘å­¦ç ”ç©¶ã€å·¥ç¨‹åˆ†æä¸å·¥å‚çš„æµç¨‹ç®¡ç†ç­‰ã€‚ å·¥ä½œç«™(Workstation)å·¥ä½œç«™çš„ä»·æ ¼åˆæ¯”è¿·ä½ è®¡ç®—æœºä¾¿å®œè®¸å¤šï¼Œæ˜¯é’ˆå¯¹ç‰¹æ®Šç”¨é€”è€Œè®¾è®¡çš„è®¡ç®—æœºã€‚åœ¨ä¸ªäººè®¡ç®—æœºçš„æ•ˆèƒ½è¿˜æ²¡æœ‰æå‡åˆ°ç›®å‰çš„çŠ¶å†µä¹‹å‰ï¼Œ å·¥ä½œç«™è®¡ç®—æœºçš„æ€§èƒ½/ä»·æ ¼æ¯”æ˜¯æ‰€æœ‰è®¡ç®—æœºå½“ä¸­è¾ƒä½³çš„ï¼Œå› æ­¤åœ¨å­¦æœ¯ç ”ç©¶ä¸å·¥ç¨‹åˆ†ææ–¹é¢ç›¸å½“å¸¸è§ã€‚ å¾®ç”µè„‘(Microcomputer)ä¸ªäººè®¡ç®—æœºå°±å±äºè¿™éƒ¨ä»½çš„è®¡ç®—æœºåˆ†ç±»ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬æœ¬ç« ä¸»è¦æ¢è®¨çš„ç›®æ ‡ï¼ä½“ç§¯æœ€å°ï¼Œä»·æ ¼æœ€ä½ï¼Œä½†åŠŸèƒ½è¿˜æ˜¯äº”è„ä¿±å…¨çš„ï¼ å¤§è‡´åˆå¯åˆ†ä¸ºæ¡Œä¸Šå‹ã€ç¬”è®°å‹ç­‰ç­‰ã€‚ 0.1.6 è®¡ç®—æœºä¸Šé¢å¸¸ç”¨çš„è®¡ç®—å•ä½ ( å®¹é‡ã€é€Ÿåº¦ç­‰) å®¹é‡å•ä½ 1 Byte = 8 bit 1 k = 1024 Byte 1 M = 1024 K é€Ÿåº¦å•ä½ Hz å…¶å®å°±æ˜¯ç§’åˆ†ä¹‹ä¸€ï¼ŒCPU çš„æŒ‡ä»¤å‘¨æœŸå¸¸ä½¿ç”¨ MHz æˆ–è€…æ˜¯ GHz ä¹‹ç±»çš„å•ä½ï¼Œç½‘ç»œä½¿ç”¨çš„æ˜¯ bit ä¸ºå•ä½ï¼Œå› æ­¤ç½‘ç»œå¸¸ä½¿ç”¨çš„å•ä½ä¸º Mbps æ˜¯ Mbits per secondï¼Œäº¦å³æ˜¯æ¯ç§’å¤šå°‘ Mbit Tipsï¼š 0.2 ä¸ªäººè®¡ç®—æœºæ¶æ„ä¸ç›¸å…³è®¾å¤‡ç»„ä»¶0.2.1 æ‰§è¡Œè„‘è¢‹è¿ç®—ä¸åˆ¤æ–­çš„ CPUä»€ä¹ˆæ˜¯é¢‘ç‡å‘¢ï¼Ÿ ç®€å•çš„è¯´ï¼Œ é¢‘ç‡å°±æ˜¯ CPU æ¯ç§’é’Ÿå¯ä»¥è¿›è¡Œçš„å·¥ä½œæ¬¡æ•°ã€‚ æ‰€ä»¥é¢‘ç‡è¶Šé«˜è¡¨ç¤ºè¿™é¢— CPU å•ä½æ—¶é—´å†…å¯ä»¥ä½œæ›´å¤šçš„äº‹æƒ…ã€‚ä¸¾ä¾‹æ¥è¯´ï¼ŒIntel çš„ i7-4790 CPU é¢‘ç‡ä¸º 3.6GHzï¼Œ è¡¨ç¤ºè¿™é¢— CPU åœ¨ä¸€ç§’å†…å¯ä»¥è¿›è¡Œ 3.6x10 9 æ¬¡å·¥ä½œï¼Œæ¯æ¬¡å·¥ä½œéƒ½å¯ä»¥è¿›è¡Œå°‘æ•°çš„æŒ‡ä»¤è¿ä½œä¹‹æ„ã€‚ ä»€ä¹ˆæ˜¯å¤–é¢‘ï¼Ÿä»€ä¹ˆæ˜¯å€é¢‘ï¼Ÿ æ‰€è°“çš„å¤–é¢‘æŒ‡çš„æ˜¯ CPU ä¸å¤–éƒ¨ç»„ä»¶è¿›è¡Œæ•°æ®ä¼ è¾“æ—¶çš„é€Ÿåº¦ï¼Œå€é¢‘åˆ™æ˜¯ CPU å†…éƒ¨ç”¨æ¥åŠ é€Ÿå·¥ä½œæ•ˆèƒ½çš„ä¸€ä¸ªå€æ•°ï¼Œ ä¸¤è€…ç›¸ä¹˜æ‰æ˜¯ CPU çš„é¢‘ç‡é€Ÿåº¦ ä»€ä¹ˆæ˜¯å­—ç»„å¤§å°ï¼ˆWord Sizeï¼‰ CPU æ¯æ¬¡èƒ½å¤Ÿå¤„ç†çš„æ•°æ®é‡ç§°ä¸ºå­—ç»„å¤§å°(word size)ï¼Œ å­—ç»„å¤§å°ä¾æ® CPU çš„è®¾è®¡è€Œæœ‰ 32 ä½ä¸ 64 ä½ã€‚æˆ‘ä»¬ç°åœ¨æ‰€ç§°çš„è®¡ç®—æœºæ˜¯ 32 æˆ– 64 ä½ä¸»è¦æ˜¯ä¾æ®è¿™ä¸ª CPU è§£æçš„å­—ç»„å¤§å°è€Œæ¥çš„ï¼æ—©æœŸçš„ 32 ä½ CPU ä¸­ï¼Œå› ä¸º CPU æ¯æ¬¡èƒ½å¤Ÿè§£æçš„æ•°æ®é‡æœ‰é™ï¼Œ å› æ­¤ç”±ä¸»å­˜å‚¨å™¨ä¼ æ¥çš„æ•°æ®é‡å°±æœ‰æ‰€é™åˆ¶äº†ã€‚è¿™ä¹Ÿå¯¼è‡´ 32 ä½çš„ CPU æœ€å¤šåªèƒ½æ”¯æŒæœ€å¤§åˆ° 4GBytes çš„å†…å­˜ã€‚ ä»€ä¹ˆæ˜¯è¶…çº¿ç¨‹ï¼ˆHyper-Threading, HTï¼‰ åœ¨æ¯ä¸€ä¸ª CPUå†…éƒ¨å°†é‡è¦çš„ç¼“å­˜å™¨ (register) åˆ†æˆä¸¤ç¾¤ï¼Œ è€Œè®©ç¨‹åºåˆ†åˆ«ä½¿ç”¨è¿™ä¸¤ç¾¤ç¼“å­˜å™¨ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯ä»¥æœ‰ä¸¤ä¸ªç¨‹åºã€åŒæ—¶ç«äº‰ CPU çš„è¿ç®—å•å…ƒã€ï¼Œè€Œéé€è¿‡æ“ä½œç³»ç»Ÿçš„å¤šä»»åŠ¡åˆ‡æ¢ï¼ è¿™ä¸€è¿‡ç¨‹å°±ä¼šè®© CPU å¥½åƒã€åŒæ—¶æœ‰ä¸¤ä¸ªæ ¸å¿ƒã€çš„æ¨¡æ ·ï¼å› æ­¤ï¼Œè™½ç„¶å¤§éƒ¨åˆ† i7 ç­‰çº§çš„ CPU å…¶å®åªæœ‰å››ä¸ªå®ä½“æ ¸å¿ƒï¼Œä½†é€è¿‡HT çš„æœºåˆ¶ï¼Œ åˆ™æ“ä½œç³»ç»Ÿå¯ä»¥æŠ“åˆ°å…«ä¸ªæ ¸å¿ƒï¼å¹¶ä¸”è®©æ¯ä¸ªæ ¸å¿ƒé€»è¾‘ä¸Šåˆ†ç¦»ï¼Œå°±å¯ä»¥åŒæ—¶è¿ä½œå…«ä¸ªç¨‹åºäº†ã€‚ 0.2.2 å†…å­˜ä¸»å‚¨å­˜å™¨çš„ä½œç”¨ï¼Ÿ CPU æ‰€ä½¿ç”¨çš„æ•°æ®éƒ½æ˜¯æ¥è‡ªäºä¸»å­˜å‚¨å™¨(main memory)ï¼Œä¸è®ºæ˜¯è½¯ä»¶ç¨‹åºè¿˜æ˜¯æ•°æ®ï¼Œéƒ½å¿…é¡»è¦è¯»å…¥ä¸»å­˜å‚¨å™¨å CPU æ‰èƒ½åˆ©ç”¨ã€‚ ä¸ªäººè®¡ç®—æœºçš„ä¸»å­˜å‚¨å™¨ä¸»è¦ç»„ä»¶ä¸ºåŠ¨æ€éšæœºå­˜å–å†…å­˜(DynamicRandom Access Memory, DRAM)ï¼Œ éšæœºå­˜å–å†…å­˜åªæœ‰åœ¨é€šç”µæ—¶æ‰èƒ½è®°å½•ä¸ä½¿ç”¨ï¼Œæ–­ç”µåæ•°æ®å°±æ¶ˆå¤±äº†ã€‚å› æ­¤æˆ‘ä»¬ä¹Ÿç§°è¿™ç§ RAM ä¸ºæŒ¥å‘æ€§å†…å­˜ã€‚ æ‰€ä»¥ä¸»å‚¨å­˜å™¨çš„å®¹é‡æ˜¯éå¸¸é‡è¦çš„ï¼Œä»¥æœåŠ¡å™¨æ¥è¯´ï¼Œä¸»å­˜å‚¨å™¨çš„å®¹é‡æœ‰æ—¶æ¯” CPU çš„é€Ÿåº¦è¿˜è¦æ¥çš„é‡è¦çš„ã€‚ ä»€ä¹ˆæ˜¯ç¬¬äºŒå±‚å¿«å–ï¼Ÿ CPU å†…çš„ç¬¬äºŒå±‚é«˜é€Ÿç¼“å­˜ã€‚ æˆ‘ä»¬ç°åœ¨çŸ¥é“ CPU çš„æ•°æ®éƒ½æ˜¯ç”±ä¸»å­˜å‚¨å™¨æä¾›ï¼Œä½† CPU åˆ°ä¸»å­˜å‚¨å™¨ä¹‹é—´è¿˜æ˜¯å¾—è¦é€è¿‡å†…å­˜æ§åˆ¶å™¨å•Šï¼ å¦‚æœæŸäº›å¾ˆå¸¸ç”¨çš„ç¨‹åºæˆ–æ•°æ®å¯ä»¥æ”¾ç½®åˆ° CPU å†…éƒ¨çš„è¯ï¼Œé‚£ä¹ˆ CPUæ•°æ®çš„è¯»å–å°±ä¸éœ€è¦è·‘åˆ°ä¸»å­˜å‚¨å™¨é‡æ–°è¯»å–äº†ï¼ è¿™å¯¹äºæ•ˆèƒ½æ¥è¯´ä¸å°±å¯ä»¥å¤§å¤§çš„æå‡äº†ï¼Ÿè¿™å°±æ˜¯ç¬¬äºŒå±‚å¿«å–çš„è®¾è®¡æ¦‚å¿µã€‚ç¬¬äºŒå±‚å¿«å–ä¸ä¸»å­˜å‚¨å™¨åŠ CPU çš„å…³ç³»å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ç®€è€Œè¨€ä¹‹ï¼ŒCPUçš„å‚¨å­˜æ˜¯éå¸¸çè´µçš„ï¼Œæˆ‘ä»¬ä¸èƒ½æŠŠåº”ç”¨æ•°æ®å¸¸é©»åœ¨CPUä¸­ï¼Œä½†æ˜¯æ¯æ¬¡é€è¿‡æ§åˆ¶å™¨å–æ•°æ®åˆ°CPUä¸­å°±ä¼šå‡ºç°æ—¶é—´å…¨è€—è´¹åœ¨è¿™ä¸ªè¿‡ç¨‹ï¼Œç›¸æ¯”CPUçš„é€Ÿåº¦ï¼Œè¿™ä¸ªè¿‡ç¨‹æ›´ä¸ºè€—æ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨ç¬¬äºŒå±‚å¿«å–çš„è®¾è®¡ï¼Œè®¾è®¡äºŒå±‚é«˜é€Ÿç¼“å­˜åŒºï¼Œå°±å¯ä»¥å¹³è¡¡è¿™ç§é€Ÿåº¦ä¸åŒ¹é…çš„é—®é¢˜ã€‚ é‚£ä¸ºä»€ä¹ˆä¸å…¨éƒ¨åšæˆé«˜é€Ÿç¼“å­˜å‘¢ï¼Ÿ å› ä¸ºç¬¬äºŒå±‚å¿«å–(L2 cache)æ•´åˆåˆ° CPU å†…éƒ¨ï¼Œå› æ­¤è¿™ä¸ª L2 å†…å­˜çš„é€Ÿåº¦å¿…é¡»è¦ CPU é¢‘ç‡ç›¸åŒã€‚ ä½¿ç”¨DRAM æ˜¯æ— æ³•è¾¾åˆ°è¿™ä¸ªé¢‘ç‡é€Ÿåº¦çš„ï¼Œæ­¤æ—¶å°±éœ€è¦é™æ€éšæœºå­˜å–å†…å­˜(Static Random Access Memory,SRAM)çš„å¸®å¿™äº†ã€‚ SRAM åœ¨è®¾è®¡ä¸Šä½¿ç”¨çš„æ™¶ä½“ç®¡æ•°é‡è¾ƒå¤šï¼Œä»·æ ¼è¾ƒé«˜ï¼Œä¸”ä¸æ˜“åšæˆå¤§å®¹é‡ï¼Œä¸è¿‡ç”±äºå…¶é€Ÿåº¦å¿«ï¼Œ å› æ­¤æ•´åˆåˆ° CPU å†…æˆä¸ºé«˜é€Ÿç¼“å­˜ä»¥åŠ å¿«æ•°æ®çš„å­˜å–æ˜¯ä¸ªä¸é”™çš„æ–¹å¼å–”ï¼æ–°ä¸€ä»£çš„ CPUéƒ½æœ‰å†…å»ºå®¹é‡ä¸ç­‰çš„ L2 å¿«å–åœ¨ CPU å†…éƒ¨ï¼Œ ä»¥åŠ å¿« CPU çš„è¿ä½œæ•ˆèƒ½ã€‚ å…¶å®åŸå› è¿˜æ˜¯å› ä¸ºè´µï¼Œå¦‚æœå¯¹äºå¯¹é€Ÿåº¦è¦æ±‚éå¸¸é«˜çš„åº”ç”¨ï¼Œå…¨éƒ¨ä½¿ç”¨é«˜é€Ÿç¼“å­˜å®ç°ï¼Œé€šè¿‡æé«˜æˆæœ¬çš„æ–¹å¼ï¼Œè¿˜æ˜¯å€¼å¾—çš„ã€‚","categories":[{"name":"Linux","slug":"Linux","permalink":"http://www.octber.xyz/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://www.octber.xyz/tags/Linux/"}]},{"title":"Hexoå¸¸ç”¨å‘½ä»¤","slug":"Hexoå¸¸ç”¨å‘½ä»¤","date":"2019-05-17T01:03:16.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/05/17/Hexoå¸¸ç”¨å‘½ä»¤/","link":"","permalink":"http://www.octber.xyz/2019/05/17/Hexo%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/","excerpt":"å‰è¨€å­¦ä¹ ä¸€ä¸ªä¸œè¥¿ï¼Œä¸€é—¨è¯­è¨€ä¹Ÿå¥½ï¼Œä¸€ä¸ªæ¡†æ¶ä¹Ÿå¥½ï¼Œæœ€å¥½çš„æ–¹å¼å°±æ˜¯æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ä¸è‡ªå·±é˜…è¯»æºä»£ç ï¼Œå…¶æ¬¡æ˜¯æŸ¥é˜…ä¼˜ç§€åšæ–‡ï¼Œå†æ¬¡æ˜¯æŸ¥é˜…ç›¸å…³å­¦ä¹ è¯¾ç¨‹ä¸è§†é¢‘ï¼Œç‹¬ç«‹å­¦ä¹ èƒ½åŠ›æ˜¯ä¸€ä¸ªç¨‹åºå‘˜é€‚åº”æ—¶ä»£å‘å±•æœ€é‡è¦çš„èƒ½åŠ›ã€‚ æœ¬èŠ‚ï¼Œæˆ‘ç»“åˆå®é™…ä½¿ç”¨ï¼Œå’Œå®˜æ–¹æ–‡æ¡£ï¼Œæ¥è®²ä¸€ä¸‹Hexoçš„å¸¸ç”¨æŒ‡ä»¤ã€‚","text":"å‰è¨€å­¦ä¹ ä¸€ä¸ªä¸œè¥¿ï¼Œä¸€é—¨è¯­è¨€ä¹Ÿå¥½ï¼Œä¸€ä¸ªæ¡†æ¶ä¹Ÿå¥½ï¼Œæœ€å¥½çš„æ–¹å¼å°±æ˜¯æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ä¸è‡ªå·±é˜…è¯»æºä»£ç ï¼Œå…¶æ¬¡æ˜¯æŸ¥é˜…ä¼˜ç§€åšæ–‡ï¼Œå†æ¬¡æ˜¯æŸ¥é˜…ç›¸å…³å­¦ä¹ è¯¾ç¨‹ä¸è§†é¢‘ï¼Œç‹¬ç«‹å­¦ä¹ èƒ½åŠ›æ˜¯ä¸€ä¸ªç¨‹åºå‘˜é€‚åº”æ—¶ä»£å‘å±•æœ€é‡è¦çš„èƒ½åŠ›ã€‚ æœ¬èŠ‚ï¼Œæˆ‘ç»“åˆå®é™…ä½¿ç”¨ï¼Œå’Œå®˜æ–¹æ–‡æ¡£ï¼Œæ¥è®²ä¸€ä¸‹Hexoçš„å¸¸ç”¨æŒ‡ä»¤ã€‚ æ–‡æ¡£æœ¬ä½“å®˜æ–¹æ–‡æ¡£åœ°å€ï¼š https://hexo.io/zh-cn/docs/ init1$ hexo init [folder] æ–°å»ºä¸€ä¸ªç½‘ç«™ã€‚å¦‚æœæ²¡æœ‰è®¾ç½® folder ï¼ŒHexo é»˜è®¤åœ¨ç›®å‰çš„æ–‡ä»¶å¤¹å»ºç«‹ç½‘ç«™ã€‚ new1$ hexo new [layout] &lt;title&gt; æ–°å»ºä¸€ç¯‡æ–‡ç« ã€‚å¦‚æœæ²¡æœ‰è®¾ç½® layout çš„è¯ï¼Œé»˜è®¤ä½¿ç”¨ _config.yml ä¸­çš„ default_layout å‚æ•°ä»£æ›¿ã€‚å¦‚æœæ ‡é¢˜åŒ…å«ç©ºæ ¼çš„è¯ï¼Œè¯·ä½¿ç”¨å¼•å·æ‹¬èµ·æ¥ã€‚ 1$ hexo new &quot;post title with whitespace&quot; è¿™æ˜¯æˆ‘çš„é…ç½®æ–‡ä»¶ä¸­å…³äºå†™åšå®¢çš„ä¸€äº›é…ç½® 123456789101112131415# Writingnew_post_name: :title.md # File name of new postsdefault_layout: posttitlecase: false # Transform title into titlecaseexternal_link: true # Open external links in new tabfilename_case: 0render_drafts: falsepost_asset_folder: truerelative_link: falsefuture: truehighlight: enable: true line_number: true auto_detect: false tab_replace: æˆ‘è§„å®šåœ¨ç”Ÿæˆæ–°åšå®¢çš„æ—¶å€™é‡‡ç”¨æ ‡é¢˜åŠ mdçš„æ–¹å¼ä½œä¸ºæ–‡ä»¶åï¼Œé»˜è®¤çš„layoutä¸ºpostï¼Œä¹Ÿå°±æ˜¯åœ¨_postæ–‡ä»¶å¤¹å†…åˆ›å»ºæˆ‘çš„markdownæ–‡ä»¶ï¼ŒLayoutå°±æ˜¯å¸ƒå±€çš„æ„æ€ï¼Œæ¯ä¸ªæ–‡ä»¶ä½¿ç”¨é»˜è®¤çš„å¸ƒå±€åˆæ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ æ‰“å¼€Hexoæ ¹ç›®å½•ä¸‹çš„themesæ–‡ä»¶ï¼Œä½ å°±ä¼šçœ‹åˆ°ä½ æ‰€æœ‰çš„ä¸»é¢˜ï¼Œæ‰“å¼€ä½ ç°åœ¨æ­£åœ¨ä½¿ç”¨çš„ä¸»é¢˜ï¼Œæ¯”å¦‚æˆ‘çš„ä¸»é¢˜æ˜¯ä¼Šå¡æ´›æ–¯ï¼ˆicarusï¼‰ï¼Œé‡Œé¢æœ‰ä¸€ä¸ªåä¸ºLayoutçš„æ–‡ä»¶å¤¹ï¼Œé¡¾åæ€ä¹‰ï¼Œè¿™å°±æ˜¯å¸ƒå±€æ–‡ä»¶äº†ï¼Œæ‰“å¼€ä¸‹é¢çš„layout.ejsæ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å®ƒç”±è¿™å‡ ä¸ªéƒ¨åˆ†ç»„æˆï¼š 123&lt;head&gt; &lt;%- partial(&#x27;common/head&#x27;) %&gt;&lt;/head&gt; å¤´éƒ¨ï¼Œå¼•å…¥äº†commonçš„headæ–‡ä»¶ 1&lt;%- partial(&#x27;common/navbar&#x27;, &#123; page &#125;) %&gt; navbarä¹Ÿå°±æ˜¯å¯¼èˆªæ éƒ¨åˆ† 12&lt;%- partial(&#x27;common/widget&#x27;, &#123; position: &#x27;left&#x27; &#125;) %&gt;&lt;%- partial(&#x27;common/widget&#x27;, &#123; position: &#x27;right&#x27; &#125;) %&gt; ä¸­é—´éƒ¨åˆ†ï¼Œåˆ†ä¸ºå·¦è¾¹å’Œå³è¾¹ 1&lt;%- partial(&#x27;common/footer&#x27;) %&gt; é¡µé¢å°¾éƒ¨ï¼Œä»–ä»¬éƒ½åœ¨commonç›®å½•ä¸‹ è¿™äº›éƒ¨åˆ†å…±åŒç»„æˆä¸€ä¸ªhtmlæ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬é€šè¿‡ä¸åŒæ—¶é—´å‘Layoutæ³¨å…¥ä¸åŒçš„å†…å®¹æ¥å®ç°é¡µé¢çš„è·³è½¬ï¼Œè¿™ç§å•é¡µé¢å®ç°æ‰€æœ‰åŠŸèƒ½çš„ç»“æ„å¹¶ä¸å°‘è§ï¼Œæ¯”å¦‚Vueä¹Ÿç›¸ç±»ä¼¼ã€‚ æ¯ä¸ªHexoç«™ç‚¹åŸºæœ¬ä¸Šåˆ†ä¸ºindexï¼ˆé¦–é¡µï¼‰ã€postï¼ˆæ–‡ç« è¯¦æƒ…é¡µï¼‰ã€pageï¼ˆå¯¼èˆªæ ‡ç­¾é¡µï¼‰ã€archiveï¼ˆå½’æ¡£é¡µï¼‰ã€categoryï¼ˆç±»åˆ«é¡µï¼‰ä»¥åŠtagï¼ˆæ ‡ç­¾é¡µï¼‰ï¼Œæ²¡é”™å°±æ˜¯Layoutæ–‡ä»¶å¤¹ä¸‹çš„å‡ ä¸ªæ–‡ä»¶ã€‚å®ƒä»¬æ¯ä¸ªéƒ½ä»£è¡¨ä¸€ç§å¸ƒå±€ï¼Œå°†å®ƒä»¬ç”¨æ¥æ›¿æ¢æ‰layout.ejsæ–‡ä»¶é‡Œçš„&lt;%- body %&gt;å°±å¾—åˆ°äº†å„ä¸ªå¸ƒå±€çš„é¡µé¢ä»£ç ã€‚ indexé¦–é¡µå¸ƒå±€æœ€åæ¥çœ‹çœ‹index.ejsï¼Œå®ƒæ˜¯é¦–é¡µå¸ƒå±€ï¼Œè·Ÿå…¶ä»–çš„å¸ƒå±€è¿˜æ˜¯ä¸ä¸€æ ·çš„ã€‚ä»£ç å¦‚ä¸‹ï¼š 123456&lt;% page.posts.each(function(post)&#123; %&gt; &lt;%- partial(&#x27;common/article&#x27;, &#123; post, index: true &#125;) %&gt;&lt;% &#125;); %&gt;&lt;% if (page.total &gt; 1) &#123; %&gt; &lt;%- partial(&#x27;common/paginator&#x27;) %&gt;&lt;% &#125; %&gt; è¿™ä¸€å—ä»€ä¹ˆæ„æ€ï¼Ÿé¦–å…ˆæ˜¯ä¸€ä¸ªå¾ªç¯è¯­å¥ï¼Œå› ä¸ºé¦–é¡µè¦æ˜¾ç¤ºå‡ºè¿‘æœŸå‘å¸ƒçš„å‡ ç¯‡æ–‡ç« ï¼Œå¼•å…¥å±€éƒ¨æ¨¡å—çš„æ—¶å€™ä½¿ç”¨äº†Local Variablesï¼ˆæœ¬åœ°å˜é‡ï¼‰çš„ç›¸å…³å†…å®¹ï¼Œè¿™é‡Œæ˜¯å°†posté¡µé¢å˜é‡èµ‹å€¼ç»™äº†æœ¬åœ°å˜é‡itemï¼Œæ¢å¥è¯è¯´ï¼Œåœ¨_partial/article.ejsè¿™ä¸ªæ–‡ä»¶ä¸­æ‰€æœ‰çš„itemå˜é‡éƒ½æŒ‡çš„æ˜¯posté¡µé¢å˜é‡ï¼Œé‡Œé¢ä½¿ç”¨äº†å¾ˆå¤šé¡µé¢å˜é‡çš„ä¸€äº›é”®å€¼ï¼Œå‚è€ƒè¿™é‡Œé¡µé¢å˜é‡çœ‹article.ejsçš„ä»£ç å°±å®¹æ˜“å¤šäº†ã€‚ å¸ƒå±€ï¼ˆLayoutï¼‰Hexo æœ‰ä¸‰ç§é»˜è®¤å¸ƒå±€ï¼špostã€page å’Œ draftï¼Œå®ƒä»¬åˆ†åˆ«å¯¹åº”ä¸åŒçš„è·¯å¾„ï¼Œè€Œæ‚¨è‡ªå®šä¹‰çš„å…¶ä»–å¸ƒå±€å’Œ post ç›¸åŒï¼Œéƒ½å°†å‚¨å­˜åˆ° source/_posts æ–‡ä»¶å¤¹ã€‚ é»˜è®¤ä¸ºpostå¸ƒå±€ï¼Œpageæ˜¯é¡µé¢ï¼Œdraftæ˜¯è‰ç¨¿ã€‚ generate1$ hexo generate ç”Ÿæˆé™æ€æ–‡ä»¶ã€‚æˆ‘ä»¬å¸¸å¸¸ç®€å†™ä¸ºhexo gï¼Œå› ä¸ºCoding/Github Pagaså¸®æˆ‘ä»¬éƒ¨ç½²çš„æ­£æ˜¯é™æ€æ–‡ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨æ¯ä¸€æ¬¡å‘å¸ƒçš„æ—¶å€™éƒ½éœ€è¦ç”Ÿæˆé™æ€æ–‡ä»¶ã€‚ é€‰é¡¹ æè¿° -d, --deploy æ–‡ä»¶ç”Ÿæˆåç«‹å³éƒ¨ç½²ç½‘ç«™ -w, --watch ç›‘è§†æ–‡ä»¶å˜åŠ¨ è¯¥å‘½ä»¤å¯ä»¥ç®€å†™ä¸º 1$ hexo g æˆ‘ä»¬å¯ä»¥é€šè¿‡hexo g -dåœ¨ç”Ÿæˆååˆ¶åŠ¨éƒ¨ç½²ï¼Œéƒ¨ç½²ä¹Ÿå°±æ˜¯æŒ‰ç…§é…ç½®æ–‡ä»¶ä¸­çš„deployè‡ªåŠ¨æ¨åˆ°Coding/Githubæˆ–è€…ä½ çš„æœåŠ¡å™¨ä¸Šï¼Œæ¨ä¸Šå»çš„ä¾¿æ˜¯ä½ ç”Ÿæˆçš„é™æ€æ–‡ä»¶ã€‚ publish1$ hexo publish [layout] &lt;filename&gt; å‘è¡¨è‰ç¨¿ã€‚ server1$ hexo server å¯åŠ¨æœåŠ¡å™¨ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè®¿é—®ç½‘å€ä¸ºï¼š http://localhost:4000/ã€‚å¯ä»¥æœ¬åœ°é¢„è§ˆä½ çš„åšå®¢ã€‚ åœ¨ä½ éœ€è¦è°ƒæ•´å¾ˆå¤šå†…å®¹çš„æ—¶å€™ä½ å°±å¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼å¿«é€Ÿçœ‹åˆ°ä½ ä»£ç æ›´æ”¹åçš„æ•ˆæœã€‚ é€‰é¡¹ æè¿° -p, --port é‡è®¾ç«¯å£ -s, --static åªä½¿ç”¨é™æ€æ–‡ä»¶ -l, --log å¯åŠ¨æ—¥è®°è®°å½•ï¼Œä½¿ç”¨è¦†ç›–è®°å½•æ ¼å¼ deploy1$ hexo deploy éƒ¨ç½²ç½‘ç«™ã€‚ å‚æ•° æè¿° -g, --generate éƒ¨ç½²ä¹‹å‰é¢„å…ˆç”Ÿæˆé™æ€æ–‡ä»¶ è¯¥å‘½ä»¤å¯ä»¥ç®€å†™ä¸ºï¼š 1$ hexo d å’Œä¹‹å‰çš„ç”¨æ³•ç›¸ä¼¼ï¼Œæˆ‘ä»¬ä½¿ç”¨hexo d -gä¹Ÿæ˜¯å¯ä»¥çš„ render1$ hexo render &lt;file1&gt; [file2] ... æ¸²æŸ“æ–‡ä»¶ã€‚å°†æˆ‘ä»¬çš„æ–‡ç« æ¸²æŸ“æˆå•ä¸ªhtmlæ–‡ä»¶ã€‚ æœ€ç»ˆæ‰“å¼€hexo.htmlæ˜¯è¿™æ ·çš„ æ•ˆæœå¹¶ä¸æ˜¯å¾ˆå¥½ï¼Œæ²¡æœ‰å¾ˆå¤šcssçš„åŒ…è£…ï¼Œåªæ˜¯é˜…è¯»è¿˜æ˜¯å¯ä»¥çš„ã€‚ å‚æ•° æè¿° -o, --output è®¾ç½®è¾“å‡ºè·¯å¾„ migrate1$ hexo migrate &lt;type&gt; ä»å…¶ä»–åšå®¢ç³»ç»Ÿ è¿ç§»å†…å®¹ã€‚ä¸èµ˜è¿°ï¼Œè¿™ä¸ªå‘½ä»¤å¾€å¾€åœ¨æˆ‘ä»¬éœ€è¦è¿ç§»å†…å®¹çš„æ—¶å€™å†è€ƒè™‘å­¦ä¹ ã€‚ clean1$ hexo clean æ¸…é™¤ç¼“å­˜æ–‡ä»¶ (db.json) å’Œå·²ç”Ÿæˆçš„é™æ€æ–‡ä»¶ (public)ã€‚ åœ¨æŸäº›æƒ…å†µï¼ˆå°¤å…¶æ˜¯æ›´æ¢ä¸»é¢˜åï¼‰ï¼Œå¦‚æœå‘ç°æ‚¨å¯¹ç«™ç‚¹çš„æ›´æ”¹æ— è®ºå¦‚ä½•ä¹Ÿä¸ç”Ÿæ•ˆï¼Œæ‚¨å¯èƒ½éœ€è¦è¿è¡Œè¯¥å‘½ä»¤ã€‚ æ¯’æ¯”è¾ƒå¤§çš„æ—¶å€™ï¼Œå»ºè®®cleanä¸€ä¸‹ list1$ hexo list &lt;type&gt; åˆ—å‡ºç½‘ç«™èµ„æ–™ã€‚è¿™ä¸ªå°±å¾ˆæœ‰æ„æ€äº†ï¼Œå¯ä»¥é€‰ç”¨çš„typeæœ‰page, post, route, tag, category version1$ hexo version æ˜¾ç¤º Hexo ç‰ˆæœ¬ã€‚ é€‰é¡¹å®‰å…¨æ¨¡å¼1$ hexo --safe åœ¨å®‰å…¨æ¨¡å¼ä¸‹ï¼Œä¸ä¼šè½½å…¥æ’ä»¶å’Œè„šæœ¬ã€‚å½“æ‚¨åœ¨å®‰è£…æ–°æ’ä»¶é­é‡é—®é¢˜æ—¶ï¼Œå¯ä»¥å°è¯•ä»¥å®‰å…¨æ¨¡å¼é‡æ–°æ‰§è¡Œã€‚ è°ƒè¯•æ¨¡å¼1$ hexo --debug åœ¨ç»ˆç«¯ä¸­æ˜¾ç¤ºè°ƒè¯•ä¿¡æ¯å¹¶è®°å½•åˆ° debug.logã€‚å½“æ‚¨ç¢°åˆ°é—®é¢˜æ—¶ï¼Œå¯ä»¥å°è¯•ç”¨è°ƒè¯•æ¨¡å¼é‡æ–°æ‰§è¡Œä¸€æ¬¡ï¼Œå¹¶ æäº¤è°ƒè¯•ä¿¡æ¯åˆ° GitHubã€‚ ç®€æ´æ¨¡å¼1$ hexo --silent éšè—ç»ˆç«¯ä¿¡æ¯ã€‚ è‡ªå®šä¹‰é…ç½®æ–‡ä»¶çš„è·¯å¾„1$ hexo --config custom.yml è‡ªå®šä¹‰é…ç½®æ–‡ä»¶çš„è·¯å¾„ï¼Œæ‰§è¡Œåå°†ä¸å†ä½¿ç”¨ _config.ymlã€‚è¿™ä¸€ç‚¹éå¸¸é‡è¦ï¼Œä½†æ˜¯è¦è®°ä½ä¸€æ—¦æ‰§è¡Œï¼Œä½ å°±ä¼šå‘ç°åŸæ¥çš„é…ç½®æ–‡ä»¶ä¸èƒ½ç”Ÿæ•ˆï¼Œå¦‚æœä½ å¿˜è®°äº†è¿™ä»¶äº‹ï¼Œé‚£ä¹ˆä½ å¯èƒ½å§‹ç»ˆæƒ³ä¸é€šä¸ºä»€ä¹ˆè‡ªå·±çš„hexoåäº†ï¼Œåªå¥½é‡è£…ã€‚ æ˜¾ç¤ºè‰ç¨¿1$ hexo --draft æ˜¾ç¤º source/_drafts æ–‡ä»¶å¤¹ä¸­çš„è‰ç¨¿æ–‡ç« ã€‚ è‡ªå®šä¹‰ CWD1$ hexo --cwd &#x2F;path&#x2F;to&#x2F;cwd è‡ªå®šä¹‰å½“å‰å·¥ä½œç›®å½•ï¼ˆCurrent working directoryï¼‰çš„è·¯å¾„ã€‚ æœ¬æ¬¡åšæ–‡å°±å…ˆåˆ°è¿™é‡Œï¼Œéƒ¨åˆ†å†…å®¹æ‘˜è‡ªå®˜æ–¹æ–‡æ¡£ã€‚","categories":[{"name":"æŠ€æœ¯æ–‡æ¡£","slug":"æŠ€æœ¯æ–‡æ¡£","permalink":"http://www.octber.xyz/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"http://www.octber.xyz/tags/Hexo/"}]},{"title":"Hexo+Githubæˆ–Hexo+Coding é…ç½®ä¸éƒ¨ç½²","slug":"Hexo-Githubæˆ–Hexo-Coding-é…ç½®ä¸éƒ¨ç½²","date":"2019-05-16T16:22:03.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/05/17/Hexo-Githubæˆ–Hexo-Coding-é…ç½®ä¸éƒ¨ç½²/","link":"","permalink":"http://www.octber.xyz/2019/05/17/Hexo-Github%E6%88%96Hexo-Coding-%E9%85%8D%E7%BD%AE%E4%B8%8E%E9%83%A8%E7%BD%B2/","excerpt":"HexoHexoæ˜¯ä¸€ä¸ªå¿«é€Ÿã€ç®€æ´è€Œä¸”é«˜æ•ˆçš„åšå®¢æ¡†æ¶ï¼Œä»–çš„ä¼˜ç‚¹ä¹Ÿæ­£æ˜¯å®˜ç½‘ï¼ˆhttps://hexo.io/zh-cn/ï¼‰æ‰€è¯´çš„ï¼š hexo å¯ä»¥ç†è§£ä¸ºæ˜¯åŸºäºnode.jsåˆ¶ä½œçš„ä¸€ä¸ªåšå®¢å·¥å…·ï¼Œä¸æ˜¯æˆ‘ä»¬ç†è§£çš„ä¸€ä¸ªå¼€æºçš„åšå®¢ç³»ç»Ÿã€‚å…¶ä¸­çš„å·®åˆ«ï¼Œæœ‰ç‚¹æ„æ€ã€‚ hexo æ­£å¸¸æ¥è¯´ï¼Œä¸éœ€è¦éƒ¨ç½²åˆ°æˆ‘ä»¬çš„æœåŠ¡å™¨ä¸Šï¼Œæˆ‘ä»¬çš„æœåŠ¡å™¨ä¸Šä¿å­˜çš„ï¼Œå…¶å®æ˜¯åŸºäºåœ¨hexoé€šè¿‡markdownç¼–å†™çš„æ–‡ç« ï¼Œç„¶åhexoå¸®æˆ‘ä»¬ç”Ÿæˆé™æ€çš„htmlé¡µé¢ï¼Œç„¶åï¼Œå°†ç”Ÿæˆçš„htmlä¸Šä¼ åˆ°æˆ‘ä»¬çš„æœåŠ¡å™¨ã€‚ç®€è€Œè¨€ä¹‹ï¼šhexoæ˜¯ä¸ªé™æ€é¡µé¢ç”Ÿæˆã€ä¸Šä¼ çš„å·¥å…·ã€‚ hexo éœ€è¦æ•°æ®åº“å—ï¼Ÿç­”æ¡ˆæ˜¯ä¸éœ€è¦ hexo ä¸€å®šéœ€è¦æœåŠ¡å™¨éƒ¨ç½²å—ï¼Ÿç­”æ¡ˆæ˜¯æˆ‘ä»¬å¯ä»¥é€‰æ‹©Github Pagesç­‰å·¥å…·å®ç°ï¼Œå¦‚æœä½ æœ‰é«˜æ€§èƒ½çš„æœåŠ¡å™¨ï¼Œé‚£ä¸€å®šæ›´å¥½ã€‚","text":"HexoHexoæ˜¯ä¸€ä¸ªå¿«é€Ÿã€ç®€æ´è€Œä¸”é«˜æ•ˆçš„åšå®¢æ¡†æ¶ï¼Œä»–çš„ä¼˜ç‚¹ä¹Ÿæ­£æ˜¯å®˜ç½‘ï¼ˆhttps://hexo.io/zh-cn/ï¼‰æ‰€è¯´çš„ï¼š hexo å¯ä»¥ç†è§£ä¸ºæ˜¯åŸºäºnode.jsåˆ¶ä½œçš„ä¸€ä¸ªåšå®¢å·¥å…·ï¼Œä¸æ˜¯æˆ‘ä»¬ç†è§£çš„ä¸€ä¸ªå¼€æºçš„åšå®¢ç³»ç»Ÿã€‚å…¶ä¸­çš„å·®åˆ«ï¼Œæœ‰ç‚¹æ„æ€ã€‚ hexo æ­£å¸¸æ¥è¯´ï¼Œä¸éœ€è¦éƒ¨ç½²åˆ°æˆ‘ä»¬çš„æœåŠ¡å™¨ä¸Šï¼Œæˆ‘ä»¬çš„æœåŠ¡å™¨ä¸Šä¿å­˜çš„ï¼Œå…¶å®æ˜¯åŸºäºåœ¨hexoé€šè¿‡markdownç¼–å†™çš„æ–‡ç« ï¼Œç„¶åhexoå¸®æˆ‘ä»¬ç”Ÿæˆé™æ€çš„htmlé¡µé¢ï¼Œç„¶åï¼Œå°†ç”Ÿæˆçš„htmlä¸Šä¼ åˆ°æˆ‘ä»¬çš„æœåŠ¡å™¨ã€‚ç®€è€Œè¨€ä¹‹ï¼šhexoæ˜¯ä¸ªé™æ€é¡µé¢ç”Ÿæˆã€ä¸Šä¼ çš„å·¥å…·ã€‚ hexo éœ€è¦æ•°æ®åº“å—ï¼Ÿç­”æ¡ˆæ˜¯ä¸éœ€è¦ hexo ä¸€å®šéœ€è¦æœåŠ¡å™¨éƒ¨ç½²å—ï¼Ÿç­”æ¡ˆæ˜¯æˆ‘ä»¬å¯ä»¥é€‰æ‹©Github Pagesç­‰å·¥å…·å®ç°ï¼Œå¦‚æœä½ æœ‰é«˜æ€§èƒ½çš„æœåŠ¡å™¨ï¼Œé‚£ä¸€å®šæ›´å¥½ã€‚ Hexoçš„æºç ç»“æ„ Hexoçš„å®‰è£…å®‰è£…å‰æ Node.js (Should be at least nodejs 6.9) Git å®‰è£…å‘½ä»¤npm install -g hexo-cliæˆ–è€… cnpm install -g hexo-cli Hexoå»ºç«™ åˆ›å»ºä½ çš„åšå®¢æ–‡ä»¶å¤¹ï¼Œå¦‚ï¼šHexo è¿›å…¥Hexoæ–‡ä»¶å¤¹ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ 12hexo initcnpm install æˆ–è€… npm install è¿™ä¸€æ­¥å®Œæˆåä½ ä¼šçœ‹åˆ°è¿™æ ·çš„ç»“æ„ç›®å½• 12345678.â”œâ”€â”€ _config.ymlâ”œâ”€â”€ package.jsonâ”œâ”€â”€ scaffoldsâ”œâ”€â”€ source| â”œâ”€â”€ _drafts| â””â”€â”€ _postsâ””â”€â”€ themes HexoåŸºæœ¬é…ç½®è¯·çœ‹æˆ‘çš„å¦ä¸€ç¯‡åšæ–‡ã€ŠHexoé…ç½®æ–‡ä»¶è¯¦è§£ã€‹ Githubé…ç½®é¦–å…ˆåˆ›å»ºä¸€ä¸ªé¡¹ç›® å»ºè®®ç”Ÿæˆé»˜è®¤çš„READMEæ–‡ä»¶ éšåCreateå³å¯ï¼Œè¿›å…¥Settingsé¡µé¢ æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸€ä¸ªå¼ºå¤§çš„åŠŸèƒ½ï¼šGithub Pages Github Pagesä¼šè‡ªåŠ¨éƒ¨ç½²æˆ‘ä»¬çš„é™æ€ç½‘é¡µï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡http://youname.github.ioæ¥è®¿é—®ï¼Œå½“ç„¶å¦‚æœä½ æœ‰å·²ç»å¤‡æ¡ˆè¿‡çš„åŸŸåï¼Œæ·»åŠ ä¸€ä¸ªCNAMEè§£æä¾¿å¯ä»¥ä½¿ç”¨è‡ªå·±çš„åŸŸåè®¿é—®ï¼Œæ³¨æ„æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€çº§åŸŸåï¼Œæˆ–è€…wwwå’Œblogçš„äºŒçº§åŸŸåï¼Œå®˜æ–¹å»ºè®®ä½¿ç”¨ä¸€çº§åŸŸåã€‚ Codingé…ç½®ä¸Githubç±»ä¼¼ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä»“åº“åä¸ºä½ çš„codingå.coding.me,å…¶ä»–ç•¥ã€‚ Hexoé…ç½®deployåœ¨é¡¹ç›®æ ¹ç›®å½•çš„_config.ymlä¸­é…ç½®deployè®¾ç½® 123456deploy: type: git repo: github: git@github.com:OctoberTian/OctoberTian.github.io.git coding: git@git.dev.tencent.com:OctCoding/OctCoding.coding.me.git branch: master é€šè¿‡è¿™ä¸€å±‚é…ç½®ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡hexo dï¼ˆç­‰ä»·äºhexo deployï¼‰å‘½ä»¤å°†æˆ‘ä»¬ä¿®æ”¹çš„å†…å®¹æ¨é€åˆ°githubä¸Šå’Œcodingä¸Šï¼Œè¿™é‡Œä½¿ç”¨SSHï¼Œä½¿ç”¨Httpsä¹Ÿå¯ä»¥ï¼Œå»ºè®®ä½¿ç”¨SSHå…¬é’¥ã€‚ SSHå…¬é’¥æˆ‘ä»¬ä»¥Codingä¸ºä¾‹ï¼Œå¦‚ä½•åœ¨è‡ªå·±çš„ç”µè„‘ä¸Šéƒ¨ç½²SSHã€‚ï¼ˆè¯¦æƒ…å¯æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ï¼šhttps://coding.net/help/doc/git/ssh-key.htmlï¼‰ è¿›å…¥ä¸ªäººè®¾ç½®ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°SSHå…¬é’¥çš„åŠŸèƒ½ ç‚¹å‡»SSHå…¬é’¥è¿›å…¥æˆ‘ä»¬å¯ä»¥æ–°å¢å…¬é’¥ï¼š è¿™å°±è¦æ±‚æˆ‘ä»¬ç”µè„‘æœ¬åœ°è®¾ç½®SSHå…¬é’¥ï¼Œå¹¶è·å–å…¬é’¥å†…å®¹ éšæœºä½ç½®æ‰“å¼€git bash12cd ~/.sshcat id_rsa.pub #æŸ¥çœ‹å…±è¦å†…å®¹ å¦‚æœçœ‹åˆ°ä¸‹å›¾ï¼Œè¡¨æ˜ä½ å·²ç»ç”Ÿæˆè¿‡å…¬é’¥ï¼š ç›´æ¥æŸ¥çœ‹id_rsa.pubå¤åˆ¶å†…å®¹åˆ°codingå³å¯å®Œæˆé…ç½® å¦‚æœæ²¡æœ‰ç›®å½•ï¼Œæˆ‘ä»¬æ¥åˆ›å»ºå…¬é’¥ï¼š 12ssh-keygen -t rsa -C &quot;your global email&quot; cat ~/.ssh/id_rsa.pub é…ç½®å¥½è¿™äº›ï¼ŒHexoçš„å®‰è£…å°±æ¥è¿‘å°¾å£°äº† Hexoéƒ¨ç½²è¯¦ç»†çš„æŒ‡ä»¤æˆ‘ä¼šåœ¨ä¹‹åçš„åšæ–‡è¯¦ç»†è®²è§£ï¼Œè¿™é‡Œæˆ‘ä»¬è¾“å…¥ï¼šhexo clean &amp;&amp; hexo g &amp;&amp; hexo d å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„æ–‡ä»¶è¢«æ¨é€åˆ°githubæˆ–è€…codingæˆ–è€…ä¸¤è€…ä¸Šï¼Œå€¼å¾—ä¸€æçš„æ˜¯ï¼Œä¸€ä¸ªåŸŸååªèƒ½æ˜ å°„ä¸€ä¸ªç½‘å€ï¼Œæ¯”å¦‚æˆ‘çš„æ˜¯blog.octber.xyzæ˜ å°„åˆ°octcoding.coding.meä¸Šï¼Œcodingä¸ºæˆ‘å¼ºåˆ¶è½¬æ¢ä¸ºHTTPSè®¿é—®ï¼Œä½†æ˜¯ç”±äºåªèƒ½æ˜ å°„ä¸€ä¸ªï¼Œæ‰€ä»¥æ²¡æœ‰æ˜ å°„githubï¼Œåœ¨æ¯æ¬¡éƒ¨ç½²çš„æ—¶å€™githubéƒ½ä¼šæç¤ºæˆ‘åŸŸåå­˜åœ¨é—®é¢˜ï¼Œæ‰€ä»¥æˆ‘é€‰æ‹©äº†éƒ¨ç½²codingï¼Œæ¯•ç«ŸgithubæœåŠ¡å™¨åœ¨å›½å¤–ï¼Œé€Ÿåº¦æ¯”codingæ›´ä¸ºç¼“æ…¢ã€‚ æœ€ç»ˆæ•ˆæœå¯ä»¥é€šè¿‡è®¿é—® https://blog.octber.xyzå¾—åˆ°åšå®¢","categories":[{"name":"ç¯å¢ƒæ­å»º","slug":"ç¯å¢ƒæ­å»º","permalink":"http://www.octber.xyz/categories/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"http://www.octber.xyz/tags/Hexo/"}]},{"title":"Hexoé…ç½®æ–‡ä»¶è¯¦è§£","slug":"Hexoé…ç½®æ–‡ä»¶è¯¦è§£","date":"2019-05-16T01:04:35.000Z","updated":"2020-03-09T14:50:12.000Z","comments":true,"path":"2019/05/16/Hexoé…ç½®æ–‡ä»¶è¯¦è§£/","link":"","permalink":"http://www.octber.xyz/2019/05/16/Hexo%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%AF%A6%E8%A7%A3/","excerpt":"Hexoçš„é…ç½®Hexoçš„é…ç½®è¿˜æ˜¯å¾ˆå¥½åšçš„ï¼Œä½¿ç”¨äº†ymlçš„æ–¹å¼ï¼Œç®€æ´ç®€å•ï¼Œä¸‹é¢æˆ‘ä»‹ç»ä¸€ä¸‹æ ¹ç›®å½•ä¸‹çš„é…ç½®æ–‡ä»¶ï¼Œå…³äºä¸»é¢˜çš„é…ç½®ï¼Œè¯·æŒç»­å…³æ³¨æˆ‘çš„åšå®¢ã€‚","text":"Hexoçš„é…ç½®Hexoçš„é…ç½®è¿˜æ˜¯å¾ˆå¥½åšçš„ï¼Œä½¿ç”¨äº†ymlçš„æ–¹å¼ï¼Œç®€æ´ç®€å•ï¼Œä¸‹é¢æˆ‘ä»‹ç»ä¸€ä¸‹æ ¹ç›®å½•ä¸‹çš„é…ç½®æ–‡ä»¶ï¼Œå…³äºä¸»é¢˜çš„é…ç½®ï¼Œè¯·æŒç»­å…³æ³¨æˆ‘çš„åšå®¢ã€‚ é…ç½®åœ¨Hexoæ ¹ç›®å½•ä¸­æœ‰ä¸€ä¸ªåä¸º_config.xmlçš„æ–‡ä»¶ï¼Œä¾¿æ˜¯æˆ‘ä»¬çš„é…ç½®æ–‡ä»¶ï¼Œåœ¨è¿™é‡Œå¯ä»¥ä¿®æ”¹å¤§éƒ¨åˆ†çš„çš„é…ç½®ã€‚ ç½‘ç«™1234567å‚æ•° æè¿°title ç½‘ç«™æ ‡é¢˜subtitle ç½‘ç«™å‰¯æ ‡é¢˜description ç½‘ç«™æè¿°author æ‚¨çš„åå­—language ç½‘ç«™ä½¿ç”¨çš„è¯­è¨€timezone ç½‘ç«™æ—¶åŒºã€‚Hexo é»˜è®¤ä½¿ç”¨æ‚¨ç”µè„‘çš„æ—¶åŒºã€‚æ—¶åŒºåˆ—è¡¨ã€‚æ¯”å¦‚è¯´ï¼šAmerica/New_York, Japan, å’Œ UTC ã€‚ å…¶ä¸­éœ€è¦æ³¨æ„çš„æ˜¯descriptionæ¯”è¾ƒé‡è¦ï¼Œå®ƒä¸»è¦ç”¨äº SEOï¼Œç”¨æ¥å‘Šè¯‰æœç´¢å¼•æ“å…³äºç«™ç‚¹çš„ä¿¡æ¯ï¼Œåœ¨å…¶ä¸­åŒ…å«ç½‘ç«™çš„å…³é”®è¯ã€‚ ä»€ä¹ˆæ˜¯SEOå‘¢ï¼Ÿï¼ˆæ‘˜è‡ªç™¾åº¦ç™¾ç§‘ï¼‰SEOï¼ˆSearch Engine Optimizationï¼‰ï¼šæ±‰è¯‘ä¸ºæœç´¢å¼•æ“ä¼˜åŒ–ã€‚æ˜¯ä¸€ç§æ–¹å¼ï¼šåˆ©ç”¨æœç´¢å¼•æ“çš„è§„åˆ™æé«˜ç½‘ç«™åœ¨æœ‰å…³æœç´¢å¼•æ“å†…çš„è‡ªç„¶æ’åã€‚ç›®çš„æ˜¯ï¼šä¸ºç½‘ç«™æä¾›ç”Ÿæ€å¼çš„è‡ªæˆ‘è¥é”€è§£å†³æ–¹æ¡ˆï¼Œè®©å…¶åœ¨è¡Œä¸šå†…å æ®é¢†å…ˆåœ°ä½ï¼Œè·å¾—å“ç‰Œæ”¶ç›Šï¼›SEOåŒ…å«ç«™å¤–SEOå’Œç«™å†…SEOä¸¤æ–¹é¢ï¼›ä¸ºäº†ä»æœç´¢å¼•æ“ä¸­è·å¾—æ›´å¤šçš„å…è´¹æµé‡ï¼Œä»ç½‘ç«™ç»“æ„ã€å†…å®¹å»ºè®¾æ–¹æ¡ˆã€ç”¨æˆ·äº’åŠ¨ä¼ æ’­ã€é¡µé¢ç­‰è§’åº¦è¿›è¡Œåˆç†è§„åˆ’ï¼Œè¿˜ä¼šä½¿æœç´¢å¼•æ“ä¸­æ˜¾ç¤ºçš„ç½‘ç«™ç›¸å…³ä¿¡æ¯å¯¹ç”¨æˆ·æ¥è¯´æ›´å…·æœ‰å¸å¼•åŠ›ã€‚ ç½‘å€12345å‚æ•° æè¿° é»˜è®¤å€¼url ç½‘å€ root ç½‘ç«™æ ¹ç›®å½• permalink æ–‡ç« çš„æ°¸ä¹…é“¾æ¥æ ¼å¼ :year/:month/:day/:title/permalink_defaults æ°¸ä¹…é“¾æ¥ä¸­å„éƒ¨åˆ†çš„é»˜è®¤å€¼ ç›®å½•12345678source_dir: source èµ„æºæ–‡ä»¶ï¼Œç”¨æ¥å­˜æ”¾å†…å®¹ï¼Œæ˜ å°„åˆ°æ ¹ç›®å½•ä¸‹çš„sourceï¼Œåœ¨å…¶ä¸­çš„_postså­˜æ”¾*.mdæ–‡ä»¶å³å¯å®Œæˆåšå®¢å‘å¸ƒ public_dir: public å…¬å…±æ–‡ä»¶å¤¹ï¼Œç”Ÿæˆçš„ç«™ç‚¹æ–‡ä»¶å­˜æ”¾åœ¨è¿™ä¸ªåœ°æ–¹tag_dir: tags æ ‡ç­¾æ–‡ä»¶å¤¹archive_dir: archives å½’æ¡£æ–‡ä»¶æ¶category_dir: categories åˆ†ç±»æ–‡ä»¶å¤¹code_dir: downloads/code include codeæ–‡ä»¶å¤¹i18n_dir: :lang å›½é™…åŒ–i18næ–‡ä»¶å¤¹skip_render: è·³è¿‡æŒ‡å®šæ–‡ä»¶çš„æ¸²æŸ“ï¼Œæ‚¨å¯ä½¿ç”¨ glob è¡¨è¾¾å¼æ¥åŒ¹é…è·¯å¾„ã€‚ ä»€ä¹ˆæ˜¯i18nå‘¢ï¼Ÿï¼ˆæºè‡ªäºç™¾åº¦ç™¾ç§‘ï¼‰i18nï¼ˆå…¶æ¥æºæ˜¯è‹±æ–‡å•è¯ internationalizationçš„é¦–æœ«å­—ç¬¦iå’Œnï¼Œ18ä¸ºä¸­é—´çš„å­—ç¬¦æ•°ï¼‰æ˜¯â€œå›½é™…åŒ–â€çš„ç®€ç§°ã€‚åœ¨èµ„è®¯é¢†åŸŸï¼Œå›½é™…åŒ–(i18n)æŒ‡è®©äº§å“ï¼ˆå‡ºç‰ˆç‰©ï¼Œè½¯ä»¶ï¼Œç¡¬ä»¶ç­‰ï¼‰æ— éœ€åšå¤§çš„æ”¹å˜å°±èƒ½å¤Ÿé€‚åº”ä¸åŒçš„è¯­è¨€å’Œåœ°åŒºçš„éœ€è¦ã€‚å¯¹ç¨‹åºæ¥è¯´ï¼Œåœ¨ä¸ä¿®æ”¹å†…éƒ¨ä»£ç çš„æƒ…å†µä¸‹ï¼Œèƒ½æ ¹æ®ä¸åŒè¯­è¨€åŠåœ°åŒºæ˜¾ç¤ºç›¸åº”çš„ç•Œé¢ã€‚ åœ¨å…¨çƒåŒ–çš„æ—¶ä»£ï¼Œå›½é™…åŒ–å°¤ä¸ºé‡è¦ï¼Œå› ä¸ºäº§å“çš„æ½œåœ¨ç”¨æˆ·å¯èƒ½æ¥è‡ªä¸–ç•Œçš„å„ä¸ªè§’è½ã€‚é€šå¸¸ä¸i18nç›¸å…³çš„è¿˜æœ‰L10nï¼ˆâ€œæœ¬åœ°åŒ–â€çš„ç®€ç§°ï¼‰ã€‚ ä»€ä¹ˆæ˜¯globè¡¨è¾¾å¼å‘¢ï¼Ÿè¯·æŸ¥çœ‹microkofçš„ä¸€ç¯‡åšæ–‡ï¼Œæˆ‘è®¤ä¸ºå†™çš„å¾ˆå¥½ï¼Œåœ°å€æ˜¯ï¼šhttps://www.jianshu.com/p/91eb8d81da64 æ–‡ç« 123456789101112å‚æ•° æè¿° new_post_name æ–°æ–‡ç« çš„æ–‡ä»¶åç§° default_layout é¢„è®¾å¸ƒå±€ auto_spacing åœ¨ä¸­æ–‡å’Œè‹±æ–‡ä¹‹é—´åŠ å…¥ç©ºæ ¼ titlecase æŠŠæ ‡é¢˜è½¬æ¢ä¸º title case external_link åœ¨æ–°æ ‡ç­¾ä¸­æ‰“å¼€é“¾æ¥ filename_case æŠŠæ–‡ä»¶åç§°è½¬æ¢ä¸º (1) å°å†™æˆ– (2) å¤§å†™ render_drafts æ˜¾ç¤ºè‰ç¨¿ post_asset_folder å¯åŠ¨ Asset æ–‡ä»¶å¤¹ relative_link æŠŠé“¾æ¥æ”¹ä¸ºä¸æ ¹ç›®å½•çš„ç›¸å¯¹ä½å€ future æ˜¾ç¤ºæœªæ¥çš„æ–‡ç«  highlight ä»£ç å—çš„è®¾ç½® ä»–ä»¬çš„é»˜è®¤å€¼ï¼š 123456789101112131415# Writingnew_post_name: :title.md # File name of new postsdefault_layout: posttitlecase: false # Transform title into titlecaseexternal_link: true # Open external links in new tabfilename_case: 0render_drafts: falsepost_asset_folder: falserelative_link: falsefuture: truehighlight: enable: true line_number: true auto_detect: false tab_replace: title case æ˜¯ä»€ä¹ˆï¼Ÿè¯·çœ‹title caseçš„githubè¿›è¡Œäº†è§£ï¼šhttps://github.com/rvagg/titlecase post_asset_folder æ˜¯ä»€ä¹ˆï¼Ÿassetæ˜¯mdæ–‡ä»¶é“¾æ¥å›¾ç‰‡æ—¶å­˜æ”¾å›¾ç‰‡çš„é»˜è®¤æ–‡ä»¶å¤¹ï¼Œç”±æ­¤å¯çŸ¥ï¼Œå¼€å¯è¿™ä¸ªé€‰é¡¹ï¼Œæˆ‘ä»¬çš„åšæ–‡ä¸­å¯ä»¥æ–¹ä¾¿çš„æ’å…¥å›¾ç‰‡ï¼Œå½“ç„¶è¿˜éœ€è¦ä¸€äº›é…ç½®ï¼š ç¬¬äºŒæ­¥ï¼šåœ¨hexoç›®å½•ä¸‹æ‰§è¡Œè¿™æ ·ä¸€å¥è¯npm install hexo-asset-image --saveï¼Œè¿™æ˜¯ä¸‹è½½å®‰è£…ä¸€ä¸ªå¯ä»¥ä¸Šä¼ æœ¬åœ°å›¾ç‰‡çš„æ’ä»¶ï¼Œç­‰å¾…ä¸€å°æ®µæ—¶é—´åï¼Œå†è¿è¡Œhexo n &quot;xxxx&quot;æ¥ç”Ÿæˆmdåšæ–‡æ—¶ï¼Œ/source/_postsæ–‡ä»¶å¤¹å†…é™¤äº†xxxx.mdæ–‡ä»¶è¿˜æœ‰ä¸€ä¸ªåŒåçš„æ–‡ä»¶å¤¹ ï¼ˆå½“ç„¶ä¹Ÿå¯ä»¥è‡ªå·±æ‰‹åŠ¨å»ºï¼‰ ç¬¬ä¸‰æ­¥ï¼šæœ€ååœ¨xxxx.mdä¸­æƒ³å¼•å…¥å›¾ç‰‡æ—¶ï¼Œå…ˆæŠŠå›¾ç‰‡å¤åˆ¶åˆ°xxxxè¿™ä¸ªæ–‡ä»¶å¤¹ä¸­ï¼Œç„¶ååªéœ€è¦åœ¨xxxx.mdä¸­æŒ‰ç…§markdownçš„æ ¼å¼å¼•å…¥å›¾ç‰‡ï¼š![ä½ æƒ³è¾“å…¥çš„æ›¿ä»£æ–‡å­—](xxxx/å›¾ç‰‡å.jpg) æ³¨æ„ï¼š xxxxæ˜¯è¿™ä¸ªmdæ–‡ä»¶çš„åå­—ï¼Œä¹Ÿæ˜¯åŒåæ–‡ä»¶å¤¹çš„åå­—ã€‚åªéœ€è¦æœ‰æ–‡ä»¶å¤¹åå­—å³å¯ï¼Œä¸éœ€è¦ç»å¯¹è·¯å¾„ã€‚ä½ æƒ³å¼•å…¥çš„å›¾ç‰‡å°±åªéœ€è¦æ”¾å…¥xxxxè¿™ä¸ªæ–‡ä»¶å¤¹å†…å°±å¥½äº†ï¼Œå¾ˆåƒå¼•ç”¨ç›¸å¯¹è·¯å¾„ã€‚ ç¬¬å››æ­¥ï¼šæœ€åæ£€æŸ¥ä¸€ä¸‹ï¼Œhexo gç”Ÿæˆé¡µé¢åï¼Œè¿›å…¥public\\2017\\02\\26\\index.htmlæ–‡ä»¶ä¸­æŸ¥çœ‹ç›¸å…³å­—æ®µï¼Œå¯ä»¥å‘ç°ï¼Œhtmlæ ‡ç­¾å†…çš„è¯­å¥æ˜¯&lt;img src=&quot;2017/02/26/xxxx/å›¾ç‰‡å.jpg&quot;&gt;ï¼Œè€Œä¸æ˜¯&lt;img src=â€xxxx/å›¾ç‰‡å.jpg&gt;ã€‚è¿™å¾ˆé‡è¦ï¼Œå…³ä¹ä½ çš„ç½‘é¡µæ˜¯å¦å¯ä»¥çœŸæ­£åŠ è½½ä½ æƒ³æ’å…¥çš„å›¾ç‰‡ã€‚ åˆ†ç±»&amp;æ ‡ç­¾1234å‚æ•° æè¿° é»˜è®¤å€¼default_category é»˜è®¤åˆ†ç±» uncategorizedcategory_map åˆ†ç±»åˆ«å tag_map æ ‡ç­¾åˆ«å æ—¶é—´æ—¥æœŸæ ¼å¼123å‚æ•° æè¿° é»˜è®¤å€¼date_format æ—¥æœŸæ ¼å¼ YYYY-MM-DDtime_format æ—¶é—´æ ¼å¼ H:mm:ss åˆ†é¡µ123å‚æ•° æè¿° é»˜è®¤å€¼per_page æ¯é¡µæ˜¾ç¤ºçš„æ–‡ç« é‡ (0 = å…³é—­åˆ†é¡µåŠŸèƒ½) 10pagination_dir åˆ†é¡µç›®å½• page æ‹“å±•123å‚æ•° æè¿°theme å½“å‰ä¸»é¢˜åç§°ã€‚å€¼ä¸ºfalseæ—¶ç¦ç”¨ä¸»é¢˜deploy éƒ¨ç½²éƒ¨åˆ†çš„è®¾ç½® å…¶ä¸­deployéƒ¨ç½²éƒ¨åˆ†ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©éƒ¨ç½²åˆ°githubä¹Ÿå¯ä»¥é€‰æ‹©éƒ¨ç½²åˆ°codingï¼Œæˆ‘é€‰æ‹©ä¸¤ä¸ªéƒ½è¿›è¡Œéƒ¨ç½²ï¼Œæ“ä½œæ­¥éª¤è¯·æŒç»­å…³æ³¨æˆ‘çš„åšå®¢ã€‚ fork me on Github ç›®å‰è¿˜æ²¡æœ‰æ·»åŠ ï¼Œä»£ç å¦‚ä¸‹123&lt;a href=&quot;https://github.com/OctoberTian&quot;&gt;&lt;img width=&quot;149&quot; height=&quot;149&quot; src=&quot;https://github.blog/wp-content/uploads/2008/12/forkme_right_orange_ff7600.png?resize=149%2C149&quot; class=&quot;attachment-full size-full&quot; alt=&quot;Fork me on GitHub&quot; data-recalc-dims=&quot;1&quot;&gt;&lt;/a&gt; é¸£è°¢å‚è€ƒä¸€ä¸‹ä¼˜ç§€åšæ–‡ï¼š ä½œè€…ï¼šsaucer-manæ¥æºï¼šCSDNåŸæ–‡ï¼šhttps://blog.csdn.net/gyq1998/article/details/78294689","categories":[{"name":"ç¯å¢ƒæ­å»º","slug":"ç¯å¢ƒæ­å»º","permalink":"http://www.octber.xyz/categories/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"http://www.octber.xyz/tags/Hexo/"}]}],"categories":[{"name":"JVM","slug":"JVM","permalink":"http://www.octber.xyz/categories/JVM/"},{"name":"/java","slug":"java","permalink":"http://www.octber.xyz/categories/java/"},{"name":"Java","slug":"Java","permalink":"http://www.octber.xyz/categories/Java/"},{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"http://www.octber.xyz/categories/%E6%97%A5%E8%AE%B0/"},{"name":"ç¼“å­˜","slug":"ç¼“å­˜","permalink":"http://www.octber.xyz/categories/%E7%BC%93%E5%AD%98/"},{"name":"æ¶ˆæ¯é˜Ÿåˆ—","slug":"æ¶ˆæ¯é˜Ÿåˆ—","permalink":"http://www.octber.xyz/categories/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/"},{"name":"Redis","slug":"Redis","permalink":"http://www.octber.xyz/categories/Redis/"},{"name":"è‡­è‡­ä¸“æ ","slug":"è‡­è‡­ä¸“æ ","permalink":"http://www.octber.xyz/categories/%E8%87%AD%E8%87%AD%E4%B8%93%E6%A0%8F/"},{"name":"çº¿ç¨‹","slug":"çº¿ç¨‹","permalink":"http://www.octber.xyz/categories/%E7%BA%BF%E7%A8%8B/"},{"name":"æ•°æ®åº“","slug":"æ•°æ®åº“","permalink":"http://www.octber.xyz/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"},{"name":"æ¸¸æˆä¸“æ ","slug":"æ¸¸æˆä¸“æ ","permalink":"http://www.octber.xyz/categories/%E6%B8%B8%E6%88%8F%E4%B8%93%E6%A0%8F/"},{"name":"åŠ¨æ¼«ä¸“æ ","slug":"åŠ¨æ¼«ä¸“æ ","permalink":"http://www.octber.xyz/categories/%E5%8A%A8%E6%BC%AB%E4%B8%93%E6%A0%8F/"},{"name":"Android","slug":"Android","permalink":"http://www.octber.xyz/categories/Android/"},{"name":"å°å·¥å…·","slug":"å°å·¥å…·","permalink":"http://www.octber.xyz/categories/%E5%B0%8F%E5%B7%A5%E5%85%B7/"},{"name":"Go","slug":"Go","permalink":"http://www.octber.xyz/categories/Go/"},{"name":"Vueä¸“é¢˜","slug":"Vueä¸“é¢˜","permalink":"http://www.octber.xyz/categories/Vue%E4%B8%93%E9%A2%98/"},{"name":"JavaåŸºç¡€","slug":"JavaåŸºç¡€","permalink":"http://www.octber.xyz/categories/Java%E5%9F%BA%E7%A1%80/"},{"name":"Springboot","slug":"Springboot","permalink":"http://www.octber.xyz/categories/Springboot/"},{"name":"Springbooot","slug":"Springbooot","permalink":"http://www.octber.xyz/categories/Springbooot/"},{"name":"English","slug":"English","permalink":"http://www.octber.xyz/categories/English/"},{"name":"FamilyManage","slug":"FamilyManage","permalink":"http://www.octber.xyz/categories/FamilyManage/"},{"name":"è½¯ä»¶é¡¹ç›®ç®¡ç†","slug":"è½¯ä»¶é¡¹ç›®ç®¡ç†","permalink":"http://www.octber.xyz/categories/%E8%BD%AF%E4%BB%B6%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86/"},{"name":"è½¯ä»¶æµ‹è¯•","slug":"è½¯ä»¶æµ‹è¯•","permalink":"http://www.octber.xyz/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/"},{"name":"Hexo","slug":"Hexo","permalink":"http://www.octber.xyz/categories/Hexo/"},{"name":"ç¯å¢ƒæ­å»º","slug":"ç¯å¢ƒæ­å»º","permalink":"http://www.octber.xyz/categories/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"},{"name":"ç¯å¢ƒéƒ¨ç½²","slug":"ç¯å¢ƒéƒ¨ç½²","permalink":"http://www.octber.xyz/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/"},{"name":"å·¥å…·é›†","slug":"å·¥å…·é›†","permalink":"http://www.octber.xyz/categories/%E5%B7%A5%E5%85%B7%E9%9B%86/"},{"name":"Linux","slug":"Linux","permalink":"http://www.octber.xyz/categories/Linux/"},{"name":"æŠ€æœ¯æ–‡æ¡£","slug":"æŠ€æœ¯æ–‡æ¡£","permalink":"http://www.octber.xyz/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/"}],"tags":[{"name":"JVM","slug":"JVM","permalink":"http://www.octber.xyz/tags/JVM/"},{"name":"dl4j","slug":"dl4j","permalink":"http://www.octber.xyz/tags/dl4j/"},{"name":"dl4f","slug":"dl4f","permalink":"http://www.octber.xyz/tags/dl4f/"},{"name":"æ—¥æŠ¥","slug":"æ—¥æŠ¥","permalink":"http://www.octber.xyz/tags/%E6%97%A5%E6%8A%A5/"},{"name":"Redis","slug":"Redis","permalink":"http://www.octber.xyz/tags/Redis/"},{"name":"ç¼“å­˜","slug":"ç¼“å­˜","permalink":"http://www.octber.xyz/tags/%E7%BC%93%E5%AD%98/"},{"name":"RabbitMQ","slug":"RabbitMQ","permalink":"http://www.octber.xyz/tags/RabbitMQ/"},{"name":"çº¿ç¨‹","slug":"çº¿ç¨‹","permalink":"http://www.octber.xyz/tags/%E7%BA%BF%E7%A8%8B/"},{"name":"å†…å­˜æ¨¡å‹","slug":"å†…å­˜æ¨¡å‹","permalink":"http://www.octber.xyz/tags/%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B/"},{"name":"Lambda","slug":"Lambda","permalink":"http://www.octber.xyz/tags/Lambda/"},{"name":"é›†åˆæ¡†æ¶","slug":"é›†åˆæ¡†æ¶","permalink":"http://www.octber.xyz/tags/%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6/"},{"name":"é¥­é¥­","slug":"é¥­é¥­","permalink":"http://www.octber.xyz/tags/%E9%A5%AD%E9%A5%AD/"},{"name":"JUC","slug":"JUC","permalink":"http://www.octber.xyz/tags/JUC/"},{"name":"Javaé›†åˆæ¡†æ¶","slug":"Javaé›†åˆæ¡†æ¶","permalink":"http://www.octber.xyz/tags/Java%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6/"},{"name":"MySQL","slug":"MySQL","permalink":"http://www.octber.xyz/tags/MySQL/"},{"name":"çº¿ç¨‹æ± ","slug":"çº¿ç¨‹æ± ","permalink":"http://www.octber.xyz/tags/%E7%BA%BF%E7%A8%8B%E6%B1%A0/"},{"name":"å´©å3","slug":"å´©å3","permalink":"http://www.octber.xyz/tags/%E5%B4%A9%E5%9D%8F3/"},{"name":"åŠ¨æ¼«æ‚å›¾","slug":"åŠ¨æ¼«æ‚å›¾","permalink":"http://www.octber.xyz/tags/%E5%8A%A8%E6%BC%AB%E6%9D%82%E5%9B%BE/"},{"name":"Java","slug":"Java","permalink":"http://www.octber.xyz/tags/Java/"},{"name":"æ¯”èµ›","slug":"æ¯”èµ›","permalink":"http://www.octber.xyz/tags/%E6%AF%94%E8%B5%9B/"},{"name":"æ”¶è—","slug":"æ”¶è—","permalink":"http://www.octber.xyz/tags/%E6%94%B6%E8%97%8F/"},{"name":"Go","slug":"Go","permalink":"http://www.octber.xyz/tags/Go/"},{"name":"Vue","slug":"Vue","permalink":"http://www.octber.xyz/tags/Vue/"},{"name":"äº’æ–¥åŒæ­¥","slug":"äº’æ–¥åŒæ­¥","permalink":"http://www.octber.xyz/tags/%E4%BA%92%E6%96%A5%E5%90%8C%E6%AD%A5/"},{"name":"Servlet","slug":"Servlet","permalink":"http://www.octber.xyz/tags/Servlet/"},{"name":"Shiro","slug":"Shiro","permalink":"http://www.octber.xyz/tags/Shiro/"},{"name":"å…­çº§è€ƒè¯•","slug":"å…­çº§è€ƒè¯•","permalink":"http://www.octber.xyz/tags/%E5%85%AD%E7%BA%A7%E8%80%83%E8%AF%95/"},{"name":"FamilyManage","slug":"FamilyManage","permalink":"http://www.octber.xyz/tags/FamilyManage/"},{"name":"è½¯ä»¶é¡¹ç›®ç®¡ç†","slug":"è½¯ä»¶é¡¹ç›®ç®¡ç†","permalink":"http://www.octber.xyz/tags/%E8%BD%AF%E4%BB%B6%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86/"},{"name":"è½¯ä»¶æµ‹è¯•","slug":"è½¯ä»¶æµ‹è¯•","permalink":"http://www.octber.xyz/tags/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/"},{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"http://www.octber.xyz/tags/%E6%97%A5%E8%AE%B0/"},{"name":"JMeter","slug":"JMeter","permalink":"http://www.octber.xyz/tags/JMeter/"},{"name":"Hexo","slug":"Hexo","permalink":"http://www.octber.xyz/tags/Hexo/"},{"name":"Git","slug":"Git","permalink":"http://www.octber.xyz/tags/Git/"},{"name":"node.js","slug":"node-js","permalink":"http://www.octber.xyz/tags/node-js/"},{"name":"Utils","slug":"Utils","permalink":"http://www.octber.xyz/tags/Utils/"},{"name":"Linux","slug":"Linux","permalink":"http://www.octber.xyz/tags/Linux/"}]}